function c6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hS={exports:{}},Mf={},pS={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),d6=Symbol.for("react.portal"),f6=Symbol.for("react.fragment"),h6=Symbol.for("react.strict_mode"),p6=Symbol.for("react.profiler"),m6=Symbol.for("react.provider"),g6=Symbol.for("react.context"),x6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),y6=Symbol.for("react.memo"),b6=Symbol.for("react.lazy"),yy=Symbol.iterator;function w6(e){return e===null||typeof e!="object"?null:(e=yy&&e[yy]||e["@@iterator"],typeof e=="function"?e:null)}var mS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gS=Object.assign,xS={};function ho(e,t,r){this.props=e,this.context=t,this.refs=xS,this.updater=r||mS}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vS(){}vS.prototype=ho.prototype;function Zg(e,t,r){this.props=e,this.context=t,this.refs=xS,this.updater=r||mS}var Jg=Zg.prototype=new vS;Jg.constructor=Zg;gS(Jg,ho.prototype);Jg.isPureReactComponent=!0;var by=Array.isArray,yS=Object.prototype.hasOwnProperty,ex={current:null},bS={key:!0,ref:!0,__self:!0,__source:!0};function wS(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yS.call(t,n)&&!bS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ic,type:e,key:i,ref:o,props:s,_owner:ex.current}}function j6(e,t){return{$$typeof:Ic,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ic}function N6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wy=/\/+/g;function rp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N6(""+e.key):t.toString(36)}function Fu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ic:case d6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+rp(o,0):n,by(s)?(r="",e!=null&&(r=e.replace(wy,"$&/")+"/"),Fu(s,t,r,"",function(u){return u})):s!=null&&(tx(s)&&(s=j6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",by(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+rp(i,l);o+=Fu(i,t,r,c,s)}else if(c=w6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+rp(i,l++),o+=Fu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nu(e,t,r){if(e==null)return e;var n=[],s=0;return Fu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function S6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var er={current:null},Uu={transition:null},_6={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:ex};function jS(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:nu,forEach:function(e,t,r){nu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=ho;be.Fragment=f6;be.Profiler=p6;be.PureComponent=Zg;be.StrictMode=h6;be.Suspense=v6;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_6;be.act=jS;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gS({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ex.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yS.call(t,c)&&!bS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ic,type:e.type,key:s,ref:i,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:g6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m6,_context:e},e.Consumer=e};be.createElement=wS;be.createFactory=function(e){var t=wS.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:x6,render:e}};be.isValidElement=tx;be.lazy=function(e){return{$$typeof:b6,_payload:{_status:-1,_result:e},_init:S6}};be.memo=function(e,t){return{$$typeof:y6,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};be.unstable_act=jS;be.useCallback=function(e,t){return er.current.useCallback(e,t)};be.useContext=function(e){return er.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return er.current.useDeferredValue(e)};be.useEffect=function(e,t){return er.current.useEffect(e,t)};be.useId=function(){return er.current.useId()};be.useImperativeHandle=function(e,t,r){return er.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return er.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return er.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return er.current.useMemo(e,t)};be.useReducer=function(e,t,r){return er.current.useReducer(e,t,r)};be.useRef=function(e){return er.current.useRef(e)};be.useState=function(e){return er.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return er.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return er.current.useTransition()};be.version="18.3.1";pS.exports=be;var O=pS.exports;const C=$e(O),A6=c6({__proto__:null,default:C},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=O,P6=Symbol.for("react.element"),E6=Symbol.for("react.fragment"),k6=Object.prototype.hasOwnProperty,C6=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T6={key:!0,ref:!0,__self:!0,__source:!0};function NS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)k6.call(t,n)&&!T6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:P6,type:e,key:i,ref:o,props:s,_owner:C6.current}}Mf.Fragment=E6;Mf.jsx=NS;Mf.jsxs=NS;hS.exports=Mf;var a=hS.exports,SS={exports:{}},_r={},_S={exports:{}},AS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var I=T.length;T.push(R);e:for(;0<I;){var K=I-1>>>1,Q=T[K];if(0<s(Q,R))T[K]=R,T[I]=Q,I=K;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],I=T.pop();if(I!==R){T[0]=I;e:for(var K=0,Q=T.length,te=Q>>>1;K<te;){var ve=2*(K+1)-1,De=T[ve],Ke=ve+1,It=T[Ke];if(0>s(De,I))Ke<Q&&0>s(It,De)?(T[K]=It,T[Ke]=I,K=Ke):(T[K]=De,T[ve]=I,K=ve);else if(Ke<Q&&0>s(It,I))T[K]=It,T[Ke]=I,K=Ke;else break e}}return R}function s(T,R){var I=T.sortIndex-R.sortIndex;return I!==0?I:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function S(T){if(b=!1,m(T),!y)if(r(c)!==null)y=!0,U(x);else{var R=r(u);R!==null&&q(S,R.startTime-T)}}function x(T,R){y=!1,b&&(b=!1,j(N),N=-1),p=!0;var I=h;try{for(m(R),d=r(c);d!==null&&(!(d.expirationTime>R)||T&&!E());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var Q=K(d.expirationTime<=R);R=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(c)&&n(c),m(R)}else n(c);d=r(c)}if(d!==null)var te=!0;else{var ve=r(u);ve!==null&&q(S,ve.startTime-R),te=!1}return te}finally{d=null,h=I,p=!1}}var w=!1,_=null,N=-1,A=5,P=-1;function E(){return!(e.unstable_now()-P<A)}function k(){if(_!==null){var T=e.unstable_now();P=T;var R=!0;try{R=_(!0,T)}finally{R?D():(w=!1,_=null)}}else w=!1}var D;if(typeof g=="function")D=function(){g(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=k,D=function(){L.postMessage(null)}}else D=function(){v(k,0)};function U(T){_=T,w||(w=!0,D())}function q(T,R){N=v(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(x))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var I=h;h=R;try{return T()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=h;h=T;try{return R()}finally{h=I}},e.unstable_scheduleCallback=function(T,R,I){var K=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?K+I:K):I=K,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,T={id:f++,callback:R,priorityLevel:T,startTime:I,expirationTime:Q,sortIndex:-1},I>K?(T.sortIndex=I,t(u,T),r(c)===null&&T===r(u)&&(b?(j(N),N=-1):b=!0,q(S,I-K))):(T.sortIndex=Q,t(c,T),y||p||(y=!0,U(x))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var R=h;return function(){var I=h;h=R;try{return T.apply(this,arguments)}finally{h=I}}}})(AS);_S.exports=AS;var $6=_S.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6=O,jr=$6;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OS=new Set,El={};function Ia(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(El[e]=t,e=0;e<t.length;e++)OS.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,D6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},Ny={};function M6(e){return xm.call(Ny,e)?!0:xm.call(jy,e)?!1:D6.test(e)?Ny[e]=!0:(jy[e]=!0,!1)}function R6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L6(e,t,r,n){if(t===null||typeof t>"u"||R6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function nx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rx,nx);$t[t]=new tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rx,nx);$t[t]=new tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rx,nx);$t[t]=new tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new tr(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function sx(e,t,r,n){var s=$t.hasOwnProperty(t)?$t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L6(t,r,s,n)&&(r=null),n||s===null?M6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gn=I6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),PS=Symbol.for("react.provider"),ES=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),kS=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function Mo(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,np;function al(e){if(np===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);np=t&&t[1]||""}return`
`+np+e}var sp=!1;function ap(e,t){if(!e||sp)return"";sp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?al(e):""}function F6(e){switch(e.tag){case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return e=ap(e.type,!1),e;case 11:return e=ap(e.type.render,!1),e;case 1:return e=ap(e.type,!0),e;default:return""}}function wm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case vm:return"Profiler";case ax:return"StrictMode";case ym:return"Suspense";case bm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ES:return(e.displayName||"Context")+".Consumer";case PS:return(e._context.displayName||"Context")+".Provider";case ix:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ox:return t=e.displayName||null,t!==null?t:wm(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return wm(e(t))}catch{}}return null}function U6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(t);case 8:return t===ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B6(e){var t=CS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function au(e){e._valueTracker||(e._valueTracker=B6(e))}function TS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function td(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jm(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _y(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$s(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $S(e,t){t=t.checked,t!=null&&sx(e,"checked",t,!1)}function Nm(e,t){$S(e,t);var r=$s(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sm(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ay(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sm(e,t,r){(t!=="number"||td(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var il=Array.isArray;function wi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$s(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(il(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$s(r)}}function IS(e,t){var r=$s(t.value),n=$s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Am(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,MS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z6=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){z6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function RS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function LS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=RS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var q6=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Om(e,t){if(t){if(q6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Pm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function lx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,ji=null,Ni=null;function Ey(e){if(e=Rc(e)){if(typeof km!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Bf(t),km(e.stateNode,e.type,t))}}function FS(e){ji?Ni?Ni.push(e):Ni=[e]:ji=e}function US(){if(ji){var e=ji,t=Ni;if(Ni=ji=null,Ey(e),t)for(e=0;e<t.length;e++)Ey(t[e])}}function BS(e,t){return e(t)}function zS(){}var ip=!1;function qS(e,t,r){if(ip)return e(t,r);ip=!0;try{return BS(e,t,r)}finally{ip=!1,(ji!==null||Ni!==null)&&(zS(),US())}}function Cl(e,t){var r=e.stateNode;if(r===null)return null;var n=Bf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Cm=!1;if(Bn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Cm=!1}function W6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var fl=!1,rd=null,nd=!1,Tm=null,H6={onError:function(e){fl=!0,rd=e}};function K6(e,t,r,n,s,i,o,l,c){fl=!1,rd=null,W6.apply(H6,arguments)}function V6(e,t,r,n,s,i,o,l,c){if(K6.apply(this,arguments),fl){if(fl){var u=rd;fl=!1,rd=null}else throw Error(G(198));nd||(nd=!0,Tm=u)}}function Da(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function WS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ky(e){if(Da(e)!==e)throw Error(G(188))}function G6(e){var t=e.alternate;if(!t){if(t=Da(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ky(s),e;if(i===n)return ky(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function HS(e){return e=G6(e),e!==null?KS(e):null}function KS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KS(e);if(t!==null)return t;e=e.sibling}return null}var VS=jr.unstable_scheduleCallback,Cy=jr.unstable_cancelCallback,Q6=jr.unstable_shouldYield,Y6=jr.unstable_requestPaint,ct=jr.unstable_now,X6=jr.unstable_getCurrentPriorityLevel,cx=jr.unstable_ImmediatePriority,GS=jr.unstable_UserBlockingPriority,sd=jr.unstable_NormalPriority,Z6=jr.unstable_LowPriority,QS=jr.unstable_IdlePriority,Rf=null,mn=null;function J6(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Rf,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:rE,eE=Math.log,tE=Math.LN2;function rE(e){return e>>>=0,e===0?32:31-(eE(e)/tE|0)|0}var ou=64,lu=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ad(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ol(l):(i&=o,i!==0&&(n=ol(i)))}else o=r&~s,o!==0?n=ol(o):i!==0&&(n=ol(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nn(t),s=1<<r,n|=e[r],t&=~s;return n}function nE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-nn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=nE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function $m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YS(){var e=ou;return ou<<=1,!(ou&4194240)&&(ou=64),e}function op(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=r}function aE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ux(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Te=0;function XS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZS,dx,JS,e_,t_,Im=!1,cu=[],js=null,Ns=null,Ss=null,Tl=new Map,$l=new Map,us=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function Lo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rc(t),t!==null&&dx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oE(e,t,r,n,s){switch(t){case"focusin":return js=Lo(js,e,t,r,n,s),!0;case"dragenter":return Ns=Lo(Ns,e,t,r,n,s),!0;case"mouseover":return Ss=Lo(Ss,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Tl.set(i,Lo(Tl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,Lo($l.get(i)||null,e,t,r,n,s)),!0}return!1}function r_(e){var t=aa(e.target);if(t!==null){var r=Da(t);if(r!==null){if(t=r.tag,t===13){if(t=WS(r),t!==null){e.blockedOn=t,t_(e.priority,function(){JS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Em=n,r.target.dispatchEvent(n),Em=null}else return t=Rc(r),t!==null&&dx(t),e.blockedOn=r,!1;t.shift()}return!0}function $y(e,t,r){Bu(e)&&r.delete(t)}function lE(){Im=!1,js!==null&&Bu(js)&&(js=null),Ns!==null&&Bu(Ns)&&(Ns=null),Ss!==null&&Bu(Ss)&&(Ss=null),Tl.forEach($y),$l.forEach($y)}function Fo(e,t){e.blockedOn===t&&(e.blockedOn=null,Im||(Im=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,lE)))}function Il(e){function t(s){return Fo(s,e)}if(0<cu.length){Fo(cu[0],e);for(var r=1;r<cu.length;r++){var n=cu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(js!==null&&Fo(js,e),Ns!==null&&Fo(Ns,e),Ss!==null&&Fo(Ss,e),Tl.forEach(t),$l.forEach(t),r=0;r<us.length;r++)n=us[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<us.length&&(r=us[0],r.blockedOn===null);)r_(r),r.blockedOn===null&&us.shift()}var Si=Gn.ReactCurrentBatchConfig,id=!0;function cE(e,t,r,n){var s=Te,i=Si.transition;Si.transition=null;try{Te=1,fx(e,t,r,n)}finally{Te=s,Si.transition=i}}function uE(e,t,r,n){var s=Te,i=Si.transition;Si.transition=null;try{Te=4,fx(e,t,r,n)}finally{Te=s,Si.transition=i}}function fx(e,t,r,n){if(id){var s=Dm(e,t,r,n);if(s===null)xp(e,t,n,od,r),Ty(e,n);else if(oE(s,e,t,r,n))n.stopPropagation();else if(Ty(e,n),t&4&&-1<iE.indexOf(e)){for(;s!==null;){var i=Rc(s);if(i!==null&&ZS(i),i=Dm(e,t,r,n),i===null&&xp(e,t,n,od,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else xp(e,t,n,null,r)}}var od=null;function Dm(e,t,r,n){if(od=null,e=lx(n),e=aa(e),e!==null)if(t=Da(e),t===null)e=null;else if(r=t.tag,r===13){if(e=WS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return od=e,null}function n_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X6()){case cx:return 1;case GS:return 4;case sd:case Z6:return 16;case QS:return 536870912;default:return 16}default:return 16}}var gs=null,hx=null,zu=null;function s_(){if(zu)return zu;var e,t=hx,r=t.length,n,s="value"in gs?gs.value:gs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return zu=s.slice(e,1<n?1-n:void 0)}function qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function Iy(){return!1}function Ar(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uu:Iy,this.isPropagationStopped=Iy,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Ar(po),Mc=st({},po,{view:0,detail:0}),dE=Ar(Mc),lp,cp,Uo,Lf=st({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(lp=e.screenX-Uo.screenX,cp=e.screenY-Uo.screenY):cp=lp=0,Uo=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:cp}}),Dy=Ar(Lf),fE=st({},Lf,{dataTransfer:0}),hE=Ar(fE),pE=st({},Mc,{relatedTarget:0}),up=Ar(pE),mE=st({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=Ar(mE),xE=st({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vE=Ar(xE),yE=st({},po,{data:0}),My=Ar(yE),bE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jE[e])?!!t[e]:!1}function mx(){return NE}var SE=st({},Mc,{key:function(e){if(e.key){var t=bE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(e){return e.type==="keypress"?qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_E=Ar(SE),AE=st({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ry=Ar(AE),OE=st({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),PE=Ar(OE),EE=st({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=Ar(EE),CE=st({},Lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=Ar(CE),$E=[9,13,27,32],gx=Bn&&"CompositionEvent"in window,hl=null;Bn&&"documentMode"in document&&(hl=document.documentMode);var IE=Bn&&"TextEvent"in window&&!hl,a_=Bn&&(!gx||hl&&8<hl&&11>=hl),Ly=" ",Fy=!1;function i_(e,t){switch(e){case"keyup":return $E.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function DE(e,t){switch(e){case"compositionend":return o_(t);case"keypress":return t.which!==32?null:(Fy=!0,Ly);case"textInput":return e=t.data,e===Ly&&Fy?null:e;default:return null}}function ME(e,t){if(ii)return e==="compositionend"||!gx&&i_(e,t)?(e=s_(),zu=hx=gs=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return a_&&t.locale!=="ko"?null:t.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RE[e.type]:t==="textarea"}function l_(e,t,r,n){FS(n),t=ld(t,"onChange"),0<t.length&&(r=new px("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pl=null,Dl=null;function LE(e){y_(e,0)}function Ff(e){var t=ci(e);if(TS(t))return e}function FE(e,t){if(e==="change")return t}var c_=!1;if(Bn){var dp;if(Bn){var fp="oninput"in document;if(!fp){var By=document.createElement("div");By.setAttribute("oninput","return;"),fp=typeof By.oninput=="function"}dp=fp}else dp=!1;c_=dp&&(!document.documentMode||9<document.documentMode)}function zy(){pl&&(pl.detachEvent("onpropertychange",u_),Dl=pl=null)}function u_(e){if(e.propertyName==="value"&&Ff(Dl)){var t=[];l_(t,Dl,e,lx(e)),qS(LE,t)}}function UE(e,t,r){e==="focusin"?(zy(),pl=t,Dl=r,pl.attachEvent("onpropertychange",u_)):e==="focusout"&&zy()}function BE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ff(Dl)}function zE(e,t){if(e==="click")return Ff(t)}function qE(e,t){if(e==="input"||e==="change")return Ff(t)}function WE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:WE;function Ml(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xm.call(t,s)||!on(e[s],t[s]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wy(e,t){var r=qy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qy(r)}}function d_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f_(){for(var e=window,t=td();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=td(e.document)}return t}function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HE(e){var t=f_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&d_(r.ownerDocument.documentElement,r)){if(n!==null&&xx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Wy(r,i);var o=Wy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KE=Bn&&"documentMode"in document&&11>=document.documentMode,oi=null,Mm=null,ml=null,Rm=!1;function Hy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rm||oi==null||oi!==td(n)||(n=oi,"selectionStart"in n&&xx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Ml(ml,n)||(ml=n,n=ld(Mm,"onSelect"),0<n.length&&(t=new px("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oi)))}function du(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},hp={},h_={};Bn&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function Uf(e){if(hp[e])return hp[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in h_)return hp[e]=t[r];return e}var p_=Uf("animationend"),m_=Uf("animationiteration"),g_=Uf("animationstart"),x_=Uf("transitionend"),v_=new Map,Ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){v_.set(e,t),Ia(t,[e])}for(var pp=0;pp<Ky.length;pp++){var mp=Ky[pp],VE=mp.toLowerCase(),GE=mp[0].toUpperCase()+mp.slice(1);Ms(VE,"on"+GE)}Ms(p_,"onAnimationEnd");Ms(m_,"onAnimationIteration");Ms(g_,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(x_,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Vy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,V6(n,t,void 0,e),e.currentTarget=null}function y_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vy(s,l,u),i=c}}}if(nd)throw e=Tm,nd=!1,Tm=null,e}function Qe(e,t){var r=t[zm];r===void 0&&(r=t[zm]=new Set);var n=e+"__bubble";r.has(n)||(b_(t,e,2,!1),r.add(n))}function gp(e,t,r){var n=0;t&&(n|=4),b_(r,e,n,t)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[fu]){e[fu]=!0,OS.forEach(function(r){r!=="selectionchange"&&(QE.has(r)||gp(r,!1,e),gp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fu]||(t[fu]=!0,gp("selectionchange",!1,t))}}function b_(e,t,r,n){switch(n_(t)){case 1:var s=cE;break;case 4:s=uE;break;default:s=fx}r=s.bind(null,t,r,e),s=void 0,!Cm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function xp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}qS(function(){var u=i,f=lx(r),d=[];e:{var h=v_.get(e);if(h!==void 0){var p=px,y=e;switch(e){case"keypress":if(qu(r)===0)break e;case"keydown":case"keyup":p=_E;break;case"focusin":y="focus",p=up;break;case"focusout":y="blur",p=up;break;case"beforeblur":case"afterblur":p=up;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PE;break;case p_:case m_:case g_:p=gE;break;case x_:p=kE;break;case"scroll":p=dE;break;case"wheel":p=TE;break;case"copy":case"cut":case"paste":p=vE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ry}var b=(t&4)!==0,v=!b&&e==="scroll",j=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,m;g!==null;){m=g;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,j!==null&&(S=Cl(g,j),S!=null&&b.push(Ll(g,S,m)))),v)break;g=g.return}0<b.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Em&&(y=r.relatedTarget||r.fromElement)&&(aa(y)||y[zn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?aa(y):null,y!==null&&(v=Da(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(b=Dy,S="onMouseLeave",j="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Ry,S="onPointerLeave",j="onPointerEnter",g="pointer"),v=p==null?h:ci(p),m=y==null?h:ci(y),h=new b(S,g+"leave",p,r,f),h.target=v,h.relatedTarget=m,S=null,aa(f)===u&&(b=new b(j,g+"enter",y,r,f),b.target=m,b.relatedTarget=v,S=b),v=S,p&&y)t:{for(b=p,j=y,g=0,m=b;m;m=qa(m))g++;for(m=0,S=j;S;S=qa(S))m++;for(;0<g-m;)b=qa(b),g--;for(;0<m-g;)j=qa(j),m--;for(;g--;){if(b===j||j!==null&&b===j.alternate)break t;b=qa(b),j=qa(j)}b=null}else b=null;p!==null&&Gy(d,h,p,b,!1),y!==null&&v!==null&&Gy(d,v,y,b,!0)}}e:{if(h=u?ci(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=FE;else if(Uy(h))if(c_)x=qE;else{x=BE;var w=UE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=zE);if(x&&(x=x(e,u))){l_(d,x,r,f);break e}w&&w(e,h,u),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Sm(h,"number",h.value)}switch(w=u?ci(u):window,e){case"focusin":(Uy(w)||w.contentEditable==="true")&&(oi=w,Mm=u,ml=null);break;case"focusout":ml=Mm=oi=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,Hy(d,r,f);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":Hy(d,r,f)}var _;if(gx)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ii?i_(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(a_&&r.locale!=="ko"&&(ii||N!=="onCompositionStart"?N==="onCompositionEnd"&&ii&&(_=s_()):(gs=f,hx="value"in gs?gs.value:gs.textContent,ii=!0)),w=ld(u,N),0<w.length&&(N=new My(N,e,null,r,f),d.push({event:N,listeners:w}),_?N.data=_:(_=o_(r),_!==null&&(N.data=_)))),(_=IE?DE(e,r):ME(e,r))&&(u=ld(u,"onBeforeInput"),0<u.length&&(f=new My("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}y_(d,t)})}function Ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cl(e,r),i!=null&&n.unshift(Ll(e,i,s)),i=Cl(e,t),i!=null&&n.push(Ll(e,i,s))),e=e.return}return n}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Cl(r,i),c!=null&&o.unshift(Ll(r,c,l))):s||(c=Cl(r,i),c!=null&&o.push(Ll(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var YE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(YE,`
`).replace(XE,"")}function hu(e,t,r){if(t=Qy(t),Qy(e)!==t&&r)throw Error(G(425))}function cd(){}var Lm=null,Fm=null;function Um(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bm=typeof setTimeout=="function"?setTimeout:void 0,ZE=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(ek)}:Bm;function ek(e){setTimeout(function(){throw e})}function vp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Il(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Il(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),dn="__reactFiber$"+mo,Fl="__reactProps$"+mo,zn="__reactContainer$"+mo,zm="__reactEvents$"+mo,tk="__reactListeners$"+mo,rk="__reactHandles$"+mo;function aa(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xy(e);e!==null;){if(r=e[dn])return r;e=Xy(e)}return t}e=r,r=e.parentNode}return null}function Rc(e){return e=e[dn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Bf(e){return e[Fl]||null}var qm=[],ui=-1;function Rs(e){return{current:e}}function Ze(e){0>ui||(e.current=qm[ui],qm[ui]=null,ui--)}function qe(e,t){ui++,qm[ui]=e.current,e.current=t}var Is={},qt=Rs(Is),or=Rs(!1),xa=Is;function $i(e,t){var r=e.type.contextTypes;if(!r)return Is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lr(e){return e=e.childContextTypes,e!=null}function ud(){Ze(or),Ze(qt)}function Zy(e,t,r){if(qt.current!==Is)throw Error(G(168));qe(qt,t),qe(or,r)}function w_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,U6(e)||"Unknown",s));return st({},r,n)}function dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,xa=qt.current,qe(qt,e),qe(or,or.current),!0}function Jy(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=w_(e,t,xa),n.__reactInternalMemoizedMergedChildContext=e,Ze(or),Ze(qt),qe(qt,e)):Ze(or),qe(or,r)}var kn=null,zf=!1,yp=!1;function j_(e){kn===null?kn=[e]:kn.push(e)}function nk(e){zf=!0,j_(e)}function Ls(){if(!yp&&kn!==null){yp=!0;var e=0,t=Te;try{var r=kn;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}kn=null,zf=!1}catch(s){throw kn!==null&&(kn=kn.slice(e+1)),VS(cx,Ls),s}finally{Te=t,yp=!1}}return null}var di=[],fi=0,fd=null,hd=0,Cr=[],Tr=0,va=null,Tn=1,$n="";function Xs(e,t){di[fi++]=hd,di[fi++]=fd,fd=e,hd=t}function N_(e,t,r){Cr[Tr++]=Tn,Cr[Tr++]=$n,Cr[Tr++]=va,va=e;var n=Tn;e=$n;var s=32-nn(n)-1;n&=~(1<<s),r+=1;var i=32-nn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Tn=1<<32-nn(t)+s|r<<s|n,$n=i+e}else Tn=1<<i|r<<s|n,$n=e}function vx(e){e.return!==null&&(Xs(e,1),N_(e,1,0))}function yx(e){for(;e===fd;)fd=di[--fi],di[fi]=null,hd=di[--fi],di[fi]=null;for(;e===va;)va=Cr[--Tr],Cr[Tr]=null,$n=Cr[--Tr],Cr[Tr]=null,Tn=Cr[--Tr],Cr[Tr]=null}var yr=null,vr=null,Je=!1,Jr=null;function S_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yr=e,vr=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yr=e,vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=va!==null?{id:Tn,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yr=e,vr=null,!0):!1;default:return!1}}function Wm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hm(e){if(Je){var t=vr;if(t){var r=t;if(!eb(e,t)){if(Wm(e))throw Error(G(418));t=_s(r.nextSibling);var n=yr;t&&eb(e,t)?S_(n,r):(e.flags=e.flags&-4097|2,Je=!1,yr=e)}}else{if(Wm(e))throw Error(G(418));e.flags=e.flags&-4097|2,Je=!1,yr=e}}}function tb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yr=e}function pu(e){if(e!==yr)return!1;if(!Je)return tb(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Um(e.type,e.memoizedProps)),t&&(t=vr)){if(Wm(e))throw __(),Error(G(418));for(;t;)S_(e,t),t=_s(t.nextSibling)}if(tb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vr=_s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vr=null}}else vr=yr?_s(e.stateNode.nextSibling):null;return!0}function __(){for(var e=vr;e;)e=_s(e.nextSibling)}function Ii(){vr=yr=null,Je=!1}function bx(e){Jr===null?Jr=[e]:Jr.push(e)}var sk=Gn.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rb(e){var t=e._init;return t(e._payload)}function A_(e){function t(j,g){if(e){var m=j.deletions;m===null?(j.deletions=[g],j.flags|=16):m.push(g)}}function r(j,g){if(!e)return null;for(;g!==null;)t(j,g),g=g.sibling;return null}function n(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function s(j,g){return j=Es(j,g),j.index=0,j.sibling=null,j}function i(j,g,m){return j.index=m,e?(m=j.alternate,m!==null?(m=m.index,m<g?(j.flags|=2,g):m):(j.flags|=2,g)):(j.flags|=1048576,g)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,g,m,S){return g===null||g.tag!==6?(g=Ap(m,j.mode,S),g.return=j,g):(g=s(g,m),g.return=j,g)}function c(j,g,m,S){var x=m.type;return x===ai?f(j,g,m.props.children,S,m.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===is&&rb(x)===g.type)?(S=s(g,m.props),S.ref=Bo(j,g,m),S.return=j,S):(S=Yu(m.type,m.key,m.props,null,j.mode,S),S.ref=Bo(j,g,m),S.return=j,S)}function u(j,g,m,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Op(m,j.mode,S),g.return=j,g):(g=s(g,m.children||[]),g.return=j,g)}function f(j,g,m,S,x){return g===null||g.tag!==7?(g=ha(m,j.mode,S,x),g.return=j,g):(g=s(g,m),g.return=j,g)}function d(j,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ap(""+g,j.mode,m),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case su:return m=Yu(g.type,g.key,g.props,null,j.mode,m),m.ref=Bo(j,null,g),m.return=j,m;case si:return g=Op(g,j.mode,m),g.return=j,g;case is:var S=g._init;return d(j,S(g._payload),m)}if(il(g)||Mo(g))return g=ha(g,j.mode,m,null),g.return=j,g;mu(j,g)}return null}function h(j,g,m,S){var x=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return x!==null?null:l(j,g,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case su:return m.key===x?c(j,g,m,S):null;case si:return m.key===x?u(j,g,m,S):null;case is:return x=m._init,h(j,g,x(m._payload),S)}if(il(m)||Mo(m))return x!==null?null:f(j,g,m,S,null);mu(j,m)}return null}function p(j,g,m,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return j=j.get(m)||null,l(g,j,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return j=j.get(S.key===null?m:S.key)||null,c(g,j,S,x);case si:return j=j.get(S.key===null?m:S.key)||null,u(g,j,S,x);case is:var w=S._init;return p(j,g,m,w(S._payload),x)}if(il(S)||Mo(S))return j=j.get(m)||null,f(g,j,S,x,null);mu(g,S)}return null}function y(j,g,m,S){for(var x=null,w=null,_=g,N=g=0,A=null;_!==null&&N<m.length;N++){_.index>N?(A=_,_=null):A=_.sibling;var P=h(j,_,m[N],S);if(P===null){_===null&&(_=A);break}e&&_&&P.alternate===null&&t(j,_),g=i(P,g,N),w===null?x=P:w.sibling=P,w=P,_=A}if(N===m.length)return r(j,_),Je&&Xs(j,N),x;if(_===null){for(;N<m.length;N++)_=d(j,m[N],S),_!==null&&(g=i(_,g,N),w===null?x=_:w.sibling=_,w=_);return Je&&Xs(j,N),x}for(_=n(j,_);N<m.length;N++)A=p(_,j,N,m[N],S),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?N:A.key),g=i(A,g,N),w===null?x=A:w.sibling=A,w=A);return e&&_.forEach(function(E){return t(j,E)}),Je&&Xs(j,N),x}function b(j,g,m,S){var x=Mo(m);if(typeof x!="function")throw Error(G(150));if(m=x.call(m),m==null)throw Error(G(151));for(var w=x=null,_=g,N=g=0,A=null,P=m.next();_!==null&&!P.done;N++,P=m.next()){_.index>N?(A=_,_=null):A=_.sibling;var E=h(j,_,P.value,S);if(E===null){_===null&&(_=A);break}e&&_&&E.alternate===null&&t(j,_),g=i(E,g,N),w===null?x=E:w.sibling=E,w=E,_=A}if(P.done)return r(j,_),Je&&Xs(j,N),x;if(_===null){for(;!P.done;N++,P=m.next())P=d(j,P.value,S),P!==null&&(g=i(P,g,N),w===null?x=P:w.sibling=P,w=P);return Je&&Xs(j,N),x}for(_=n(j,_);!P.done;N++,P=m.next())P=p(_,j,N,P.value,S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?N:P.key),g=i(P,g,N),w===null?x=P:w.sibling=P,w=P);return e&&_.forEach(function(k){return t(j,k)}),Je&&Xs(j,N),x}function v(j,g,m,S){if(typeof m=="object"&&m!==null&&m.type===ai&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case su:e:{for(var x=m.key,w=g;w!==null;){if(w.key===x){if(x=m.type,x===ai){if(w.tag===7){r(j,w.sibling),g=s(w,m.props.children),g.return=j,j=g;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===is&&rb(x)===w.type){r(j,w.sibling),g=s(w,m.props),g.ref=Bo(j,w,m),g.return=j,j=g;break e}r(j,w);break}else t(j,w);w=w.sibling}m.type===ai?(g=ha(m.props.children,j.mode,S,m.key),g.return=j,j=g):(S=Yu(m.type,m.key,m.props,null,j.mode,S),S.ref=Bo(j,g,m),S.return=j,j=S)}return o(j);case si:e:{for(w=m.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(j,g.sibling),g=s(g,m.children||[]),g.return=j,j=g;break e}else{r(j,g);break}else t(j,g);g=g.sibling}g=Op(m,j.mode,S),g.return=j,j=g}return o(j);case is:return w=m._init,v(j,g,w(m._payload),S)}if(il(m))return y(j,g,m,S);if(Mo(m))return b(j,g,m,S);mu(j,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(j,g.sibling),g=s(g,m),g.return=j,j=g):(r(j,g),g=Ap(m,j.mode,S),g.return=j,j=g),o(j)):r(j,g)}return v}var Di=A_(!0),O_=A_(!1),pd=Rs(null),md=null,hi=null,wx=null;function jx(){wx=hi=md=null}function Nx(e){var t=pd.current;Ze(pd),e._currentValue=t}function Km(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _i(e,t){md=e,wx=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ar=!0),e.firstContext=null)}function Lr(e){var t=e._currentValue;if(wx!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(md===null)throw Error(G(308));hi=e,md.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var ia=null;function Sx(e){ia===null?ia=[e]:ia.push(e)}function P_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sx(t)):(r.next=s.next,s.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function _x(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qn(e,r)}return s=n.interleaved,s===null?(t.next=t,Sx(n)):(t.next=s.next,s.next=t),n.interleaved=t,qn(e,r)}function Wu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}function nb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gd(e,t,r,n){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,p=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=st({},d,h);break e;case 2:os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ba|=o,e.lanes=o,e.memoizedState=d}}function sb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Lc={},gn=Rs(Lc),Ul=Rs(Lc),Bl=Rs(Lc);function oa(e){if(e===Lc)throw Error(G(174));return e}function Ax(e,t){switch(qe(Bl,t),qe(Ul,e),qe(gn,Lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Am(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Am(t,e)}Ze(gn),qe(gn,t)}function Mi(){Ze(gn),Ze(Ul),Ze(Bl)}function k_(e){oa(Bl.current);var t=oa(gn.current),r=Am(t,e.type);t!==r&&(qe(Ul,e),qe(gn,r))}function Ox(e){Ul.current===e&&(Ze(gn),Ze(Ul))}var tt=Rs(0);function xd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bp=[];function Px(){for(var e=0;e<bp.length;e++)bp[e]._workInProgressVersionPrimary=null;bp.length=0}var Hu=Gn.ReactCurrentDispatcher,wp=Gn.ReactCurrentBatchConfig,ya=0,rt=null,mt=null,Nt=null,vd=!1,gl=!1,zl=0,ak=0;function Mt(){throw Error(G(321))}function Ex(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function kx(e,t,r,n,s,i){if(ya=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hu.current=e===null||e.memoizedState===null?ck:uk,e=r(n,s),gl){i=0;do{if(gl=!1,zl=0,25<=i)throw Error(G(301));i+=1,Nt=mt=null,t.updateQueue=null,Hu.current=dk,e=r(n,s)}while(gl)}if(Hu.current=yd,t=mt!==null&&mt.next!==null,ya=0,Nt=mt=rt=null,vd=!1,t)throw Error(G(300));return e}function Cx(){var e=zl!==0;return zl=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Fr(){if(mt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Nt===null?rt.memoizedState:Nt.next;if(t!==null)Nt=t,mt=e;else{if(e===null)throw Error(G(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ql(e,t){return typeof t=="function"?t(e):t}function jp(e){var t=Fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((ya&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,rt.lanes|=f,ba|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,on(n,t.memoizedState)||(ar=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,rt.lanes|=i,ba|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Np(e){var t=Fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);on(i,t.memoizedState)||(ar=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function C_(){}function T_(e,t){var r=rt,n=Fr(),s=t(),i=!on(n.memoizedState,s);if(i&&(n.memoizedState=s,ar=!0),n=n.queue,Tx(D_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Wl(9,I_.bind(null,r,n,s,t),void 0,null),At===null)throw Error(G(349));ya&30||$_(r,t,s)}return s}function $_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function I_(e,t,r,n){t.value=r,t.getSnapshot=n,M_(t)&&R_(e)}function D_(e,t,r){return r(function(){M_(t)&&R_(e)})}function M_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch{return!0}}function R_(e){var t=qn(e,1);t!==null&&sn(t,e,1,-1)}function ab(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:e},t.queue=e,e=e.dispatch=lk.bind(null,rt,e),[t.memoizedState,e]}function Wl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function L_(){return Fr().memoizedState}function Ku(e,t,r,n){var s=un();rt.flags|=e,s.memoizedState=Wl(1|t,r,void 0,n===void 0?null:n)}function qf(e,t,r,n){var s=Fr();n=n===void 0?null:n;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,n!==null&&Ex(n,o.deps)){s.memoizedState=Wl(t,r,i,n);return}}rt.flags|=e,s.memoizedState=Wl(1|t,r,i,n)}function ib(e,t){return Ku(8390656,8,e,t)}function Tx(e,t){return qf(2048,8,e,t)}function F_(e,t){return qf(4,2,e,t)}function U_(e,t){return qf(4,4,e,t)}function B_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z_(e,t,r){return r=r!=null?r.concat([e]):null,qf(4,4,B_.bind(null,t,e),r)}function $x(){}function q_(e,t){var r=Fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ex(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function W_(e,t){var r=Fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ex(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function H_(e,t,r){return ya&21?(on(r,t)||(r=YS(),rt.lanes|=r,ba|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ar=!0),e.memoizedState=r)}function ik(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=wp.transition;wp.transition={};try{e(!1),t()}finally{Te=r,wp.transition=n}}function K_(){return Fr().memoizedState}function ok(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V_(e))G_(t,r);else if(r=P_(e,t,r,n),r!==null){var s=Xt();sn(r,e,n,s),Q_(r,t,n)}}function lk(e,t,r){var n=Ps(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V_(e))G_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,on(l,o)){var c=t.interleaved;c===null?(s.next=s,Sx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=P_(e,t,s,n),r!==null&&(s=Xt(),sn(r,e,n,s),Q_(r,t,n))}}function V_(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function G_(e,t){gl=vd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Q_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}var yd={readContext:Lr,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},ck={readContext:Lr,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:ib,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ku(4194308,4,B_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ku(4,2,e,t)},useMemo:function(e,t){var r=un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ok.bind(null,rt,e),[n.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:ab,useDebugValue:$x,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=ab(!1),t=e[0];return e=ik.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rt,s=un();if(Je){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),At===null)throw Error(G(349));ya&30||$_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ib(D_.bind(null,n,i,e),[e]),n.flags|=2048,Wl(9,I_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=un(),t=At.identifierPrefix;if(Je){var r=$n,n=Tn;r=(n&~(1<<32-nn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ak++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uk={readContext:Lr,useCallback:q_,useContext:Lr,useEffect:Tx,useImperativeHandle:z_,useInsertionEffect:F_,useLayoutEffect:U_,useMemo:W_,useReducer:jp,useRef:L_,useState:function(){return jp(ql)},useDebugValue:$x,useDeferredValue:function(e){var t=Fr();return H_(t,mt.memoizedState,e)},useTransition:function(){var e=jp(ql)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:C_,useSyncExternalStore:T_,useId:K_,unstable_isNewReconciler:!1},dk={readContext:Lr,useCallback:q_,useContext:Lr,useEffect:Tx,useImperativeHandle:z_,useInsertionEffect:F_,useLayoutEffect:U_,useMemo:W_,useReducer:Np,useRef:L_,useState:function(){return Np(ql)},useDebugValue:$x,useDeferredValue:function(e){var t=Fr();return mt===null?t.memoizedState=e:H_(t,mt.memoizedState,e)},useTransition:function(){var e=Np(ql)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:C_,useSyncExternalStore:T_,useId:K_,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wf={isMounted:function(e){return(e=e._reactInternals)?Da(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xt(),s=Ps(e),i=Rn(n,s);i.payload=t,r!=null&&(i.callback=r),t=As(e,i,s),t!==null&&(sn(t,e,s,n),Wu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xt(),s=Ps(e),i=Rn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=As(e,i,s),t!==null&&(sn(t,e,s,n),Wu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),n=Ps(e),s=Rn(r,n);s.tag=2,t!=null&&(s.callback=t),t=As(e,s,n),t!==null&&(sn(t,e,n,r),Wu(t,e,n))}};function ob(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ml(r,n)||!Ml(s,i):!0}function Y_(e,t,r){var n=!1,s=Is,i=t.contextType;return typeof i=="object"&&i!==null?i=Lr(i):(s=lr(t)?xa:qt.current,n=t.contextTypes,i=(n=n!=null)?$i(e,s):Is),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wf.enqueueReplaceState(t,t.state,null)}function Gm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},_x(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lr(i):(i=lr(t)?xa:qt.current,s.context=$i(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vm(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wf.enqueueReplaceState(s,s.state,null),gd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",n=t;do r+=F6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function X_(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wd||(wd=!0,a0=n),Qm(e,t)},r}function Z_(e,t,r){r=Rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qm(e,t),typeof n!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ak.bind(null,e,t,r),t.then(e,e))}function ub(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function db(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,As(r,t,1))),r.lanes|=1),e)}var hk=Gn.ReactCurrentOwner,ar=!1;function Vt(e,t,r,n){t.child=e===null?O_(t,null,r,n):Di(t,e.child,r,n)}function fb(e,t,r,n,s){r=r.render;var i=t.ref;return _i(t,s),n=kx(e,t,r,n,i,s),r=Cx(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Je&&r&&vx(t),t.flags|=1,Vt(e,t,n,s),t.child)}function hb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,J_(e,t,i,n,s)):(e=Yu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ml,r(o,n)&&e.ref===t.ref)return Wn(e,t,s)}return t.flags|=1,e=Es(i,n),e.ref=t.ref,e.return=t,t.child=e}function J_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ml(i,n)&&e.ref===t.ref)if(ar=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ar=!0);else return t.lanes=e.lanes,Wn(e,t,s)}return Ym(e,t,r,n,s)}function e2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mi,pr),pr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(mi,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(mi,pr),pr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(mi,pr),pr|=n;return Vt(e,t,s,r),t.child}function t2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ym(e,t,r,n,s){var i=lr(r)?xa:qt.current;return i=$i(t,i),_i(t,s),r=kx(e,t,r,n,i,s),n=Cx(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Je&&n&&vx(t),t.flags|=1,Vt(e,t,r,s),t.child)}function pb(e,t,r,n,s){if(lr(r)){var i=!0;dd(t)}else i=!1;if(_i(t,s),t.stateNode===null)Vu(e,t),Y_(t,r,n),Gm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lr(u):(u=lr(r)?xa:qt.current,u=$i(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lb(t,o,n,u),os=!1;var h=t.memoizedState;o.state=h,gd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||or.current||os?(typeof f=="function"&&(Vm(t,r,f,n),c=t.memoizedState),(l=os||ob(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,E_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gr(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Lr(c):(c=lr(r)?xa:qt.current,c=$i(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&lb(t,o,n,c),os=!1,h=t.memoizedState,o.state=h,gd(t,n,o,s);var y=t.memoizedState;l!==d||h!==y||or.current||os?(typeof p=="function"&&(Vm(t,r,p,n),y=t.memoizedState),(u=os||ob(t,r,u,n,h,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Xm(e,t,r,n,i,s)}function Xm(e,t,r,n,s,i){t2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Jy(t,r,!1),Wn(e,t,i);n=t.stateNode,hk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,l,i)):Vt(e,t,l,i),t.memoizedState=n.state,s&&Jy(t,r,!0),t.child}function r2(e){var t=e.stateNode;t.pendingContext?Zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zy(e,t.context,!1),Ax(e,t.containerInfo)}function mb(e,t,r,n,s){return Ii(),bx(s),t.flags|=256,Vt(e,t,r,n),t.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function Jm(e){return{baseLanes:e,cachePool:null,transitions:null}}function n2(e,t,r){var n=t.pendingProps,s=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(tt,s&1),e===null)return Hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vf(o,n,0,null),e=ha(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jm(r),t.memoizedState=Zm,e):Ix(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pk(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Es(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Es(l,i):(i=ha(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Zm,n}return i=e.child,e=i.sibling,n=Es(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ix(e,t){return t=Vf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,r,n){return n!==null&&bx(n),Di(t,e.child,null,r),e=Ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Sp(Error(G(422))),gu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Vf({mode:"visible",children:n.children},s,0,null),i=ha(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Di(t,e.child,null,o),t.child.memoizedState=Jm(o),t.memoizedState=Zm,i);if(!(t.mode&1))return gu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=Sp(i,n,void 0),gu(e,t,o,n)}if(l=(o&e.childLanes)!==0,ar||l){if(n=At,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qn(e,s),sn(n,e,s,-1))}return Ux(),n=Sp(Error(G(421))),gu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ok.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vr=_s(s.nextSibling),yr=t,Je=!0,Jr=null,e!==null&&(Cr[Tr++]=Tn,Cr[Tr++]=$n,Cr[Tr++]=va,Tn=e.id,$n=e.overflow,va=t),t=Ix(t,n.children),t.flags|=4096,t)}function gb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Km(e.return,t,r)}function _p(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function s2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Vt(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gb(e,r,t);else if(e.tag===19)gb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&xd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_p(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mk(e,t,r){switch(t.tag){case 3:r2(t),Ii();break;case 5:k_(t);break;case 1:lr(t.type)&&dd(t);break;case 4:Ax(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(pd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?n2(e,t,r):(qe(tt,tt.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return s2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,e2(e,t,r)}return Wn(e,t,r)}var a2,e0,i2,o2;a2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e0=function(){};i2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,oa(gn.current);var i=null;switch(r){case"input":s=jm(e,s),n=jm(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=_m(e,s),n=_m(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cd)}Om(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};o2=function(e,t,r,n){r!==n&&(t.flags|=4)};function zo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gk(e,t,r){var n=t.pendingProps;switch(yx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return lr(t.type)&&ud(),Rt(t),null;case 3:return n=t.stateNode,Mi(),Ze(or),Ze(qt),Px(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(l0(Jr),Jr=null))),e0(e,t),Rt(t),null;case 5:Ox(t);var s=oa(Bl.current);if(r=t.type,e!==null&&t.stateNode!=null)i2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Rt(t),null}if(e=oa(gn.current),pu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dn]=t,n[Fl]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)Qe(ll[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":_y(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":Oy(n,i),Qe("invalid",n)}Om(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&hu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hu(n.textContent,l,e),s=["children",""+l]):El.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":au(n),Ay(n,i,!0);break;case"textarea":au(n),Py(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=cd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[dn]=t,e[Fl]=n,a2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pm(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<ll.length;s++)Qe(ll[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":_y(e,n),s=jm(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":Oy(e,n),s=_m(e,n),Qe("invalid",e);break;default:s=n}Om(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?LS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(El.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&sx(e,i,c,o))}switch(r){case"input":au(e),Ay(e,n,!1);break;case"textarea":au(e),Py(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$s(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wi(e,!!n.multiple,i,!1):n.defaultValue!=null&&wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)o2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=oa(Bl.current),oa(gn.current),pu(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(i=n.nodeValue!==r)&&(e=yr,e!==null))switch(e.tag){case 3:hu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return Rt(t),null;case 13:if(Ze(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&vr!==null&&t.mode&1&&!(t.flags&128))__(),Ii(),t.flags|=98560,i=!1;else if(i=pu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[dn]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else Jr!==null&&(l0(Jr),Jr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?xt===0&&(xt=3):Ux())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Mi(),e0(e,t),e===null&&Rl(t.stateNode.containerInfo),Rt(t),null;case 10:return Nx(t.type._context),Rt(t),null;case 17:return lr(t.type)&&ud(),Rt(t),null;case 19:if(Ze(tt),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)zo(i,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xd(e),o!==null){for(t.flags|=128,zo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>Li&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304)}else{if(!n)if(e=xd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Rt(t),null}else 2*ct()-i.renderingStartTime>Li&&r!==1073741824&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=tt.current,qe(tt,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Fx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function xk(e,t){switch(yx(t),t.tag){case 1:return lr(t.type)&&ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Ze(or),Ze(qt),Px(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ox(t),null;case 13:if(Ze(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(tt),null;case 4:return Mi(),null;case 10:return Nx(t.type._context),null;case 22:case 23:return Fx(),null;case 24:return null;default:return null}}var xu=!1,Ut=!1,vk=typeof WeakSet=="function"?WeakSet:Set,J=null;function pi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function t0(e,t,r){try{r()}catch(n){at(e,t,n)}}var xb=!1;function yk(e,t){if(Lm=id,e=f_(),xx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fm={focusedElem:e,selectionRange:r},id=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,v=y.memoizedState,j=t.stateNode,g=j.getSnapshotBeforeUpdate(t.elementType===t.type?b:Gr(t.type,b),v);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){at(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=xb,xb=!1,y}function xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&t0(t,r,i)}s=s.next}while(s!==n)}}function Hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function r0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function l2(e){var t=e.alternate;t!==null&&(e.alternate=null,l2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Fl],delete t[zm],delete t[tk],delete t[rk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c2(e){return e.tag===5||e.tag===3||e.tag===4}function vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cd));else if(n!==4&&(e=e.child,e!==null))for(n0(e,t,r),e=e.sibling;e!==null;)n0(e,t,r),e=e.sibling}function s0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(s0(e,t,r),e=e.sibling;e!==null;)s0(e,t,r),e=e.sibling}var kt=null,Qr=!1;function es(e,t,r){for(r=r.child;r!==null;)u2(e,t,r),r=r.sibling}function u2(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Rf,r)}catch{}switch(r.tag){case 5:Ut||pi(r,t);case 6:var n=kt,s=Qr;kt=null,es(e,t,r),kt=n,Qr=s,kt!==null&&(Qr?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Qr?(e=kt,r=r.stateNode,e.nodeType===8?vp(e.parentNode,r):e.nodeType===1&&vp(e,r),Il(e)):vp(kt,r.stateNode));break;case 4:n=kt,s=Qr,kt=r.stateNode.containerInfo,Qr=!0,es(e,t,r),kt=n,Qr=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&t0(r,t,o),s=s.next}while(s!==n)}es(e,t,r);break;case 1:if(!Ut&&(pi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,t,l)}es(e,t,r);break;case 21:es(e,t,r);break;case 22:r.mode&1?(Ut=(n=Ut)||r.memoizedState!==null,es(e,t,r),Ut=n):es(e,t,r);break;default:es(e,t,r)}}function yb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vk),t.forEach(function(n){var s=Pk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Qr=!1;break e;case 3:kt=l.stateNode.containerInfo,Qr=!0;break e;case 4:kt=l.stateNode.containerInfo,Qr=!0;break e}l=l.return}if(kt===null)throw Error(G(160));u2(i,o,s),kt=null,Qr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d2(t,e),t=t.sibling}function d2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),cn(e),n&4){try{xl(3,e,e.return),Hf(3,e)}catch(b){at(e,e.return,b)}try{xl(5,e,e.return)}catch(b){at(e,e.return,b)}}break;case 1:Hr(t,e),cn(e),n&512&&r!==null&&pi(r,r.return);break;case 5:if(Hr(t,e),cn(e),n&512&&r!==null&&pi(r,r.return),e.flags&32){var s=e.stateNode;try{kl(s,"")}catch(b){at(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$S(s,i),Pm(l,o);var u=Pm(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?LS(s,d):f==="dangerouslySetInnerHTML"?MS(s,d):f==="children"?kl(s,d):sx(s,f,d,u)}switch(l){case"input":Nm(s,i);break;case"textarea":IS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?wi(s,!!i.multiple,i.defaultValue,!0):wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fl]=i}catch(b){at(e,e.return,b)}}break;case 6:if(Hr(t,e),cn(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){at(e,e.return,b)}}break;case 3:if(Hr(t,e),cn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(b){at(e,e.return,b)}break;case 4:Hr(t,e),cn(e);break;case 13:Hr(t,e),cn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rx=ct())),n&4&&yb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||f,Hr(t,e),Ut=u):Hr(t,e),cn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(d=J=f;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:xl(4,h,h.return);break;case 1:pi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){at(n,r,b)}}break;case 5:pi(h,h.return);break;case 22:if(h.memoizedState!==null){wb(d);continue}}p!==null?(p.return=h,J=p):wb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RS("display",o))}catch(b){at(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){at(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hr(t,e),cn(e),n&4&&yb(e);break;case 21:break;default:Hr(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c2(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kl(s,""),n.flags&=-33);var i=vb(e);s0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=vb(e);n0(e,l,o);break;default:throw Error(G(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bk(e,t,r){J=e,f2(e)}function f2(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=xu;var u=Ut;if(xu=o,(Ut=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?jb(s):c!==null?(c.return=o,J=c):jb(s);for(;i!==null;)J=i,f2(i),i=i.sibling;J=s,xu=l,Ut=u}bb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):bb(e)}}function bb(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Hf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ut||t.flags&512&&r0(t)}catch(h){at(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function wb(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function jb(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hf(4,t)}catch(c){at(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){at(t,s,c)}}var i=t.return;try{r0(t)}catch(c){at(t,i,c)}break;case 5:var o=t.return;try{r0(t)}catch(c){at(t,o,c)}}}catch(c){at(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var wk=Math.ceil,bd=Gn.ReactCurrentDispatcher,Dx=Gn.ReactCurrentOwner,Mr=Gn.ReactCurrentBatchConfig,je=0,At=null,dt=null,Ct=0,pr=0,mi=Rs(0),xt=0,Hl=null,ba=0,Kf=0,Mx=0,vl=null,nr=null,Rx=0,Li=1/0,On=null,wd=!1,a0=null,Os=null,vu=!1,xs=null,jd=0,yl=0,i0=null,Gu=-1,Qu=0;function Xt(){return je&6?ct():Gu!==-1?Gu:Gu=ct()}function Ps(e){return e.mode&1?je&2&&Ct!==0?Ct&-Ct:sk.transition!==null?(Qu===0&&(Qu=YS()),Qu):(e=Te,e!==0||(e=window.event,e=e===void 0?16:n_(e.type)),e):1}function sn(e,t,r,n){if(50<yl)throw yl=0,i0=null,Error(G(185));Dc(e,r,n),(!(je&2)||e!==At)&&(e===At&&(!(je&2)&&(Kf|=r),xt===4&&ds(e,Ct)),cr(e,n),r===1&&je===0&&!(t.mode&1)&&(Li=ct()+500,zf&&Ls()))}function cr(e,t){var r=e.callbackNode;sE(e,t);var n=ad(e,e===At?Ct:0);if(n===0)r!==null&&Cy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cy(r),t===1)e.tag===0?nk(Nb.bind(null,e)):j_(Nb.bind(null,e)),JE(function(){!(je&6)&&Ls()}),r=null;else{switch(XS(n)){case 1:r=cx;break;case 4:r=GS;break;case 16:r=sd;break;case 536870912:r=QS;break;default:r=sd}r=b2(r,h2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h2(e,t){if(Gu=-1,Qu=0,je&6)throw Error(G(327));var r=e.callbackNode;if(Ai()&&e.callbackNode!==r)return null;var n=ad(e,e===At?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nd(e,n);else{t=n;var s=je;je|=2;var i=m2();(At!==e||Ct!==t)&&(On=null,Li=ct()+500,fa(e,t));do try{Sk();break}catch(l){p2(e,l)}while(!0);jx(),bd.current=i,je=s,dt!==null?t=0:(At=null,Ct=0,t=xt)}if(t!==0){if(t===2&&(s=$m(e),s!==0&&(n=s,t=o0(e,s))),t===1)throw r=Hl,fa(e,0),ds(e,n),cr(e,ct()),r;if(t===6)ds(e,n);else{if(s=e.current.alternate,!(n&30)&&!jk(s)&&(t=Nd(e,n),t===2&&(i=$m(e),i!==0&&(n=i,t=o0(e,i))),t===1))throw r=Hl,fa(e,0),ds(e,n),cr(e,ct()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Zs(e,nr,On);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=Rx+500-ct(),10<t)){if(ad(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bm(Zs.bind(null,e,nr,On),t);break}Zs(e,nr,On);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-nn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wk(n/1960))-n,10<n){e.timeoutHandle=Bm(Zs.bind(null,e,nr,On),n);break}Zs(e,nr,On);break;case 5:Zs(e,nr,On);break;default:throw Error(G(329))}}}return cr(e,ct()),e.callbackNode===r?h2.bind(null,e):null}function o0(e,t){var r=vl;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=nr,nr=r,t!==null&&l0(t)),e}function l0(e){nr===null?nr=e:nr.push.apply(nr,e)}function jk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!on(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~Mx,t&=~Kf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nn(t),n=1<<r;e[r]=-1,t&=~n}}function Nb(e){if(je&6)throw Error(G(327));Ai();var t=ad(e,0);if(!(t&1))return cr(e,ct()),null;var r=Nd(e,t);if(e.tag!==0&&r===2){var n=$m(e);n!==0&&(t=n,r=o0(e,n))}if(r===1)throw r=Hl,fa(e,0),ds(e,t),cr(e,ct()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,nr,On),cr(e,ct()),null}function Lx(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Li=ct()+500,zf&&Ls())}}function wa(e){xs!==null&&xs.tag===0&&!(je&6)&&Ai();var t=je;je|=1;var r=Mr.transition,n=Te;try{if(Mr.transition=null,Te=1,e)return e()}finally{Te=n,Mr.transition=r,je=t,!(je&6)&&Ls()}}function Fx(){pr=mi.current,Ze(mi)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZE(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(yx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ud();break;case 3:Mi(),Ze(or),Ze(qt),Px();break;case 5:Ox(n);break;case 4:Mi();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:Nx(n.type._context);break;case 22:case 23:Fx()}r=r.return}if(At=e,dt=e=Es(e.current,null),Ct=pr=t,xt=0,Hl=null,Mx=Kf=ba=0,nr=vl=null,ia!==null){for(t=0;t<ia.length;t++)if(r=ia[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ia=null}return e}function p2(e,t){do{var r=dt;try{if(jx(),Hu.current=yd,vd){for(var n=rt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vd=!1}if(ya=0,Nt=mt=rt=null,gl=!1,zl=0,Dx.current=null,r===null||r.return===null){xt=1,Hl=t,dt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ub(o);if(p!==null){p.flags&=-257,db(p,o,l,i,t),p.mode&1&&cb(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){cb(i,u,t),Ux();break e}c=Error(G(426))}}else if(Je&&l.mode&1){var v=ub(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),db(v,o,l,i,t),bx(Ri(c,l));break e}}i=c=Ri(c,l),xt!==4&&(xt=2),vl===null?vl=[i]:vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=X_(i,c,t);nb(i,j);break e;case 1:l=c;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Os===null||!Os.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Z_(i,l,t);nb(i,S);break e}}i=i.return}while(i!==null)}x2(r)}catch(x){t=x,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function m2(){var e=bd.current;return bd.current=yd,e===null?yd:e}function Ux(){(xt===0||xt===3||xt===2)&&(xt=4),At===null||!(ba&268435455)&&!(Kf&268435455)||ds(At,Ct)}function Nd(e,t){var r=je;je|=2;var n=m2();(At!==e||Ct!==t)&&(On=null,fa(e,t));do try{Nk();break}catch(s){p2(e,s)}while(!0);if(jx(),je=r,bd.current=n,dt!==null)throw Error(G(261));return At=null,Ct=0,xt}function Nk(){for(;dt!==null;)g2(dt)}function Sk(){for(;dt!==null&&!Q6();)g2(dt)}function g2(e){var t=y2(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?x2(e):dt=t,Dx.current=null}function x2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xk(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,dt=null;return}}else if(r=gk(r,t,pr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);xt===0&&(xt=5)}function Zs(e,t,r){var n=Te,s=Mr.transition;try{Mr.transition=null,Te=1,_k(e,t,r,n)}finally{Mr.transition=s,Te=n}return null}function _k(e,t,r,n){do Ai();while(xs!==null);if(je&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aE(e,i),e===At&&(dt=At=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vu||(vu=!0,b2(sd,function(){return Ai(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=Te;Te=1;var l=je;je|=4,Dx.current=null,yk(e,r),d2(r,e),HE(Fm),id=!!Lm,Fm=Lm=null,e.current=r,bk(r),Y6(),je=l,Te=o,Mr.transition=i}else e.current=r;if(vu&&(vu=!1,xs=e,jd=s),i=e.pendingLanes,i===0&&(Os=null),J6(r.stateNode),cr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wd)throw wd=!1,e=a0,a0=null,e;return jd&1&&e.tag!==0&&Ai(),i=e.pendingLanes,i&1?e===i0?yl++:(yl=0,i0=e):yl=0,Ls(),null}function Ai(){if(xs!==null){var e=XS(jd),t=Mr.transition,r=Te;try{if(Mr.transition=null,Te=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,jd=0,je&6)throw Error(G(331));var s=je;for(je|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:xl(8,f,i)}var d=f.child;if(d!==null)d.return=f,J=d;else for(;J!==null;){f=J;var h=f.sibling,p=f.return;if(l2(f),f===u){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xl(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,J=j;break e}J=i.return}}var g=e.current;for(J=g;J!==null;){o=J;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,J=m;else e:for(o=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hf(9,l)}}catch(x){at(l,l.return,x)}if(l===o){J=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,J=S;break e}J=l.return}}if(je=s,Ls(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Rf,e)}catch{}n=!0}return n}finally{Te=r,Mr.transition=t}}return!1}function Sb(e,t,r){t=Ri(r,t),t=X_(e,t,1),e=As(e,t,1),t=Xt(),e!==null&&(Dc(e,1,t),cr(e,t))}function at(e,t,r){if(e.tag===3)Sb(e,e,r);else for(;t!==null;){if(t.tag===3){Sb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Os===null||!Os.has(n))){e=Ri(r,e),e=Z_(t,e,1),t=As(t,e,1),e=Xt(),t!==null&&(Dc(t,1,e),cr(t,e));break}}t=t.return}}function Ak(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Ct&r)===r&&(xt===4||xt===3&&(Ct&130023424)===Ct&&500>ct()-Rx?fa(e,0):Mx|=r),cr(e,t)}function v2(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var r=Xt();e=qn(e,t),e!==null&&(Dc(e,t,r),cr(e,r))}function Ok(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),v2(e,r)}function Pk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),v2(e,r)}var y2;y2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ar=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ar=!1,mk(e,t,r);ar=!!(e.flags&131072)}else ar=!1,Je&&t.flags&1048576&&N_(t,hd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vu(e,t),e=t.pendingProps;var s=$i(t,qt.current);_i(t,r),s=kx(null,t,n,e,s,r);var i=Cx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(n)?(i=!0,dd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_x(t),s.updater=Wf,t.stateNode=s,s._reactInternals=t,Gm(t,n,e,r),t=Xm(null,t,n,!0,i,r)):(t.tag=0,Je&&i&&vx(t),Vt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=kk(n),e=Gr(n,e),s){case 0:t=Ym(null,t,n,e,r);break e;case 1:t=pb(null,t,n,e,r);break e;case 11:t=fb(null,t,n,e,r);break e;case 14:t=hb(null,t,n,Gr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),Ym(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),pb(e,t,n,s,r);case 3:e:{if(r2(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,E_(e,t),gd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ri(Error(G(423)),t),t=mb(e,t,n,r,s);break e}else if(n!==s){s=Ri(Error(G(424)),t),t=mb(e,t,n,r,s);break e}else for(vr=_s(t.stateNode.containerInfo.firstChild),yr=t,Je=!0,Jr=null,r=O_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ii(),n===s){t=Wn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return k_(t),e===null&&Hm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Um(n,s)?o=null:i!==null&&Um(n,i)&&(t.flags|=32),t2(e,t),Vt(e,t,o,r),t.child;case 6:return e===null&&Hm(t),null;case 13:return n2(e,t,r);case 4:return Ax(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Di(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),fb(e,t,n,s,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(pd,n._currentValue),n._currentValue=o,i!==null)if(on(i.value,o)){if(i.children===s.children&&!or.current){t=Wn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Km(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Km(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,_i(t,r),s=Lr(s),n=n(s),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,s=Gr(n,t.pendingProps),s=Gr(n.type,s),hb(e,t,n,s,r);case 15:return J_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),Vu(e,t),t.tag=1,lr(n)?(e=!0,dd(t)):e=!1,_i(t,r),Y_(t,n,s),Gm(t,n,s,r),Xm(null,t,n,!0,e,r);case 19:return s2(e,t,r);case 22:return e2(e,t,r)}throw Error(G(156,t.tag))};function b2(e,t){return VS(e,t)}function Ek(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new Ek(e,t,r,n)}function Bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kk(e){if(typeof e=="function")return Bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ix)return 11;if(e===ox)return 14}return 2}function Es(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Bx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ai:return ha(r.children,s,i,t);case ax:o=8,s|=8;break;case vm:return e=Ir(12,r,t,s|2),e.elementType=vm,e.lanes=i,e;case ym:return e=Ir(13,r,t,s),e.elementType=ym,e.lanes=i,e;case bm:return e=Ir(19,r,t,s),e.elementType=bm,e.lanes=i,e;case kS:return Vf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PS:o=10;break e;case ES:o=9;break e;case ix:o=11;break e;case ox:o=14;break e;case is:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ir(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ha(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function Vf(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=kS,e.lanes=r,e.stateNode={isHidden:!1},e}function Ap(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Op(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ck(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zx(e,t,r,n,s,i,o,l,c){return e=new Ck(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ir(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_x(i),e}function Tk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function w2(e){if(!e)return Is;e=e._reactInternals;e:{if(Da(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(lr(r))return w_(e,r,t)}return t}function j2(e,t,r,n,s,i,o,l,c){return e=zx(r,n,!0,e,s,i,o,l,c),e.context=w2(null),r=e.current,n=Xt(),s=Ps(r),i=Rn(n,s),i.callback=t??null,As(r,i,s),e.current.lanes=s,Dc(e,s,n),cr(e,n),e}function Gf(e,t,r,n){var s=t.current,i=Xt(),o=Ps(s);return r=w2(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=As(s,t,o),e!==null&&(sn(e,s,o,i),Wu(e,s,o)),o}function Sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qx(e,t){_b(e,t),(e=e.alternate)&&_b(e,t)}function $k(){return null}var N2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wx(e){this._internalRoot=e}Qf.prototype.render=Wx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Gf(e,t,null,null)};Qf.prototype.unmount=Wx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wa(function(){Gf(null,e,null,null)}),t[zn]=null}};function Qf(e){this._internalRoot=e}Qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=e_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<us.length&&t!==0&&t<us[r].priority;r++);us.splice(r,0,e),r===0&&r_(e)}};function Hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function Ik(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Sd(o);i.call(u)}}var o=j2(t,n,e,0,null,!1,!1,"",Ab);return e._reactRootContainer=o,e[zn]=o.current,Rl(e.nodeType===8?e.parentNode:e),wa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Sd(c);l.call(u)}}var c=zx(e,0,!1,null,null,!1,!1,"",Ab);return e._reactRootContainer=c,e[zn]=c.current,Rl(e.nodeType===8?e.parentNode:e),wa(function(){Gf(t,c,r,n)}),c}function Xf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Sd(o);l.call(c)}}Gf(t,o,e,s)}else o=Ik(r,t,e,s,n);return Sd(o)}ZS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ol(t.pendingLanes);r!==0&&(ux(t,r|1),cr(t,ct()),!(je&6)&&(Li=ct()+500,Ls()))}break;case 13:wa(function(){var n=qn(e,1);if(n!==null){var s=Xt();sn(n,e,1,s)}}),qx(e,1)}};dx=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=Xt();sn(t,e,134217728,r)}qx(e,134217728)}};JS=function(e){if(e.tag===13){var t=Ps(e),r=qn(e,t);if(r!==null){var n=Xt();sn(r,e,t,n)}qx(e,t)}};e_=function(){return Te};t_=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};km=function(e,t,r){switch(t){case"input":if(Nm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Bf(n);if(!s)throw Error(G(90));TS(n),Nm(n,s)}}}break;case"textarea":IS(e,r);break;case"select":t=r.value,t!=null&&wi(e,!!r.multiple,t,!1)}};BS=Lx;zS=wa;var Dk={usingClientEntryPoint:!1,Events:[Rc,ci,Bf,FS,US,Lx]},qo={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HS(e),e===null?null:e.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||$k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Rf=yu.inject(Mk),mn=yu}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk;_r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(t))throw Error(G(200));return Tk(e,t,null,r)};_r.createRoot=function(e,t){if(!Hx(e))throw Error(G(299));var r=!1,n="",s=N2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zx(e,1,!1,null,null,r,!1,n,s),e[zn]=t.current,Rl(e.nodeType===8?e.parentNode:e),new Wx(t)};_r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=HS(t),e=e===null?null:e.stateNode,e};_r.flushSync=function(e){return wa(e)};_r.hydrate=function(e,t,r){if(!Yf(t))throw Error(G(200));return Xf(null,e,t,!0,r)};_r.hydrateRoot=function(e,t,r){if(!Hx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=N2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=j2(t,null,e,1,r??null,s,!1,i,o),e[zn]=t.current,Rl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Qf(t)};_r.render=function(e,t,r){if(!Yf(t))throw Error(G(200));return Xf(null,e,t,!1,r)};_r.unmountComponentAtNode=function(e){if(!Yf(e))throw Error(G(40));return e._reactRootContainer?(wa(function(){Xf(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};_r.unstable_batchedUpdates=Lx;_r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Xf(e,t,r,!1,n)};_r.version="18.3.1-next-f1338f8080-20240426";function S2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S2)}catch(e){console.error(e)}}S2(),SS.exports=_r;var Rk=SS.exports,_2,Ob=Rk;_2=Ob.createRoot,Ob.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}var vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vs||(vs={}));const Pb="popstate";function Lk(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return c0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_d(s)}return Uk(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function A2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fk(){return Math.random().toString(36).substr(2,8)}function Eb(e,t){return{usr:e.state,key:e.key,idx:t}}function c0(e,t,r,n){return r===void 0&&(r=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:r,key:t&&t.key||n||Fk()})}function _d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Uk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=vs.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=vs.Pop;let v=f(),j=v==null?null:v-u;u=v,c&&c({action:l,location:b.location,delta:j})}function h(v,j){l=vs.Push;let g=c0(b.location,v,j);u=f()+1;let m=Eb(g,u),S=b.createHref(g);try{o.pushState(m,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(S)}i&&c&&c({action:l,location:b.location,delta:1})}function p(v,j){l=vs.Replace;let g=c0(b.location,v,j);u=f();let m=Eb(g,u),S=b.createHref(g);o.replaceState(m,"",S),i&&c&&c({action:l,location:b.location,delta:0})}function y(v){let j=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof v=="string"?v:_d(v);return g=g.replace(/ $/,"%20"),nt(j,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,j)}let b={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pb,d),c=v,()=>{s.removeEventListener(Pb,d),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let j=y(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(v){return o.go(v)}};return b}var kb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kb||(kb={}));function Bk(e,t,r){return r===void 0&&(r="/"),zk(e,t,r,!1)}function zk(e,t,r,n){let s=typeof t=="string"?go(t):t,i=Fi(s.pathname||"/",r);if(i==null)return null;let o=O2(e);qk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=eC(i);l=Zk(o[c],u,n)}return l}function O2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ks([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O2(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Yk(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of P2(i.path))s(i,o,c)}),t}function P2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=P2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Xk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Wk=/^:[\w-]+$/,Hk=3,Kk=2,Vk=1,Gk=10,Qk=-2,Cb=e=>e==="*";function Yk(e,t){let r=e.split("/"),n=r.length;return r.some(Cb)&&(n+=Qk),t&&(n+=Kk),r.filter(s=>!Cb(s)).reduce((s,i)=>s+(Wk.test(i)?Hk:i===""?Vk:Gk),n)}function Xk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Zk(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Ad({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Ad({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ks([i,d.pathname]),pathnameBase:sC(ks([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=ks([i,d.pathnameBase]))}return o}function Ad(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Jk(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let b=l[d]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Jk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),A2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function eC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return A2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?go(e):e;return{pathname:r?r.startsWith("/")?r:rC(r,t):t,search:aC(n),hash:iC(s)}}function rC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kx(e,t){let r=nC(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=go(e):(s=Kl({},e),nt(!s.pathname||!s.pathname.includes("?"),Pp("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Pp("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Pp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=tC(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),sC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E2=["post","put","patch","delete"];new Set(E2);const lC=["get",...E2];new Set(lC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}const Zf=O.createContext(null),k2=O.createContext(null),Qn=O.createContext(null),Jf=O.createContext(null),Yn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),C2=O.createContext(null);function cC(e,t){let{relative:r}=t===void 0?{}:t;xo()||nt(!1);let{basename:n,navigator:s}=O.useContext(Qn),{hash:i,pathname:o,search:l}=eh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ks([n,o])),s.createHref({pathname:c,search:l,hash:i})}function xo(){return O.useContext(Jf)!=null}function Ma(){return xo()||nt(!1),O.useContext(Jf).location}function T2(e){O.useContext(Qn).static||O.useLayoutEffect(e)}function vo(){let{isDataRoute:e}=O.useContext(Yn);return e?NC():uC()}function uC(){xo()||nt(!1);let e=O.useContext(Zf),{basename:t,future:r,navigator:n}=O.useContext(Qn),{matches:s}=O.useContext(Yn),{pathname:i}=Ma(),o=JSON.stringify(Kx(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return T2(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Vx(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ks([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function dC(){let{matches:e}=O.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function eh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Qn),{matches:s}=O.useContext(Yn),{pathname:i}=Ma(),o=JSON.stringify(Kx(s,n.v7_relativeSplatPath));return O.useMemo(()=>Vx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function fC(e,t){return hC(e,t)}function hC(e,t,r,n){xo()||nt(!1);let{navigator:s}=O.useContext(Qn),{matches:i}=O.useContext(Yn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ma(),f;if(t){var d;let v=typeof t=="string"?go(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||nt(!1),f=v}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Bk(e,{pathname:p}),b=vC(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ks([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ks([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&b?O.createElement(Jf.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vs.Pop}},b):b}function pC(){let e=jC(),t=oC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const mC=O.createElement(pC,null);class gC extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Yn.Provider,{value:this.props.routeContext},O.createElement(C2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xC(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(Zf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Yn.Provider,{value:t},n)}function vC(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||nt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,y=!1,b=null,v=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||mC,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=d.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,h+1)),g=()=>{let m;return p?m=b:y?m=v:d.route.Component?m=O.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,O.createElement(xC,{match:d,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(gC,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:g(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):g()},null)}var $2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($2||{}),Od=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Od||{});function yC(e){let t=O.useContext(Zf);return t||nt(!1),t}function bC(e){let t=O.useContext(k2);return t||nt(!1),t}function wC(e){let t=O.useContext(Yn);return t||nt(!1),t}function I2(e){let t=wC(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function jC(){var e;let t=O.useContext(C2),r=bC(Od.UseRouteError),n=I2(Od.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NC(){let{router:e}=yC($2.UseNavigateStable),t=I2(Od.UseNavigateStable),r=O.useRef(!1);return T2(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vl({fromRouteId:t},i)))},[e,t])}function SC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gl(e){let{to:t,replace:r,state:n,relative:s}=e;xo()||nt(!1);let{future:i,static:o}=O.useContext(Qn),{matches:l}=O.useContext(Yn),{pathname:c}=Ma(),u=vo(),f=Vx(t,Kx(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Fe(e){nt(!1)}function _C(e){let{basename:t="/",children:r=null,location:n,navigationType:s=vs.Pop,navigator:i,static:o=!1,future:l}=e;xo()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Vl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=go(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=O.useMemo(()=>{let v=Fi(f,c);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:y},navigationType:s}},[c,f,d,h,p,y,s]);return b==null?null:O.createElement(Qn.Provider,{value:u},O.createElement(Jf.Provider,{children:r,value:b}))}function D2(e){let{children:t,location:r}=e;return fC(u0(t),r)}new Promise(()=>{});function u0(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,u0(n.props.children,i));return}n.type!==Fe&&nt(!1),!n.props.index||!n.props.children||nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=u0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(this,arguments)}function M2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function AC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OC(e,t){return e.button===0&&(!t||t==="_self")&&!AC(e)}const PC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kC="6";try{window.__reactRouterVersion=kC}catch{}const CC=O.createContext({isTransitioning:!1}),TC="startTransition",Tb=A6[TC];function $C(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=Lk({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&Tb?Tb(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>SC(n),[n]),O.createElement(_C,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const IC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=M2(t,PC),{basename:p}=O.useContext(Qn),y,b=!1;if(typeof u=="string"&&DC.test(u)&&(y=u,IC))try{let m=new URL(window.location.href),S=u.startsWith("//")?new URL(m.protocol+u):new URL(u),x=Fi(S.pathname,p);S.origin===m.origin&&x!=null?u=x+S.search+S.hash:b=!0}catch{}let v=cC(u,{relative:s}),j=FC(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function g(m){n&&n(m),m.defaultPrevented||j(m)}return O.createElement("a",Pd({},h,{href:y||v,onClick:b||i?n:g,ref:r,target:c}))}),RC=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=M2(t,EC),h=eh(c,{relative:d.relative}),p=Ma(),y=O.useContext(k2),{navigator:b,basename:v}=O.useContext(Qn),j=y!=null&&UC(h)&&u===!0,g=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,m=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(m=m.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&v&&(S=Fi(S,v)||S);const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=m===g||!o&&m.startsWith(g)&&m.charAt(x)==="/",_=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),N={isActive:w,isPending:_,isTransitioning:j},A=w?n:void 0,P;typeof i=="function"?P=i(N):P=[i,w?"active":null,_?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(N):l;return O.createElement(MC,Pd({},d,{"aria-current":A,className:P,ref:r,style:E,to:c,viewTransition:u}),typeof f=="function"?f(N):f)});var d0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(d0||(d0={}));var $b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function LC(e){let t=O.useContext(Zf);return t||nt(!1),t}function FC(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=vo(),u=Ma(),f=eh(e,{relative:o});return O.useCallback(d=>{if(OC(d,r)){d.preventDefault();let h=n!==void 0?n:_d(u)===_d(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}function UC(e,t){t===void 0&&(t={});let r=O.useContext(CC);r==null&&nt(!1);let{basename:n}=LC(d0.useViewTransitionState),s=eh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Fi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Fi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ad(s.pathname,o)!=null||Ad(s.pathname,i)!=null}const BC="modulepreload",zC=function(e){return"/"+e},Ib={},Fc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=zC(c),c in Ib)return;Ib[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":BC,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},qC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class WC extends Gx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Db extends Gx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mb extends Gx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var f0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(f0||(f0={}));var HC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KC{constructor(t,{headers:r={},customFetch:n,region:s=f0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=qC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return HC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(b=>{throw new WC(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Db(d);if(!d.ok)throw new Mb(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Mb||s instanceof Db?s.context:void 0}}})}}var sr={},Qx={},th={},Uc={},rh={},nh={},VC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ui=VC();const GC=Ui.fetch,R2=Ui.fetch.bind(Ui),L2=Ui.Headers,QC=Ui.Request,YC=Ui.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:L2,Request:QC,Response:YC,default:R2,fetch:GC},Symbol.toStringTag,{value:"Module"})),XC=u6(yo);var sh={};Object.defineProperty(sh,"__esModule",{value:!0});let ZC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sh.default=ZC;var F2=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nh,"__esModule",{value:!0});const JC=F2(XC),eT=F2(sh);let tT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=JC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new eT.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};nh.default=tT;var rT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const nT=rT(nh);let sT=class extends nT.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rh.default=sT;var aT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const iT=aT(rh);let oT=class extends iT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uc.default=oT;var lT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const Wo=lT(Uc);let cT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Wo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};th.default=cT;var ah={},ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.version=void 0;ih.version="0.0.0-automated";Object.defineProperty(ah,"__esModule",{value:!0});ah.DEFAULT_HEADERS=void 0;const uT=ih;ah.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uT.version}`};var U2=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qx,"__esModule",{value:!0});const dT=U2(th),fT=U2(Uc),hT=ah;let pT=class B2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new dT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new B2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new fT.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qx.default=pT;var bo=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.PostgrestError=sr.PostgrestBuilder=sr.PostgrestTransformBuilder=sr.PostgrestFilterBuilder=sr.PostgrestQueryBuilder=sr.PostgrestClient=void 0;const z2=bo(Qx);sr.PostgrestClient=z2.default;const q2=bo(th);sr.PostgrestQueryBuilder=q2.default;const W2=bo(Uc);sr.PostgrestFilterBuilder=W2.default;const H2=bo(rh);sr.PostgrestTransformBuilder=H2.default;const K2=bo(nh);sr.PostgrestBuilder=K2.default;const V2=bo(sh);sr.PostgrestError=V2.default;var mT=sr.default={PostgrestClient:z2.default,PostgrestQueryBuilder:q2.default,PostgrestFilterBuilder:W2.default,PostgrestTransformBuilder:H2.default,PostgrestBuilder:K2.default,PostgrestError:V2.default};const{PostgrestClient:gT,PostgrestQueryBuilder:Lae,PostgrestFilterBuilder:Fae,PostgrestTransformBuilder:Uae,PostgrestBuilder:Bae,PostgrestError:zae}=mT;function xT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const vT=xT(),yT="2.11.15",bT=`realtime-js/${yT}`,wT="1.0.0",G2=1e4,jT=1e3;var bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bl||(bl={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var Yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yr||(Yr={}));var h0;(function(e){e.websocket="websocket"})(h0||(h0={}));var na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(na||(na={}));class NT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let Q2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const Rb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=ST(o,e,t,s),i),{})},ST=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Y2(i,o):p0(o)},Y2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PT(t,r)}switch(e){case Le.bool:return _T(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return AT(t);case Le.json:case Le.jsonb:return OT(t);case Le.timestamp:return ET(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return p0(t);default:return p0(t)}},p0=e=>e,_T=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Y2(t,l))}return e},ET=e=>typeof e=="string"?e.replace(" ","T"):e,X2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ep{constructor(t,r,n={},s=G2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Lb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lb||(Lb={}));class wl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=wl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),y=f.filter(v=>p.indexOf(v.presence_ref)<0),b=d.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Fb||(Fb={}));var Ub;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ub||(Ub={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Yx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ep(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new Q2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wl(this),this.broadcastEndpointURL=X2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Pn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let b=0;b<p;b++){const v=h[b],{filter:{event:j,schema:g,table:m,filter:S}}=v,x=f&&f[b];if(x&&x.event===j&&x.schema===g&&x.table===m&&x.filter===S)y.push(Object.assign(Object.assign({},v),{id:x.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Pn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Lt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ep(this,Yr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ep(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Yr;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,b,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(b=p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,b,v,j,g,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,x=(y=p.filter)===null||y===void 0?void 0:y.event;return S&&((b=r.ids)===null||b===void 0?void 0:b.includes(S))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(g=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:v,commit_timestamp:j,type:g,errors:m}=y;h=Object.assign(Object.assign({},{schema:b,table:v,commit_timestamp:j,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yr.close,{},t)}_onError(t){this._on(Yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rb(t.columns,t.old_record)),r}}const Bb=()=>{},kT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=G2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bb,this.ref=0,this.logger=Bb,this.conn=null,this.sendBuffer=[],this.serializer=new NT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Fc(async()=>{const{default:c}=await Promise.resolve().then(()=>yo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${h0.websocket}`,this.httpEndpoint=X2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=vT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return na.Connecting;case bl.open:return na.Open;case bl.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Yx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:bT};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Yr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(jT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TT extends Xx{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class m0 extends Xx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $T=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Z2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IT=()=>$T(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fc(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),g0=e=>{if(Array.isArray(e))return e.map(r=>g0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=g0(n)}),t};var Ra=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DT=(e,t,r)=>Ra(void 0,void 0,void 0,function*(){const n=yield IT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new TT(kp(s),e.status||500))}).catch(s=>{t(new m0(kp(s),s))}):t(new m0(kp(e),e))}),MT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Bc(e,t,r,n,s,i){return Ra(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,MT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DT(c,l,n))})})}function Ed(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Bc(e,"GET",t,r,n)})}function ls(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"POST",t,n,s,r)})}function RT(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"PUT",t,n,s,r)})}function LT(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Bc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function J2(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"DELETE",t,n,s,r)})}var rr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const FT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Z2(s)}uploadOrUpdate(t,r,n,s){return rr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:zb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Xx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return rr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ls(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return rr(this,void 0,void 0,function*(){try{const s=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}download(t,r){return rr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ed(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:g0(n),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield LT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wt(n)&&n instanceof m0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return rr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},FT),r),{prefix:t||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BT="2.7.1",zT={"X-Client-Info":`storage-js/${BT}`};var Wa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},zT),r),this.fetch=Z2(n)}listBuckets(){return Wa(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Wa(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Wa(this,void 0,void 0,function*(){try{return{data:yield RT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}}class WT extends qT{constructor(t,r={},n){super(t,r,n)}from(t){return new UT(this.url,this.headers,t,this.fetch)}}const HT="2.52.1";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const KT={"X-Client-Info":`supabase-js-${cl}/${HT}`},VT={headers:KT},GT={schema:"public"},QT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YT={};var XT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ZT=e=>{let t;return e?t=e:typeof fetch>"u"?t=R2:t=fetch,(...r)=>t(...r)},JT=()=>typeof Headers>"u"?L2:Headers,e5=(e,t,r)=>{const n=ZT(r),s=JT();return(i,o)=>XT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var t5=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function r5(e){return e.endsWith("/")?e:e+"/"}function n5(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>t5(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const e4="2.71.1",ti=30*1e3,x0=3,Cp=x0*ti,s5="http://localhost:9999",a5="supabase.auth.token",i5={"X-Client-Info":`gotrue-js/${e4}`},v0="X-Supabase-Api-Version",t4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l5=10*60*1e3;class Zx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c5 extends Zx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u5(e){return fe(e)&&e.name==="AuthApiError"}class r4 extends Zx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fs extends Zx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class as extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d5(e){return fe(e)&&e.name==="AuthSessionMissingError"}class bu extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wu extends Fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends Fs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f5(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class qb extends Fs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y0 extends Fs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Tp(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class Wb extends Fs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class b0 extends Fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hb=` 	
\r=`.split(""),h5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hb.length;t+=1)e[Hb[t].charCodeAt(0)]=-2;for(let t=0;t<kd.length;t+=1)e[kd[t].charCodeAt(0)]=t;return e})();function Kb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kd[n]),t.queuedBits-=6}}function n4(e,t,r){const n=h5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{g5(o,n,r)};for(let o=0;o<e.length;o+=1)n4(e.charCodeAt(o),s,i);return t.join("")}function p5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function m5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}p5(n,t)}}function g5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function x5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)n4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function v5(e){const t=[];return m5(e,r=>t.push(r)),new Uint8Array(t)}function y5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Kb(s,r,n)),Kb(null,r,n),t.join("")}function b5(e){return Math.round(Date.now()/1e3)+e}function w5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},s4=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function j5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const a4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},N5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ri=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ts=async(e,t)=>{await e.removeItem(t)};class oh{constructor(){this.promise=new oh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}oh.promiseConstructor=Promise;function $p(e){const t=e.split(".");if(t.length!==3)throw new b0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!o5.test(t[n]))throw new b0("JWT not in base64url format");return{header:JSON.parse(Vb(t[0])),payload:JSON.parse(Vb(t[1])),signature:x5(t[2]),raw:{header:t[0],payload:t[1]}}}async function S5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _5(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function A5(e){return("0"+e.toString(16)).substr(-2)}function O5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,A5).join("")}async function P5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function E5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await P5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e,t,r=!1){const n=O5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ri(e,`${t}-code-verifier`,s);const i=await E5(n);return[i,n===i?"plain":"s256"]}const k5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C5(e){const t=e.headers.get(v0);if(!t||!t.match(k5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function T5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!I5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ip(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gb(e){return JSON.parse(JSON.stringify(e))}var D5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M5=[502,503,504];async function Qb(e){var t;if(!N5(e))throw new y0(Js(e),0);if(M5.includes(e.status))throw new y0(Js(e),e.status);let r;try{r=await e.json()}catch(i){throw new r4(Js(i),i)}let n;const s=C5(e);if(s&&s.getTime()>=t4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wb(Js(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new as}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wb(Js(r),e.status,r.weak_password.reasons);throw new c5(Js(r),e.status||500,n)}const R5=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[v0]||(i[v0]=t4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await L5(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function L5(e,t,r,n,s,i){const o=R5(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new y0(Js(c),0)}if(l.ok||await Qb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Qb(c)}}function An(e){var t;let r=null;z5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=b5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yb(e){const t=An(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F5(e){return{data:e,error:null}}function U5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=D5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function B5(e){return e}function z5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dp=["global","local","others"];var q5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class W5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=a4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dp[0]){if(Dp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dp.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:U5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:B5});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ka(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ka(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ka(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ka(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function Xb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Va={debug:!!(globalThis&&s4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K5 extends i4{}async function V5(e,t,r){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Va.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H5();const G5={url:s5,storageKey:a5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zb(e,t,r){return await r()}const Ga={};class Ql{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ql.nextInstanceID,Ql.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new W5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=a4(s.fetch),this.lock=s.lock||Zb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=V5:this.lock=Zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:s4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xb(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=j5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),f5(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new r4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:An}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ha(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:An})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:An})}else throw new wu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yb})}else throw new wu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,f,d,h,p;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:v,wallet:j,statement:g,options:m}=t;let S;if(Vr())if(typeof j=="object")S=j;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))S=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=j}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const w=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let _;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")_=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)_=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(f=m==null?void 0:m.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const w=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=w}}try{const{data:v,error:j}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:y5(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:An});if(j)throw j;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new bu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:j})}catch(v){if(fe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:An});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:An}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ha(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new wu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:An});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ha(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F5})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new as;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Vs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ip()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fs})})}catch(r){if(fe(r))return d5(r)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new as;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ha(this.storage,this.storageKey));const{data:u,error:f}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fs});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new as;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$p(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new as;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qb("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ju("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,f);const{data:b,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(u5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=w5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ha(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _5(async s=>(s>0&&await S5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:An})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Tp(i)&&Date.now()+o-n<ti})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ri(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ip()}else if(s&&!s.user&&!s.user){const o=await Vs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ts(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,s)):s.user=Ip()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Tp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new oh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new as;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),fe(i)){const o={session:null,error:i};return Tp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Gb(s);await ri(this.storage,this.storageKey,i)}else{const s=Gb(r);await ri(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${x0} ticks`),s<=x0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ha(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$p(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+l5>s)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=$p(n);r!=null&&r.allowExpired||T5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=$5(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,v5(`${l}.${c}`)))throw new b0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}Ql.nextInstanceID=0;const Q5=Ql;class Y5 extends Q5{constructor(t){super(t)}}var X5=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Z5{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=r5(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:GT,realtime:YT,auth:Object.assign(Object.assign({},QT),{storageKey:u}),global:VT},d=n5(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=e5(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new gT(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new KC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new WT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return X5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y5({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new CT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const J5=(e,t,r)=>new Z5(e,t,r);function e3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}e3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zc="https://dlvpvzfztyzcatcpgwzo.supabase.co",Jx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y";console.log("Environment check:");console.log("VITE_SUPABASE_URL:",zc);console.log("VITE_SUPABASE_ANON_KEY:","Set (length: "+Jx.length+")");const ev=!!(zc.includes(".supabase.co")&&Jx.length>20);console.log("Supabase configuration status:",ev);ev||(console.warn("=== SUPABASE CONFIGURATION REQUIRED ==="),console.warn("Please update your .env file with your actual Supabase credentials:"),console.warn("1. Go to https://supabase.com and create a project"),console.warn("2. Get your Project URL and anon key from Settings > API"),console.warn("3. Update .env file with your actual values"),console.warn("4. Restart the development server"),console.warn("Current values:"),console.warn("  VITE_SUPABASE_URL:",zc),console.warn("  VITE_SUPABASE_ANON_KEY:","Set but may be placeholder"));const W=ev?J5(zc,Jx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null;W?(console.log("Supabase client initialized with URL:",zc),W.from("roles").select("count",{count:"exact",head:!0}).then(({error:e})=>{e?(console.error("Supabase connection test failed:",e),console.error("This may indicate:"),console.error("1. Invalid Supabase URL or API key"),console.error("2. Network connectivity issues"),console.error("3. Supabase project is paused or deleted"),console.error("4. RLS policies preventing access")):console.log("Supabase connection test successful")})):console.warn("Supabase client not initialized - running in demo mode");const t3={};var w0=null;function r3(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return t3.randomBytes(e)}catch{}if(!w0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return w0(e)}function n3(e){w0=e}function tv(e,t){if(e=e||rv,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Cd(r3(Yl),Yl)),r.join("")}function o4(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=rv;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){tn(function(){try{s(null,tv(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function l4(e,t){if(typeof t>"u"&&(t=rv),typeof t=="number"&&(t=tv(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return j0(e,t)}function c4(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?o4(t,function(o,l){j0(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?j0(e,t,i,n):tn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function u4(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function s3(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:u4(l4(e,t.substring(0,t.length-31)),t)}function a3(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){tn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){tn(i.bind(this,null,!1));return}c4(e,t.substring(0,29),function(o,l){o?i(o):i(null,u4(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function i3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function o3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function l3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return d4(e)>72}var tn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function d4(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function c3(e){for(var t=0,r,n,s=new Array(d4(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var Qa="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),rs=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Cd(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(Qa[s>>2&63]),s=(s&3)<<4,r>=t){n.push(Qa[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(Qa[s&63]),s=(i&15)<<2,r>=t){n.push(Qa[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(Qa[s&63]),n.push(Qa[i&63])}return n.join("")}function f4(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,f,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(d=e.charCodeAt(r++),o=d<rs.length?rs[d]:-1,d=e.charCodeAt(r++),l=d<rs.length?rs[d]:-1,!(o==-1||l==-1||(f=o<<2>>>0,f|=(l&48)>>4,i.push(String.fromCharCode(f)),++s>=t||r>=n)||(d=e.charCodeAt(r++),c=d<rs.length?rs[d]:-1,c==-1)||(f=(l&15)<<4>>>0,f|=(c&60)>>2,i.push(String.fromCharCode(f)),++s>=t||r>=n)));)d=e.charCodeAt(r++),u=d<rs.length?rs[d]:-1,f=(c&3)<<6>>>0,f|=u,i.push(String.fromCharCode(f)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var Yl=16,rv=10,u3=16,d3=100,Jb=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],e1=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],h4=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Xl(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[u3+1],e[t+1]=i,e}function ni(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function t1(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=ni(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=Xl(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=Xl(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function f3(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=ni(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Xl(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Xl(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function r1(e,t,r,n,s){var i=h4.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){tn(n.bind(this,l));return}else throw l;if(t.length!==Yl)if(l=Error("Illegal salt length: "+t.length+" != "+Yl),n){tn(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,f=0,d;typeof Int32Array=="function"?(c=new Int32Array(Jb),u=new Int32Array(e1)):(c=Jb.slice(),u=e1.slice()),f3(t,e,c,u);function h(){if(s&&s(f/r),f<r)for(var y=Date.now();f<r&&(f=f+1,t1(e,c,u),t1(t,c,u),!(Date.now()-y>d3)););else{for(f=0;f<64;f++)for(d=0;d<o>>1;d++)Xl(i,d<<1,c,u);var b=[];for(f=0;f<o;f++)b.push((i[f]>>24&255)>>>0),b.push((i[f]>>16&255)>>>0),b.push((i[f]>>8&255)>>>0),b.push((i[f]&255)>>>0);if(n){n(null,b);return}else return b}n&&tn(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function j0(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){tn(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){tn(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){tn(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){tn(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,f=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var d=c3(e),h=f4(f,Yl);function p(y){var b=[];return b.push("$2"),i>="a"&&b.push(i),b.push("$"),u<10&&b.push("0"),b.push(u.toString()),b.push("$"),b.push(Cd(h,h.length)),b.push(Cd(y,h4.length*4-1)),b.join("")}if(typeof r>"u")return p(r1(d,h,u));r1(d,h,u,function(y,b){y?r(y,null):r(null,p(b))},n)}function h3(e,t){return Cd(e,t)}function p3(e,t){return f4(e,t)}const nv={setRandomFallback:n3,genSaltSync:tv,genSalt:o4,hashSync:l4,hash:c4,compareSync:s3,compare:a3,getRounds:i3,getSalt:o3,truncates:l3,encodeBase64:h3,decodeBase64:p3};function Xu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const n1={async login(e,t){try{if(console.log("AuthService: Attempting login for:",e),!W){console.log("AuthService: Supabase not configured, using demo mode");const l=[{email:"admin@esigma.com",password:"password123",role:"Admin",level:1},{email:"zo@esigma.com",password:"password123",role:"ZO User",level:2},{email:"ro@esigma.com",password:"password123",role:"RO User",level:3},{email:"supervisor@esigma.com",password:"password123",role:"Supervisor",level:4},{email:"enumerator@esigma.com",password:"password123",role:"Enumerator",level:5}].find(c=>c.email===e&&c.password===t);return l?{success:!0,data:{user:{id:Xu(),email:l.email,name:l.role+" User",roleId:Xu(),role:{id:Xu(),name:l.role,description:`${l.role} role`,level:l.level,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"Demo Jurisdiction",createdAt:new Date,updatedAt:new Date},token:"demo-token-"+Date.now()},message:"Demo login successful"}:{success:!1,message:"Invalid credentials"}}const{data:r,error:n}=await W.from("users").select(`
          *,
          role:roles(*)
        `).eq("email",e).eq("is_active",!0).single();return n||!r?(console.log("AuthService: User not found or error:",n),{success:!1,message:"Invalid email or password"}):await nv.compare(t,r.password_hash)?(await W.from("users").update({last_login:new Date().toISOString()}).eq("id",r.id),{success:!0,data:{user:{id:r.id,email:r.email,name:r.name,roleId:r.role_id,role:{id:r.role.id,name:r.role.name,description:r.role.description,level:r.role.level,isActive:r.role.is_active,menuAccess:r.role.menu_access,createdAt:new Date(r.role.created_at),updatedAt:new Date(r.role.updated_at)},isActive:r.is_active,jurisdiction:r.jurisdiction,zone:r.zone,region:r.region,district:r.district,employeeId:r.employee_id,phoneNumber:r.phone_number,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},token:"jwt-token-"+Date.now()},message:"Login successful"}):(console.log("AuthService: Invalid password for user:",e),{success:!1,message:"Invalid email or password"})}catch(r){return console.error("AuthService: Login error:",r),{success:!1,message:"Login failed. Please try again."}}},async logout(){try{return W&&await W.auth.signOut(),{success:!0,message:"Logout successful"}}catch(e){return console.error("AuthService: Logout error:",e),{success:!1,message:"Logout failed"}}}},Mp={async getUsers(){try{if(console.log("UserService: Fetching users"),!W)return console.log("UserService: Supabase not configured, returning demo data"),{success:!0,data:[{id:"550e8400-e29b-41d4-a716-446655440010",email:"admin@esigma.com",name:"System Administrator",roleId:"550e8400-e29b-41d4-a716-446655440001",role:{id:"550e8400-e29b-41d4-a716-446655440001",name:"Administrator",description:"System Administrator with full access",level:1,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"National",employeeId:"ADM001",phoneNumber:"+91-9876543210",createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440011",email:"cpg@esigma.com",name:"CPG Officer",roleId:"550e8400-e29b-41d4-a716-446655440002",role:{id:"550e8400-e29b-41d4-a716-446655440002",name:"CPG User",description:"Central Planning Group User",level:2,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"Central Planning Group",createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440012",email:"zo@esigma.com",name:"Zonal Officer",roleId:"550e8400-e29b-41d4-a716-446655440003",role:{id:"550e8400-e29b-41d4-a716-446655440003",name:"ZO User",description:"Zonal Office User",level:3,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"North Zone",zone:"North Zone",createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440013",email:"ro@esigma.com",name:"Regional Officer",roleId:"550e8400-e29b-41d4-a716-446655440004",role:{id:"550e8400-e29b-41d4-a716-446655440004",name:"RO User",description:"Regional Office User",level:4,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",parentId:"550e8400-e29b-41d4-a716-446655440012",createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440014",email:"supervisor@esigma.com",name:"Field Supervisor",roleId:"550e8400-e29b-41d4-a716-446655440005",role:{id:"550e8400-e29b-41d4-a716-446655440005",name:"Supervisor",description:"Field Supervisor",level:5,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",parentId:"550e8400-e29b-41d4-a716-446655440013",createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440015",email:"enumerator@esigma.com",name:"Field Enumerator",roleId:"550e8400-e29b-41d4-a716-446655440006",role:{id:"550e8400-e29b-41d4-a716-446655440006",name:"Enumerator",description:"Field Enumerator (Lowest Level)",level:6,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",parentId:"550e8400-e29b-41d4-a716-446655440014",employeeId:"ENU001",phoneNumber:"+91-9876543214",createdAt:new Date,updatedAt:new Date}],message:"Demo users loaded (Supabase not configured)"};console.log("UserService: Attempting to fetch users from Supabase");const{data:e,error:t}=await W.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});if(t){console.error("UserService: Error fetching users:",t);let n=`Database error: ${t.message}`;return t.message.includes("relation")&&t.message.includes("does not exist")?n="Database tables not found. Please initialize the database first.":(t.message.includes("permission denied")||t.message.includes("RLS"))&&(n="Permission denied. Please check your database policies or initialize the database."),{success:!1,message:n,data:[]}}if(console.log("UserService: Raw data from Supabase:",e),!e||e.length===0)return console.log("UserService: No users found in database"),{success:!0,data:[],message:"No users found. Please initialize the database or create users."};const r=e.map(n=>({id:n.id,email:n.email,name:n.name,roleId:n.role_id,role:{id:n.role.id,name:n.role.name,description:n.role.description,level:n.role.level,isActive:n.role.is_active,menuAccess:n.role.menu_access,createdAt:new Date(n.role.created_at),updatedAt:new Date(n.role.updated_at)},isActive:n.is_active,jurisdiction:n.jurisdiction,zone:n.zone,region:n.region,district:n.district,employeeId:n.employee_id,phoneNumber:n.phone_number,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)}));return console.log("UserService: Processed users:",r.length),{success:!0,data:r,message:`${r.length} users fetched successfully`}}catch(e){return console.error("UserService: Error in getUsers:",e),{success:!1,message:"Failed to fetch users",data:[]}}},async createUser(e){try{if(console.log("UserService: Creating user:",e.email),!W)return console.log("UserService: Supabase not configured, creating demo user"),{success:!0,data:{id:Xu(),email:e.email,name:e.name,roleId:e.roleId,role:{id:e.roleId,name:"Demo Role",description:"Demo role for testing",level:5,isActive:!0,createdAt:new Date,updatedAt:new Date},isActive:!0,jurisdiction:e.jurisdiction,zone:e.zone,region:e.region,district:e.district,employeeId:e.employeeId,phoneNumber:e.phoneNumber,createdAt:new Date,updatedAt:new Date},message:"Demo user created successfully. Default password: password123"};if(!e.name||!e.email||!e.roleId)return{success:!1,message:"Name, email, and role are required"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return{success:!1,message:"Please enter a valid email address"};const{data:r}=await W.from("users").select("id").eq("email",e.email).maybeSingle();if(r)return{success:!1,message:"User with this email already exists"};const{data:n,error:s}=await W.from("roles").select("*").eq("id",e.roleId).maybeSingle();if(s||!n)return console.error("UserService: Role not found:",e.roleId,s),{success:!1,message:"Invalid role selected"};const i="password123",o=await nv.hash(i,10);console.log("UserService: Inserting user into database with data:",{email:e.email,name:e.name,role_id:e.roleId,jurisdiction:e.jurisdiction,zone:e.zone,region:e.region,district:e.district,employee_id:e.employeeId,phone_number:e.phoneNumber});const{data:l,error:c}=await W.from("users").insert({email:e.email,password_hash:o,name:e.name,role_id:e.roleId,jurisdiction:e.jurisdiction||null,zone:e.zone||null,region:e.region||null,district:e.district||null,employee_id:e.employeeId||null,phone_number:e.phoneNumber||null,is_active:!0,password_changed_at:new Date().toISOString(),failed_login_attempts:0}).select(`
          *,
          role:roles(*)
        `).single();if(c)return console.error("UserService: Error creating user:",c),c.code==="23505"?c.message.includes("email")?{success:!1,message:"A user with this email already exists"}:c.message.includes("employee_id")?{success:!1,message:"A user with this employee ID already exists"}:{success:!1,message:"A user with this information already exists"}:{success:!1,message:`Failed to create user: ${c.message}`};console.log("UserService: User created successfully:",l);const u={id:l.id,email:l.email,name:l.name,roleId:l.role_id,role:{id:l.role.id,name:l.role.name,description:l.role.description,level:l.role.level,isActive:l.role.is_active,menuAccess:l.role.menu_access,createdAt:new Date(l.role.created_at),updatedAt:new Date(l.role.updated_at)},isActive:l.is_active,jurisdiction:l.jurisdiction,zone:l.zone,region:l.region,district:l.district,employeeId:l.employee_id,phoneNumber:l.phone_number,createdAt:new Date(l.created_at),updatedAt:new Date(l.updated_at)};try{await W.from("activity_logs").insert({activity_type:"user_created",description:`User ${l.name} (${l.email}) was created with role ${n.name}`,metadata:{user_id:l.id,role_id:e.roleId,created_by:"admin",employee_id:e.employeeId}})}catch(f){console.warn("UserService: Failed to log activity:",f)}return{success:!0,data:u,message:`User created successfully. Default password: ${i}`}}catch(t){return console.error("UserService: Error in createUser:",t),{success:!1,message:`Failed to create user: ${t instanceof Error?t.message:"Unknown error"}`}}},async deleteUser(e){try{if(console.log("UserService: Deleting user:",e),!W)return{success:!1,message:"Database not configured"};const{data:t}=await W.from("users").select("name, email").eq("id",e).single();if(!t)return{success:!1,message:"User not found"};const{error:r}=await W.from("users").delete().eq("id",e);if(r)return console.error("UserService: Error deleting user:",r),{success:!1,message:`Failed to delete user: ${r.message}`};try{await W.from("activity_logs").insert({activity_type:"user_deleted",description:`User ${t.name} (${t.email}) was deleted`,metadata:{deleted_user_id:e}})}catch(n){console.warn("UserService: Failed to log activity:",n)}return{success:!0,message:"User deleted successfully"}}catch(t){return console.error("UserService: Error in deleteUser:",t),{success:!1,message:"Failed to delete user"}}}},Ho={async getRoles(){try{if(console.log("RoleService: Fetching roles"),!W)return console.log("RoleService: Supabase not configured, returning demo data"),{success:!0,data:[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Admin",description:"System Administrator",level:1,isActive:!0,createdAt:new Date,updatedAt:new Date}],message:"Demo roles fetched"};const{data:e,error:t}=await W.from("roles").select("*").order("level",{ascending:!0});return t?(console.error("RoleService: Error fetching roles:",t),{success:!1,message:`Failed to fetch roles: ${t.message}`,data:[]}):{success:!0,data:e.map(n=>({id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,menuAccess:n.menu_access,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)})),message:"Roles fetched successfully"}}catch(e){return console.error("RoleService: Error in getRoles:",e),{success:!1,message:"Failed to fetch roles",data:[]}}},async createRole(e){try{if(console.log("RoleService: Creating role:",e.name),!W)return{success:!1,message:"Database not configured"};const{data:t,error:r}=await W.from("roles").insert({name:e.name,description:e.description,level:e.level||5,is_active:!0}).select().single();return r?(console.error("RoleService: Error creating role:",r),{success:!1,message:`Failed to create role: ${r.message}`}):{success:!0,data:{id:t.id,name:t.name,description:t.description,level:t.level,isActive:t.is_active,menuAccess:t.menu_access,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)},message:"Role created successfully"}}catch(t){return console.error("RoleService: Error in createRole:",t),{success:!1,message:"Failed to create role"}}},async updateRole(e,t){try{if(console.log("RoleService: Updating role:",e),!W)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await W.from("roles").update({name:t.name,description:t.description,updated_at:new Date().toISOString()}).eq("id",e).select().single();return n?(console.error("RoleService: Error updating role:",n),{success:!1,message:`Failed to update role: ${n.message}`}):{success:!0,data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,menuAccess:r.menu_access,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Role updated successfully"}}catch(r){return console.error("RoleService: Error in updateRole:",r),{success:!1,message:"Failed to update role"}}},async deleteRole(e){try{if(console.log("RoleService: Deleting role:",e),!W)return{success:!1,message:"Database not configured"};const{error:t}=await W.from("roles").delete().eq("id",e);return t?(console.error("RoleService: Error deleting role:",t),{success:!1,message:`Failed to delete role: ${t.message}`}):{success:!0,message:"Role deleted successfully"}}catch(t){return console.error("RoleService: Error in deleteRole:",t),{success:!1,message:"Failed to delete role"}}},async updateRoleMenuAccess(e,t){try{if(console.log("RoleService: Updating menu access for role:",e),!W)return{success:!1,message:"Database not configured"};const{error:r}=await W.from("roles").update({menu_access:t,updated_at:new Date().toISOString()}).eq("id",e);return r?(console.error("RoleService: Error updating menu access:",r),{success:!1,message:`Failed to update menu access: ${r.message}`}):{success:!0,message:"Menu access updated successfully"}}catch(r){return console.error("RoleService: Error in updateRoleMenuAccess:",r),{success:!1,message:"Failed to update menu access"}}}},Ya={async getSurveys(){try{if(console.log("SurveyService: Fetching surveys"),!W)return{success:!0,data:[],message:"Demo mode - no surveys available"};const{data:e,error:t}=await W.from("surveys").select("*").order("created_at",{ascending:!1});return t?(console.error("SurveyService: Error fetching surveys:",t),{success:!1,message:`Failed to fetch surveys: ${t.message}`,data:[]}):{success:!0,data:e.map(n=>({id:n.id,title:n.title,description:n.description,targetDate:new Date(n.target_date),duration:n.duration,totalQuestions:n.total_questions,passingScore:n.passing_score,maxAttempts:n.max_attempts,isActive:n.is_active,sections:[],createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),createdBy:n.created_by,assignedZones:n.assigned_zones,assignedRegions:n.assigned_regions})),message:"Surveys fetched successfully"}}catch(e){return console.error("SurveyService: Error in getSurveys:",e),{success:!1,message:"Failed to fetch surveys",data:[]}}},async createSurvey(e){try{if(console.log("SurveyService: Creating survey:",e.title),!W)return{success:!1,message:"Database not configured"};const{data:t,error:r}=await W.from("surveys").insert({title:e.title,description:e.description,target_date:e.targetDate.toISOString().split("T")[0],duration:e.duration,total_questions:e.totalQuestions,passing_score:e.passingScore,max_attempts:e.maxAttempts,is_active:!0,created_by:e.createdBy}).select().single();return r?(console.error("SurveyService: Error creating survey:",r),{success:!1,message:`Failed to create survey: ${r.message}`}):{success:!0,data:{id:t.id,title:t.title,description:t.description,targetDate:new Date(t.target_date),duration:t.duration,totalQuestions:t.total_questions,passingScore:t.passing_score,maxAttempts:t.max_attempts,isActive:t.is_active,sections:[],createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),createdBy:t.created_by},message:"Survey created successfully"}}catch(t){return console.error("SurveyService: Error in createSurvey:",t),{success:!1,message:"Failed to create survey"}}},async updateSurvey(e,t){try{if(console.log("SurveyService: Updating survey:",e),!W)return{success:!1,message:"Database not configured"};const r={title:t.title,description:t.description,duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,updated_at:new Date().toISOString()};t.targetDate&&(r.target_date=t.targetDate instanceof Date?t.targetDate.toISOString().split("T")[0]:t.targetDate),t.hasOwnProperty("isActive")&&(r.is_active=t.isActive);const{data:n,error:s}=await W.from("surveys").update(r).eq("id",e).select().single();return s?(console.error("SurveyService: Error updating survey:",s),{success:!1,message:`Failed to update survey: ${s.message}`}):{success:!0,data:{id:n.id,title:n.title,description:n.description,targetDate:new Date(n.target_date),duration:n.duration,totalQuestions:n.total_questions,passingScore:n.passing_score,maxAttempts:n.max_attempts,isActive:n.is_active,sections:[],createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),createdBy:n.created_by},message:"Survey updated successfully"}}catch(r){return console.error("SurveyService: Error in updateSurvey:",r),{success:!1,message:"Failed to update survey"}}},async deleteSurvey(e){try{if(console.log("SurveyService: Deleting survey:",e),!W)return{success:!1,message:"Database not configured"};const{error:t}=await W.from("surveys").delete().eq("id",e);return t?(console.error("SurveyService: Error deleting survey:",t),{success:!1,message:`Failed to delete survey: ${t.message}`}):{success:!0,message:"Survey deleted successfully"}}catch(t){return console.error("SurveyService: Error in deleteSurvey:",t),{success:!1,message:"Failed to delete survey"}}},async getSurveySections(e){try{if(console.log("SurveyService: Fetching sections for survey:",e),!W)return{success:!0,data:[],message:"Demo mode - no sections available"};const{data:t,error:r}=await W.from("survey_sections").select("*").eq("survey_id",e).order("section_order",{ascending:!0});return r?(console.error("SurveyService: Error fetching sections:",r),{success:!1,message:`Failed to fetch sections: ${r.message}`,data:[]}):{success:!0,data:t.map(s=>({id:s.id,surveyId:s.survey_id,title:s.title,description:s.description,questionsCount:s.questions_count,order:s.section_order,questions:[]})),message:"Sections fetched successfully"}}catch(t){return console.error("SurveyService: Error in getSurveySections:",t),{success:!1,message:"Failed to fetch sections",data:[]}}},async createSection(e,t){try{if(console.log("SurveyService: Creating section for survey:",e),!W)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await W.from("survey_sections").insert({survey_id:e,title:t.title,description:t.description,questions_count:t.questionsCount,section_order:t.order}).select().single();return n?(console.error("SurveyService: Error creating section:",n),{success:!1,message:`Failed to create section: ${n.message}`}):{success:!0,data:{id:r.id,surveyId:r.survey_id,title:r.title,description:r.description,questionsCount:r.questions_count,order:r.section_order,questions:[]},message:"Section created successfully"}}catch(r){return console.error("SurveyService: Error in createSection:",r),{success:!1,message:"Failed to create section"}}}},Rp={async getQuestions(e,t){try{if(console.log("QuestionService: Fetching questions for section:",t),!W)return{success:!0,data:[],message:"Demo mode - no questions available"};const{data:r,error:n}=await W.from("questions").select(`
          *,
          question_options(*)
        `).eq("section_id",t).order("question_order",{ascending:!0});return n?(console.error("QuestionService: Error fetching questions:",n),{success:!1,message:`Failed to fetch questions: ${n.message}`,data:[]}):{success:!0,data:r.map(i=>({id:i.id,sectionId:i.section_id,text:i.text,type:i.question_type,complexity:i.complexity,points:i.points,explanation:i.explanation,order:i.question_order,options:i.question_options.sort((o,l)=>o.option_order-l.option_order).map(o=>({id:o.id,text:o.text,isCorrect:o.is_correct})),correctAnswers:i.question_options.filter(o=>o.is_correct).map(o=>o.id),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})),message:"Questions fetched successfully"}}catch(r){return console.error("QuestionService: Error in getQuestions:",r),{success:!1,message:"Failed to fetch questions",data:[]}}},async createQuestion(e){try{if(console.log("QuestionService: Creating question for section:",e.sectionId),!W)return{success:!1,message:"Database not configured"};const{data:t,error:r}=await W.from("questions").insert({section_id:e.sectionId,text:e.text,question_type:e.type,complexity:e.complexity,points:e.points,explanation:e.explanation,question_order:e.order}).select().single();if(r)return console.error("QuestionService: Error creating question:",r),{success:!1,message:`Failed to create question: ${r.message}`};const n=e.options.map((l,c)=>({question_id:t.id,text:l.text,is_correct:l.isCorrect,option_order:c+1})),{data:s,error:i}=await W.from("question_options").insert(n).select();return i?(console.error("QuestionService: Error creating options:",i),await W.from("questions").delete().eq("id",t.id),{success:!1,message:`Failed to create question options: ${i.message}`}):{success:!0,data:{id:t.id,sectionId:t.section_id,text:t.text,type:t.question_type,complexity:t.complexity,points:t.points,explanation:t.explanation,order:t.question_order,options:s.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:s.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)},message:"Question created successfully"}}catch(t){return console.error("QuestionService: Error in createQuestion:",t),{success:!1,message:`Failed to create question: ${t instanceof Error?t.message:"Unknown error"}`}}},async uploadQuestions(e){try{if(console.log("QuestionService: Processing CSV upload"),!W)return{success:!1,message:"Database not configured"};const t=e.split(`
`).filter(o=>o.trim());if(t.length<2)return{success:!1,message:"CSV file appears to be empty or invalid"};const r=t[0].split(",").map(o=>o.trim().replace(/"/g,""));console.log("CSV headers:",r);let n=0,s=0;const i=[];for(let o=1;o<t.length;o++)try{const l=t[o].split(",").map(A=>A.trim().replace(/"/g,""));if(l.length<r.length){i.push(`Line ${o+1}: Insufficient columns`),s++;continue}const c=l[2],u=l[3],f=l[4],d=parseInt(l[5])||1,h=l[6],p=parseInt(l[7])||o,y=l[8],b=l[9],v=l[10],j=l[11],g=l[12];if(!c||!u){i.push(`Line ${o+1}: Missing question text or type`),s++;continue}const m="550e8400-e29b-41d4-a716-446655440030",{data:S,error:x}=await W.from("questions").insert({section_id:m,text:c,question_type:u,complexity:f||"medium",points:d,explanation:h,question_order:p}).select().single();if(x){i.push(`Line ${o+1}: ${x.message}`),s++;continue}const _=[{text:y,isCorrect:g.includes("A")},{text:b,isCorrect:g.includes("B")},{text:v,isCorrect:g.includes("C")},{text:j,isCorrect:g.includes("D")}].filter(A=>A.text).map((A,P)=>({question_id:S.id,text:A.text,is_correct:A.isCorrect,option_order:P+1})),{error:N}=await W.from("question_options").insert(_);if(N){i.push(`Line ${o+1}: Failed to create options - ${N.message}`),await W.from("questions").delete().eq("id",S.id),s++;continue}n++}catch(l){i.push(`Line ${o+1}: ${l instanceof Error?l.message:"Unknown error"}`),s++}return{success:!0,data:{fileName:"upload.csv",questionsAdded:n,questionsSkipped:s,errors:i,success:n>0},message:`Upload completed: ${n} questions added, ${s} skipped`}}catch(t){return console.error("QuestionService: Error in uploadQuestions:",t),{success:!1,message:"Failed to process CSV upload"}}}},m3={async getSession(e){try{if(console.log("TestService: Getting session:",e),!W)return{success:!1,message:"Database not configured"};const{data:t,error:r}=await W.from("test_sessions").select("*").eq("id",e).single();return r?(console.error("TestService: Error fetching session:",r),{success:!1,message:`Session not found: ${r.message}`}):{success:!0,data:{id:t.id,userId:t.user_id,surveyId:t.survey_id,startTime:new Date(t.start_time),endTime:t.end_time?new Date(t.end_time):void 0,timeRemaining:t.time_remaining,currentQuestionIndex:t.current_question_index,answers:[],status:t.session_status,attemptNumber:t.attempt_number,score:t.score,isPassed:t.is_passed,completedAt:t.completed_at?new Date(t.completed_at):void 0},message:"Session fetched successfully"}}catch(t){return console.error("TestService: Error in getSession:",t),{success:!1,message:"Failed to fetch session"}}}},lh={async getDashboardData(){try{if(console.log("DashboardService: Fetching dashboard data"),!W)return{success:!0,data:{totalUsers:5,totalSurveys:1,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]},message:"Demo dashboard data"};const[e,t,r]=await Promise.all([W.from("users").select("id",{count:"exact",head:!0}),W.from("surveys").select("id",{count:"exact",head:!0}),W.from("test_results").select("id",{count:"exact",head:!0})]),n=e.count||0,s=t.count||0,i=r.count||0,{data:o}=await W.from("test_results").select("score, is_passed"),l=(o==null?void 0:o.filter(f=>f.is_passed).length)||0,c=i>0?l/i*100:0,u=o!=null&&o.length?o.reduce((f,d)=>f+d.score,0)/o.length:0;return{success:!0,data:{totalUsers:n,totalSurveys:s,totalAttempts:i,averageScore:u,passRate:c,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]},message:"Dashboard data fetched successfully"}}catch(e){return console.error("DashboardService: Error in getDashboardData:",e),{success:!1,message:"Failed to fetch dashboard data"}}}},Lp={async getCertificates(){try{if(console.log("CertificateService: Fetching certificates"),!W)return{success:!0,data:[],message:"Demo mode - no certificates available"};const{data:e,error:t}=await W.from("certificates").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("issued_at",{ascending:!1});return t?(console.error("CertificateService: Error fetching certificates:",t),{success:!1,message:`Failed to fetch certificates: ${t.message}`,data:[]}):{success:!0,data:e.map(n=>({id:n.id,userId:n.user_id,user:{id:n.user.id,name:n.user.name,email:n.user.email,role:{name:"User"}},surveyId:n.survey_id,survey:{id:n.survey.id,title:n.survey.title},resultId:n.result_id,certificateNumber:n.certificate_number,issuedAt:new Date(n.issued_at),validUntil:n.valid_until?new Date(n.valid_until):void 0,downloadCount:n.download_count,status:n.certificate_status})),message:"Certificates fetched successfully"}}catch(e){return console.error("CertificateService: Error in getCertificates:",e),{success:!1,message:"Failed to fetch certificates",data:[]}}},async downloadCertificate(e){try{console.log("CertificateService: Downloading certificate:",e);const t=`Certificate ID: ${e}
Generated on: ${new Date().toISOString()}`;return{success:!0,data:new Blob([t],{type:"application/pdf"}),message:"Certificate downloaded successfully"}}catch(t){return console.error("CertificateService: Error in downloadCertificate:",t),{success:!1,message:"Failed to download certificate"}}},async revokeCertificate(e){try{if(console.log("CertificateService: Revoking certificate:",e),!W)return{success:!1,message:"Database not configured"};const{error:t}=await W.from("certificates").update({certificate_status:"revoked"}).eq("id",e);return t?(console.error("CertificateService: Error revoking certificate:",t),{success:!1,message:`Failed to revoke certificate: ${t.message}`}):{success:!0,message:"Certificate revoked successfully"}}catch(t){return console.error("CertificateService: Error in revokeCertificate:",t),{success:!1,message:"Failed to revoke certificate"}}}},s1={async getSettings(){try{if(console.log("SettingsService: Fetching settings"),!W)return{success:!0,data:[],message:"Demo mode - no settings available"};const{data:e,error:t}=await W.from("system_settings").select("*").order("category",{ascending:!0});return t?(console.error("SettingsService: Error fetching settings:",t),{success:!1,message:`Failed to fetch settings: ${t.message}`,data:[]}):{success:!0,data:e.map(n=>({id:n.id,category:n.category,key:n.setting_key,value:n.setting_value,description:n.description,type:n.setting_type,isEditable:n.is_editable,options:n.options,updatedAt:new Date(n.updated_at),updatedBy:n.updated_by||"system"})),message:"Settings fetched successfully"}}catch(e){return console.error("SettingsService: Error in getSettings:",e),{success:!1,message:"Failed to fetch settings",data:[]}}},async updateSetting(e,t,r){try{if(console.log("SettingsService: Updating setting:",e),!W)return{success:!1,message:"Database not configured"};const{error:n}=await W.from("system_settings").update({setting_value:t,updated_at:new Date().toISOString(),updated_by:r}).eq("id",e);return n?(console.error("SettingsService: Error updating setting:",n),{success:!1,message:`Failed to update setting: ${n.message}`}):{success:!0,message:"Setting updated successfully"}}catch(n){return console.error("SettingsService: Error in updateSetting:",n),{success:!1,message:"Failed to update setting"}}}};console.log("API Services: Initializing with Supabase backend");const a1={async login(e,t){return console.log("authApi: Login attempt for:",e),await n1.login(e,t)},async logout(){return console.log("authApi: Logout request"),await n1.logout()}},Fp={async getUsers(){return console.log("userApi: Fetching users"),await Mp.getUsers()},async createUser(e){return console.log("userApi: Creating user:",e.email),await Mp.createUser(e)},async deleteUser(e){return console.log("userApi: Deleting user:",e),await Mp.deleteUser(e)}},hs={async getRoles(){return console.log("roleApi: Fetching roles"),await Ho.getRoles()},async getPermissions(){return console.log("roleApi: Fetching permissions (mock data)"),{success:!0,data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"user_management"},{id:"2",name:"View Users",resource:"users",action:"read",description:"View user information",module:"user_management"},{id:"3",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"user_management"},{id:"4",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"user_management"}],message:"Permissions fetched successfully"}},async createRole(e){return console.log("roleApi: Creating role:",e.name),await Ho.createRole(e)},async updateRole(e,t){return console.log("roleApi: Updating role:",e),await Ho.updateRole(e,t)},async deleteRole(e){return console.log("roleApi: Deleting role:",e),await Ho.deleteRole(e)},async updateRoleMenuAccess(e,t){return console.log("roleApi: Updating menu access for role:",e),await Ho.updateRoleMenuAccess(e,t)}},Cn={async getSurveys(){return console.log("surveyApi: Fetching surveys"),await Ya.getSurveys()},async createSurvey(e){return console.log("surveyApi: Creating survey:",e.title),await Ya.createSurvey(e)},async updateSurvey(e,t){return console.log("surveyApi: Updating survey:",e),await Ya.updateSurvey(e,t)},async deleteSurvey(e){return console.log("surveyApi: Deleting survey:",e),await Ya.deleteSurvey(e)},async getSurveySections(e){return console.log("surveyApi: Fetching sections for survey:",e),await Ya.getSurveySections(e)},async createSection(e,t){return console.log("surveyApi: Creating section for survey:",e),await Ya.createSection(e,t)}},Nu={async getQuestions(e,t){return console.log("questionApi: Fetching questions for section:",t),await Rp.getQuestions(e,t)},async createQuestion(e){return console.log("questionApi: Creating question for section:",e.sectionId),await Rp.createQuestion(e)},async uploadQuestions(e,t){try{console.log("questionApi: Uploading questions from file:",t.name);const r=await t.text();return await Rp.uploadQuestions(r)}catch(r){return console.error("questionApi: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}},async downloadTemplate(){console.log("questionApi: Generating CSV template");const e=`survey_id,section_id,question_text,question_type,complexity,points,explanation,question_order,option_a,option_b,option_c,option_d,correct_options
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","What is the primary function of an operating system?","single_choice","easy",1,"An operating system manages all hardware and software resources of a computer.",1,"To manage hardware and software resources","To create documents","To browse the internet","To play games","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","Which of the following are input devices? (Select all that apply)","multiple_choice","medium",2,"Input devices allow users to provide data to the computer. Monitor is an output device.",2,"Keyboard","Mouse","Monitor","Microphone","A,B,D"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440031","What does URL stand for?","single_choice","easy",1,"URL stands for Uniform Resource Locator, which is the address of a web page.",3,"Uniform Resource Locator","Universal Resource Link","Unified Resource Location","Universal Reference Locator","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440032","Which of the following are good password practices?","multiple_choice","medium",2,"Strong passwords should be long, complex, unique, and not shared.",4,"Use at least 8 characters","Include uppercase and lowercase letters","Share passwords with colleagues","Use unique passwords for each account","A,B,D"`;return new Blob([e],{type:"text/csv"})}},ps={async createTestSession(e){if(console.log("testApi: Creating test session for survey:",e),!W)return{success:!1,message:"Database not configured. Please check your Supabase configuration."};const t=localStorage.getItem("userData"),r=t?JSON.parse(t):null;if(!r)return{success:!1,message:"User not authenticated. Please log in to start the test."};try{const{data:n,error:s}=await W.from("test_sessions").select("attempt_number").eq("user_id",r.id).eq("survey_id",e).order("attempt_number",{ascending:!1}).limit(1);if(s)return console.error("testApi: Error checking existing attempts:",s),{success:!1,message:`Failed to check existing attempts: ${s.message}`};const{data:i,error:o}=await W.from("surveys").select("max_attempts, duration").eq("id",e).single();if(o)return console.error("testApi: Error fetching survey:",o),{success:!1,message:`Failed to fetch survey details: ${o.message}`};const l=n&&n.length>0?n[0].attempt_number+1:1;if(l>i.max_attempts)return{success:!1,message:`You have exceeded the maximum number of attempts (${i.max_attempts}) for this test.`};const{data:c,error:u}=await W.from("test_sessions").insert({user_id:r.id,survey_id:e,time_remaining:i.duration*60,current_question_index:0,session_status:"in_progress",attempt_number:l}).select().single();return u?(console.error("testApi: Error creating session in database:",u),{success:!1,message:`Failed to create test session: ${u.message}`}):{success:!0,data:{id:c.id,userId:c.user_id,surveyId:c.survey_id,startTime:new Date(c.start_time),timeRemaining:c.time_remaining,currentQuestionIndex:c.current_question_index,answers:[],status:c.session_status,attemptNumber:c.attempt_number},message:"Test session created successfully"}}catch(n){return console.error("testApi: Error in createTestSession:",n),{success:!1,message:`Failed to create test session: ${n instanceof Error?n.message:"Unknown error"}`}}},async getSession(e){return console.log("testApi: Getting session:",e),await m3.getSession(e)},async getQuestionsForSurvey(e){try{if(console.log("testApi: Fetching questions for survey:",e),!W)return console.log("testApi: Supabase not configured - cannot load questions"),{success:!1,message:"Database not configured. Please check your Supabase configuration in the .env file and restart the development server.",data:[]};console.log("testApi: First, fetching sections for survey from database");const{data:t,error:r}=await W.from("survey_sections").select("id, title, section_order").eq("survey_id",e).order("section_order",{ascending:!0});if(r)return console.error("testApi: Database error fetching sections:",r),{success:!1,message:`Database error: ${r.message}`,data:[]};if(!t||t.length===0)return console.log("testApi: No sections found for survey:",e),{success:!1,message:"No sections found for this survey. Please ensure sections have been created for this survey.",data:[]};const n=t.map(c=>c.id);console.log("testApi: Found",t.length,"sections, now fetching questions for section IDs:",n);const{data:s,error:i}=await W.from("questions").select(`
          *,
          question_options(*)
        `).in("section_id",n).order("question_order",{ascending:!0});if(i)return console.error("testApi: Database error fetching questions:",i),{success:!1,message:`Database error: ${i.message}`,data:[]};if(!s||s.length===0)return console.log("testApi: No questions found for sections:",n),{success:!1,message:"No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.",data:[]};console.log("testApi: Successfully fetched",s.length,"questions from database");const o=t.reduce((c,u)=>(c[u.id]=u,c),{}),l=s.map((c,u)=>{var f;return{id:c.id,sectionId:c.section_id,text:c.text,type:c.question_type,complexity:c.complexity,points:c.points,explanation:c.explanation,order:((f=o[c.section_id])==null?void 0:f.section_order)*1e3+c.question_order,options:c.question_options.sort((d,h)=>d.option_order-h.option_order).map(d=>({id:d.id,text:d.text,isCorrect:d.is_correct})),correctAnswers:c.question_options.filter(d=>d.is_correct).map(d=>d.id),createdAt:new Date(c.created_at),updatedAt:new Date(c.updated_at)}});return{success:!0,data:l,message:`Loaded ${l.length} questions successfully`}}catch(t){return console.error("testApi: Error in getQuestionsForSurvey:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async getQuestionsForSession(e){try{if(console.log("testApi: Fetching questions for session:",e),!W)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await W.from("test_sessions").select("survey_id").eq("id",e).single();return r||!t?(console.error("testApi: Error fetching session:",r),{success:!1,message:"Session not found",data:[]}):(console.log("testApi: Using survey ID for questions:",t.survey_id),await this.getQuestionsForSurvey(t.survey_id))}catch(t){return console.error("testApi: Error in getQuestionsForSession:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async saveAnswer(e,t,r){if(console.log("testApi: Saving answer for session:",e,"question:",t),!W){console.log("testApi: Supabase not configured, saving to localStorage");const n=`answer_${e}_${t}`;return localStorage.setItem(n,JSON.stringify(r)),{success:!0,message:"Answer saved locally"}}try{const{data:n}=await W.from("test_answers").select("id").eq("session_id",e).eq("question_id",t).maybeSingle();if(n){const{error:s}=await W.from("test_answers").update({selected_options:r,answered:r.length>0,updated_at:new Date().toISOString()}).eq("session_id",e).eq("question_id",t);if(s)throw s}else{const{error:s}=await W.from("test_answers").insert({session_id:e,question_id:t,selected_options:r,answered:r.length>0,is_correct:!1,time_spent:0});if(s)throw s}return{success:!0,message:"Answer saved successfully"}}catch(n){return console.error("testApi: Error saving answer:",n),{success:!1,message:`Failed to save answer: ${n instanceof Error?n.message:"Unknown error"}`}}},async updateSession(e,t){if(console.log("testApi: Updating session:",e),!W)return console.log("testApi: Supabase not configured, saving to localStorage"),localStorage.setItem(`session_${e}`,JSON.stringify(t)),{success:!0,message:"Session updated locally"};try{const{error:r}=await W.from("test_sessions").update({current_question_index:t.currentQuestionIndex,time_remaining:t.timeRemaining,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;return{success:!0,message:"Session updated successfully"}}catch(r){return console.error("testApi: Error updating session:",r),{success:!1,message:`Failed to update session: ${r instanceof Error?r.message:"Unknown error"}`}}},async submitTest(e){if(console.log("testApi: Submitting test for session:",e),!W)return console.log("testApi: Supabase not configured, creating demo result"),{success:!0,data:{id:"demo-result-"+Date.now(),userId:"550e8400-e29b-41d4-a716-446655440014",user:{name:"Demo User",email:"demo@example.com",role:{name:"Enumerator"}},surveyId:"550e8400-e29b-41d4-a716-446655440020",survey:{title:"Demo Survey",maxAttempts:3},sessionId:e,score:75,totalQuestions:4,correctAnswers:3,isPassed:!0,timeSpent:1200,attemptNumber:1,sectionScores:[],completedAt:new Date,grade:"B"},message:"Demo test submitted"};try{const{data:t,error:r}=await W.from("test_sessions").select("*").eq("id",e).single();if(r||!t)throw new Error("Session not found");const{data:n,error:s}=await W.from("test_answers").select("*").eq("session_id",e);if(s)throw new Error("Failed to fetch answers");const i=await this.getQuestionsForSurvey(t.survey_id);if(!i.success||!i.data)throw new Error("Failed to load questions for scoring");const o=i.data;let l=0,c=0,u=0;o.forEach(m=>{c+=m.points;const S=n==null?void 0:n.find(x=>x.question_id===m.id);if(S&&S.selected_options){const x=S.selected_options,w=m.correctAnswers,_=x.length===w.length&&x.every(N=>w.includes(N));_&&(l++,u+=m.points),W.from("test_answers").update({is_correct:_}).eq("id",S.id).then(()=>{})}});const f=c>0?Math.round(u/c*100):0,{data:d,error:h}=await W.from("surveys").select("*").eq("id",t.survey_id).single();if(h)throw new Error("Failed to fetch survey details");const p=f>=d.passing_score;await W.from("test_sessions").update({session_status:"completed",score:f,is_passed:p,completed_at:new Date().toISOString(),end_time:new Date().toISOString()}).eq("id",e);const{data:y,error:b}=await W.from("test_results").insert({user_id:t.user_id,survey_id:t.survey_id,session_id:e,score:f,total_questions:o.length,correct_answers:l,is_passed:p,time_spent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attempt_number:t.attempt_number,completed_at:new Date().toISOString()}).select().single();if(b)throw console.error("testApi: Error creating test result:",b),new Error(`Failed to create test result: ${b.message}`);let v=null;if(p){const m=`CERT-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`;try{console.log("Creating certificate for passed test:",{user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m});const{data:S,error:x}=await W.from("certificates").insert({user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m,certificate_status:"active",download_count:0}).select().single();if(x)console.error("Error creating certificate:",x);else if(S){console.log("Certificate created successfully:",S),v=S.id;const{error:w}=await W.from("test_results").update({certificate_id:v}).eq("id",y.id);w?console.error("Error updating result with certificate ID:",w):console.log("Test result updated with certificate ID:",v)}}catch(S){console.error("Exception during certificate creation:",S)}}const{data:j}=await W.from("users").select("*, role:roles(*)").eq("id",t.user_id).single();return{success:!0,data:{id:y.id,userId:t.user_id,user:j?{id:j.id,name:j.name,email:j.email,role:j.role,jurisdiction:j.jurisdiction,isActive:j.is_active,createdAt:new Date(j.created_at),updatedAt:new Date(j.updated_at)}:{},surveyId:t.survey_id,survey:{id:d.id,title:d.title,maxAttempts:d.max_attempts},sessionId:e,score:f,totalQuestions:o.length,correctAnswers:l,isPassed:p,timeSpent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attemptNumber:t.attempt_number,sectionScores:[],completedAt:new Date,certificateId:v,grade:f>=90?"A":f>=80?"B":f>=70?"C":f>=60?"D":"F"},message:`Test submitted successfully! Score: ${f}% (${p?"Passed":"Failed"})`}}catch(t){return console.error("testApi: Error submitting test:",t),{success:!1,message:`Failed to submit test: ${t instanceof Error?t.message:"Unknown error"}`}}},async syncOfflineData(){return console.log("testApi: Syncing offline data"),{success:!0,message:"Offline data synced successfully"}}},g3={async getDashboardData(){return console.log("dashboardApi: Fetching dashboard data"),await lh.getDashboardData()}},x3={async getDashboardData(e){console.log("zoDashboardApi: Fetching ZO dashboard data with filter:",e);const t=await lh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalZones:5,totalRegions:25,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]},message:"ZO Dashboard data fetched successfully"}:t}},v3={async getDashboardData(e){console.log("roDashboardApi: Fetching RO dashboard data with filter:",e);const t=await lh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalDistricts:8,totalSupervisors:24,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]},message:"RO Dashboard data fetched successfully"}:t}},sv={async getDashboardData(e){console.log("supervisorDashboardApi: Fetching supervisor dashboard data with filter:",e);const t=await lh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalEnumerators:12,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]},message:"Supervisor Dashboard data fetched successfully"}:t}},qc={async getDashboardData(){try{if(console.log("enumeratorDashboardApi: Fetching enumerator dashboard data"),!W)return{success:!1,message:"Database not configured"};const e=localStorage.getItem("userData"),t=e?JSON.parse(e):null;if(!t)return{success:!1,message:"User not authenticated"};const{data:r,error:n}=await W.from("surveys").select("*").eq("is_active",!0);if(n)throw console.error("enumeratorDashboardApi: Error fetching surveys:",n),n;const{data:s,error:i}=await W.from("test_sessions").select("survey_id, attempt_number").eq("user_id",t.id);i&&console.error("enumeratorDashboardApi: Error fetching user attempts:",i);const o=(s==null?void 0:s.reduce((v,j)=>(v[j.survey_id]=Math.max(v[j.survey_id]||0,j.attempt_number),v),{}))||{},l=(r==null?void 0:r.map(v=>{const j=o[v.id]||0,g=v.max_attempts-j;return{surveyId:v.id,title:v.title,description:v.description,targetDate:new Date(v.target_date),duration:v.duration,totalQuestions:v.total_questions,passingScore:v.passing_score,attemptsLeft:Math.max(0,g),maxAttempts:v.max_attempts,isEligible:g>0}}).filter(v=>v.isEligible))||[],{data:c,error:u}=await W.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1});u&&console.error("enumeratorDashboardApi: Error fetching results:",u);const f=(c==null?void 0:c.map(v=>({resultId:v.id,surveyTitle:v.survey.title,score:v.score,isPassed:v.is_passed,completedAt:new Date(v.completed_at),attemptNumber:v.attempt_number,certificateId:v.certificate_id})))||[],{data:d,error:h}=await W.from("certificates").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("issued_at",{ascending:!1});h&&console.error("enumeratorDashboardApi: Error fetching certificates:",h);const p=(d==null?void 0:d.map(v=>({id:v.id,userId:v.user_id,user:t,surveyId:v.survey_id,survey:{id:v.survey_id,title:v.survey.title},resultId:v.result_id,certificateNumber:v.certificate_number,issuedAt:new Date(v.issued_at),validUntil:v.valid_until?new Date(v.valid_until):void 0,downloadCount:v.download_count,status:v.certificate_status})))||[],y=f.filter(v=>v.isPassed).length,b=f.length>0?f.reduce((v,j)=>v+j.score,0)/f.length:0;return{success:!0,data:{availableTests:l,completedTests:f,upcomingTests:l.map(v=>({surveyId:v.surveyId,title:v.title,targetDate:v.targetDate,daysLeft:Math.ceil((v.targetDate.getTime()-new Date().getTime())/(1e3*60*60*24)),isOverdue:v.targetDate<new Date})),certificates:p,overallProgress:l.length>0?y/l.length*100:0,averageScore:b,totalAttempts:f.length,passedTests:y},message:"Enumerator Dashboard data fetched successfully"}}catch(e){return console.error("enumeratorDashboardApi: Error fetching dashboard data:",e),{success:!1,message:`Failed to fetch dashboard data: ${e instanceof Error?e.message:"Unknown error"}`}}}},Up={async getResults(e){try{console.log("resultApi: Fetching results with filters");const{data:t,error:r}=await W.from("test_results").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching results:",r),r;return{success:!0,data:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"},jurisdiction:s.user.jurisdiction},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title,maxAttempts:s.survey.max_attempts},sessionId:s.session_id,score:s.score,totalQuestions:s.total_questions,correctAnswers:s.correct_answers,isPassed:s.is_passed,timeSpent:s.time_spent,attemptNumber:s.attempt_number,sectionScores:[],completedAt:new Date(s.completed_at),certificateId:s.certificate_id,grade:s.grade})),message:"Results fetched successfully"}}catch(t){return console.error("resultApi: Error in getResults:",t),{success:!1,message:"Failed to fetch results",data:[]}}},async getAnalytics(e){return console.log("resultApi: Fetching analytics data"),{success:!0,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]},message:"Analytics data fetched successfully"}},async exportResults(e){console.log("resultApi: Exporting results");const t=`user_name,survey_title,score,status,completed_at
`;return{success:!0,data:new Blob([t],{type:"text/csv"}),message:"Results exported successfully"}}},Zu={async getCertificates(){return console.log("certificateApi: Fetching certificates"),await Lp.getCertificates()},async downloadCertificate(e){return console.log("certificateApi: Downloading certificate:",e),await Lp.downloadCertificate(e)},async revokeCertificate(e){return console.log("certificateApi: Revoking certificate:",e),await Lp.revokeCertificate(e)}},i1={async getSettings(){return console.log("settingsApi: Fetching settings"),await s1.getSettings()},async updateSetting(e,t){console.log("settingsApi: Updating setting:",e);const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:void 0;return await s1.updateSetting(e,t,n)}},y3={async getEnumeratorStatus(){return console.log("enumeratorApi: Fetching enumerator status"),{success:!0,data:[],message:"Enumerator status fetched successfully"}}},p4=O.createContext(void 0);function Us(){const e=O.useContext(p4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function b3({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{(async()=>{try{if(W){const{data:{session:d},error:h}=await W.auth.getSession();if(d&&!h){const{data:p,error:y}=await W.from("users").select(`
                *,
                role:roles(*)
              `).eq("id",d.user.id).single();if(p&&!y){const b={id:p.id,name:p.name,email:p.email,role:p.role,jurisdiction:p.jurisdiction,isActive:p.is_active,createdAt:new Date(p.created_at),updatedAt:new Date(p.updated_at)};r(b),localStorage.setItem("userData",JSON.stringify(b)),localStorage.setItem("authToken",d.access_token),s(!1);return}else{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}else{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}const u=localStorage.getItem("authToken"),f=localStorage.getItem("userData");u&&f&&r(JSON.parse(f))}catch(u){console.error("Auth initialization error:",u),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}s(!1)})()},[]),O.useEffect(()=>{if(W){const{data:{subscription:c}}=W.auth.onAuthStateChange(async(u,f)=>{(u==="SIGNED_OUT"||!f)&&(r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"))});return()=>c.unsubscribe()}},[]);const l={user:t,isLoading:n,login:async(c,u)=>{try{console.log("Attempting login with:",c);const f=await a1.login(c,u);if(console.log("Login response:",f),f.success&&f.data){const{user:d,token:h}=f.data;return console.log("Setting user:",d),r(d),localStorage.setItem("authToken",h),localStorage.setItem("userData",JSON.stringify(d)),{success:!0,message:f.message}}return{success:!1,message:f.message}}catch(f){return console.error("Login error:",f),{success:!1,message:"Login failed. Please try again."}}},logout:async()=>{try{await a1.logout()}catch(c){console.error("Logout error:",c)}finally{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}},isAuthenticated:!!t};return a.jsx(p4.Provider,{value:l,children:e})}const w3=O.createContext(void 0);function j3({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},f=()=>{r(!1)},d=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const y=localStorage.getItem("last_sync");y&&s(new Date(parseInt(y)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",f),d();const h=setInterval(d,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f),clearInterval(h)}},[]);const l=async()=>{if(t)try{await ps.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(w3.Provider,{value:c,children:e})}function m4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=m4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function he(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=m4(e))&&(n&&(n+=" "),n+=t);return n}const av="-",N3=e=>{const t=_3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(av);return l[0]===""&&l.length!==1&&l.shift(),g4(l,t)||S3(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},g4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?g4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(av);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},o1=/^\[(.+)\]$/,S3=e=>{if(o1.test(e)){const t=o1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return O3(Object.entries(e.classGroups),r).forEach(([i,o])=>{N0(o,n,i,t)}),n},N0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:l1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(A3(s)){N0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{N0(o,l1(t,i),r,n)})})},l1=(e,t)=>{let r=e;return t.split(av).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},A3=e=>e.isThemeGetter,O3=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,P3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},x4="!",E3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let j=l[v];if(u===0){if(j===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(f,v)),f=v+i;continue}if(j==="/"){d=v;continue}}j==="["?u++:j==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(x4),y=p?h.substring(1):h,b=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},k3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},C3=e=>({cache:P3(e.cacheSize),parseClassName:E3(e),...N3(e)}),T3=/\s+/,$3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(T3);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,b=n(y?h.substring(0,p):h);if(!b){if(!y){l=u+(l.length>0?" "+l:l);continue}if(b=n(h),!b){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=k3(f).join(":"),j=d?v+x4:v,g=j+b;if(i.includes(g))continue;i.push(g);const m=s(b,y);for(let S=0;S<m.length;++S){const x=m[S];i.push(j+x)}l=u+(l.length>0?" "+l:l)}return l};function I3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v4(t))&&(n&&(n+=" "),n+=r);return n}const v4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v4(e[n]))&&(r&&(r+=" "),r+=t);return r};function D3(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=C3(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=$3(c,r);return s(c,f),f}return function(){return i(I3.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y4=/^\[(?:([a-z-]+):)?(.+)\]$/i,M3=/^\d+\/\d+$/,R3=new Set(["px","full","screen"]),L3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Oi(e)||R3.has(e)||M3.test(e),ns=e=>wo(e,"length",Y3),Oi=e=>!!e&&!Number.isNaN(Number(e)),Bp=e=>wo(e,"number",Oi),Ko=e=>!!e&&Number.isInteger(Number(e)),q3=e=>e.endsWith("%")&&Oi(e.slice(0,-1)),me=e=>y4.test(e),ss=e=>L3.test(e),W3=new Set(["length","size","percentage"]),H3=e=>wo(e,W3,b4),K3=e=>wo(e,"position",b4),V3=new Set(["image","url"]),G3=e=>wo(e,V3,Z3),Q3=e=>wo(e,"",X3),Vo=()=>!0,wo=(e,t,r)=>{const n=y4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Y3=e=>F3.test(e)&&!U3.test(e),b4=()=>!1,X3=e=>B3.test(e),Z3=e=>z3.test(e),J3=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),f=Ge("hueRotate"),d=Ge("invert"),h=Ge("gap"),p=Ge("gradientColorStops"),y=Ge("gradientColorStopPositions"),b=Ge("inset"),v=Ge("margin"),j=Ge("opacity"),g=Ge("padding"),m=Ge("saturate"),S=Ge("scale"),x=Ge("sepia"),w=Ge("skew"),_=Ge("space"),N=Ge("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",me,t],k=()=>[me,t],D=()=>["",Sn,ns],$=()=>["auto",Oi,me],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",me],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Oi,me];return{cacheSize:500,separator:":",theme:{colors:[Vo],spacing:[Sn,ns],blur:["none","",ss,me],brightness:K(),borderColor:[e],borderRadius:["none","","full",ss,me],borderSpacing:k(),borderWidth:D(),contrast:K(),grayscale:R(),hueRotate:K(),invert:R(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[q3,ns],inset:E(),margin:E(),opacity:K(),padding:k(),saturate:K(),scale:K(),sepia:R(),skew:K(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ko,me]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ko,me]}],"grid-cols":[{"grid-cols":[Vo]}],"col-start-end":[{col:["auto",{span:["full",Ko,me]},me]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Vo]}],"row-start-end":[{row:["auto",{span:[Ko,me]},me]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bp]}],"font-family":[{font:[Vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Oi,Bp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,ns]}],"underline-offset":[{"underline-offset":["auto",Sn,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),K3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Sn,me]}],"outline-w":[{outline:[Sn,ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Sn,ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,Q3]}],"shadow-color":[{shadow:[Vo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ss,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ko,me]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,ns,Bp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e$=D3(J3);function iv(...e){return e$(he(e))}function Ce(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Nr(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Cs(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function t$(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function ys(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function z({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:d,disabled:n||s,className:iv(c,u[t],f[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const se=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:iv("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));se.displayName="Input";class r${static async initializeDatabase(){try{if(console.log("Starting database initialization..."),!W)return console.error("Supabase client is not configured"),{success:!1,message:"Supabase is not configured. Please set up your environment variables in .env file."};const t=W,{data:r,error:n}=await t.from("roles").select("id").limit(1);return n?(console.error("Database connection failed:",n),{success:!1,message:"Failed to connect to database. Please check your Supabase configuration."}):r&&r.length>0?(console.log("Database already initialized"),{success:!0,message:"Database already contains data"}):(await this.createRoles(t),await this.createUsers(t),await this.createSurveys(t),await this.createSurveySections(t),await this.createQuestions(t),await this.createSystemSettings(t),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully"})}catch(t){return console.error("Database initialization failed:",t),{success:!1,message:"Failed to initialize database",error:t}}}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Administrator",description:"System Administrator with full access to all features",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440002",name:"CPG User",description:"Central Planning Group User with national oversight",level:2,is_active:!0,menu_access:["/cpg-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440003",name:"ZO User",description:"Zonal Office User with zone-level management access",level:3,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440004",name:"RO User",description:"Regional Office User with regional management access",level:4,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Supervisor",description:"Field Supervisor with team management capabilities",level:5,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440006",name:"Enumerator",description:"Field Enumerator with test-taking access (Lowest Level)",level:6,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users...");const r=await nv.hash("password123",10),n=[{id:"550e8400-e29b-41d4-a716-446655440010",email:"admin@esigma.com",password_hash:r,name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440001",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{id:"550e8400-e29b-41d4-a716-446655440011",email:"cpg@esigma.com",password_hash:r,name:"CPG Officer",role_id:"550e8400-e29b-41d4-a716-446655440002",is_active:!0,jurisdiction:"Central Planning Group",zone:null,region:null,district:null,employee_id:"CPG001",phone_number:"+91-9876543211"},{id:"550e8400-e29b-41d4-a716-446655440012",email:"zo@esigma.com",password_hash:r,name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440003",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543212"},{id:"550e8400-e29b-41d4-a716-446655440013",email:"ro@esigma.com",password_hash:r,name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440004",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543213",parent_id:"550e8400-e29b-41d4-a716-446655440012"},{id:"550e8400-e29b-41d4-a716-446655440014",email:"supervisor@esigma.com",password_hash:r,name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440005",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543214",parent_id:"550e8400-e29b-41d4-a716-446655440013"},{id:"550e8400-e29b-41d4-a716-446655440015",email:"enumerator@esigma.com",password_hash:r,name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543215",parent_id:"550e8400-e29b-41d4-a716-446655440014"},{id:"550e8400-e29b-41d4-a716-446655440016",email:"enumerator2@esigma.com",password_hash:r,name:"Field Enumerator 2",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block B, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU002",phone_number:"+91-9876543216",parent_id:"550e8400-e29b-41d4-a716-446655440014"},{id:"550e8400-e29b-41d4-a716-446655440017",email:"enumerator3@esigma.com",password_hash:r,name:"Field Enumerator 3",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block C, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU003",phone_number:"+91-9876543217",parent_id:"550e8400-e29b-41d4-a716-446655440014"}],{error:s}=await t.from("users").insert(n);if(s)throw s;console.log("Users created successfully")}static async createSurveys(t){console.log("Creating surveys...");const r=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone"],assigned_regions:["Delhi Region","Mumbai Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone"],assigned_regions:["Delhi Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"}],{error:n}=await t.from("surveys").insert(r);if(n)throw n;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:10,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:10,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:10,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:15,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:10,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async checkDatabaseConnection(){try{const{data:t,error:r}=await W.from("roles").select("count").limit(1);if(r)throw r;return{success:!0,message:"Database connection successful"}}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...n$,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${s$(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=ne("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=ne("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=ne("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S$(){const{login:e,isAuthenticated:t}=Us(),[r,n]=O.useState("admin@esigma.com"),[s,i]=O.useState("password123"),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState("");if(t)return a.jsx(Gl,{to:"/",replace:!0});const h=async()=>{u(!0),d("");try{const v=await r$.initializeDatabase();v.success?(d(""),alert("Database initialized successfully! You can now login with the demo credentials.")):d(v.message)}catch{d("Failed to initialize database. Please check your Supabase configuration.")}finally{u(!1)}},p=async v=>{if(v.preventDefault(),!r||!s){d("Please enter both email and password");return}l(!0),d("");const j=await e(r,s);j.success?console.log("Login successful"):d(j.message),l(!1)},y=[{role:"Admin",email:"admin@esigma.com",icon:Rr,color:"bg-red-100 text-red-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440010"},{role:"ZO User",email:"zo@esigma.com",icon:ja,color:"bg-purple-100 text-purple-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440011"},{role:"RO User",email:"ro@esigma.com",icon:ja,color:"bg-indigo-100 text-indigo-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440012"},{role:"Supervisor",email:"supervisor@esigma.com",icon:Oa,color:"bg-green-100 text-green-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440013"},{role:"Enumerator",email:"enumerator@esigma.com",icon:Ds,color:"bg-blue-100 text-blue-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440014"}],b=v=>{n(v),i("password123"),d("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:a.jsx(Wt,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),f&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(a$,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:f})]}),a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Database Setup"}),a.jsx("p",{className:"text-xs text-blue-800 mb-3",children:"If this is your first time, initialize the database with sample data including users, surveys, and settings."}),a.jsx(z,{onClick:h,disabled:c,variant:"secondary",size:"sm",className:"w-full",children:c?"Initializing Database...":"Initialize Database"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(se,{label:"Email Address",type:"email",value:r,onChange:v=>n(v.target.value),placeholder:"Enter your email",required:!0}),a.jsx(se,{label:"Password",type:"password",value:s,onChange:v=>i(v.target.value),placeholder:"Enter your password",required:!0}),a.jsx(z,{type:"submit",disabled:o,className:"w-full",size:"lg",children:o?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Demo Accounts - Click to Login:"}),a.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Authentication Details"}),a.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Database:"})," Supabase PostgreSQL with Row Level Security"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Password Encryption:"})," bcrypt with salt rounds"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Session Management:"})," JWT tokens with auto-refresh"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Security:"})," Account lockout after 5 failed attempts"]})]})]}),a.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-green-900 mb-2",children:" Role-Based Access Control (RBAC)"}),a.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin  ZO User  RO User  Supervisor  Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Permissions:"})," Each role has specific menu access and data visibility"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data Isolation:"})," Users only see data relevant to their jurisdiction"]})]})]}),a.jsx("div",{className:"space-y-2",children:y.map(v=>a.jsxs("button",{onClick:()=>b(v.email),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-left",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${v.color}`,children:a.jsx(v.icon,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.role}),a.jsx("p",{className:"text-xs text-gray-600",children:v.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",v.role==="Admin"?"1":v.role==="CPG User"?"2":v.role==="ZO User"?"3":v.role==="RO User"?"4":v.role==="Supervisor"?"5":"6","  ",v.role==="Admin"?"Full System Access":v.role==="CPG User"?"Central Planning":v.role==="ZO User"?"Zone Management":v.role==="RO User"?"Regional Management":v.role==="Supervisor"?"Team Management":"Test Taking (Lowest Level)"]})]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Click to login"})]},v.email))}),a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" Login Credentials"}),a.jsxs("div",{className:"text-xs text-yellow-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Password for all accounts:"})," ",a.jsx("span",{className:"font-mono bg-yellow-100 px-1 rounded",children:"password123"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Employee IDs:"})," ADM001, CPG001, ZO001, RO001, SUP001, ENU001-003"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone Numbers:"})," +91-9876543210 to +91-9876543217"]})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-purple-900 mb-2",children:" Organizational Structure"}),a.jsxs("div",{className:"text-xs text-purple-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Administrator  CPG User  ZO User  RO User  Supervisor  Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Zone:"})," North Zone (ZO, RO, Supervisor, Enumerators)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Region:"})," Delhi Region (RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"District:"})," Central Delhi (Supervisor, Enumerators)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Team Structure:"})," 1 Supervisor manages 3 Enumerators"]})]})]})]})]})})})}function _$({children:e}){const{isAuthenticated:t,isLoading:r}=Us();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Gl,{to:"/login",replace:!0})}function A$(){const{user:e,logout:t}=Us(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Online MCQ Test Management System"}),!1]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(o$,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(h$,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const O$=[{to:"/dashboard",icon:hn,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:Rr,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:Sa,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:lv,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Wt,label:"Survey Management",roles:["Admin"],level:1},{to:"/questions",icon:ov,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:Hc,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:hn,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Wc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:ja,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:hn,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:ja,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:hn,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:bs,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Oa,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Wt,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:hn,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:Zl,label:"Available Tests",roles:["Enumerator"],level:5},{to:"/my-results",icon:jo,label:"My Results",roles:["Enumerator"],level:5},{to:"/my-certificates",icon:Aa,label:"My Certificates",roles:["Enumerator"],level:5},{to:"/test-schedule",icon:cv,label:"Test Schedule",roles:["Enumerator"],level:5},{to:"/results",icon:bs,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:We,label:"Enumerator Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Ae,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator"],level:1}],u1={admin:[{to:"/dashboard",icon:hn,label:"Dashboard"},{to:"/users",icon:Rr,label:"User Management"},{to:"/roles",icon:Sa,label:"Role Management"},{to:"/role-menu-management",icon:lv,label:"Menu Access Control"},{to:"/surveys",icon:Wt,label:"Survey Management"},{to:"/questions",icon:ov,label:"Question Bank"},{to:"/results",icon:bs,label:"Results & Analytics"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/certificates",icon:Ae,label:"Certificates"},{to:"/settings",icon:Hc,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:hn,label:"ZO Dashboard"},{to:"/zone-performance",icon:Wc,label:"Zone Performance"},{to:"/regional-overview",icon:ja,label:"Regional Overview"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:bs,label:"Zone Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:hn,label:"RO Dashboard"},{to:"/district-performance",icon:ja,label:"District Performance"},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:bs,label:"Regional Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:hn,label:"Dashboard"},{to:"/team-results",icon:bs,label:"Team Results"},{to:"/my-enumerators",icon:Oa,label:"My Enumerators"},{to:"/enumerator-status",icon:We,label:"Team Status"},{to:"/assigned-surveys",icon:Wt,label:"Assigned Surveys"},{to:"/certificates",icon:Ae,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:hn,label:"My Dashboard"},{to:"/available-tests",icon:Zl,label:"Available Tests"},{to:"/my-results",icon:jo,label:"My Results"},{to:"/my-certificates",icon:Aa,label:"My Certificates"},{to:"/test-schedule",icon:cv,label:"Test Schedule"}]};function P$(){const{user:e}=Us(),r=(()=>{if(!e)return[];const u=e.role.name,f=e.role.level;return O$.filter(d=>{const h=d.roles.includes(u),p=d.level?f<=d.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=u1[n]||u1.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Wt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"eSigma"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Survey Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lv,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(RC,{to:u.to,className:({isActive:f})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(d$,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Ee({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(P$,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(A$,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function F({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:iv("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function Su({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function E$({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(Ds,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Wt,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(j4,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName,"  ",Nr(r.timestamp)]})]})]},r.id))})]})}var k$=Array.isArray,dr=k$,C$=typeof zt=="object"&&zt&&zt.Object===Object&&zt,N4=C$,T$=N4,$$=typeof self=="object"&&self&&self.Object===Object&&self,I$=T$||$$||Function("return this")(),jn=I$,D$=jn,M$=D$.Symbol,Kc=M$,d1=Kc,S4=Object.prototype,R$=S4.hasOwnProperty,L$=S4.toString,Go=d1?d1.toStringTag:void 0;function F$(e){var t=R$.call(e,Go),r=e[Go];try{e[Go]=void 0;var n=!0}catch{}var s=L$.call(e);return n&&(t?e[Go]=r:delete e[Go]),s}var U$=F$,B$=Object.prototype,z$=B$.toString;function q$(e){return z$.call(e)}var W$=q$,f1=Kc,H$=U$,K$=W$,V$="[object Null]",G$="[object Undefined]",h1=f1?f1.toStringTag:void 0;function Q$(e){return e==null?e===void 0?G$:V$:h1&&h1 in Object(e)?H$(e):K$(e)}var Xn=Q$;function Y$(e){return e!=null&&typeof e=="object"}var Zn=Y$,X$=Xn,Z$=Zn,J$="[object Symbol]";function eI(e){return typeof e=="symbol"||Z$(e)&&X$(e)==J$}var No=eI,tI=dr,rI=No,nI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sI=/^\w*$/;function aI(e,t){if(tI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rI(e)?!0:sI.test(e)||!nI.test(e)||t!=null&&e in Object(t)}var dv=aI;function iI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bs=iI;const So=$e(Bs);var oI=Xn,lI=Bs,cI="[object AsyncFunction]",uI="[object Function]",dI="[object GeneratorFunction]",fI="[object Proxy]";function hI(e){if(!lI(e))return!1;var t=oI(e);return t==uI||t==dI||t==cI||t==fI}var fv=hI;const ce=$e(fv);var pI=jn,mI=pI["__core-js_shared__"],gI=mI,qp=gI,p1=function(){var e=/[^.]+$/.exec(qp&&qp.keys&&qp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xI(e){return!!p1&&p1 in e}var vI=xI,yI=Function.prototype,bI=yI.toString;function wI(e){if(e!=null){try{return bI.call(e)}catch{}try{return e+""}catch{}}return""}var _4=wI,jI=fv,NI=vI,SI=Bs,_I=_4,AI=/[\\^$.*+?()[\]{}|]/g,OI=/^\[object .+?Constructor\]$/,PI=Function.prototype,EI=Object.prototype,kI=PI.toString,CI=EI.hasOwnProperty,TI=RegExp("^"+kI.call(CI).replace(AI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $I(e){if(!SI(e)||NI(e))return!1;var t=jI(e)?TI:OI;return t.test(_I(e))}var II=$I;function DI(e,t){return e==null?void 0:e[t]}var MI=DI,RI=II,LI=MI;function FI(e,t){var r=LI(e,t);return RI(r)?r:void 0}var La=FI,UI=La,BI=UI(Object,"create"),uh=BI,m1=uh;function zI(){this.__data__=m1?m1(null):{},this.size=0}var qI=zI;function WI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HI=WI,KI=uh,VI="__lodash_hash_undefined__",GI=Object.prototype,QI=GI.hasOwnProperty;function YI(e){var t=this.__data__;if(KI){var r=t[e];return r===VI?void 0:r}return QI.call(t,e)?t[e]:void 0}var XI=YI,ZI=uh,JI=Object.prototype,eD=JI.hasOwnProperty;function tD(e){var t=this.__data__;return ZI?t[e]!==void 0:eD.call(t,e)}var rD=tD,nD=uh,sD="__lodash_hash_undefined__";function aD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nD&&t===void 0?sD:t,this}var iD=aD,oD=qI,lD=HI,cD=XI,uD=rD,dD=iD;function _o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_o.prototype.clear=oD;_o.prototype.delete=lD;_o.prototype.get=cD;_o.prototype.has=uD;_o.prototype.set=dD;var fD=_o;function hD(){this.__data__=[],this.size=0}var pD=hD;function mD(e,t){return e===t||e!==e&&t!==t}var hv=mD,gD=hv;function xD(e,t){for(var r=e.length;r--;)if(gD(e[r][0],t))return r;return-1}var dh=xD,vD=dh,yD=Array.prototype,bD=yD.splice;function wD(e){var t=this.__data__,r=vD(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bD.call(t,r,1),--this.size,!0}var jD=wD,ND=dh;function SD(e){var t=this.__data__,r=ND(t,e);return r<0?void 0:t[r][1]}var _D=SD,AD=dh;function OD(e){return AD(this.__data__,e)>-1}var PD=OD,ED=dh;function kD(e,t){var r=this.__data__,n=ED(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var CD=kD,TD=pD,$D=jD,ID=_D,DD=PD,MD=CD;function Ao(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ao.prototype.clear=TD;Ao.prototype.delete=$D;Ao.prototype.get=ID;Ao.prototype.has=DD;Ao.prototype.set=MD;var fh=Ao,RD=La,LD=jn,FD=RD(LD,"Map"),pv=FD,g1=fD,UD=fh,BD=pv;function zD(){this.size=0,this.__data__={hash:new g1,map:new(BD||UD),string:new g1}}var qD=zD;function WD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HD=WD,KD=HD;function VD(e,t){var r=e.__data__;return KD(t)?r[typeof t=="string"?"string":"hash"]:r.map}var hh=VD,GD=hh;function QD(e){var t=GD(this,e).delete(e);return this.size-=t?1:0,t}var YD=QD,XD=hh;function ZD(e){return XD(this,e).get(e)}var JD=ZD,e8=hh;function t8(e){return e8(this,e).has(e)}var r8=t8,n8=hh;function s8(e,t){var r=n8(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var a8=s8,i8=qD,o8=YD,l8=JD,c8=r8,u8=a8;function Oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oo.prototype.clear=i8;Oo.prototype.delete=o8;Oo.prototype.get=l8;Oo.prototype.has=c8;Oo.prototype.set=u8;var mv=Oo,A4=mv,d8="Expected a function";function gv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(d8);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(gv.Cache||A4),r}gv.Cache=A4;var O4=gv;const f8=$e(O4);var h8=O4,p8=500;function m8(e){var t=h8(e,function(n){return r.size===p8&&r.clear(),n}),r=t.cache;return t}var g8=m8,x8=g8,v8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y8=/\\(\\)?/g,b8=x8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(v8,function(r,n,s,i){t.push(s?i.replace(y8,"$1"):n||r)}),t}),w8=b8;function j8(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var xv=j8,x1=Kc,N8=xv,S8=dr,_8=No,A8=1/0,v1=x1?x1.prototype:void 0,y1=v1?v1.toString:void 0;function P4(e){if(typeof e=="string")return e;if(S8(e))return N8(e,P4)+"";if(_8(e))return y1?y1.call(e):"";var t=e+"";return t=="0"&&1/e==-A8?"-0":t}var O8=P4,P8=O8;function E8(e){return e==null?"":P8(e)}var E4=E8,k8=dr,C8=dv,T8=w8,$8=E4;function I8(e,t){return k8(e)?e:C8(e,t)?[e]:T8($8(e))}var k4=I8,D8=No,M8=1/0;function R8(e){if(typeof e=="string"||D8(e))return e;var t=e+"";return t=="0"&&1/e==-M8?"-0":t}var ph=R8,L8=k4,F8=ph;function U8(e,t){t=L8(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[F8(t[r++])];return r&&r==n?e:void 0}var vv=U8,B8=vv;function z8(e,t,r){var n=e==null?void 0:B8(e,t);return n===void 0?r:n}var C4=z8;const br=$e(C4);function q8(e){return e==null}var W8=q8;const ue=$e(W8);var H8=Xn,K8=dr,V8=Zn,G8="[object String]";function Q8(e){return typeof e=="string"||!K8(e)&&V8(e)&&H8(e)==G8}var Y8=Q8;const Pa=$e(Y8);var T4={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=Symbol.for("react.element"),bv=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),vh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),X8=Symbol.for("react.server_context"),bh=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),Sh=Symbol.for("react.lazy"),Z8=Symbol.for("react.offscreen"),$4;$4=Symbol.for("react.module.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yv:switch(e=e.type,e){case mh:case xh:case gh:case wh:case jh:return e;default:switch(e=e&&e.$$typeof,e){case X8:case yh:case bh:case Sh:case Nh:case vh:return e;default:return t}}case bv:return t}}}Ie.ContextConsumer=yh;Ie.ContextProvider=vh;Ie.Element=yv;Ie.ForwardRef=bh;Ie.Fragment=mh;Ie.Lazy=Sh;Ie.Memo=Nh;Ie.Portal=bv;Ie.Profiler=xh;Ie.StrictMode=gh;Ie.Suspense=wh;Ie.SuspenseList=jh;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return qr(e)===yh};Ie.isContextProvider=function(e){return qr(e)===vh};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yv};Ie.isForwardRef=function(e){return qr(e)===bh};Ie.isFragment=function(e){return qr(e)===mh};Ie.isLazy=function(e){return qr(e)===Sh};Ie.isMemo=function(e){return qr(e)===Nh};Ie.isPortal=function(e){return qr(e)===bv};Ie.isProfiler=function(e){return qr(e)===xh};Ie.isStrictMode=function(e){return qr(e)===gh};Ie.isSuspense=function(e){return qr(e)===wh};Ie.isSuspenseList=function(e){return qr(e)===jh};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mh||e===xh||e===gh||e===wh||e===jh||e===Z8||typeof e=="object"&&e!==null&&(e.$$typeof===Sh||e.$$typeof===Nh||e.$$typeof===vh||e.$$typeof===yh||e.$$typeof===bh||e.$$typeof===$4||e.getModuleId!==void 0)};Ie.typeOf=qr;T4.exports=Ie;var J8=T4.exports,eM=Xn,tM=Zn,rM="[object Number]";function nM(e){return typeof e=="number"||tM(e)&&eM(e)==rM}var I4=nM;const sM=$e(I4);var aM=I4;function iM(e){return aM(e)&&e!=+e}var oM=iM;const Vc=$e(oM);var Gt=function(t){return t===0?0:t>0?1:-1},la=function(t){return Pa(t)&&t.indexOf("%")===t.length-1},Y=function(t){return sM(t)&&!Vc(t)},lM=function(t){return ue(t)},vt=function(t){return Y(t)||Pa(t)},cM=0,Po=function(t){var r=++cM;return"".concat(t||"").concat(r)},Qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&!Pa(t))return n;var i;if(la(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Vc(i)&&(i=n),s&&i>r&&(i=r),i},ms=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uM=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},gr=function(t,r){return Y(t)&&Y(r)?function(n){return t+n*(r-t)}:function(){return r}};function Id(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):br(n,t))===r})}var dM=function(t,r){return Y(t)&&Y(r)?t-r:Pa(t)&&Pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Pi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var fM=["viewBox","children"],hM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b1=["points","pathLength"],Wp={svg:fM,polygon:b1,polyline:b1},wv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!So(n))return null;var s={};return Object.keys(n).forEach(function(i){wv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},pM=function(t,r,n){return function(s){return t(r,n,s),null}},Ea=function(t,r,n){if(!So(t)||S0(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];wv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=pM(o,r,n))}),s},mM=["children"],gM=["children"];function w1(e,t){if(e==null)return{};var r=xM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var j1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ln=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},N1=null,Hp=null,jv=function e(t){if(t===N1&&Array.isArray(Hp))return Hp;var r=[];return O.Children.forEach(t,function(n){ue(n)||(J8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Hp=r,N1=t,r};function wr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ln(s)}):n=[Ln(t)],jv(e).forEach(function(s){var i=br(s,"type.displayName")||br(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function mr(e,t){var r=wr(e,t);return r&&r[0]}var S1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Y(n)||n<=0||!Y(s)||s<=0)},vM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yM=function(t){return t&&t.type&&Pa(t.type)&&vM.indexOf(t.type)>=0},bM=function(t){return t&&_0(t)==="object"&&"clipDot"in t},wM=function(t,r,n,s){var i,o=(i=Wp==null?void 0:Wp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ce(t)&&(s&&o.includes(r)||hM.includes(r))||n&&wv.includes(r)},ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!So(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;wM((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},A0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return _1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!_1(i,o))return!1}return!0},_1=function(t,r){if(ue(t)&&ue(r))return!0;if(!ue(t)&&!ue(r)){var n=t.props||{},s=n.children,i=w1(n,mM),o=r.props||{},l=o.children,c=w1(o,gM);return s&&l?Pi(i,c)&&A0(s,l):!s&&!l?Pi(i,c):!1}return!1},A1=function(t,r){var n=[],s={};return jv(t).forEach(function(i,o){if(yM(i))n.push(i);else if(i){var l=Ln(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var d=u(i,l,o);n.push(d),s[l]=!0}}}),n},jM=function(t){var r=t&&t.type;return r&&j1[r]?j1[r]:null},NM=function(t,r){return jv(r).indexOf(t)},SM=["children","width","height","viewBox","className","style","title","desc"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function _M(e,t){if(e==null)return{};var r=AM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P0(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=_M(e,SM),f=s||{width:r,height:n,x:0,y:0},d=he("recharts-surface",i);return C.createElement("svg",O0({},ae(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),C.createElement("title",null,l),C.createElement("desc",null,c),t)}var OM=["children","className"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function PM(e,t){if(e==null)return{};var r=EM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ne=C.forwardRef(function(e,t){var r=e.children,n=e.className,s=PM(e,OM),i=he("recharts-layer",n);return C.createElement("g",E0({className:i},ae(s,!0),{ref:t}),r)}),an=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function kM(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var CM=kM,TM=CM;function $M(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:TM(e,t,r)}var IM=$M,DM="\\ud800-\\udfff",MM="\\u0300-\\u036f",RM="\\ufe20-\\ufe2f",LM="\\u20d0-\\u20ff",FM=MM+RM+LM,UM="\\ufe0e\\ufe0f",BM="\\u200d",zM=RegExp("["+BM+DM+FM+UM+"]");function qM(e){return zM.test(e)}var D4=qM;function WM(e){return e.split("")}var HM=WM,M4="\\ud800-\\udfff",KM="\\u0300-\\u036f",VM="\\ufe20-\\ufe2f",GM="\\u20d0-\\u20ff",QM=KM+VM+GM,YM="\\ufe0e\\ufe0f",XM="["+M4+"]",k0="["+QM+"]",C0="\\ud83c[\\udffb-\\udfff]",ZM="(?:"+k0+"|"+C0+")",R4="[^"+M4+"]",L4="(?:\\ud83c[\\udde6-\\uddff]){2}",F4="[\\ud800-\\udbff][\\udc00-\\udfff]",JM="\\u200d",U4=ZM+"?",B4="["+YM+"]?",eR="(?:"+JM+"(?:"+[R4,L4,F4].join("|")+")"+B4+U4+")*",tR=B4+U4+eR,rR="(?:"+[R4+k0+"?",k0,L4,F4,XM].join("|")+")",nR=RegExp(C0+"(?="+C0+")|"+rR+tR,"g");function sR(e){return e.match(nR)||[]}var aR=sR,iR=HM,oR=D4,lR=aR;function cR(e){return oR(e)?lR(e):iR(e)}var uR=cR,dR=IM,fR=D4,hR=uR,pR=E4;function mR(e){return function(t){t=pR(t);var r=fR(t)?hR(t):void 0,n=r?r[0]:t.charAt(0),s=r?dR(r,1).join(""):t.slice(1);return n[e]()+s}}var gR=mR,xR=gR,vR=xR("toUpperCase"),yR=vR;const _h=$e(yR);function Be(e){return function(){return e}}const z4=Math.cos,Md=Math.sin,ln=Math.sqrt,Rd=Math.PI,Ah=2*Rd,T0=Math.PI,$0=2*T0,ea=1e-6,bR=$0-ea;function q4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class jR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q4:wR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ea)if(!(Math.abs(d*c-u*f)>ea)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=s-l,b=c*c+u*u,v=p*p+y*y,j=Math.sqrt(b),g=Math.sqrt(h),m=i*Math.tan((T0-Math.acos((b+h-v)/(2*j*g)))/2),S=m/g,x=m/j;Math.abs(S-1)>ea&&this._append`L${t+S*f},${r+S*d}`,this._append`A${i},${i},0,0,${+(d*p>f*y)},${this._x1=t+x*c},${this._y1=r+x*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,f=r+c,d=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ea||Math.abs(this._y1-f)>ea)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%$0+$0),h>bR?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>ea&&this._append`A${n},${n},0,${+(h>=T0)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Nv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jR(t)}function Sv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W4(e){this._context=e}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Oh(e){return new W4(e)}function H4(e){return e[0]}function K4(e){return e[1]}function V4(e,t){var r=Be(!0),n=null,s=Oh,i=null,o=Nv(l);e=typeof e=="function"?e:e===void 0?H4:Be(e),t=typeof t=="function"?t:t===void 0?K4:Be(t);function l(c){var u,f=(c=Sv(c)).length,d,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function _u(e,t,r){var n=null,s=Be(!0),i=null,o=Oh,l=null,c=Nv(u);e=typeof e=="function"?e:e===void 0?H4:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?K4:Be(+r);function u(d){var h,p,y,b=(d=Sv(d)).length,v,j=!1,g,m=new Array(b),S=new Array(b);for(i==null&&(l=o(g=c())),h=0;h<=b;++h){if(!(h<b&&s(v=d[h],h,d))===j)if(j=!j)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(m[y],S[y]);l.lineEnd(),l.areaEnd()}j&&(m[h]=+e(v,h,d),S[h]=+t(v,h,d),l.point(n?+n(v,h,d):m[h],r?+r(v,h,d):S[h]))}if(g)return l=null,g+""||null}function f(){return V4().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Be(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class G4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NR(e){return new G4(e,!0)}function SR(e){return new G4(e,!1)}const _v={draw(e,t){const r=ln(t/Rd);e.moveTo(r,0),e.arc(0,0,r,0,Ah)}},_R={draw(e,t){const r=ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Q4=ln(1/3),AR=Q4*2,OR={draw(e,t){const r=ln(t/AR),n=r*Q4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},PR={draw(e,t){const r=ln(t),n=-r/2;e.rect(n,n,r,r)}},ER=.8908130915292852,Y4=Md(Rd/10)/Md(7*Rd/10),kR=Md(Ah/10)*Y4,CR=-z4(Ah/10)*Y4,TR={draw(e,t){const r=ln(t*ER),n=kR*r,s=CR*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Ah*i/5,l=z4(o),c=Md(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Kp=ln(3),$R={draw(e,t){const r=-ln(t/(Kp*3));e.moveTo(0,r*2),e.lineTo(-Kp*r,-r),e.lineTo(Kp*r,-r),e.closePath()}},Pr=-.5,Er=ln(3)/2,I0=1/ln(12),IR=(I0/2+1)*3,DR={draw(e,t){const r=ln(t/IR),n=r/2,s=r*I0,i=n,o=r*I0+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Pr*n-Er*s,Er*n+Pr*s),e.lineTo(Pr*i-Er*o,Er*i+Pr*o),e.lineTo(Pr*l-Er*c,Er*l+Pr*c),e.lineTo(Pr*n+Er*s,Pr*s-Er*n),e.lineTo(Pr*i+Er*o,Pr*o-Er*i),e.lineTo(Pr*l+Er*c,Pr*c-Er*l),e.closePath()}};function MR(e,t){let r=null,n=Nv(s);e=typeof e=="function"?e:Be(e||_v),t=typeof t=="function"?t:Be(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Be(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Be(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ld(){}function Fd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function X4(e){this._context=e}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RR(e){return new X4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:Ld,areaEnd:Ld,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LR(e){return new Z4(e)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FR(e){return new J4(e)}function eA(e){this._context=e}eA.prototype={areaStart:Ld,areaEnd:Ld,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UR(e){return new eA(e)}function O1(e){return e<0?-1:1}function P1(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(O1(i)+O1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function E1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vp(this,this._t0,E1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vp(this,E1(this,r=P1(this,e,t)),r);break;default:Vp(this,this._t0,r=P1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tA(e){this._context=new rA(e)}(tA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function rA(e){this._context=e}rA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function BR(e){return new Ud(e)}function zR(e){return new tA(e)}function nA(e){this._context=e}nA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=k1(e),s=k1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function k1(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function qR(e){return new nA(e)}function Ph(e,t){this._context=e,this._t=t}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WR(e){return new Ph(e,.5)}function HR(e){return new Ph(e,0)}function KR(e){return new Ph(e,1)}function Bi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function D0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VR(e,t){return e[t]}function GR(e){const t=[];return t.key=e,t}function QR(){var e=Be([]),t=D0,r=Bi,n=VR;function s(i){var o=Array.from(e.apply(this,arguments),GR),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Sv(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Be(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Be(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?D0:typeof i=="function"?i:Be(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Bi,s):r},s}function YR(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Bi(e,t)}}function XR(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bi(e,t)}}function ZR(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var b=e[t[y]],v=b[n][1]||0,j=b[n-1][1]||0;p+=v-j}c+=d,u+=p*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Bi(e,t)}}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}var JR=["type","size","sizeType"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){e9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t,r){return t=t9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return Jl(t)=="symbol"?t:t+""}function r9(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e,t){if(e==null)return{};var r=s9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sA={symbolCircle:_v,symbolCross:_R,symbolDiamond:OR,symbolSquare:PR,symbolStar:TR,symbolTriangle:$R,symbolWye:DR},a9=Math.PI/180,i9=function(t){var r="symbol".concat(_h(t));return sA[r]||_v},o9=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*a9;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l9=function(t,r){sA["symbol".concat(_h(t))]=r},Av=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=n9(t,JR),u=T1(T1({},c),{},{type:n,size:i,sizeType:l}),f=function(){var v=i9(n),j=MR().type(v).size(o9(i,l,n));return j()},d=u.className,h=u.cx,p=u.cy,y=ae(u,!0);return h===+h&&p===+p&&i===+i?C.createElement("path",M0({},y,{className:he("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Av.registerSymbol=l9;function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iA(n.key),n)}}function f9(e,t,r){return t&&d9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h9(e,t,r){return t=Bd(t),p9(e,aA()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function p9(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m9(e)}function m9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function g9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L0(e,t)}function L0(e,t){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L0(e,t)}function ec(e,t,r){return t=iA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iA(e){var t=x9(e,"string");return zi(t)=="symbol"?t:t+""}function x9(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kr=32,Ov=function(e){function t(){return u9(this,t),h9(this,t,arguments)}return g9(t,e),f9(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=kr/2,o=kr/6,l=kr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:kr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(kr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(kr/8,"h").concat(kr,"v").concat(kr*3/4,"h").concat(-kr,"z"),className:"recharts-legend-icon"});if(C.isValidElement(n.legendIcon)){var u=c9({},n);return delete u.legendIcon,C.cloneElement(n.legendIcon,u)}return C.createElement(Av,{fill:c,cx:i,cy:i,size:kr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:kr,height:kr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var b=p.formatter||c,v=he(ec(ec({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var j=ce(p.value)?null:p.value;an(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return C.createElement("li",R0({className:v,style:d,key:"legend-item-".concat(y)},Ea(n.props,p,y)),C.createElement(P0,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},b?b(j,p,y):j))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);ec(Ov,"displayName","Legend");ec(Ov,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v9=fh;function y9(){this.__data__=new v9,this.size=0}var b9=y9;function w9(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var j9=w9;function N9(e){return this.__data__.get(e)}var S9=N9;function _9(e){return this.__data__.has(e)}var A9=_9,O9=fh,P9=pv,E9=mv,k9=200;function C9(e,t){var r=this.__data__;if(r instanceof O9){var n=r.__data__;if(!P9||n.length<k9-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new E9(n)}return r.set(e,t),this.size=r.size,this}var T9=C9,$9=fh,I9=b9,D9=j9,M9=S9,R9=A9,L9=T9;function Eo(e){var t=this.__data__=new $9(e);this.size=t.size}Eo.prototype.clear=I9;Eo.prototype.delete=D9;Eo.prototype.get=M9;Eo.prototype.has=R9;Eo.prototype.set=L9;var oA=Eo,F9="__lodash_hash_undefined__";function U9(e){return this.__data__.set(e,F9),this}var B9=U9;function z9(e){return this.__data__.has(e)}var q9=z9,W9=mv,H9=B9,K9=q9;function zd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new W9;++t<r;)this.add(e[t])}zd.prototype.add=zd.prototype.push=H9;zd.prototype.has=K9;var lA=zd;function V9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cA=V9;function G9(e,t){return e.has(t)}var uA=G9,Q9=lA,Y9=cA,X9=uA,Z9=1,J9=2;function eL(e,t,r,n,s,i){var o=r&Z9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&J9?new Q9:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var y=e[d],b=t[d];if(n)var v=o?n(b,y,d,t,e,i):n(y,b,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Y9(t,function(j,g){if(!X9(p,g)&&(y===j||s(y,j,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(y===b||s(y,b,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var dA=eL,tL=jn,rL=tL.Uint8Array,nL=rL;function sL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var aL=sL;function iL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Pv=iL,I1=Kc,D1=nL,oL=hv,lL=dA,cL=aL,uL=Pv,dL=1,fL=2,hL="[object Boolean]",pL="[object Date]",mL="[object Error]",gL="[object Map]",xL="[object Number]",vL="[object RegExp]",yL="[object Set]",bL="[object String]",wL="[object Symbol]",jL="[object ArrayBuffer]",NL="[object DataView]",M1=I1?I1.prototype:void 0,Gp=M1?M1.valueOf:void 0;function SL(e,t,r,n,s,i,o){switch(r){case NL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jL:return!(e.byteLength!=t.byteLength||!i(new D1(e),new D1(t)));case hL:case pL:case xL:return oL(+e,+t);case mL:return e.name==t.name&&e.message==t.message;case vL:case bL:return e==t+"";case gL:var l=cL;case yL:var c=n&dL;if(l||(l=uL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=fL,o.set(e,t);var f=lL(l(e),l(t),n,s,i,o);return o.delete(e),f;case wL:if(Gp)return Gp.call(e)==Gp.call(t)}return!1}var _L=SL;function AL(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var fA=AL,OL=fA,PL=dr;function EL(e,t,r){var n=t(e);return PL(e)?n:OL(n,r(e))}var kL=EL;function CL(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var TL=CL;function $L(){return[]}var IL=$L,DL=TL,ML=IL,RL=Object.prototype,LL=RL.propertyIsEnumerable,R1=Object.getOwnPropertySymbols,FL=R1?function(e){return e==null?[]:(e=Object(e),DL(R1(e),function(t){return LL.call(e,t)}))}:ML,UL=FL;function BL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var zL=BL,qL=Xn,WL=Zn,HL="[object Arguments]";function KL(e){return WL(e)&&qL(e)==HL}var VL=KL,L1=VL,GL=Zn,hA=Object.prototype,QL=hA.hasOwnProperty,YL=hA.propertyIsEnumerable,XL=L1(function(){return arguments}())?L1:function(e){return GL(e)&&QL.call(e,"callee")&&!YL.call(e,"callee")},Ev=XL,qd={exports:{}};function ZL(){return!1}var JL=ZL;qd.exports;(function(e,t){var r=jn,n=JL,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(qd,qd.exports);var pA=qd.exports,e7=9007199254740991,t7=/^(?:0|[1-9]\d*)$/;function r7(e,t){var r=typeof e;return t=t??e7,!!t&&(r=="number"||r!="symbol"&&t7.test(e))&&e>-1&&e%1==0&&e<t}var kv=r7,n7=9007199254740991;function s7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n7}var Cv=s7,a7=Xn,i7=Cv,o7=Zn,l7="[object Arguments]",c7="[object Array]",u7="[object Boolean]",d7="[object Date]",f7="[object Error]",h7="[object Function]",p7="[object Map]",m7="[object Number]",g7="[object Object]",x7="[object RegExp]",v7="[object Set]",y7="[object String]",b7="[object WeakMap]",w7="[object ArrayBuffer]",j7="[object DataView]",N7="[object Float32Array]",S7="[object Float64Array]",_7="[object Int8Array]",A7="[object Int16Array]",O7="[object Int32Array]",P7="[object Uint8Array]",E7="[object Uint8ClampedArray]",k7="[object Uint16Array]",C7="[object Uint32Array]",Ye={};Ye[N7]=Ye[S7]=Ye[_7]=Ye[A7]=Ye[O7]=Ye[P7]=Ye[E7]=Ye[k7]=Ye[C7]=!0;Ye[l7]=Ye[c7]=Ye[w7]=Ye[u7]=Ye[j7]=Ye[d7]=Ye[f7]=Ye[h7]=Ye[p7]=Ye[m7]=Ye[g7]=Ye[x7]=Ye[v7]=Ye[y7]=Ye[b7]=!1;function T7(e){return o7(e)&&i7(e.length)&&!!Ye[a7(e)]}var $7=T7;function I7(e){return function(t){return e(t)}}var mA=I7,Wd={exports:{}};Wd.exports;(function(e,t){var r=N4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Wd,Wd.exports);var D7=Wd.exports,M7=$7,R7=mA,F1=D7,U1=F1&&F1.isTypedArray,L7=U1?R7(U1):M7,gA=L7,F7=zL,U7=Ev,B7=dr,z7=pA,q7=kv,W7=gA,H7=Object.prototype,K7=H7.hasOwnProperty;function V7(e,t){var r=B7(e),n=!r&&U7(e),s=!r&&!n&&z7(e),i=!r&&!n&&!s&&W7(e),o=r||n||s||i,l=o?F7(e.length,String):[],c=l.length;for(var u in e)(t||K7.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||q7(u,c)))&&l.push(u);return l}var G7=V7,Q7=Object.prototype;function Y7(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Q7;return e===r}var X7=Y7;function Z7(e,t){return function(r){return e(t(r))}}var xA=Z7,J7=xA,eF=J7(Object.keys,Object),tF=eF,rF=X7,nF=tF,sF=Object.prototype,aF=sF.hasOwnProperty;function iF(e){if(!rF(e))return nF(e);var t=[];for(var r in Object(e))aF.call(e,r)&&r!="constructor"&&t.push(r);return t}var oF=iF,lF=fv,cF=Cv;function uF(e){return e!=null&&cF(e.length)&&!lF(e)}var Gc=uF,dF=G7,fF=oF,hF=Gc;function pF(e){return hF(e)?dF(e):fF(e)}var Eh=pF,mF=kL,gF=UL,xF=Eh;function vF(e){return mF(e,xF,gF)}var yF=vF,B1=yF,bF=1,wF=Object.prototype,jF=wF.hasOwnProperty;function NF(e,t,r,n,s,i){var o=r&bF,l=B1(e),c=l.length,u=B1(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:jF.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var b=!0;i.set(e,t),i.set(t,e);for(var v=o;++d<c;){h=l[d];var j=e[h],g=t[h];if(n)var m=o?n(g,j,h,t,e,i):n(j,g,h,e,t,i);if(!(m===void 0?j===g||s(j,g,r,n,i):m)){b=!1;break}v||(v=h=="constructor")}if(b&&!v){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(b=!1)}return i.delete(e),i.delete(t),b}var SF=NF,_F=La,AF=jn,OF=_F(AF,"DataView"),PF=OF,EF=La,kF=jn,CF=EF(kF,"Promise"),TF=CF,$F=La,IF=jn,DF=$F(IF,"Set"),vA=DF,MF=La,RF=jn,LF=MF(RF,"WeakMap"),FF=LF,F0=PF,U0=pv,B0=TF,z0=vA,q0=FF,yA=Xn,ko=_4,z1="[object Map]",UF="[object Object]",q1="[object Promise]",W1="[object Set]",H1="[object WeakMap]",K1="[object DataView]",BF=ko(F0),zF=ko(U0),qF=ko(B0),WF=ko(z0),HF=ko(q0),ta=yA;(F0&&ta(new F0(new ArrayBuffer(1)))!=K1||U0&&ta(new U0)!=z1||B0&&ta(B0.resolve())!=q1||z0&&ta(new z0)!=W1||q0&&ta(new q0)!=H1)&&(ta=function(e){var t=yA(e),r=t==UF?e.constructor:void 0,n=r?ko(r):"";if(n)switch(n){case BF:return K1;case zF:return z1;case qF:return q1;case WF:return W1;case HF:return H1}return t});var KF=ta,Qp=oA,VF=dA,GF=_L,QF=SF,V1=KF,G1=dr,Q1=pA,YF=gA,XF=1,Y1="[object Arguments]",X1="[object Array]",Au="[object Object]",ZF=Object.prototype,Z1=ZF.hasOwnProperty;function JF(e,t,r,n,s,i){var o=G1(e),l=G1(t),c=o?X1:V1(e),u=l?X1:V1(t);c=c==Y1?Au:c,u=u==Y1?Au:u;var f=c==Au,d=u==Au,h=c==u;if(h&&Q1(e)){if(!Q1(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Qp),o||YF(e)?VF(e,t,r,n,s,i):GF(e,t,c,r,n,s,i);if(!(r&XF)){var p=f&&Z1.call(e,"__wrapped__"),y=d&&Z1.call(t,"__wrapped__");if(p||y){var b=p?e.value():e,v=y?t.value():t;return i||(i=new Qp),s(b,v,r,n,i)}}return h?(i||(i=new Qp),QF(e,t,r,n,s,i)):!1}var eU=JF,tU=eU,J1=Zn;function bA(e,t,r,n,s){return e===t?!0:e==null||t==null||!J1(e)&&!J1(t)?e!==e&&t!==t:tU(e,t,r,n,bA,s)}var Tv=bA,rU=oA,nU=Tv,sU=1,aU=2;function iU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new rU;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?nU(f,u,sU|aU,n,d):h))return!1}}return!0}var oU=iU,lU=Bs;function cU(e){return e===e&&!lU(e)}var wA=cU,uU=wA,dU=Eh;function fU(e){for(var t=dU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,uU(s)]}return t}var hU=fU;function pU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jA=pU,mU=oU,gU=hU,xU=jA;function vU(e){var t=gU(e);return t.length==1&&t[0][2]?xU(t[0][0],t[0][1]):function(r){return r===e||mU(r,e,t)}}var yU=vU;function bU(e,t){return e!=null&&t in Object(e)}var wU=bU,jU=k4,NU=Ev,SU=dr,_U=kv,AU=Cv,OU=ph;function PU(e,t,r){t=jU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=OU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&AU(s)&&_U(o,s)&&(SU(e)||NU(e)))}var EU=PU,kU=wU,CU=EU;function TU(e,t){return e!=null&&CU(e,t,kU)}var $U=TU,IU=Tv,DU=C4,MU=$U,RU=dv,LU=wA,FU=jA,UU=ph,BU=1,zU=2;function qU(e,t){return RU(e)&&LU(t)?FU(UU(e),t):function(r){var n=DU(r,e);return n===void 0&&n===t?MU(r,e):IU(t,n,BU|zU)}}var WU=qU;function HU(e){return e}var Co=HU;function KU(e){return function(t){return t==null?void 0:t[e]}}var VU=KU,GU=vv;function QU(e){return function(t){return GU(t,e)}}var YU=QU,XU=VU,ZU=YU,JU=dv,eB=ph;function tB(e){return JU(e)?XU(eB(e)):ZU(e)}var rB=tB,nB=yU,sB=WU,aB=Co,iB=dr,oB=rB;function lB(e){return typeof e=="function"?e:e==null?aB:typeof e=="object"?iB(e)?sB(e[0],e[1]):nB(e):oB(e)}var Nn=lB;function cB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var NA=cB;function uB(e){return e!==e}var dB=uB;function fB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var hB=fB,pB=NA,mB=dB,gB=hB;function xB(e,t,r){return t===t?gB(e,t,r):pB(e,mB,r)}var vB=xB,yB=vB;function bB(e,t){var r=e==null?0:e.length;return!!r&&yB(e,t,0)>-1}var wB=bB;function jB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var NB=jB;function SB(){}var _B=SB,Yp=vA,AB=_B,OB=Pv,PB=1/0,EB=Yp&&1/OB(new Yp([,-0]))[1]==PB?function(e){return new Yp(e)}:AB,kB=EB,CB=lA,TB=wB,$B=NB,IB=uA,DB=kB,MB=Pv,RB=200;function LB(e,t,r){var n=-1,s=TB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=$B;else if(i>=RB){var u=t?null:DB(e);if(u)return MB(u);o=!1,s=IB,c=new CB}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var FB=LB,UB=Nn,BB=FB;function zB(e,t){return e&&e.length?BB(e,UB(t)):[]}var qB=zB;const ew=$e(qB);function SA(e,t,r){return t===!0?ew(e,r):ce(t)?ew(e,t):e}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var WB=["ref"];function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AA(n.key),n)}}function KB(e,t,r){return t&&rw(e.prototype,t),r&&rw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VB(e,t,r){return t=Hd(t),GB(e,_A()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function GB(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QB(e)}function QB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function YB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W0(e,t)}function kh(e,t,r){return t=AA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AA(e){var t=XB(e,"string");return qi(t)=="symbol"?t:t+""}function XB(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t){if(e==null)return{};var r=JB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ez(e){return e.value}function tz(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=ZB(t,WB);return C.createElement(Ov,r)}var nw=1,Ei=function(e){function t(){var r;HB(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=VB(this,t,[].concat(s)),kh(r,"lastBoundingBox",{width:-1,height:-1}),r}return YB(t,e),KB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>nw||Math.abs(s.height-this.lastBoundingBox.height)>nw)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_n({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _n(_n({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,d=_n(_n({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return C.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},tz(i,_n(_n({},this.props),{},{payload:SA(f,u,ez)})))}}],[{key:"getWithHeight",value:function(n,s){var i=_n(_n({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);kh(Ei,"displayName","Legend");kh(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sw=Kc,rz=Ev,nz=dr,aw=sw?sw.isConcatSpreadable:void 0;function sz(e){return nz(e)||rz(e)||!!(aw&&e&&e[aw])}var az=sz,iz=fA,oz=az;function OA(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=oz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?OA(l,t-1,r,n,s):iz(s,l):n||(s[s.length]=l)}return s}var PA=OA;function lz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var cz=lz,uz=cz,dz=uz(),fz=dz,hz=fz,pz=Eh;function mz(e,t){return e&&hz(e,t,pz)}var EA=mz,gz=Gc;function xz(e,t){return function(r,n){if(r==null)return r;if(!gz(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var vz=xz,yz=EA,bz=vz,wz=bz(yz),$v=wz,jz=$v,Nz=Gc;function Sz(e,t){var r=-1,n=Nz(e)?Array(e.length):[];return jz(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var kA=Sz;function _z(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Az=_z,iw=No;function Oz(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=iw(e),o=t!==void 0,l=t===null,c=t===t,u=iw(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Pz=Oz,Ez=Pz;function kz(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Ez(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Cz=kz,Xp=xv,Tz=vv,$z=Nn,Iz=kA,Dz=Az,Mz=mA,Rz=Cz,Lz=Co,Fz=dr;function Uz(e,t,r){t.length?t=Xp(t,function(i){return Fz(i)?function(o){return Tz(o,i.length===1?i[0]:i)}:i}):t=[Lz];var n=-1;t=Xp(t,Mz($z));var s=Iz(e,function(i,o,l){var c=Xp(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Dz(s,function(i,o){return Rz(i,o,r)})}var Bz=Uz;function zz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qz=zz,Wz=qz,ow=Math.max;function Hz(e,t,r){return t=ow(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=ow(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Wz(e,this,l)}}var Kz=Hz;function Vz(e){return function(){return e}}var Gz=Vz,Qz=La,Yz=function(){try{var e=Qz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CA=Yz,Xz=Gz,lw=CA,Zz=Co,Jz=lw?function(e,t){return lw(e,"toString",{configurable:!0,enumerable:!1,value:Xz(t),writable:!0})}:Zz,eq=Jz,tq=800,rq=16,nq=Date.now;function sq(e){var t=0,r=0;return function(){var n=nq(),s=rq-(n-r);if(r=n,s>0){if(++t>=tq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var aq=sq,iq=eq,oq=aq,lq=oq(iq),cq=lq,uq=Co,dq=Kz,fq=cq;function hq(e,t){return fq(dq(e,t,uq),e+"")}var pq=hq,mq=hv,gq=Gc,xq=kv,vq=Bs;function yq(e,t,r){if(!vq(r))return!1;var n=typeof t;return(n=="number"?gq(r)&&xq(t,r.length):n=="string"&&t in r)?mq(r[t],e):!1}var Ch=yq,bq=PA,wq=Bz,jq=pq,cw=Ch,Nq=jq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&cw(e,t[0],t[1])?t=[]:r>2&&cw(t[0],t[1],t[2])&&(t=[t[0]]),wq(e,bq(t,1),[])}),Sq=Nq;const Iv=$e(Sq);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function _q(e,t){return Eq(e)||Pq(e,t)||Oq(e,t)||Aq()}function Aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eq(e){if(Array.isArray(e))return e}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Tq(e,"string");return tc(t)=="symbol"?t:t+""}function Tq(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $q(e){return Array.isArray(e)&&vt(e[0])&&vt(e[1])?e.join(" ~ "):e}var Iq=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,b=t.label,v=t.labelFormatter,j=t.accessibilityLayer,g=j===void 0?!1:j,m=function(){if(f&&f.length){var k={padding:0,margin:0},D=(h?Iv(f,h):f).map(function($,L){if($.type==="none")return null;var U=Zp({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),q=$.formatter||d||$q,T=$.value,R=$.name,I=T,K=R;if(q&&I!=null&&K!=null){var Q=q(T,R,$,L,f);if(Array.isArray(Q)){var te=_q(Q,2);I=te[0],K=te[1]}else I=Q}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},vt(K)?C.createElement("span",{className:"recharts-tooltip-item-name"},K):null,vt(K)?C.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,C.createElement("span",{className:"recharts-tooltip-item-value"},I),C.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},S=Zp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=Zp({margin:0},u),w=!ue(b),_=w?b:"",N=he("recharts-default-tooltip",p),A=he("recharts-tooltip-label",y);w&&v&&f!==void 0&&f!==null&&(_=v(b,f));var P=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",H0({className:N,style:S},P),C.createElement("p",{className:A,style:x},C.isValidElement(_)?_:"".concat(_)),m())};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Ou(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return rc(t)=="symbol"?t:t+""}function Mq(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qo="recharts-tooltip-wrapper",Rq={visibility:"hidden"};function Lq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return he(Qo,Ou(Ou(Ou(Ou({},"".concat(Qo,"-right"),Y(r)&&t&&Y(t.x)&&r>=t.x),"".concat(Qo,"-left"),Y(r)&&t&&Y(t.x)&&r<t.x),"".concat(Qo,"-bottom"),Y(n)&&t&&Y(t.y)&&n>=t.y),"".concat(Qo,"-top"),Y(n)&&t&&Y(t.y)&&n<t.y))}function fw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Y(i[n]))return i[n];var f=r[n]-l-s,d=r[n]+s;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,b=c[n]+u;return y>b?Math.max(f,c[n]):Math.max(d,c[n])}function Fq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Uq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=fw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=fw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Fq({translateX:f,translateY:d,useTranslate3d:l})):u=Rq,{cssProperties:u,cssClasses:Lq({translateX:f,translateY:d,coordinate:r})}}function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$A(n.key),n)}}function qq(e,t,r){return t&&zq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wq(e,t,r){return t=Kd(t),Hq(e,TA()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function Hq(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TA=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function Vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K0(e,t)}function V0(e,t,r){return t=$A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e){var t=Gq(e,"string");return Wi(t)=="symbol"?t:t+""}function Gq(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mw=1,Qq=function(e){function t(){var r;Bq(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Wq(this,t,[].concat(s)),V0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Vq(t,e),qq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mw||Math.abs(n.height-this.state.lastBoundingBox.height)>mw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,p=s.offset,y=s.position,b=s.reverseDirection,v=s.useTranslate3d,j=s.viewBox,g=s.wrapperStyle,m=Uq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),S=m.cssClasses,x=m.cssProperties,w=pw(pw({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return C.createElement("div",{tabIndex:-1,className:S,style:w,ref:function(N){n.wrapperNode=N}},u)}}])}(O.PureComponent),Yq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xn={isSsr:Yq(),get:function(t){return xn[t]},set:function(t,r){if(typeof t=="string")xn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){xn[s]=t[s]})}}};function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function Jq(e,t,r){return t&&Zq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eW(e,t,r){return t=Vd(t),tW(e,IA()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function tW(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rW(e)}function rW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IA=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function nW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G0(e,t)}function G0(e,t){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G0(e,t)}function Dv(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=sW(e,"string");return Hi(t)=="symbol"?t:t+""}function sW(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aW(e){return e.dataKey}function iW(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(Iq,t)}var ze=function(e){function t(){return Xq(this,t),eW(this,t,arguments)}return nW(t,e),Jq(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,d=s.filterNull,h=s.isAnimationActive,p=s.offset,y=s.payload,b=s.payloadUniqBy,v=s.position,j=s.reverseDirection,g=s.useTranslate3d,m=s.viewBox,S=s.wrapperStyle,x=y??[];d&&x.length&&(x=SA(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),b,aW));var w=x.length>0;return C.createElement(Qq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:w,offset:p,position:v,reverseDirection:j,useTranslate3d:g,viewBox:m,wrapperStyle:S},iW(u,xw(xw({},this.props),{},{payload:x})))}}])}(O.PureComponent);Dv(ze,"displayName","Tooltip");Dv(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oW=jn,lW=function(){return oW.Date.now()},cW=lW,uW=/\s/;function dW(e){for(var t=e.length;t--&&uW.test(e.charAt(t)););return t}var fW=dW,hW=fW,pW=/^\s+/;function mW(e){return e&&e.slice(0,hW(e)+1).replace(pW,"")}var gW=mW,xW=gW,vw=Bs,vW=No,yw=NaN,yW=/^[-+]0x[0-9a-f]+$/i,bW=/^0b[01]+$/i,wW=/^0o[0-7]+$/i,jW=parseInt;function NW(e){if(typeof e=="number")return e;if(vW(e))return yw;if(vw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xW(e);var r=bW.test(e);return r||wW.test(e)?jW(e.slice(2),r?2:8):yW.test(e)?yw:+e}var MA=NW,SW=Bs,Jp=cW,bw=MA,_W="Expected a function",AW=Math.max,OW=Math.min;function PW(e,t,r){var n,s,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(_W);t=bw(t)||0,SW(r)&&(f=!!r.leading,d="maxWait"in r,i=d?AW(bw(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(w){var _=n,N=s;return n=s=void 0,u=w,o=e.apply(N,_),o}function y(w){return u=w,l=setTimeout(j,t),f?p(w):o}function b(w){var _=w-c,N=w-u,A=t-_;return d?OW(A,i-N):A}function v(w){var _=w-c,N=w-u;return c===void 0||_>=t||_<0||d&&N>=i}function j(){var w=Jp();if(v(w))return g(w);l=setTimeout(j,b(w))}function g(w){return l=void 0,h&&n?p(w):(n=s=void 0,o)}function m(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:g(Jp())}function x(){var w=Jp(),_=v(w);if(n=arguments,s=this,c=w,_){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(j,t),p(c)}return l===void 0&&(l=setTimeout(j,t)),o}return x.cancel=m,x.flush=S,x}var EW=PW,kW=EW,CW=Bs,TW="Expected a function";function $W(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(TW);return CW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),kW(e,t,{leading:n,maxWait:t,trailing:s})}var IW=$W;const RA=$e(IW);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return t=MW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=RW(e,"string");return nc(t)=="symbol"?t:t+""}function RW(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LW(e,t){return zW(e)||BW(e,t)||UW(e,t)||FW()}function FW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zW(e){if(Array.isArray(e))return e}var Tt=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,b=y===void 0?0:y,v=e.id,j=e.className,g=e.onResize,m=e.style,S=m===void 0?{}:m,x=O.useRef(null),w=O.useRef();w.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var _=O.useState({containerWidth:s.width,containerHeight:s.height}),N=LW(_,2),A=N[0],P=N[1],E=O.useCallback(function(D,$){P(function(L){var U=Math.round(D),q=Math.round($);return L.containerWidth===U&&L.containerHeight===q?L:{containerWidth:U,containerHeight:q}})},[]);O.useEffect(function(){var D=function(R){var I,K=R[0].contentRect,Q=K.width,te=K.height;E(Q,te),(I=w.current)===null||I===void 0||I.call(w,Q,te)};b>0&&(D=RA(D,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(D),L=x.current.getBoundingClientRect(),U=L.width,q=L.height;return E(U,q),$.observe(x.current),function(){$.disconnect()}},[E,b]);var k=O.useMemo(function(){var D=A.containerWidth,$=A.containerHeight;if(D<0||$<0)return null;an(la(o)||la(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),an(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=la(o)?D:o,U=la(c)?$:c;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),an(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,o,c,f,d,r);var q=!Array.isArray(p)&&Ln(p.type).endsWith("Chart");return C.Children.map(p,function(T){return C.isValidElement(T)?O.cloneElement(T,Pu({width:L,height:U},q?{style:Pu({height:"100%",width:"100%",maxHeight:U,maxWidth:L},T.props.style)}:{})):T})},[r,p,c,h,d,f,A,o]);return C.createElement("div",{id:v?"".concat(v):void 0,className:he("recharts-responsive-container",j),style:Pu(Pu({},S),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:x},k)}),zs=function(t){return null};zs.displayName="Cell";function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){qW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qW(e,t,r){return t=WW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=HW(e,"string");return sc(t)=="symbol"?t:t+""}function HW(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xa={widthCache:{},cacheCount:0},KW=2e3,VW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sw="recharts_measurement_span";function GW(e){var t=Q0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var jl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xn.isSsr)return{width:0,height:0};var n=GW(r),s=JSON.stringify({text:t,copyStyle:n});if(Xa.widthCache[s])return Xa.widthCache[s];try{var i=document.getElementById(Sw);i||(i=document.createElement("span"),i.setAttribute("id",Sw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Q0(Q0({},VW),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Xa.widthCache[s]=c,++Xa.cacheCount>KW&&(Xa.cacheCount=0,Xa.widthCache={}),c}catch{return{width:0,height:0}}},QW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Gd(e,t){return JW(e)||ZW(e,t)||XW(e,t)||YW()}function YW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JW(e){if(Array.isArray(e))return e}function eH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rH(n.key),n)}}function tH(e,t,r){return t&&Aw(e.prototype,t),r&&Aw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rH(e){var t=nH(e,"string");return ac(t)=="symbol"?t:t+""}function nH(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ow=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iH=Object.keys(LA),gi="NaN";function oH(e,t){return e*LA[t]}var Eu=function(){function e(t,r){eH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sH.test(r)&&(this.num=NaN,this.unit=""),iH.includes(r)&&(this.num=oH(t,r),this.unit="px")}return tH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=aH.exec(r))!==null&&n!==void 0?n:[],i=Gd(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function FA(e){if(e.includes(gi))return gi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Ow.exec(t))!==null&&r!==void 0?r:[],s=Gd(n,4),i=s[1],o=s[2],l=s[3],c=Eu.parse(i??""),u=Eu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return gi;t=t.replace(Ow,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Pw.exec(t))!==null&&d!==void 0?d:[],p=Gd(h,4),y=p[1],b=p[2],v=p[3],j=Eu.parse(y??""),g=Eu.parse(v??""),m=b==="+"?j.add(g):j.subtract(g);if(m.isNaN())return gi;t=t.replace(Pw,m.toString())}return t}var Ew=/\(([^()]*)\)/;function lH(e){for(var t=e;t.includes("(");){var r=Ew.exec(t),n=Gd(r,2),s=n[1];t=t.replace(Ew,FA(s))}return t}function cH(e){var t=e.replace(/\s+/g,"");return t=lH(t),t=FA(t),t}function uH(e){try{return cH(e)}catch{return gi}}function em(e){var t=uH(e.slice(5,-1));return t===gi?"":t}var dH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fH=["dx","dy","angle","className","breakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function kw(e,t){if(e==null)return{};var r=hH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cw(e,t){return xH(e)||gH(e,t)||mH(e,t)||pH()}function pH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xH(e){if(Array.isArray(e))return e}var UA=/[ \f\n\r\t\v\u2028\u2029]+/,BA=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];ue(r)||(n?i=r.toString().split(""):i=r.toString().split(UA));var o=i.map(function(c){return{word:c,width:jl(c,s).width}}),l=n?0:jl("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},vH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Y(o),d=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,q){var T=q.word,R=q.width,I=U[U.length-1];if(I&&(s==null||i||I.width+R+n<Number(s)))I.words.push(T),I.width+=R+n;else{var K={words:[T],width:R};U.push(K)}return U},[])},p=h(r),y=function(L){return L.reduce(function(U,q){return U.width>q.width?U:q})};if(!f)return p;for(var b="",v=function(L){var U=d.slice(0,L),q=BA({breakAll:u,style:c,children:U+b}).wordsWithComputedWidth,T=h(q),R=T.length>o||y(T).width>Number(s);return[R,T]},j=0,g=d.length-1,m=0,S;j<=g&&m<=d.length-1;){var x=Math.floor((j+g)/2),w=x-1,_=v(w),N=Cw(_,2),A=N[0],P=N[1],E=v(x),k=Cw(E,1),D=k[0];if(!A&&!D&&(j=x+1),A&&D&&(g=x-1),!A&&D){S=P;break}m++}return S||p},$w=function(t){var r=ue(t)?[]:t.toString().split(UA);return[{words:r}]},yH=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!xn.isSsr){var c,u,f=BA({breakAll:o,children:s,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return $w(s);return vH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return $w(s)},Iw="#808080",ka=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,b=y===void 0?"end":y,v=t.fill,j=v===void 0?Iw:v,g=kw(t,dH),m=O.useMemo(function(){return yH({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,x=g.dy,w=g.angle,_=g.className,N=g.breakAll,A=kw(g,fH);if(!vt(n)||!vt(i))return null;var P=n+(Y(S)?S:0),E=i+(Y(x)?x:0),k;switch(b){case"start":k=em("calc(".concat(u,")"));break;case"middle":k=em("calc(".concat((m.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=em("calc(".concat(m.length-1," * -").concat(l,")"));break}var D=[];if(d){var $=m[0].width,L=g.width;D.push("scale(".concat((Y(L)?L/$:1)/$,")"))}return w&&D.push("rotate(".concat(w,", ").concat(P,", ").concat(E,")")),D.length&&(A.transform=D.join(" ")),C.createElement("text",Y0({},ae(A,!0),{x:P,y:E,className:he("recharts-text",_),textAnchor:p,fill:j.includes("url")?Iw:j}),m.map(function(U,q){var T=U.words.join(N?"":" ");return C.createElement("tspan",{x:P,dy:q===0?k:l,key:"".concat(T,"-").concat(q)},T)}))};function Ts(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mv(e){let t,r,n;e.length!==2?(t=Ts,r=(l,c)=>Ts(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ts||e===bH?e:wH,r=e,n=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function wH(){return 0}function zA(e){return e===null?NaN:+e}function*jH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NH=Mv(Ts),Qc=NH.right;Mv(zA).center;class Dw extends Map{constructor(t,r=AH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Mw(this,t))}has(t){return super.has(Mw(this,t))}set(t,r){return super.set(SH(this,t),r)}delete(t){return super.delete(_H(this,t))}}function Mw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _H({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function AH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OH(e=Ts){if(e===Ts)return qA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PH=Math.sqrt(50),EH=Math.sqrt(10),kH=Math.sqrt(2);function Qd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=PH?10:i>=EH?5:i>=kH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Qd(e,t,r*2):[l,c,u]}function X0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Qd(t,e,r):Qd(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Z0(e,t,r){return t=+t,e=+e,r=+r,Qd(e,t,r)[2]}function J0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Z0(t,e,r):Z0(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Rw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Lw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WA(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?qA:OH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));WA(e,t,p,y,s)}const i=e[t];let o=r,l=n;for(Yo(e,r,t),s(e[n],i)>0&&Yo(e,r,n);o<l;){for(Yo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Yo(e,r,l):(++l,Yo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Yo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function CH(e,t,r){if(e=Float64Array.from(jH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Lw(e);if(t>=1)return Rw(e);var n,s=(n-1)*t,i=Math.floor(s),o=Rw(WA(e,i).subarray(0,i+1)),l=Lw(e.subarray(i+1));return o+(l-o)*(s-i)}}function TH(e,t,r=zA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function $H(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eg=Symbol("implicit");function Rv(){var e=new Dw,t=[],r=[],n=eg;function s(i){let o=e.get(i);if(o===void 0){if(n!==eg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Dw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Rv(t,r).unknown(n)},Wr.apply(s,arguments),s}function ic(){var e=Rv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=s<n,y=p?s:n,b=p?n:s;i=(b-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(b-y-i*(h-c))*f,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=$H(h).map(function(j){return y+i*j});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return ic(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},Wr.apply(d(),arguments)}function HA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HA(t())},e}function Nl(){return HA(ic.apply(null,arguments).paddingInner(1))}function Lv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yc(){}var oc=.7,Yd=1/oc,ki="\\s*([+-]?\\d+)\\s*",lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IH=/^#([0-9a-f]{3,8})$/,DH=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),MH=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),RH=new RegExp(`^rgba\\(${ki},${ki},${ki},${lc}\\)$`),LH=new RegExp(`^rgba\\(${vn},${vn},${vn},${lc}\\)$`),FH=new RegExp(`^hsl\\(${lc},${vn},${vn}\\)$`),UH=new RegExp(`^hsla\\(${lc},${vn},${vn},${lc}\\)$`),Fw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lv(Yc,cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uw,formatHex:Uw,formatHex8:BH,formatHsl:zH,formatRgb:Bw,toString:Bw});function Uw(){return this.rgb().formatHex()}function BH(){return this.rgb().formatHex8()}function zH(){return VA(this).formatHsl()}function Bw(){return this.rgb().formatRgb()}function cc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=IH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zw(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DH.exec(e))?new ir(t[1],t[2],t[3],1):(t=MH.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RH.exec(e))?ku(t[1],t[2],t[3],t[4]):(t=LH.exec(e))?ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FH.exec(e))?Hw(t[1],t[2]/100,t[3]/100,1):(t=UH.exec(e))?Hw(t[1],t[2]/100,t[3]/100,t[4]):Fw.hasOwnProperty(e)?zw(Fw[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function zw(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function ku(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function qH(e){return e instanceof Yc||(e=cc(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function tg(e,t,r,n){return arguments.length===1?qH(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Lv(ir,tg,KA(Yc,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?oc:Math.pow(oc,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(ma(this.r),ma(this.g),ma(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qw,formatHex:qw,formatHex8:WH,formatRgb:Ww,toString:Ww}));function qw(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}`}function WH(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}${ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ww(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${ma(this.r)}, ${ma(this.g)}, ${ma(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ma(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ca(e){return e=ma(e),(e<16?"0":"")+e.toString(16)}function Hw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function VA(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Yc||(e=cc(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new en(o,l,c,e.opacity)}function HH(e,t,r,n){return arguments.length===1?VA(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Lv(en,HH,KA(Yc,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oc:Math.pow(oc,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new ir(tm(e>=240?e-240:e+120,s,n),tm(e,s,n),tm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new en(Kw(this.h),Cu(this.s),Cu(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${Kw(this.h)}, ${Cu(this.s)*100}%, ${Cu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kw(e){return e=(e||0)%360,e<0?e+360:e}function Cu(e){return Math.max(0,Math.min(1,e||0))}function tm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Fv=e=>()=>e;function KH(e,t){return function(r){return e+r*t}}function VH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GH(e){return(e=+e)==1?GA:function(t,r){return r-t?VH(t,r,e):Fv(isNaN(t)?r:t)}}function GA(e,t){var r=t-e;return r?KH(e,r):Fv(isNaN(e)?t:e)}const Vw=function e(t){var r=GH(t);function n(s,i){var o=r((s=tg(s)).r,(i=tg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=GA(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=e,n}(1);function QH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function YH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=To(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function ZH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JH(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=To(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rm=new RegExp(rg.source,"g");function eK(e){return function(){return e}}function tK(e){return function(t){return e(t)+""}}function rK(e,t){var r=rg.lastIndex=rm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=rg.exec(e))&&(s=rm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Zd(n,s)})),r=rm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tK(c[0].x):eK(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function To(e,t){var r=typeof t,n;return t==null||r==="boolean"?Fv(t):(r==="number"?Zd:r==="string"?(n=cc(t))?(t=n,Vw):rK:t instanceof cc?Vw:t instanceof Date?ZH:YH(t)?QH:Array.isArray(t)?XH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JH:Zd)(e,t)}function Uv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nK(e,t){t===void 0&&(t=e,e=To);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function sK(e){return function(){return e}}function Jd(e){return+e}var Gw=[0,1];function Yt(e){return e}function ng(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sK(isNaN(t)?NaN:.5)}function aK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=ng(s,n),i=r(o,i)):(n=ng(n,s),i=r(i,o)),function(l){return i(n(l))}}function oK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=ng(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Qc(e,l,1,n)-1;return i[c](s[c](l))}}function Xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Th(){var e=Gw,t=Gw,r=To,n,s,i,o=Yt,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Yt&&(o=aK(e[0],e[h-1])),l=h>2?oK:iK,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(n),Zd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Jd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Uv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Yt,f()):o!==Yt},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,s=p,f()}}function Bv(){return Th()(Yt,Yt)}function lK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ef(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ki(e){return e=ef(Math.abs(e)),e?e[1]:NaN}function cK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function uK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(e){if(!(t=dK.exec(e)))throw new Error("invalid format: "+e);var t;return new zv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uc.prototype=zv.prototype;function zv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var QA;function hK(e,t){var r=ef(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(QA=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ef(e,Math.max(0,t+i-1))[0]}function Qw(e,t){var r=ef(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Yw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qw(e*100,t),r:Qw,s:hK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xw(e){return e}var Zw=Array.prototype.map,Jw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pK(e){var t=e.grouping===void 0||e.thousands===void 0?Xw:cK(Zw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Xw:uK(Zw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=uc(d);var h=d.fill,p=d.align,y=d.sign,b=d.symbol,v=d.zero,j=d.width,g=d.comma,m=d.precision,S=d.trim,x=d.type;x==="n"?(g=!0,x="g"):Yw[x]||(m===void 0&&(m=12),S=!0,x="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var w=b==="$"?r:b==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",_=b==="$"?n:/[%p]/.test(x)?o:"",N=Yw[x],A=/[defgprs%]/.test(x);m=m===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(E){var k=w,D=_,$,L,U;if(x==="c")D=N(E)+D,E="";else{E=+E;var q=E<0||1/E<0;if(E=isNaN(E)?c:N(Math.abs(E),m),S&&(E=fK(E)),q&&+E==0&&y!=="+"&&(q=!1),k=(q?y==="("?y:l:y==="-"||y==="("?"":y)+k,D=(x==="s"?Jw[8+QA/3]:"")+D+(q&&y==="("?")":""),A){for($=-1,L=E.length;++$<L;)if(U=E.charCodeAt($),48>U||U>57){D=(U===46?s+E.slice($+1):E.slice($))+D,E=E.slice(0,$);break}}}g&&!v&&(E=t(E,1/0));var T=k.length+E.length+D.length,R=T<j?new Array(j-T+1).join(h):"";switch(g&&v&&(E=t(R+E,R.length?j-D.length:1/0),R=""),p){case"<":E=k+E+D+R;break;case"=":E=k+R+E+D;break;case"^":E=R.slice(0,T=R.length>>1)+k+E+D+R.slice(T);break;default:E=R+k+E+D;break}return i(E)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=uc(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ki(h)/3)))*3,b=Math.pow(10,-y),v=Jw[8+y/3];return function(j){return p(b*j)+v}}return{format:u,formatPrefix:f}}var Tu,qv,YA;mK({thousands:",",grouping:[3],currency:["$",""]});function mK(e){return Tu=pK(e),qv=Tu.format,YA=Tu.formatPrefix,Tu}function gK(e){return Math.max(0,-Ki(Math.abs(e)))}function xK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(t)/3)))*3-Ki(Math.abs(e)))}function vK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ki(t)-Ki(e))+1}function XA(e,t,r,n){var s=J0(e,t,r),i;switch(n=uc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xK(s,o))&&(n.precision=i),YA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=vK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gK(s))&&(n.precision=i-(n.type==="%")*2);break}}return qv(n)}function qs(e){var t=e.domain;return e.ticks=function(r){var n=t();return X0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return XA(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=Z0(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function tf(){var e=Bv();return e.copy=function(){return Xc(e,tf())},Wr.apply(e,arguments),qs(e)}function ZA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZA(e).unknown(t)},e=arguments.length?Array.from(e,Jd):[0,1],qs(r)}function JA(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function ej(e){return Math.log(e)}function tj(e){return Math.exp(e)}function yK(e){return-Math.log(-e)}function bK(e){return-Math.exp(-e)}function wK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jK(e){return e===10?wK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rj(e){return(t,r)=>-e(-t,r)}function Wv(e){const t=e(ej,tj),r=t.domain;let n=10,s,i;function o(){return s=NK(n),i=jK(n),r()[0]<0?(s=rj(s),i=rj(i),e(yK,bK)):e(ej,tj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=s(u),p=s(f),y,b;const v=l==null?10:+l;let j=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(b=h<0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;j.push(b)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;j.push(b)}j.length*2<v&&(j=X0(u,f,v))}else j=X0(h,p,Math.min(p-h,v)).map(i);return d?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=uc(c)).precision==null&&(c.trim=!0),c=qv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(s(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(JA(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function eO(){const e=Wv(Th()).domain([1,10]);return e.copy=()=>Xc(e,eO()).base(e.base()),Wr.apply(e,arguments),e}function nj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Hv(e){var t=1,r=e(nj(t),sj(t));return r.constant=function(n){return arguments.length?e(nj(t=+n),sj(t)):t},qs(r)}function tO(){var e=Hv(Th());return e.copy=function(){return Xc(e,tO()).constant(e.constant())},Wr.apply(e,arguments)}function aj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _K(e){return e<0?-e*e:e*e}function Kv(e){var t=e(Yt,Yt),r=1;function n(){return r===1?e(Yt,Yt):r===.5?e(SK,_K):e(aj(r),aj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},qs(t)}function Vv(){var e=Kv(Th());return e.copy=function(){return Xc(e,Vv()).exponent(e.exponent())},Wr.apply(e,arguments),e}function AK(){return Vv.apply(null,arguments).exponent(.5)}function ij(e){return Math.sign(e)*e*e}function OK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rO(){var e=Bv(),t=[0,1],r=!1,n;function s(i){var o=OK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(ij(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Jd)).map(ij)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return rO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wr.apply(s,arguments),qs(s)}function nO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=TH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Qc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ts),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nO().domain(e).range(t).unknown(n)},Wr.apply(i,arguments)}function sO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Qc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return sO().domain([e,t]).range(s).unknown(i)},Wr.apply(qs(o),arguments)}function aO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Qc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return aO().domain(e).range(t).unknown(r)},Wr.apply(s,arguments)}const nm=new Date,sm=new Date;function yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(nm.setTime(+i),sm.setTime(+o),e(nm),e(sm),Math.floor(r(nm,sm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const rf=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rf);rf.range;const In=1e3,Dr=In*60,Dn=Dr*60,Hn=Dn*24,Gv=Hn*7,oj=Hn*30,am=Hn*365,ua=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCSeconds());ua.range;const Qv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*In)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Qv.range;const Yv=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());Yv.range;const Xv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*In-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getHours());Xv.range;const Zv=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCHours());Zv.range;const Zc=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Hn,e=>e.getDate()-1);Zc.range;const $h=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);$h.range;const iO=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));iO.range;function Fa(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Gv)}const Ih=Fa(0),nf=Fa(1),PK=Fa(2),EK=Fa(3),Vi=Fa(4),kK=Fa(5),CK=Fa(6);Ih.range;nf.range;PK.range;EK.range;Vi.range;kK.range;CK.range;function Ua(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Gv)}const Dh=Ua(0),sf=Ua(1),TK=Ua(2),$K=Ua(3),Gi=Ua(4),IK=Ua(5),DK=Ua(6);Dh.range;sf.range;TK.range;$K.range;Gi.range;IK.range;DK.range;const Jv=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jv.range;const ey=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ey.range;const Kn=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Kn.range;const Vn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function oO(e,t,r,n,s,i){const o=[[ua,1,In],[ua,5,5*In],[ua,15,15*In],[ua,30,30*In],[i,1,Dr],[i,5,5*Dr],[i,15,15*Dr],[i,30,30*Dr],[s,1,Dn],[s,3,3*Dn],[s,6,6*Dn],[s,12,12*Dn],[n,1,Hn],[n,2,2*Hn],[r,1,Gv],[t,1,oj],[t,3,3*oj],[e,1,am]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=Mv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(J0(u/am,f/am,d));if(p===0)return rf.every(Math.max(J0(u,f,d),1));const[y,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(b)}return[l,c]}const[MK,RK]=oO(Vn,ey,Dh,iO,Zv,Yv),[LK,FK]=oO(Kn,Jv,Ih,Zc,Xv,Qv);function im(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function om(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UK(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zo(s),f=Jo(s),d=Zo(i),h=Jo(i),p=Zo(o),y=Jo(o),b=Zo(l),v=Jo(l),j=Zo(c),g=Jo(c),m={a:q,A:T,b:R,B:I,c:null,d:hj,e:hj,f:cV,g:yV,G:wV,H:iV,I:oV,j:lV,L:lO,m:uV,M:dV,p:K,q:Q,Q:gj,s:xj,S:fV,u:hV,U:pV,V:mV,w:gV,W:xV,x:null,X:null,y:vV,Y:bV,Z:jV,"%":mj},S={a:te,A:ve,b:De,B:Ke,c:null,d:pj,e:pj,f:AV,g:MV,G:LV,H:NV,I:SV,j:_V,L:uO,m:OV,M:PV,p:It,q:bt,Q:gj,s:xj,S:EV,u:kV,U:CV,V:TV,w:$V,W:IV,x:null,X:null,y:DV,Y:RV,Z:FV,"%":mj},x={a:P,A:E,b:k,B:D,c:$,d:dj,e:dj,f:rV,g:uj,G:cj,H:fj,I:fj,j:ZK,L:tV,m:XK,M:JK,p:A,q:YK,Q:sV,s:aV,S:eV,u:HK,U:KK,V:VK,w:WK,W:GK,x:L,X:U,y:uj,Y:cj,Z:QK,"%":nV};m.x=w(r,m),m.X=w(n,m),m.c=w(t,m),S.x=w(r,S),S.X=w(n,S),S.c=w(t,S);function w(X,ie){return function(de){var H=[],ke=-1,pe=0,ge=X.length,V,re,le;for(de instanceof Date||(de=new Date(+de));++ke<ge;)X.charCodeAt(ke)===37&&(H.push(X.slice(pe,ke)),(re=lj[V=X.charAt(++ke)])!=null?V=X.charAt(++ke):re=V==="e"?" ":"0",(le=ie[V])&&(V=le(de,re)),H.push(V),pe=ke+1);return H.push(X.slice(pe,ke)),H.join("")}}function _(X,ie){return function(de){var H=Xo(1900,void 0,1),ke=N(H,X,de+="",0),pe,ge;if(ke!=de.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ie&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(pe=om(Xo(H.y,0,1)),ge=pe.getUTCDay(),pe=ge>4||ge===0?sf.ceil(pe):sf(pe),pe=$h.offset(pe,(H.V-1)*7),H.y=pe.getUTCFullYear(),H.m=pe.getUTCMonth(),H.d=pe.getUTCDate()+(H.w+6)%7):(pe=im(Xo(H.y,0,1)),ge=pe.getDay(),pe=ge>4||ge===0?nf.ceil(pe):nf(pe),pe=Zc.offset(pe,(H.V-1)*7),H.y=pe.getFullYear(),H.m=pe.getMonth(),H.d=pe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ge="Z"in H?om(Xo(H.y,0,1)).getUTCDay():im(Xo(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ge+5)%7:H.w+H.U*7-(ge+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,om(H)):im(H)}}function N(X,ie,de,H){for(var ke=0,pe=ie.length,ge=de.length,V,re;ke<pe;){if(H>=ge)return-1;if(V=ie.charCodeAt(ke++),V===37){if(V=ie.charAt(ke++),re=x[V in lj?ie.charAt(ke++):V],!re||(H=re(X,de,H))<0)return-1}else if(V!=de.charCodeAt(H++))return-1}return H}function A(X,ie,de){var H=u.exec(ie.slice(de));return H?(X.p=f.get(H[0].toLowerCase()),de+H[0].length):-1}function P(X,ie,de){var H=p.exec(ie.slice(de));return H?(X.w=y.get(H[0].toLowerCase()),de+H[0].length):-1}function E(X,ie,de){var H=d.exec(ie.slice(de));return H?(X.w=h.get(H[0].toLowerCase()),de+H[0].length):-1}function k(X,ie,de){var H=j.exec(ie.slice(de));return H?(X.m=g.get(H[0].toLowerCase()),de+H[0].length):-1}function D(X,ie,de){var H=b.exec(ie.slice(de));return H?(X.m=v.get(H[0].toLowerCase()),de+H[0].length):-1}function $(X,ie,de){return N(X,t,ie,de)}function L(X,ie,de){return N(X,r,ie,de)}function U(X,ie,de){return N(X,n,ie,de)}function q(X){return o[X.getDay()]}function T(X){return i[X.getDay()]}function R(X){return c[X.getMonth()]}function I(X){return l[X.getMonth()]}function K(X){return s[+(X.getHours()>=12)]}function Q(X){return 1+~~(X.getMonth()/3)}function te(X){return o[X.getUTCDay()]}function ve(X){return i[X.getUTCDay()]}function De(X){return c[X.getUTCMonth()]}function Ke(X){return l[X.getUTCMonth()]}function It(X){return s[+(X.getUTCHours()>=12)]}function bt(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ie=w(X+="",m);return ie.toString=function(){return X},ie},parse:function(X){var ie=_(X+="",!1);return ie.toString=function(){return X},ie},utcFormat:function(X){var ie=w(X+="",S);return ie.toString=function(){return X},ie},utcParse:function(X){var ie=_(X+="",!0);return ie.toString=function(){return X},ie}}}var lj={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,BK=/^%/,zK=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function qK(e){return e.replace(zK,"\\$&")}function Zo(e){return new RegExp("^(?:"+e.map(qK).join("|")+")","i")}function Jo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cj(e,t,r){var n=Pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZK(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=Pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nV(e,t,r){var n=BK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hj(e,t){return Se(e.getDate(),t,2)}function iV(e,t){return Se(e.getHours(),t,2)}function oV(e,t){return Se(e.getHours()%12||12,t,2)}function lV(e,t){return Se(1+Zc.count(Kn(e),e),t,3)}function lO(e,t){return Se(e.getMilliseconds(),t,3)}function cV(e,t){return lO(e,t)+"000"}function uV(e,t){return Se(e.getMonth()+1,t,2)}function dV(e,t){return Se(e.getMinutes(),t,2)}function fV(e,t){return Se(e.getSeconds(),t,2)}function hV(e){var t=e.getDay();return t===0?7:t}function pV(e,t){return Se(Ih.count(Kn(e)-1,e),t,2)}function cO(e){var t=e.getDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function mV(e,t){return e=cO(e),Se(Vi.count(Kn(e),e)+(Kn(e).getDay()===4),t,2)}function gV(e){return e.getDay()}function xV(e,t){return Se(nf.count(Kn(e)-1,e),t,2)}function vV(e,t){return Se(e.getFullYear()%100,t,2)}function yV(e,t){return e=cO(e),Se(e.getFullYear()%100,t,2)}function bV(e,t){return Se(e.getFullYear()%1e4,t,4)}function wV(e,t){var r=e.getDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),Se(e.getFullYear()%1e4,t,4)}function jV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function pj(e,t){return Se(e.getUTCDate(),t,2)}function NV(e,t){return Se(e.getUTCHours(),t,2)}function SV(e,t){return Se(e.getUTCHours()%12||12,t,2)}function _V(e,t){return Se(1+$h.count(Vn(e),e),t,3)}function uO(e,t){return Se(e.getUTCMilliseconds(),t,3)}function AV(e,t){return uO(e,t)+"000"}function OV(e,t){return Se(e.getUTCMonth()+1,t,2)}function PV(e,t){return Se(e.getUTCMinutes(),t,2)}function EV(e,t){return Se(e.getUTCSeconds(),t,2)}function kV(e){var t=e.getUTCDay();return t===0?7:t}function CV(e,t){return Se(Dh.count(Vn(e)-1,e),t,2)}function dO(e){var t=e.getUTCDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function TV(e,t){return e=dO(e),Se(Gi.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function $V(e){return e.getUTCDay()}function IV(e,t){return Se(sf.count(Vn(e)-1,e),t,2)}function DV(e,t){return Se(e.getUTCFullYear()%100,t,2)}function MV(e,t){return e=dO(e),Se(e.getUTCFullYear()%100,t,2)}function RV(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function LV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function FV(){return"+0000"}function mj(){return"%"}function gj(e){return+e}function xj(e){return Math.floor(+e/1e3)}var Za,fO,hO;UV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UV(e){return Za=UK(e),fO=Za.format,Za.parse,hO=Za.utcFormat,Za.utcParse,Za}function BV(e){return new Date(e)}function zV(e){return e instanceof Date?+e:+new Date(+e)}function ty(e,t,r,n,s,i,o,l,c,u){var f=Bv(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),b=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),g=u("%b %d"),m=u("%B"),S=u("%Y");function x(w){return(c(w)<w?p:l(w)<w?y:o(w)<w?b:i(w)<w?v:n(w)<w?s(w)<w?j:g:r(w)<w?m:S)(w)}return f.invert=function(w){return new Date(d(w))},f.domain=function(w){return arguments.length?h(Array.from(w,zV)):h().map(BV)},f.ticks=function(w){var _=h();return e(_[0],_[_.length-1],w??10)},f.tickFormat=function(w,_){return _==null?x:u(_)},f.nice=function(w){var _=h();return(!w||typeof w.range!="function")&&(w=t(_[0],_[_.length-1],w??10)),w?h(JA(_,w)):f},f.copy=function(){return Xc(f,ty(e,t,r,n,s,i,o,l,c,u))},f}function qV(){return Wr.apply(ty(LK,FK,Kn,Jv,Ih,Zc,Xv,Qv,ua,fO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WV(){return Wr.apply(ty(MK,RK,Vn,ey,Dh,$h,Zv,Yv,ua,hO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mh(){var e=0,t=1,r,n,s,i,o=Yt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,o=d(p,y),u):[o(0),o(1)]}}return u.range=f(To),u.rangeRound=f(Uv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function Ws(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pO(){var e=qs(Mh()(Yt));return e.copy=function(){return Ws(e,pO())},Jn.apply(e,arguments)}function mO(){var e=Wv(Mh()).domain([1,10]);return e.copy=function(){return Ws(e,mO()).base(e.base())},Jn.apply(e,arguments)}function gO(){var e=Hv(Mh());return e.copy=function(){return Ws(e,gO()).constant(e.constant())},Jn.apply(e,arguments)}function ry(){var e=Kv(Mh());return e.copy=function(){return Ws(e,ry()).exponent(e.exponent())},Jn.apply(e,arguments)}function HV(){return ry.apply(null,arguments).exponent(.5)}function xO(){var e=[],t=Yt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ts),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>CH(e,i/n))},r.copy=function(){return xO(t).domain(e)},Jn.apply(r,arguments)}function Rh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Yt,f,d=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:c),u(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(u=b,p):u};function y(b){return function(v){var j,g,m;return arguments.length?([j,g,m]=v,u=nK(b,[j,g,m]),p):[u(0),u(.5),u(1)]}}return p.range=y(To),p.rangeRound=y(Uv),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return f=b,s=b(e),i=b(t),o=b(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function vO(){var e=qs(Rh()(Yt));return e.copy=function(){return Ws(e,vO())},Jn.apply(e,arguments)}function yO(){var e=Wv(Rh()).domain([.1,1,10]);return e.copy=function(){return Ws(e,yO()).base(e.base())},Jn.apply(e,arguments)}function bO(){var e=Hv(Rh());return e.copy=function(){return Ws(e,bO()).constant(e.constant())},Jn.apply(e,arguments)}function ny(){var e=Kv(Rh());return e.copy=function(){return Ws(e,ny()).exponent(e.exponent())},Jn.apply(e,arguments)}function KV(){return ny.apply(null,arguments).exponent(.5)}const vj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ic,scaleDiverging:vO,scaleDivergingLog:yO,scaleDivergingPow:ny,scaleDivergingSqrt:KV,scaleDivergingSymlog:bO,scaleIdentity:ZA,scaleImplicit:eg,scaleLinear:tf,scaleLog:eO,scaleOrdinal:Rv,scalePoint:Nl,scalePow:Vv,scaleQuantile:nO,scaleQuantize:sO,scaleRadial:rO,scaleSequential:pO,scaleSequentialLog:mO,scaleSequentialPow:ry,scaleSequentialQuantile:xO,scaleSequentialSqrt:HV,scaleSequentialSymlog:gO,scaleSqrt:AK,scaleSymlog:tO,scaleThreshold:aO,scaleTime:qV,scaleUtc:WV,tickFormat:XA},Symbol.toStringTag,{value:"Module"}));var VV=No;function GV(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!VV(o):r(o,l)))var l=o,c=i}return c}var Lh=GV;function QV(e,t){return e>t}var wO=QV,YV=Lh,XV=wO,ZV=Co;function JV(e){return e&&e.length?YV(e,ZV,XV):void 0}var eG=JV;const Fh=$e(eG);function tG(e,t){return e<t}var jO=tG,rG=Lh,nG=jO,sG=Co;function aG(e){return e&&e.length?rG(e,sG,nG):void 0}var iG=aG;const Uh=$e(iG);var oG=xv,lG=Nn,cG=kA,uG=dr;function dG(e,t){var r=uG(e)?oG:cG;return r(e,lG(t))}var fG=dG,hG=PA,pG=fG;function mG(e,t){return hG(pG(e,t),1)}var gG=mG;const xG=$e(gG);var vG=Tv;function yG(e,t){return vG(e,t)}var bG=yG;const Jc=$e(bG);var $o=1e9,wG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ay,et=!0,Br="[DecimalError] ",ga=Br+"Invalid argument: ",sy=Br+"Exponent out of range: ",Io=Math.floor,ra=Math.pow,jG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xr,jt=1e7,Xe=7,NO=9007199254740991,af=Io(NO/Xe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Fn(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Re(Fn(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ft(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xr))throw Error(Br+"NaN");if(r.s<1)throw Error(Br+(r.s?"NaN":"-Infinity"));return r.eq(xr)?new n(0):(et=!1,t=Fn(dc(r,i),dc(e,i),i),et=!0,Re(t,s))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AO(t,e):SO(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Br+"NaN");return r.s?(et=!1,t=Fn(r,e,0,1).times(e),et=!0,r.minus(t)):Re(new n(r),s)};ee.naturalExponential=ee.exp=function(){return _O(this)};ee.naturalLogarithm=ee.ln=function(){return dc(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SO(t,e):AO(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ga+e);if(t=ft(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Br+"NaN")}for(e=ft(l),et=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=pn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Io((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Fn(l,i,o+2)).times(.5),pn(i.d).slice(0,o)===(t=pn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Re(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return et=!0,Re(n,r)};ee.times=ee.mul=function(e){var t,r,n,s,i,o,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%jt|0,t=l/jt|0;i[s]=(i[s]+t)%jt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,et?Re(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,$o),t===void 0?t=n.rounding:bn(t,0,8),Re(r,e+ft(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ca(n,!0):(bn(e,0,$o),t===void 0?t=s.rounding:bn(t,0,8),n=Re(new s(n),e+1,t),r=Ca(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ca(s):(bn(e,0,$o),t===void 0?t=i.rounding:bn(t,0,8),n=Re(new i(s),e+ft(s)+1,t),r=Ca(n.abs(),!1,e+ft(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Re(new t(e),ft(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(xr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Br+"Infinity");return l}if(l.eq(xr))return l;if(n=c.precision,e.eq(xr))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=NO){for(s=new c(xr),t=Math.ceil(n/Xe+4),et=!1;r%2&&(s=s.times(l),bj(s.d,t)),r=Io(r/2),r!==0;)l=l.times(l),bj(l.d,t);return et=!0,e.s<0?new c(xr).div(s):Re(s,n)}}else if(i<0)throw Error(Br+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,et=!1,s=e.times(dc(l,n+u)),et=!0,s=_O(s),s.s=i,s};ee.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ft(s),n=Ca(s,r<=i.toExpNeg||r>=i.toExpPos)):(bn(e,1,$o),t===void 0?t=i.rounding:bn(t,0,8),s=Re(new i(s),e,t),r=ft(s),n=Ca(s,e<=r||r<=i.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,$o),t===void 0?t=n.rounding:bn(t,0,8)),Re(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Ca(e,t<=r.toExpNeg||t>=r.toExpPos)};function SO(e,t){var r,n,s,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),et?Re(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/jt|0,c[i]%=jt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,et?Re(t,d):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ga+e)}function pn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=cs(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=cs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%jt|0,o=i/jt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*jt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,d,h,p,y,b,v,j,g,m,S,x,w,_,N,A=n.constructor,P=n.s==s.s?1:-1,E=n.d,k=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Br+"Division by zero");for(c=n.e-s.e,_=k.length,x=E.length,p=new A(P),y=p.d=[],u=0;k[u]==(E[u]||0);)++u;if(k[u]>(E[u]||0)&&--c,i==null?g=i=A.precision:o?g=i+(ft(n)-ft(s))+1:g=i,g<0)return new A(0);if(g=g/Xe+2|0,u=0,_==1)for(f=0,k=k[0],g++;(u<x||f)&&g--;u++)m=f*jt+(E[u]||0),y[u]=m/k|0,f=m%k|0;else{for(f=jt/(k[0]+1)|0,f>1&&(k=e(k,f),E=e(E,f),_=k.length,x=E.length),S=_,b=E.slice(0,_),v=b.length;v<_;)b[v++]=0;N=k.slice(),N.unshift(0),w=k[0],k[1]>=jt/2&&++w;do f=0,l=t(k,b,_,v),l<0?(j=b[0],_!=v&&(j=j*jt+(b[1]||0)),f=j/w|0,f>1?(f>=jt&&(f=jt-1),d=e(k,f),h=d.length,v=b.length,l=t(d,b,h,v),l==1&&(f--,r(d,_<h?N:k,h))):(f==0&&(l=f=1),d=k.slice()),h=d.length,h<v&&d.unshift(0),r(b,d,v),l==-1&&(v=b.length,l=t(k,b,_,v),l<1&&(f++,r(b,_<v?N:k,v))),v=b.length):l===0&&(f++,b=[0]),y[u++]=f,l&&b[0]?b[v++]=E[S]||0:(b=[E[S]],v=1);while((S++<x||b[0]!==void 0)&&g--)}return y[0]||y.shift(),p.e=c,Re(p,o?i+ft(p)+1:i)}}();function _O(e,t){var r,n,s,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(ft(e)>16)throw Error(sy+ft(e));if(!e.s)return new f(xr);for(t==null?(et=!1,l=d):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ra(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(xr),f.precision=l;;){if(s=Re(s.times(e),l),r=r.times(++c),o=i.plus(Fn(s,r,l)),pn(o.d).slice(0,l)===pn(i.d).slice(0,l)){for(;u--;)i=Re(i.times(i),l);return f.precision=d,t==null?(et=!0,Re(i,d)):i}i=o}}function ft(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function lm(e,t,r){if(t>e.LN10.sd())throw et=!0,r&&(e.precision=r),Error(Br+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function cs(e){for(var t="";e--;)t+="0";return t}function dc(e,t){var r,n,s,i,o,l,c,u,f,d=1,h=10,p=e,y=p.d,b=p.constructor,v=b.precision;if(p.s<1)throw Error(Br+(p.s?"NaN":"-Infinity"));if(p.eq(xr))return new b(0);if(t==null?(et=!1,u=v):u=t,p.eq(10))return t==null&&(et=!0),lm(b,u);if(u+=h,b.precision=u,r=pn(y),n=r.charAt(0),i=ft(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pn(p.d),n=r.charAt(0),d++;i=ft(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return c=lm(b,u+2,v).times(i+""),p=dc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=v,t==null?(et=!0,Re(p,v)):p;for(l=o=p=Fn(p.minus(xr),p.plus(xr),u),f=Re(p.times(p),u),s=3;;){if(o=Re(o.times(f),u),c=l.plus(Fn(o,new b(s),u)),pn(c.d).slice(0,u)===pn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(lm(b,u+2,v).times(i+""))),l=Fn(l,new b(d),u),b.precision=v,t==null?(et=!0,Re(l,v)):l;l=c,s+=2}}function yj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Io(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),et&&(e.e>af||e.e<-af))throw Error(sy+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,s,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Xe),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=ra(10,o-s-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ra(10,o-s):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=ft(e),d.length=1,t=t-i-1,d[0]=ra(10,(Xe-t%Xe)%Xe),e.e=Io(-t/Xe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=ra(10,Xe-n),d[f]=s>0?(u/ra(10,o-s)%ra(10,s)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==jt&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=jt)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(et&&(e.e>af||e.e<-af))throw Error(sy+ft(e));return e}function AO(e,t){var r,n,s,i,o,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),et?Re(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(p/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){f=c[s]<d[s];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=jt-1;--c[i],c[s]+=jt}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,et?Re(t,p):t):new h(0)}function Ca(e,t,r){var n,s=ft(e),i=pn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+cs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+cs(-s-1)+i,r&&(n=r-o)>0&&(i+=cs(n))):s>=o?(i+=cs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+cs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=cs(n))),e.s<0?"-"+i:i}function bj(e,t){if(e.length>t)return e.length=t,!0}function OO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ga+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return yj(o,i.toString())}else if(typeof i!="string")throw Error(ga+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jG.test(i))yj(o,i);else throw Error(ga+i)}if(s.prototype=ee,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=OO,s.config=s.set=NG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function NG(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,r,n,s=["precision",1,$o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Io(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ga+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ga+r+": "+n);return this}var ay=OO(wG);xr=new ay(1);const Me=ay;function SG(e){return PG(e)||OG(e)||AG(e)||_G()}function _G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(e,t){if(e){if(typeof e=="string")return sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sg(e,t)}}function OG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PG(e){if(Array.isArray(e))return sg(e)}function sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var EG=function(t){return t},PO={"@@functional/placeholder":!0},EO=function(t){return t===PO},wj=function(t){return function r(){return arguments.length===0||arguments.length===1&&EO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},kG=function e(t,r){return t===1?r:wj(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==PO}).length;return o>=t?r.apply(void 0,s):e(t-o,wj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(d){return EO(d)?c.shift():d});return r.apply(void 0,SG(f).concat(c))}))})},Bh=function(t){return kG(t.length,t)},ag=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},CG=Bh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),TG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return EG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ig=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function $G(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function IG(e,t,r){for(var n=new Me(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var DG=Bh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),MG=Bh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),RG=Bh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zh={rangeStep:IG,getDigitCount:$G,interpolateNumber:DG,uninterpolateNumber:MG,uninterpolateTruncation:RG};function og(e){return UG(e)||FG(e)||CO(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function UG(e){if(Array.isArray(e))return lg(e)}function fc(e,t){return qG(e)||zG(e,t)||CO(e,t)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CO(e,t){if(e){if(typeof e=="string")return lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lg(e,t)}}function lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function qG(e){if(Array.isArray(e))return e}function TO(e){var t=fc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function $O(e,t,r){if(e.lte(0))return new Me(0);var n=zh.getDigitCount(e.toNumber()),s=new Me(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Me(Math.ceil(c))}function WG(e,t,r){var n=1,s=new Me(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Me(10).pow(zh.getDigitCount(e)-1),s=new Me(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Me(Math.floor(e)))}else e===0?s=new Me(Math.floor((t-1)/2)):r||(s=new Me(Math.floor(e)));var o=Math.floor((t-1)/2),l=TG(CG(function(c){return s.add(new Me(c-o).mul(n)).toNumber()}),ag);return l(0,t)}function IO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var i=$O(new Me(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Me(0):(o=new Me(e).add(t).div(2),o=o.sub(new Me(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Me(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?IO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Me(l).mul(i)),tickMax:o.add(new Me(c).mul(i))})}function HG(e){var t=fc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=TO([r,n]),c=fc(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(og(ag(0,s-1).map(function(){return 1/0}))):[].concat(og(ag(0,s-1).map(function(){return-1/0})),[f]);return r>n?ig(d):d}if(u===f)return WG(u,s,i);var h=IO(u,f,o,i),p=h.step,y=h.tickMin,b=h.tickMax,v=zh.rangeStep(y,b.add(new Me(.1).mul(p)),p);return r>n?ig(v):v}function KG(e,t){var r=fc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=TO([n,s]),l=fc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(t,2),d=$O(new Me(u).sub(c).div(f-1),i,0),h=[].concat(og(zh.rangeStep(new Me(c),new Me(u).sub(new Me(.99).mul(d)),d)),[u]);return n>s?ig(h):h}var VG=kO(HG),GG=kO(KG),QG="Invariant failed";function Ta(e,t){throw new Error(QG)}var YG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function XG(e,t){return tQ(e)||eQ(e,t)||JG(e,t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(e,t){if(e){if(typeof e=="string")return jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jj(e,t)}}function jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tQ(e){if(Array.isArray(e))return e}function rQ(e,t){if(e==null)return{};var r=nQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RO(n.key),n)}}function iQ(e,t,r){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,r){return t=lf(t),lQ(e,DO()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function lQ(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(e)}function cQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function uQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cg(e,t)}function MO(e,t,r){return t=RO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=dQ(e,"string");return Qi(t)=="symbol"?t:t+""}function dQ(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eu=function(e){function t(){return sQ(this,t),oQ(this,t,arguments)}return uQ(t,e),iQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=rQ(n,YG),p=ae(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ta();var y=c.map(function(b){var v=u(b,l),j=v.x,g=v.y,m=v.value,S=v.errorVal;if(!S)return null;var x=[],w,_;if(Array.isArray(S)){var N=XG(S,2);w=N[0],_=N[1]}else w=_=S;if(i==="vertical"){var A=f.scale,P=g+s,E=P+o,k=P-o,D=A(m-w),$=A(m+_);x.push({x1:$,y1:E,x2:$,y2:k}),x.push({x1:D,y1:P,x2:$,y2:P}),x.push({x1:D,y1:E,x2:D,y2:k})}else if(i==="horizontal"){var L=d.scale,U=j+s,q=U-o,T=U+o,R=L(m-w),I=L(m+_);x.push({x1:q,y1:I,x2:T,y2:I}),x.push({x1:U,y1:R,x2:U,y2:I}),x.push({x1:q,y1:R,x2:T,y2:R})}return C.createElement(Ne,of({className:"recharts-errorBar",key:"bar-".concat(x.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),x.map(function(K){return C.createElement("line",of({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return C.createElement(Ne,{className:"recharts-errorBars"},y)}}])}(C.Component);MO(eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MO(eu,"displayName","ErrorBar");function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return t=hQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=pQ(e,"string");return hc(t)=="symbol"?t:t+""}function pQ(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=mr(r,Ei);if(!o)return null;var l=Ei.defaultProps,c=l!==void 0?Gs(Gs({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Gs(Gs({},h),d.props):{},y=p.dataKey,b=p.name,v=p.legendType,j=p.hide;return{inactive:j,dataKey:y,type:c.iconType||v||"square",color:iy(d),value:b||y,payload:p}}),Gs(Gs(Gs({},c),Ei.getWithHeight(o,s)),{},{payload:u,item:o})};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Sj(e){return vQ(e)||xQ(e)||gQ(e)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(e,t){if(e){if(typeof e=="string")return ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ug(e,t)}}function xQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vQ(e){if(Array.isArray(e))return ug(e)}function ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=bQ(e,"string");return pc(t)=="symbol"?t:t+""}function bQ(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return ue(e)||ue(t)?r:vt(t)?br(e,t,r):ce(t)?t(e):r}function Sl(e,t,r,n){var s=xG(e,function(l){return gt(l,t)});if(r==="number"){var i=s.filter(function(l){return Y(l)||parseFloat(l)});return i.length?[Uh(i),Fh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ue(l)}):s;return o.map(function(l){return vt(l)||l instanceof Date?l:""})}var wQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Gt(d-f)!==Gt(h-d)){var y=[];if(Gt(h-d)===Gt(c[1]-c[0])){p=h;var b=d+c[1]-c[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{p=f;var v=h+c[1]-c[0];y[0]=Math.min(d,(v+d)/2),y[1]=Math.max(d,(v+d)/2)}var j=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>j[0]&&t<=j[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var g=Math.min(f,h),m=Math.max(f,h);if(t>(g+d)/2&&t<=(m+d)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},iy=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jQ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],b=y.items,v=y.cateAxisId,j=b.filter(function(_){return Ln(_.type).indexOf("Bar")>=0});if(j&&j.length){var g=j[0].type.defaultProps,m=g!==void 0?it(it({},g),j[0].props):j[0].props,S=m.barSize,x=m[v];o[x]||(o[x]=[]);var w=ue(S)?r:S;o[x].push({item:j[0],stackList:j.slice(1),barSize:ue(w)?void 0:Qt(w,n,0)})}}return o},NQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qt(r,s,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,y=o.reduce(function(S,x){return S+x.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&p>0&&(h=!0,p*=.9,y=c*p);var b=(s-y)/2>>0,v={offset:b-u,size:0};f=o.reduce(function(S,x){var w={item:x.item,position:{offset:v.offset+v.size+u,size:h?p:x.barSize}},_=[].concat(Sj(S),[w]);return v=_[_.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){_.push({item:N,position:v})}),_},d)}else{var j=Qt(n,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var g=(s-2*j-(c-1)*u)/c;g>1&&(g>>=0);var m=l===+l?Math.min(g,l):g;f=o.reduce(function(S,x,w){var _=[].concat(Sj(S),[{item:x.item,position:{offset:j+(g+u)*w+(g-m)/2,size:m}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},d)}return f},SQ=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=LO({children:i,legendWidth:c});if(u){var f=s||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&p!=="center"&&Y(t[p]))return it(it({},t),{},Ci({},p,t[p]+(d||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&y!=="middle"&&Y(t[y]))return it(it({},t),{},Ci({},y,t[y]+(h||0)))}return t},_Q=function(t,r,n){return ue(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},FO=function(t,r,n,s,i){var o=r.props.children,l=wr(o,eu).filter(function(u){return _Q(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=gt(f,n);if(ue(d))return u;var h=Array.isArray(d)?[Uh(d),Fh(d)]:[d,d],p=c.reduce(function(y,b){var v=gt(f,b,0),j=h[0]-Math.abs(Array.isArray(v)?v[0]:v),g=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},AQ=function(t,r,n,s,i){var o=r.map(function(l){return FO(t,l,n,i,s)}).filter(function(l){return!ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&FO(t,c,u,s)||Sl(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},BO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Mn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return f.filter(function(d){return!Vc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:i?i[d]:d,index:h,offset:u}})},cm=new WeakMap,$u=function(t,r){if(typeof r!="function")return t;cm.has(t)||cm.set(t,new WeakMap);var n=cm.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},qO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ic(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:tf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nl(),realScaleType:"point"}:i==="category"?{scale:ic(),realScaleType:"band"}:{scale:tf(),realScaleType:"linear"};if(Pa(s)){var c="scale".concat(_h(s));return{scale:(vj[c]||Nl)(),realScaleType:vj[c]?c:"point"}}return ce(s)?{scale:s}:{scale:Nl(),realScaleType:"point"}},Aj=1e-4,WO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Aj,o=Math.max(s[0],s[1])+Aj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},OQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},PQ=function(t,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Y(t[0])||t[0]<n)&&(i[0]=n),(!Y(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},EQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Vc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},kQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Vc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},CQ={sign:EQ,expand:YR,none:Bi,silhouette:XR,wiggle:ZR,positive:kQ},TQ=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=CQ[n],o=QR().keys(s).value(function(l,c){return+gt(l,c,0)}).order(D0).offset(i);return o(t)},$Q=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?it(it({},h.type.defaultProps),h.props):h.props,b=y.stackId,v=y.hide;if(v)return d;var j=y[n],g=d[j]||{hasStack:!1,stackGroups:{}};if(vt(b)){var m=g.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};m.items.push(h),g.hasStack=!0,g.stackGroups[b]=m}else g.stackGroups[Po("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return it(it({},d),{},Ci({},j,g))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,v){var j=p.stackGroups[v];return it(it({},b),{},Ci({},v,{numericAxisId:n,cateAxisId:s,items:j.items,stackedData:TQ(t,j.items,i)}))},y)}return it(it({},d),{},Ci({},h,p))},f)},HO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=VG(u,i,l);return t.domain([Uh(f),Fh(f)]),{niceTicks:f}}if(i&&s==="number"){var d=t.domain(),h=GG(d,i,l);return{niceTicks:h}}return null};function Oj(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ue(s[t.dataKey])){var l=Id(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=gt(s,ue(o)?t.dataKey:o);return ue(c)?null:t.scale(c)}var Pj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=gt(o,r.dataKey,r.domain[l]);return ue(c)?null:r.scale(c)-i/2+s},IQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},DQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(vt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},MQ=function(t){return t.reduce(function(r,n){return[Uh(n.concat([r[0]]).filter(Y)),Fh(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},KO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=MQ(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Ej=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dg=function(t,r,n){if(ce(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Y(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Ej.test(t[0])){var i=+Ej.exec(t[0])[1];s[0]=r[0]-i}else ce(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Y(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(kj.test(t[1])){var o=+kj.exec(t[1])[1];s[1]=r[1]+o}else ce(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},cf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Iv(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Cj=function(t,r,n){return!t||!t.length||Jc(t,br(n,"type.defaultProps.domain"))?r:t},VO=function(t,r){var n=t.type.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return it(it({},ae(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:iy(t),value:gt(r,s),type:c,payload:r,chartType:u,hide:f})};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){GO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GO(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=LQ(e,"string");return mc(t)=="symbol"?t:t+""}function LQ(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e,t){return qQ(e)||zQ(e,t)||BQ(e,t)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qQ(e){if(Array.isArray(e))return e}var uf=Math.PI/180,WQ=function(t){return t*180/Math.PI},He=function(t,r,n,s){return{x:t+Math.cos(-uf*s)*n,y:r+Math.sin(-uf*s)*n}},QO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HQ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Qt(t.cx,o,o/2),d=Qt(t.cy,l,l/2),h=QO(o,l,n),p=Qt(t.innerRadius,h,0),y=Qt(t.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(v,j){var g=r[j],m=g.domain,S=g.reversed,x;if(ue(g.range))s==="angleAxis"?x=[c,u]:s==="radiusAxis"&&(x=[p,y]),S&&(x=[x[1],x[0]]);else{x=g.range;var w=x,_=FQ(w,2);c=_[0],u=_[1]}var N=qO(g,i),A=N.realScaleType,P=N.scale;P.domain(m).range(x),WO(P);var E=HO(P,En(En({},g),{},{realScaleType:A})),k=En(En(En({},g),E),{},{range:x,radius:y,realScaleType:A,scale:P,cx:f,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return En(En({},v),{},GO({},j,k))},{})},KQ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},VQ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=KQ({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:WQ(u),angleInRadian:u}},GQ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},QQ=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Ij=function(t,r){var n=t.x,s=t.y,i=VQ({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=GQ(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?En(En({},r),{},{radius:o,angle:QQ(p,r)}):null},YO=function(t){return!O.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var YQ=["offset"];function XQ(e){return tY(e)||eY(e)||JQ(e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(e,t){if(e){if(typeof e=="string")return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fg(e,t)}}function eY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tY(e){if(Array.isArray(e))return fg(e)}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rY(e,t){if(e==null)return{};var r=nY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){sY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t,r){return t=aY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=iY(e,"string");return gc(t)=="symbol"?t:t+""}function iY(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}var oY=function(t){var r=t.value,n=t.formatter,s=ue(t.children)?r:t.children;return ce(n)?n(s):s},lY=function(t,r){var n=Gt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},cY=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,b=c.clockWise,v=(d+h)/2,j=lY(p,y),g=j>=0?1:-1,m,S;s==="insideStart"?(m=p+g*o,S=b):s==="insideEnd"?(m=y-g*o,S=!b):s==="end"&&(m=y+g*o,S=b),S=j<=0?S:!S;var x=He(u,f,v,m),w=He(u,f,v,m+(S?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),N=ue(t.id)?Po("recharts-radial-line-"):t.id;return C.createElement("text",xc({},n,{dominantBaseline:"central",className:he("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:N,d:_})),C.createElement("textPath",{xlinkHref:"#".concat(N)},r))},uY=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(s==="outside"){var p=He(o,l,u+n,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,j=He(o,l,v,h),g=j.x,m=j.y;return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},dY=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*s,p=d>0?"end":"start",y=d>0?"start":"end",b=u>=0?1:-1,v=b*s,j=b>0?"end":"start",g=b>0?"start":"end";if(i==="top"){var m={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:p};return pt(pt({},m),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return pt(pt({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var x={x:l-v,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return pt(pt({},x),n?{width:Math.max(x.x-n.x,0),height:f}:{})}if(i==="right"){var w={x:l+u+v,y:c+f/2,textAnchor:g,verticalAnchor:"middle"};return pt(pt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return i==="insideLeft"?pt({x:l+v,y:c+f/2,textAnchor:g,verticalAnchor:"middle"},_):i==="insideRight"?pt({x:l+u-v,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},_):i==="insideTop"?pt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},_):i==="insideBottom"?pt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},_):i==="insideTopLeft"?pt({x:l+v,y:c+h,textAnchor:g,verticalAnchor:y},_):i==="insideTopRight"?pt({x:l+u-v,y:c+h,textAnchor:j,verticalAnchor:y},_):i==="insideBottomLeft"?pt({x:l+v,y:c+f-h,textAnchor:g,verticalAnchor:p},_):i==="insideBottomRight"?pt({x:l+u-v,y:c+f-h,textAnchor:j,verticalAnchor:p},_):So(i)&&(Y(i.x)||la(i.x))&&(Y(i.y)||la(i.y))?pt({x:l+Qt(i.x,u),y:c+Qt(i.y,f),textAnchor:"end",verticalAnchor:"end"},_):pt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},fY=function(t){return"cx"in t&&Y(t.cx)};function St(e){var t=e.offset,r=t===void 0?5:t,n=rY(e,YQ),s=pt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,d=f===void 0?"":f,h=s.textBreakAll;if(!i||ue(l)&&ue(c)&&!O.isValidElement(u)&&!ce(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(ce(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=oY(s);var y=fY(i),b=ae(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cY(s,p,b);var v=y?uY(s):dY(s);return C.createElement(ka,xc({className:he("recharts-label",d)},b,v,{breakAll:h}),p)}St.displayName="Label";var XO=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,b=t.width,v=t.height,j=t.clockWise,g=t.labelViewBox;if(g)return g;if(Y(b)&&Y(v)){if(Y(d)&&Y(h))return{x:d,y:h,width:b,height:v};if(Y(p)&&Y(y))return{x:p,y,width:b,height:v}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},hY=function(t,r){return t?t===!0?C.createElement(St,{key:"label-implicit",viewBox:r}):vt(t)?C.createElement(St,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===St?O.cloneElement(t,{key:"label-implicit",viewBox:r}):C.createElement(St,{key:"label-implicit",content:t,viewBox:r}):ce(t)?C.createElement(St,{key:"label-implicit",content:t,viewBox:r}):So(t)?C.createElement(St,xc({viewBox:r},t,{key:"label-implicit"})):null:null},pY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=XO(t),o=wr(s,St).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=hY(t.label,r||i);return[l].concat(XQ(o))};St.parseViewBox=XO;St.renderCallByParent=pY;function mY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gY=mY;const xY=$e(gY);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var vY=["valueAccessor"],yY=["data","dataKey","clockWise","id","textBreakAll"];function bY(e){return SY(e)||NY(e)||jY(e)||wY()}function wY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(e,t){if(e){if(typeof e=="string")return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hg(e,t)}}function NY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SY(e){if(Array.isArray(e))return hg(e)}function hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return t=AY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=OY(e,"string");return vc(t)=="symbol"?t:t+""}function OY(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lj(e,t){if(e==null)return{};var r=PY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EY=function(t){return Array.isArray(t.value)?xY(t.value):t.value};function Un(e){var t=e.valueAccessor,r=t===void 0?EY:t,n=Lj(e,vY),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Lj(n,yY);return!s||!s.length?null:C.createElement(Ne,{className:"recharts-label-list"},s.map(function(f,d){var h=ue(i)?r(f,d):gt(f&&f.payload,i),p=ue(l)?{}:{id:"".concat(l,"-").concat(d)};return C.createElement(St,df({},ae(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:St.parseViewBox(ue(o)?f:Rj(Rj({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Un.displayName="LabelList";function kY(e,t){return e?e===!0?C.createElement(Un,{key:"labelList-implicit",data:t}):C.isValidElement(e)||ce(e)?C.createElement(Un,{key:"labelList-implicit",data:t,content:e}):So(e)?C.createElement(Un,df({data:t},e,{key:"labelList-implicit"})):null:null}function CY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=wr(n,Un).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=kY(e.label,t);return[i].concat(bY(s))}Un.renderCallByParent=CY;function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=IY(e,"string");return yc(t)=="symbol"?t:t+""}function IY(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY=function(t,r){var n=Gt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Iu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+s,d=Math.asin(c/f)/uf,h=u?i:i+o*d,p=He(r,n,f,h),y=He(r,n,s,h),b=u?i-o*d:i,v=He(r,n,f*Math.cos(d*uf),b);return{center:p,circleTangency:y,lineTangency:v,theta:d}},ZO=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=DY(o,l),u=o+c,f=He(r,n,i,o),d=He(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var p=He(r,n,s,o),y=He(r,n,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},MY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Gt(f-u),h=Iu({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,b=h.theta,v=Iu({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,g=v.lineTangency,m=v.theta,S=c?Math.abs(u-f):Math.abs(u-f)-b-m;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var w=Iu({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=w.circleTangency,N=w.lineTangency,A=w.theta,P=Iu({cx:r,cy:n,radius:s,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,k=P.lineTangency,D=P.theta,$=c?Math.abs(u-f):Math.abs(u-f)-A-D;if($<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},RY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JO=function(t){var r=Uj(Uj({},RY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var p=he("recharts-sector",h),y=o-i,b=Qt(l,y,0,!0),v;return b>0&&Math.abs(f-d)<360?v=MY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=ZO({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),C.createElement("path",pg({},ae(r,!0),{className:p,d:v,role:"img"}))};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return t=FY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=UY(e,"string");return bc(t)=="symbol"?t:t+""}function UY(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qj={curveBasisClosed:LR,curveBasisOpen:FR,curveBasis:RR,curveBumpX:NR,curveBumpY:SR,curveLinearClosed:UR,curveLinear:Oh,curveMonotoneX:BR,curveMonotoneY:zR,curveNatural:qR,curveStep:WR,curveStepAfter:KR,curveStepBefore:HR},Du=function(t){return t.x===+t.x&&t.y===+t.y},el=function(t){return t.x},tl=function(t){return t.y},BY=function(t,r){if(ce(t))return t;var n="curve".concat(_h(t));return(n==="curveMonotone"||n==="curveBump")&&r?qj["".concat(n).concat(r==="vertical"?"Y":"X")]:qj[n]||Oh},zY=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=BY(n,l),d=u?i.filter(function(b){return Du(b)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return Du(b)}):o,y=d.map(function(b,v){return zj(zj({},b),{},{base:p[v]})});return l==="vertical"?h=_u().y(tl).x1(el).x0(function(b){return b.base.x}):h=_u().x(el).y1(tl).y0(function(b){return b.base.y}),h.defined(Du).curve(f),h(y)}return l==="vertical"&&Y(o)?h=_u().y(tl).x1(el).x0(o):Y(o)?h=_u().x(el).y1(tl).y0(o):h=V4().x(el).y(tl),h.defined(Du).curve(f),h(d)},ff=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?zY(t):s;return O.createElement("path",mg({},ae(t,!1),Dd(t),{className:he("recharts-curve",r),d:o,ref:i}))},eP={exports:{}},qY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WY=qY,HY=WY;function tP(){}function rP(){}rP.resetWarningCache=tP;var KY=function(){function e(n,s,i,o,l,c){if(c!==HY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rP,resetWarningCache:tP};return r.PropTypes=r,r};eP.exports=KY();var VY=eP.exports;const Oe=$e(VY);var GY=Object.getOwnPropertyNames,QY=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty;function Wj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Mu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Hj(e){return GY(e).concat(QY(e))}var XY=Object.hasOwn||function(e,t){return YY.call(e,t)};function Ba(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ZY="__v",JY="__o",eX="_owner",Kj=Object.getOwnPropertyDescriptor,Vj=Object.keys;function tX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function rX(e,t){return Ba(e.getTime(),t.getTime())}function nX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sX(e,t){return e===t}function Gj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=s[d]=!0;break}d++}if(!f)return!1;c++}return!0}var aX=Ba;function iX(e,t,r){var n=Vj(e),s=n.length;if(Vj(t).length!==s)return!1;for(;s-- >0;)if(!nP(e,t,r,n[s]))return!1;return!0}function rl(e,t,r){var n=Hj(e),s=n.length;if(Hj(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!nP(e,t,r,i)||(o=Kj(e,i),l=Kj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function oX(e,t){return Ba(e.valueOf(),t.valueOf())}function lX(e,t){return e.source===t.source&&e.flags===t.flags}function Qj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function cX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nP(e,t,r,n){return(n===eX||n===JY||n===ZY)&&(e.$$typeof||t.$$typeof)?!0:XY(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dX="[object Arguments]",fX="[object Boolean]",hX="[object Date]",pX="[object Error]",mX="[object Map]",gX="[object Number]",xX="[object Object]",vX="[object RegExp]",yX="[object Set]",bX="[object String]",wX="[object URL]",jX=Array.isArray,Yj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Xj=Object.assign,NX=Object.prototype.toString.call.bind(Object.prototype.toString);function SX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;var j=typeof y;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?o(y,b,v):j==="function"?s(y,b,v):!1;var g=y.constructor;if(g!==b.constructor)return!1;if(g===Object)return l(y,b,v);if(jX(y))return t(y,b,v);if(Yj!=null&&Yj(y))return d(y,b,v);if(g===Date)return r(y,b,v);if(g===RegExp)return u(y,b,v);if(g===Map)return i(y,b,v);if(g===Set)return f(y,b,v);var m=NX(y);return m===hX?r(y,b,v):m===vX?u(y,b,v):m===mX?i(y,b,v):m===yX?f(y,b,v):m===xX?typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,v):m===wX?h(y,b,v):m===pX?n(y,b,v):m===dX?l(y,b,v):m===fX||m===gX||m===bX?c(y,b,v):!1}}function _X(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?rl:tX,areDatesEqual:rX,areErrorsEqual:nX,areFunctionsEqual:sX,areMapsEqual:n?Wj(Gj,rl):Gj,areNumbersEqual:aX,areObjectsEqual:n?rl:iX,arePrimitiveWrappersEqual:oX,areRegExpsEqual:lX,areSetsEqual:n?Wj(Qj,rl):Qj,areTypedArraysEqual:n?rl:cX,areUrlsEqual:uX};if(r&&(s=Xj({},s,r(s))),t){var i=Mu(s.areArraysEqual),o=Mu(s.areMapsEqual),l=Mu(s.areObjectsEqual),c=Mu(s.areSetsEqual);s=Xj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function AX(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function OX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var PX=Hs();Hs({strict:!0});Hs({circular:!0});Hs({circular:!0,strict:!0});Hs({createInternalComparator:function(){return Ba}});Hs({strict:!0,createInternalComparator:function(){return Ba}});Hs({circular:!0,createInternalComparator:function(){return Ba}});Hs({circular:!0,createInternalComparator:function(){return Ba},strict:!0});function Hs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=_X(e),c=SX(l),u=n?n(c):AX(c);return OX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function EX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Zj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):EX(s)};requestAnimationFrame(n)}function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function kX(e){return IX(e)||$X(e)||TX(e)||CX()}function CX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IX(e){if(Array.isArray(e))return e}function DX(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=kX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Zj(s.bind(null,u),c);return}s(c),Zj(s.bind(null,u));return}gg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){sP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sP(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=RX(e,"string");return wc(t)==="symbol"?t:String(t)}function RX(e,t){if(wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},FX=function(t){return t},UX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_l=function(t,r){return Object.keys(r).reduce(function(n,s){return tN(tN({},n),{},sP({},s,t(s,r[s])))},{})},rN=function(t,r,n){return t.map(function(s){return"".concat(UX(s)," ").concat(r,"ms ").concat(n)}).join(",")};function BX(e,t){return WX(e)||qX(e,t)||aP(e,t)||zX()}function zX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WX(e){if(Array.isArray(e))return e}function HX(e){return GX(e)||VX(e)||aP(e)||KX()}function KX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(e,t){if(e){if(typeof e=="string")return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xg(e,t)}}function VX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GX(e){if(Array.isArray(e))return xg(e)}function xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hf=1e-4,iP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},oP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},nN=function(t,r){return function(n){var s=iP(t,r);return oP(s,n)}},QX=function(t,r){return function(n){var s=iP(t,r),i=[].concat(HX(s.map(function(o,l){return o*l}).slice(1)),[0]);return oP(i,n)}},sN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=BX(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var d=nN(s,o),h=nN(i,l),p=QX(s,o),y=function(j){return j>1?1:j<0?0:j},b=function(j){for(var g=j>1?1:j,m=g,S=0;S<8;++S){var x=d(m)-g,w=p(m);if(Math.abs(x-g)<hf||w<hf)return h(m);m=y(m-x/w)}return h(m)};return b.isStepper=!1,b},YX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*n,y=h*i,b=h+(p-y)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<hf&&Math.abs(b)<hf?[d,0]:[v,b]};return c.isStepper=!0,c.dt=l,c},XX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sN(s);case"spring":return YX();default:if(s.split("(")[0]==="cubic-bezier")return sN(s)}return typeof s=="function"?s:null};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function aN(e){return eZ(e)||JX(e)||lP(e)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eZ(e){if(Array.isArray(e))return yg(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vg(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return jc(t)==="symbol"?t:String(t)}function rZ(e,t){if(jc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e,t){return iZ(e)||aZ(e,t)||lP(e,t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,t){if(e){if(typeof e=="string")return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(e,t)}}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iZ(e){if(Array.isArray(e))return e}var pf=function(t,r,n){return t+(r-t)*n},bg=function(t){var r=t.from,n=t.to;return r!==n},oZ=function e(t,r,n){var s=_l(function(i,o){if(bg(o)){var l=t(o.from,o.to,o.velocity),c=nZ(l,2),u=c[0],f=c[1];return Et(Et({},o),{},{from:u,velocity:f})}return o},r);return n<1?_l(function(i,o){return bg(o)?Et(Et({},o),{},{velocity:pf(o.velocity,s[i].velocity,n),from:pf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const lZ=function(e,t,r,n,s){var i=LX(e,t),o=i.reduce(function(v,j){return Et(Et({},v),{},vg({},j,[e[j],t[j]]))},{}),l=i.reduce(function(v,j){return Et(Et({},v),{},vg({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return _l(function(j,g){return g.from},l)},p=function(){return!Object.values(l).filter(bg).length},y=function(j){u||(u=j);var g=j-u,m=g/r.dt;l=oZ(r,l,m),s(Et(Et(Et({},e),t),h())),u=j,p()||(c=requestAnimationFrame(d))},b=function(j){f||(f=j);var g=(j-f)/n,m=_l(function(x,w){return pf.apply(void 0,aN(w).concat([r(g)]))},o);if(s(Et(Et(Et({},e),t),m)),g<1)c=requestAnimationFrame(d);else{var S=_l(function(x,w){return pf.apply(void 0,aN(w).concat([r(1)]))},o);s(Et(Et(Et({},e),t),S))}};return d=r.isStepper?y:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var cZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uZ(e,t){if(e==null)return{};var r=dZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function um(e){return mZ(e)||pZ(e)||hZ(e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function pZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mZ(e){if(Array.isArray(e))return wg(e)}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ul(e,t,r){return t=cP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cP(n.key),n)}}function vZ(e,t,r){return t&&xZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cP(e){var t=yZ(e,"string");return Yi(t)==="symbol"?t:String(t)}function yZ(e,t){if(Yi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jg(e,t)}function wZ(e){var t=jZ();return function(){var n=mf(e),s;if(t){var i=mf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Ng(this,s)}}function Ng(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(e)}function Sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}var wn=function(e){bZ(r,e);var t=wZ(r);function r(n,s){var i;gZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Sg(i)),i.changeStyle=i.changeStyle.bind(Sg(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Ng(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Ng(i);i.state={style:c?ul({},c,u):u}}else i.state={style:{}};return i}return vZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var p={style:c?ul({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(PX(s.to,f)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?d:s.to;if(this.state&&h){var v={style:c?ul({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(v)}this.runAnimation(Kr(Kr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,p=lZ(o,l,XX(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(b,v,j){if(j===0)return b;var g=v.duration,m=v.easing,S=m===void 0?"ease":m,x=v.style,w=v.properties,_=v.onAnimationEnd,N=j>0?o[j-1]:v,A=w||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(um(b),[i.runJSAnimation.bind(i,{from:N.style,to:x,duration:g,easing:S}),g]);var P=rN(A,g,S),E=Kr(Kr(Kr({},N.style),x),{},{transition:P});return[].concat(um(b),[E,g,_]).filter(FX)};return this.manager.start([c].concat(um(o.reduce(p,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=DX());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,p=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?ul({},l,c):c,v=rN(Object.keys(b),o,u);y.start([f,i,Kr(Kr({},b),{},{transition:v}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=uZ(s,cZ),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(p){var y=p.props,b=y.style,v=b===void 0?{}:b,j=y.className,g=O.cloneElement(p,Kr(Kr({},c),{},{style:Kr(Kr({},v),f),className:j}));return g};return u===1?d(O.Children.only(i)):C.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);wn.displayName="Animate";wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wn.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function NZ(e,t){return OZ(e)||AZ(e,t)||_Z(e,t)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OZ(e){if(Array.isArray(e))return e}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){PZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PZ(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=kZ(e,"string");return Nc(t)=="symbol"?t:t+""}function kZ(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dN=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+s-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+s)),f+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},CZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&s>=d&&s<=h}return!1},TZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oy=function(t){var r=uN(uN({},TZ),t),n=O.useRef(),s=O.useState(-1),i=NZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,b=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var m=he("recharts-rectangle",p);return g?C.createElement(wn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:b,animationEasing:y,isActive:g},function(S){var x=S.width,w=S.height,_=S.x,N=S.y;return C.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:j,easing:y},C.createElement("path",gf({},ae(r,!0),{className:m,d:dN(_,N,x,w,h),ref:n})))}):C.createElement("path",gf({},ae(r,!0),{className:m,d:dN(c,u,f,d,h)}))},$Z=["points","className","baseLinePoints","connectNulls"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function IZ(e,t){if(e==null)return{};var r=DZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fN(e){return FZ(e)||LZ(e)||RZ(e)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RZ(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function LZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FZ(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hN=function(t){return t&&t.x===+t.x&&t.y===+t.y},UZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){hN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Al=function(t,r){var n=UZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(fN(i),fN(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},BZ=function(t,r,n){var s=Al(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Al(r.reverse(),n).slice(1))},zZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=IZ(t,$Z);if(!r||!r.length)return null;var l=he("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=BZ(r,s,i);return C.createElement("g",{className:l},C.createElement("path",xi({},ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?C.createElement("path",xi({},ae(o,!0),{fill:"none",d:Al(r,i)})):null,c?C.createElement("path",xi({},ae(o,!0),{fill:"none",d:Al(s,i)})):null)}var f=Al(r,i);return C.createElement("path",xi({},ae(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}var qh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=he("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",Ag({},ae(t,!1),Dd(t),{className:o,cx:r,cy:n,r:s})):null};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var qZ=["x","y","top","left","width","height","className"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return t=KZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=VZ(e,"string");return Sc(t)=="symbol"?t:t+""}function VZ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GZ(e,t){if(e==null)return{};var r=QZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YZ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},XZ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,b=GZ(t,qZ),v=WZ({x:n,y:i,top:l,left:u,width:d,height:p},b);return!Y(n)||!Y(i)||!Y(d)||!Y(p)||!Y(l)||!Y(u)?null:C.createElement("path",Og({},ae(v,!0),{className:he("recharts-cross",y),d:YZ(n,i,d,p,l,u)}))},ZZ=Lh,JZ=wO,eJ=Nn;function tJ(e,t){return e&&e.length?ZZ(e,eJ(t),JZ):void 0}var rJ=tJ;const nJ=$e(rJ);var sJ=Lh,aJ=Nn,iJ=jO;function oJ(e,t){return e&&e.length?sJ(e,aJ(t),iJ):void 0}var lJ=oJ;const cJ=$e(lJ);var uJ=["cx","cy","angle","ticks","axisLine"],dJ=["ticks","tick","angle","tickFormatter","stroke"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gN(e,t){if(e==null)return{};var r=fJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dP(n.key),n)}}function pJ(e,t,r){return t&&xN(e.prototype,t),r&&xN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJ(e,t,r){return t=xf(t),gJ(e,uP()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function gJ(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(e)}function xJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uP=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function vJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Pg(e,t)}function Wh(e,t,r){return t=dP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dP(e){var t=yJ(e,"string");return Xi(t)=="symbol"?t:t+""}function yJ(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hh=function(e){function t(){return hJ(this,t),mJ(this,t,arguments)}return vJ(t,e),pJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return He(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=nJ(l,function(f){return f.coordinate||0}),u=cJ(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=gN(n,uJ),f=l.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),d=He(s,i,f[0],o),h=He(s,i,f[1],o),p=Qs(Qs(Qs({},ae(u,!1)),{},{fill:"none"},ae(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return C.createElement("line",Ol({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=gN(s,dJ),d=this.getTickTextAnchor(),h=ae(f,!1),p=ae(o,!1),y=i.map(function(b,v){var j=n.getTickValueCoord(b),g=Qs(Qs(Qs(Qs({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},j),{},{payload:b});return C.createElement(Ne,Ol({className:he("recharts-polar-radius-axis-tick",YO(o)),key:"tick-".concat(b.coordinate)},Ea(n.props,b,v)),t.renderTickItem(o,g,c?c(b.value,v):b.value))});return C.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:C.createElement(Ne,{className:he("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return C.isValidElement(n)?o=C.cloneElement(n,s):ce(n)?o=n(s):o=C.createElement(ka,Ol({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);Wh(Hh,"displayName","PolarRadiusAxis");Wh(Hh,"axisType","radiusAxis");Wh(Hh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function wJ(e,t,r){return t&&yN(e.prototype,t),r&&yN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jJ(e,t,r){return t=vf(t),NJ(e,fP()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function NJ(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJ(e)}function SJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function _J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Eg(e,t)}function Kh(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=AJ(e,"string");return Zi(t)=="symbol"?t:t+""}function AJ(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OJ=Math.PI/180,bN=1e-5,Vh=function(e){function t(){return bJ(this,t),jJ(this,t,arguments)}return _J(t,e),wJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,d=He(i,o,l,n.coordinate),h=He(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*OJ),o;return i>bN?o=s==="outer"?"start":"end":i<-bN?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ys(Ys({},ae(this.props,!1)),{},{fill:"none"},ae(l,!1));if(c==="circle")return C.createElement(qh,sa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return He(s,i,o,h.coordinate)});return C.createElement(zZ,sa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=ae(this.props,!1),d=ae(o,!1),h=Ys(Ys({},f),{},{fill:"none"},ae(l,!1)),p=i.map(function(y,b){var v=n.getTickLineCoord(y),j=n.getTickTextAnchor(y),g=Ys(Ys(Ys({textAnchor:j},f),{},{stroke:"none",fill:u},d),{},{index:b,payload:y,x:v.x2,y:v.y2});return C.createElement(Ne,sa({className:he("recharts-polar-angle-axis-tick",YO(o)),key:"tick-".concat(y.coordinate)},Ea(n.props,y,b)),l&&C.createElement("line",sa({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,g,c?c(y.value,b):y.value))});return C.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:C.createElement(Ne,{className:he("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return C.isValidElement(n)?o=C.cloneElement(n,s):ce(n)?o=n(s):o=C.createElement(ka,sa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);Kh(Vh,"displayName","PolarAngleAxis");Kh(Vh,"axisType","angleAxis");Kh(Vh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PJ=xA,EJ=PJ(Object.getPrototypeOf,Object),kJ=EJ,CJ=Xn,TJ=kJ,$J=Zn,IJ="[object Object]",DJ=Function.prototype,MJ=Object.prototype,pP=DJ.toString,RJ=MJ.hasOwnProperty,LJ=pP.call(Object);function FJ(e){if(!$J(e)||CJ(e)!=IJ)return!1;var t=TJ(e);if(t===null)return!0;var r=RJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pP.call(r)==LJ}var UJ=FJ;const BJ=$e(UJ);var zJ=Xn,qJ=Zn,WJ="[object Boolean]";function HJ(e){return e===!0||e===!1||qJ(e)&&zJ(e)==WJ}var KJ=HJ;const VJ=$e(KJ);function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function GJ(e,t){return ZJ(e)||XJ(e,t)||YJ(e,t)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(e,t){if(e){if(typeof e=="string")return wN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(e,t)}}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ZJ(e){if(Array.isArray(e))return e}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return t=eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eee(e){var t=tee(e,"string");return _c(t)=="symbol"?t:t+""}function tee(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nee=function(t){var r=NN(NN({},ree),t),n=O.useRef(),s=O.useState(-1),i=GJ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&l(m)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,b=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=he("recharts-trapezoid",p);return j?C.createElement(wn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:b,animationEasing:y,isActive:j},function(m){var S=m.upperWidth,x=m.lowerWidth,w=m.height,_=m.x,N=m.y;return C.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:y},C.createElement("path",yf({},ae(r,!0),{className:g,d:SN(_,N,S,x,w),ref:n})))}):C.createElement("g",null,C.createElement("path",yf({},ae(r,!0),{className:g,d:SN(c,u,f,d,h)})))},see=["option","shapeType","propTransformer","activeClassName","isActive"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function aee(e,t){if(e==null)return{};var r=iee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){oee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oee(e,t,r){return t=lee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lee(e){var t=cee(e,"string");return Ac(t)=="symbol"?t:t+""}function cee(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uee(e,t){return bf(bf({},t),e)}function dee(e,t){return e==="symbols"}function AN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(oy,r);case"trapezoid":return C.createElement(nee,r);case"sector":return C.createElement(JO,r);case"symbols":if(dee(t))return C.createElement(Av,r);break;default:return null}}function fee(e){return O.isValidElement(e)?e.props:e}function mP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?uee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=aee(e,see),u;if(O.isValidElement(t))u=O.cloneElement(t,bf(bf({},c),fee(t)));else if(ce(t))u=t(c);else if(BJ(t)&&!VJ(t)){var f=s(t,c);u=C.createElement(AN,{shapeType:r,elementProps:f})}else{var d=c;u=C.createElement(AN,{shapeType:r,elementProps:d})}return l?C.createElement(Ne,{className:o},u):u}function Gh(e,t){return t!=null&&"trapezoids"in e.props}function Qh(e,t){return t!=null&&"sectors"in e.props}function Oc(e,t){return t!=null&&"points"in e.props}function hee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function pee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function gee(e,t){var r;return Gh(e,t)?r=hee:Qh(e,t)?r=pee:Oc(e,t)&&(r=mee),r}function xee(e,t){var r;return Gh(e,t)?r="trapezoids":Qh(e,t)?r="sectors":Oc(e,t)&&(r="points"),r}function vee(e,t){if(Gh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Oc(e,t)?t.payload:{}}function yee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=xee(r,t),i=vee(r,t),o=n.filter(function(c,u){var f=Jc(i,c),d=r.props[s].filter(function(y){var b=gee(r,t);return b(y,t)}),h=r.props[s].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var ed;function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xP(n.key),n)}}function wee(e,t,r){return t&&PN(e.prototype,t),r&&PN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jee(e,t,r){return t=wf(t),Nee(e,gP()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function Nee(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return See(e)}function See(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gP=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}function _ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kg(e,t)}function $r(e,t,r){return t=xP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xP(e){var t=Aee(e,"string");return Ji(t)=="symbol"?t:t+""}function Aee(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Or=function(e){function t(r){var n;return bee(this,t),n=jee(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",Po("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(s)&&s()}),$r(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return _ee(t,e),wee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=ae(this.props,!1),d=ae(o,!1),h=ae(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(b,v){var j=(b.startAngle+b.endAngle)/2,g=He(b.cx,b.cy,b.outerRadius+p,j),m=Ue(Ue(Ue(Ue({},f),b),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(g.x,b.cx)},g),S=Ue(Ue(Ue(Ue({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[He(b.cx,b.cy,b.outerRadius,j),g]}),x=c;return ue(c)&&ue(u)?x="value":ue(c)&&(x=u),C.createElement(Ne,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,m,gt(b,x)))});return C.createElement(Ne,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(f),h=c&&s.hasActiveIndex()?c:null,p=d?o:h,y=Ue(Ue({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return C.createElement(Ne,vi({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ea(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),C.createElement(mP,vi({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return C.createElement(wn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,v=[],j=i&&i[0],g=j.startAngle;return i.forEach(function(m,S){var x=h&&h[S],w=S>0?br(m,"paddingAngle",0):0;if(x){var _=gr(x.endAngle-x.startAngle,m.endAngle-m.startAngle),N=Ue(Ue({},m),{},{startAngle:g+w,endAngle:g+_(b)+w});v.push(N),g=N.endAngle}else{var A=m.endAngle,P=m.startAngle,E=gr(0,A-P),k=E(b),D=Ue(Ue({},m),{},{startAngle:g+w,endAngle:g+k+w});v.push(D),g=D.endAngle}}),C.createElement(Ne,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Jc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Y(u)||!Y(f)||!Y(d)||!Y(h))return null;var b=he("recharts-pie",l);return C.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),St.renderCallByParent(this.props,null,!1),(!p||y)&&Un.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(C.isValidElement(n))return C.cloneElement(n,s);if(ce(n))return n(s);var o=he("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return C.createElement(ff,vi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(C.isValidElement(n))return C.cloneElement(n,s);var o=i;if(ce(n)&&(o=n(s),C.isValidElement(o)))return o;var l=he("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return C.createElement(ka,vi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);ed=Or;$r(Or,"displayName","Pie");$r(Or,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Or,"parseDeltaAngle",function(e,t){var r=Gt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Or,"getRealPieData",function(e){var t=e.data,r=e.children,n=ae(e,!1),s=wr(r,zs);return t&&t.length?t.map(function(i,o){return Ue(Ue(Ue({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ue(Ue({},n),i.props)}):[]});$r(Or,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=QO(s,i),l=n+Qt(e.cx,s,s/2),c=r+Qt(e.cy,i,i/2),u=Qt(e.innerRadius,o,0),f=Qt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});$r(Or,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ue(Ue({},t.type.defaultProps),t.props):t.props,s=ed.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=ed.parseCoordinateOfPie(n,r),b=ed.parseDeltaAngle(o,l),v=Math.abs(b),j=u;ue(u)&&ue(d)?(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):ue(u)&&(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=d);var g=s.filter(function(N){return gt(N,j,0)!==0}).length,m=(v>=360?g:g-1)*c,S=v-g*p-m,x=s.reduce(function(N,A){var P=gt(A,j,0);return N+(Y(P)?P:0)},0),w;if(x>0){var _;w=s.map(function(N,A){var P=gt(N,j,0),E=gt(N,f,A),k=(Y(P)?P:0)/x,D;A?D=_.endAngle+Gt(b)*c*(P!==0?1:0):D=o;var $=D+Gt(b)*((P!==0?p:0)+k*S),L=(D+$)/2,U=(y.innerRadius+y.outerRadius)/2,q=[{name:E,value:P,payload:N,dataKey:j,type:h}],T=He(y.cx,y.cy,U,L);return _=Ue(Ue(Ue({percent:k,cornerRadius:i,name:E,tooltipPayload:q,midAngle:L,middleRadius:U,tooltipPosition:T},N),y),{},{value:gt(N,j),startAngle:D,endAngle:$,payload:N,paddingAngle:Gt(b)*c}),_})}return Ue(Ue({},y),{},{sectors:w,data:s})});var Oee=Math.ceil,Pee=Math.max;function Eee(e,t,r,n){for(var s=-1,i=Pee(Oee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var kee=Eee,Cee=MA,EN=1/0,Tee=17976931348623157e292;function $ee(e){if(!e)return e===0?e:0;if(e=Cee(e),e===EN||e===-EN){var t=e<0?-1:1;return t*Tee}return e===e?e:0}var vP=$ee,Iee=kee,Dee=Ch,dm=vP;function Mee(e){return function(t,r,n){return n&&typeof n!="number"&&Dee(t,r,n)&&(r=n=void 0),t=dm(t),r===void 0?(r=t,t=0):r=dm(r),n=n===void 0?t<r?1:-1:dm(n),Iee(t,r,n,e)}}var Ree=Mee,Lee=Ree,Fee=Lee(),Uee=Fee;const jf=$e(Uee);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){yP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yP(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=zee(e,"string");return Pc(t)=="symbol"?t:t+""}function zee(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=["Webkit","Moz","O","ms"],Wee=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=qee.reduce(function(i,o){return CN(CN({},i),{},yP({},o+n,r))},{});return s[t]=r,s};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wP(n.key),n)}}function Kee(e,t,r){return t&&$N(e.prototype,t),r&&$N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vee(e,t,r){return t=Sf(t),Gee(e,bP()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function Gee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qee(e)}function Qee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function Yee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cg(e,t)}function hr(e,t,r){return t=wP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wP(e){var t=Xee(e,"string");return eo(t)=="symbol"?t:t+""}function Xee(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zee=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Nl().domain(jf(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},IN=function(t){return t.changedTouches&&!!t.changedTouches.length},to=function(e){function t(r){var n;return Hee(this,t),n=Vee(this,t,[r]),hr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),hr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),hr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hr(n,"handleSlideDragStart",function(s){var i=IN(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yee(t,e),Kee(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,d),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=gt(i[n],l,n);return ce(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,u+f-d-l,u+f-d-o):b<0&&(b=Math.max(b,u-o,u-l));var v=this.getIndex({startX:o+b,endX:l+b});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=IN(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,b=f.gap,v=f.data,j={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,d+h-p-u):g<0&&(g=Math.max(g,d-u)),j[o]=u+g;var m=this.getIndex(j),S=m.startIndex,x=m.endIndex,w=function(){var N=v.length-1;return o==="startX"&&(l>c?S%b===0:x%b===0)||l<c&&x===N||o==="endX"&&(l>c?x%b===0:S%b===0)||l>c&&x===N};this.setState(hr(hr({},o,u+g),"brushMoveStartX",n.pageX),function(){y&&w()&&y(m)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(hr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return C.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?C.cloneElement(d,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,b=c.startIndex,v=c.endIndex,j=Math.max(n,this.props.x),g=fm(fm({},ae(this.props,!1)),{},{x:j,y:u,width:f,height:d}),m=p||"Min value: ".concat((i=y[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return C.createElement(Ne,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return C.createElement(Ne,{className:"recharts-brush-texts"},C.createElement(ka,Nf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+l/2},y),this.getTextOfTick(s)),C.createElement(ka,Nf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,b=h.isTextActive,v=h.isSlideMoving,j=h.isTravellerMoving,g=h.isTravellerFocused;if(!s||!s.length||!Y(l)||!Y(c)||!Y(u)||!Y(f)||u<=0||f<=0)return null;var m=he("recharts-brush",i),S=C.Children.count(o)===1,x=Wee("userSelect","none");return C.createElement(Ne,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(b||v||j||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),C.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return C.isValidElement(n)?i=C.cloneElement(n,s):ce(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return fm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Zee({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);hr(to,"displayName","Brush");hr(to,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jee=$v;function ete(e,t){var r;return Jee(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var tte=ete,rte=cA,nte=Nn,ste=tte,ate=dr,ite=Ch;function ote(e,t,r){var n=ate(e)?rte:ste;return r&&ite(e,t,r)&&(t=void 0),n(e,nte(t))}var lte=ote;const cte=$e(lte);var yn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},DN=CA;function ute(e,t,r){t=="__proto__"&&DN?DN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var dte=ute,fte=dte,hte=EA,pte=Nn;function mte(e,t){var r={};return t=pte(t),hte(e,function(n,s,i){fte(r,s,t(n,s,i))}),r}var gte=mte;const xte=$e(gte);function vte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var yte=vte,bte=$v;function wte(e,t){var r=!0;return bte(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var jte=wte,Nte=yte,Ste=jte,_te=Nn,Ate=dr,Ote=Ch;function Pte(e,t,r){var n=Ate(e)?Nte:Ste;return r&&Ote(e,t,r)&&(t=void 0),n(e,_te(t))}var Ete=Pte;const jP=$e(Ete);var kte=["x","y"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e,t,r){return t=Tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=$te(e,"string");return Ec(t)=="symbol"?t:t+""}function $te(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ite(e,t){if(e==null)return{};var r=Dte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mte(e,t){var r=e.x,n=e.y,s=Ite(e,kte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return nl(nl(nl(nl(nl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function RN(e){return C.createElement(mP,Tg({shapeType:"rectangle",propTransformer:Mte,activeClassName:"recharts-active-bar"},e))}var Rte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Y(n)||lM(n);return i?t(n,s):(i||Ta(),r)}},Lte=["value","background"],NP;function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function Fte(e,t){if(e==null)return{};var r=Ute(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ute(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_P(n.key),n)}}function zte(e,t,r){return t&&FN(e.prototype,t),r&&FN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qte(e,t,r){return t=Af(t),Wte(e,SP()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Wte(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hte(e)}function Hte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SP=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$g(e,t)}function ws(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _P(e){var t=Vte(e,"string");return ro(t)=="symbol"?t:t+""}function Vte(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ot=function(e){function t(){var r;Bte(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=qte(this,t,[].concat(s)),ws(r,"state",{isAnimationFinished:!1}),ws(r,"id",Po("recharts-bar-")),ws(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ws(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kte(t,e),zte(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ae(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:o,b=ut(ut(ut({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return C.createElement(Ne,_f({className:"recharts-bar-rectangle"},Ea(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),C.createElement(RN,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,d=s.animationId,h=this.state.prevData;return C.createElement(wn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,b=i.map(function(v,j){var g=h&&h[j];if(g){var m=gr(g.x,v.x),S=gr(g.y,v.y),x=gr(g.width,v.width),w=gr(g.height,v.height);return ut(ut({},v),{},{x:m(y),y:S(y),width:x(y),height:w(y)})}if(o==="horizontal"){var _=gr(0,v.height),N=_(y);return ut(ut({},v),{},{y:v.y+v.height-N,height:N})}var A=gr(0,v.width),P=A(y);return ut(ut({},v),{},{width:P})});return C.createElement(Ne,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Jc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=ae(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=Fte(u,Lte);if(!d)return null;var p=ut(ut(ut(ut(ut({},h),{},{fill:"#eee"},d),c),Ea(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return C.createElement(RN,_f({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wr(f,eu);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,j){var g=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:g,errorVal:gt(v,j)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return C.createElement(Ne,y,d.map(function(b){return C.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,b=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=he("recharts-bar",o),g=l&&l.allowDataOverflow,m=c&&c.allowDataOverflow,S=g||m,x=ue(b)?this.id:b;return C.createElement(Ne,{className:j},g||m?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(x)},C.createElement("rect",{x:g?u:u-d/2,y:m?f:f-h/2,width:g?d:d*2,height:m?h:h*2}))):null,C.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||v)&&Un.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);NP=Ot;ws(Ot,"displayName","Bar");ws(Ot,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ws(Ot,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=OQ(n,r);if(!p)return null;var y=t.layout,b=r.type.defaultProps,v=b!==void 0?ut(ut({},b),r.props):r.props,j=v.dataKey,g=v.children,m=v.minPointSize,S=y==="horizontal"?o:i,x=u?S.scale.domain():null,w=IQ({numericAxis:S}),_=wr(g,zs),N=d.map(function(A,P){var E,k,D,$,L,U;u?E=PQ(u[f+P],x):(E=gt(A,j),Array.isArray(E)||(E=[w,E]));var q=Rte(m,NP.defaultProps.minPointSize)(E[1],P);if(y==="horizontal"){var T,R=[o.scale(E[0]),o.scale(E[1])],I=R[0],K=R[1];k=Pj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),D=(T=K??I)!==null&&T!==void 0?T:void 0,$=p.size;var Q=I-K;if(L=Number.isNaN(Q)?0:Q,U={x:k,y:o.y,width:$,height:o.height},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var te=Gt(L||q)*(Math.abs(q)-Math.abs(L));D-=te,L+=te}}else{var ve=[i.scale(E[0]),i.scale(E[1])],De=ve[0],Ke=ve[1];if(k=De,D=Pj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),$=Ke-De,L=p.size,U={x:i.x,y:D,width:i.width,height:L},Math.abs(q)>0&&Math.abs($)<Math.abs(q)){var It=Gt($||q)*(Math.abs(q)-Math.abs($));$+=It}}return ut(ut(ut({},A),{},{x:k,y:D,width:$,height:L,value:u?E:E[1],payload:A,background:U},_&&_[P]&&_[P].props),{},{tooltipPayload:[VO(r,A)],tooltipPosition:{x:k+$/2,y:D+L/2}})});return ut({data:N,layout:y},h)});function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Gte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function Qte(e,t,r){return t&&UN(e.prototype,t),r&&UN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=Yte(e,"string");return kc(t)=="symbol"?t:t+""}function Yte(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!mr(u,Ot);return f.reduce(function(p,y){var b=r[y],v=b.orientation,j=b.domain,g=b.padding,m=g===void 0?{}:g,S=b.mirror,x=b.reversed,w="".concat(v).concat(S?"Mirror":""),_,N,A,P,E;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var k=j[1]-j[0],D=1/0,$=b.categoricalDomain.sort(dM);if($.forEach(function(ve,De){De>0&&(D=Math.min((ve||0)-($[De-1]||0),D))}),Number.isFinite(D)){var L=D/k,U=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(_=L*U/2),b.padding==="no-gap"){var q=Qt(t.barCategoryGap,L*U),T=L*U/2;_=T-q-(T-q)/U*q}}}s==="xAxis"?N=[n.left+(m.left||0)+(_||0),n.left+n.width-(m.right||0)-(_||0)]:s==="yAxis"?N=c==="horizontal"?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0)+(_||0),n.top+n.height-(m.bottom||0)-(_||0)]:N=b.range,x&&(N=[N[1],N[0]]);var R=qO(b,i,h),I=R.scale,K=R.realScaleType;I.domain(j).range(N),WO(I);var Q=HO(I,Xr(Xr({},b),{},{realScaleType:K}));s==="xAxis"?(E=v==="top"&&!S||v==="bottom"&&S,A=n.left,P=d[w]-E*b.height):s==="yAxis"&&(E=v==="left"&&!S||v==="right"&&S,A=d[w]-E*b.width,P=n.top);var te=Xr(Xr(Xr({},b),Q),{},{realScaleType:K,x:A,y:P,scale:I,width:s==="xAxis"?n.width:b.width,height:s==="yAxis"?n.height:b.height});return te.bandSize=cf(te,Q),!b.hide&&s==="xAxis"?d[w]+=(E?-1:1)*te.height:b.hide||(d[w]+=(E?-1:1)*te.width),Xr(Xr({},p),{},Yh({},y,te))},{})},PP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Xte=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return PP({x:r,y:n},{x:s,y:i})},EP=function(){function e(t){Gte(this,e),this.scale=t}return Qte(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Yh(EP,"EPS",1e-4);var ly=function(t){var r=Object.keys(t).reduce(function(n,s){return Xr(Xr({},n),{},Yh({},s,EP.create(t[s])))},{});return Xr(Xr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return xte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return jP(s,function(i,o){return r[o].isInRange(i)})}})};function Zte(e){return(e%180+180)%180}var Jte=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Zte(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ere=Nn,tre=Gc,rre=Eh;function nre(e){return function(t,r,n){var s=Object(t);if(!tre(t)){var i=ere(r);t=rre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var sre=nre,are=vP;function ire(e){var t=are(e),r=t%1;return t===t?r?t-r:t:0}var ore=ire,lre=NA,cre=Nn,ure=ore,dre=Math.max;function fre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:ure(r);return s<0&&(s=dre(n+s,0)),lre(e,cre(t),s)}var hre=fre,pre=sre,mre=hre,gre=pre(mre),xre=gre;const vre=$e(xre);var yre=f8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),cy=O.createContext(void 0),uy=O.createContext(void 0),kP=O.createContext(void 0),CP=O.createContext({}),TP=O.createContext(void 0),$P=O.createContext(0),IP=O.createContext(0),zN=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=yre(i);return C.createElement(cy.Provider,{value:n},C.createElement(uy.Provider,{value:s},C.createElement(CP.Provider,{value:i},C.createElement(kP.Provider,{value:f},C.createElement(TP.Provider,{value:o},C.createElement($P.Provider,{value:u},C.createElement(IP.Provider,{value:c},l)))))))},bre=function(){return O.useContext(TP)},DP=function(t){var r=O.useContext(cy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},wre=function(){var t=O.useContext(cy);return ms(t)},jre=function(){var t=O.useContext(uy),r=vre(t,function(n){return jP(n.domain,Number.isFinite)});return r||ms(t)},MP=function(t){var r=O.useContext(uy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},Nre=function(){var t=O.useContext(kP);return t},Sre=function(){return O.useContext(CP)},dy=function(){return O.useContext(IP)},fy=function(){return O.useContext($P)};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function _re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Are(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LP(n.key),n)}}function Ore(e,t,r){return t&&Are(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pre(e,t,r){return t=Of(t),Ere(e,RP()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Ere(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(e)}function kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function Cre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ig(e,t)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hy(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=Tre(e,"string");return no(t)=="symbol"?t:t+""}function Tre(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $re(e,t){return Rre(e)||Mre(e,t)||Dre(e,t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rre(e){if(Array.isArray(e))return e}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}var Lre=function(t,r){var n;return C.isValidElement(t)?n=C.cloneElement(t,r):ce(t)?n=t(r):n=C.createElement("line",Dg({},r,{className:"recharts-reference-line-line"})),n},Fre=function(t,r,n,s,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var y=u.y,b=t.y.apply(y,{position:o});if(yn(u,"discard")&&!t.y.isInRange(b))return null;var v=[{x:f+h,y:b},{x:f,y:b}];return c==="left"?v.reverse():v}if(r){var j=u.x,g=t.x.apply(j,{position:o});if(yn(u,"discard")&&!t.x.isInRange(g))return null;var m=[{x:g,y:d+p},{x:g,y:d}];return l==="top"?m.reverse():m}if(s){var S=u.segment,x=S.map(function(w){return t.apply(w,{position:o})});return yn(u,"discard")&&cte(x,function(w){return!t.isInRange(w)})?null:x}return null};function Ure(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=bre(),f=DP(s),d=MP(i),h=Nre();if(!u||!h)return null;an(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ly({x:f.scale,y:d.scale}),y=vt(t),b=vt(r),v=n&&n.length===2,j=Fre(p,y,b,v,h,e.position,f.orientation,d.orientation,e);if(!j)return null;var g=$re(j,2),m=g[0],S=m.x,x=m.y,w=g[1],_=w.x,N=w.y,A=yn(e,"hidden")?"url(#".concat(u,")"):void 0,P=WN(WN({clipPath:A},ae(e,!0)),{},{x1:S,y1:x,x2:_,y2:N});return C.createElement(Ne,{className:he("recharts-reference-line",l)},Lre(o,P),St.renderCallByParent(e,Xte({x1:S,y1:x,x2:_,y2:N})))}var py=function(e){function t(){return _re(this,t),Pre(this,t,arguments)}return Cre(t,e),Ore(t,[{key:"render",value:function(){return C.createElement(Ure,this.props)}}])}(C.Component);hy(py,"displayName","ReferenceLine");hy(py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UP(n.key),n)}}function qre(e,t,r){return t&&zre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wre(e,t,r){return t=Pf(t),Hre(e,FP()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function Hre(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kre(e)}function Kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function Vre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rg(e,t)}function Rg(e,t){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rg(e,t)}function Xh(e,t,r){return t=UP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UP(e){var t=Gre(e,"string");return so(t)=="symbol"?t:t+""}function Gre(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qre=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=ly({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return yn(t,"discard")&&!o.isInRange(l)?null:l},Zh=function(e){function t(){return Bre(this,t),Wre(this,t,arguments)}return Vre(t,e),qre(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=vt(s),f=vt(i);if(an(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Qre(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,b=y.shape,v=y.className,j=yn(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=VN(VN({clipPath:j},ae(this.props,!0)),{},{cx:h,cy:p});return C.createElement(Ne,{className:he("recharts-reference-dot",v)},t.renderDot(b,g),St.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(C.Component);Xh(Zh,"displayName","ReferenceDot");Xh(Zh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xh(Zh,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):ce(e)?r=e(t):r=C.createElement(qh,Mg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zP(n.key),n)}}function Zre(e,t,r){return t&&Xre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jre(e,t,r){return t=Ef(t),ene(e,BP()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function ene(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tne(e)}function tne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function rne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fg(e,t)}function Jh(e,t,r){return t=zP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zP(e){var t=nne(e,"string");return ao(t)=="symbol"?t:t+""}function nne(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=ly({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:PP(p,y)},ep=function(e){function t(){return Yre(this,t),Jre(this,t,arguments)}return rne(t,e),Zre(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;an(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=vt(s),h=vt(i),p=vt(o),y=vt(l),b=this.props.shape;if(!d&&!h&&!p&&!y&&!b)return null;var v=sne(d,h,p,y,this.props);if(!v&&!b)return null;var j=yn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return C.createElement(Ne,{className:he("recharts-reference-area",c)},t.renderRect(b,QN(QN({clipPath:j},ae(this.props,!0)),v)),St.renderCallByParent(this.props,v))}}])}(C.Component);Jh(ep,"displayName","ReferenceArea");Jh(ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jh(ep,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):ce(e)?r=e(t):r=C.createElement(oy,Lg({},t,{className:"recharts-reference-area-rect"})),r});function qP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function ane(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Jte(n,r)}function ine(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function kf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function one(e,t){return qP(e,t+1)}function lne(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:qP(n,u)};var b=c,v,j=function(){return v===void 0&&(v=r(y,b)),v},g=y.coordinate,m=c===0||kf(e,g,j,f,l);m||(c=0,f=o,u+=1),m&&(f=g+e*(j()/2+s),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return t=une(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return Cc(t)=="symbol"?t:t+""}function dne(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,b=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*b()/2-c);i[h]=p=Ft(Ft({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Ft(Ft({},p),{},{tickCoord:p.coordinate});var j=kf(e,p.tickCoord,b,l,c);j&&(c=p.tickCoord-e*(b()/2+s),i[h]=Ft(Ft({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function hne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=Ft(Ft({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=kf(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+s),o[l-1]=Ft(Ft({},f),{},{isShow:!0}))}for(var y=i?l-1:l,b=function(g){var m=o[g],S,x=function(){return S===void 0&&(S=r(m,g)),S};if(g===0){var w=e*(m.coordinate-e*x()/2-c);o[g]=m=Ft(Ft({},m),{},{tickCoord:w<0?m.coordinate-w*e:m.coordinate})}else o[g]=m=Ft(Ft({},m),{},{tickCoord:m.coordinate});var _=kf(e,m.tickCoord,x,c,u);_&&(c=m.tickCoord+e*(x()/2+s),o[g]=Ft(Ft({},m),{},{isShow:!0}))},v=0;v<y;v++)b(v);return o}function my(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(Y(c)||xn.isSsr)return one(s,typeof c=="number"&&Y(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?jl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(m,S){var x=ce(u)?u(m.value,S):m.value;return p==="width"?ane(jl(x,{fontSize:t,letterSpacing:r}),y,d):jl(x,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?Gt(s[1].coordinate-s[0].coordinate):1,j=ine(i,v,p);return c==="equidistantPreserveStart"?lne(v,j,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=hne(v,j,b,s,o,c==="preserveStartEnd"):h=fne(v,j,b,s,o),h.filter(function(g){return g.isShow}))}var pne=["viewBox"],mne=["viewBox"],gne=["ticks"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hm(e,t){if(e==null)return{};var r=xne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function yne(e,t,r){return t&&ZN(e.prototype,t),r&&ZN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bne(e,t,r){return t=Cf(t),wne(e,WP()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function wne(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(e)}function jne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function Nne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ug(e,t)}function gy(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=Sne(e,"string");return io(t)=="symbol"?t:t+""}function Sne(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Do=function(e){function t(r){var n;return vne(this,t),n=bne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Nne(t,e),yne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=hm(n,pne),l=this.props,c=l.viewBox,u=hm(l,mne);return!Pi(i,c)||!Pi(o,u)||!Pi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,d=s.mirror,h=s.tickMargin,p,y,b,v,j,g,m=d?-1:1,S=n.tickSize||f,x=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!d*c,b=v-m*S,g=b-m*h,j=x;break;case"left":b=v=n.coordinate,y=i+ +!d*l,p=y-m*S,j=p-m*h,g=x;break;case"right":b=v=n.coordinate,y=i+ +d*l,p=y+m*S,j=p+m*h,g=x;break;default:p=y=n.coordinate,v=o+ +d*c,b=v+m*S,g=b+m*h,j=x;break}return{line:{x1:p,y1:b,x2:y,y2:v},tick:{x:j,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=ht(ht(ht({},ae(this.props,!1)),ae(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=ht(ht({},d),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=ht(ht({},d),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return C.createElement("line",yi({},d,{className:he("recharts-cartesian-axis-line",br(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=my(ht(ht({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=ae(this.props,!1),j=ae(f,!1),g=ht(ht({},v),{},{fill:"none"},ae(c,!1)),m=p.map(function(S,x){var w=o.getTickLineCoord(S),_=w.line,N=w.tick,A=ht(ht(ht(ht({textAnchor:y,verticalAnchor:b},v),{},{stroke:"none",fill:u},j),N),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:d});return C.createElement(Ne,yi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Ea(o.props,S,x)),c&&C.createElement("line",yi({},g,_,{className:he("recharts-cartesian-axis-tick-line",br(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(ce(d)?d(S.value,x):S.value).concat(h||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var d=this.props,h=d.ticks,p=hm(d,gne),y=h;return ce(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:C.createElement(Ne,{className:he("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=he(s.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(n)?o=C.cloneElement(n,ht(ht({},s),{},{className:l})):ce(n)?o=n(ht(ht({},s),{},{className:l})):o=C.createElement(ka,yi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);gy(Do,"displayName","CartesianAxis");gy(Do,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _ne=["x1","y1","x2","y2","key"],Ane=["offset"];function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){One(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function One(e,t,r){return t=Pne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=Ene(e,"string");return $a(t)=="symbol"?t:t+""}function Ene(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},da.apply(this,arguments)}function eS(e,t){if(e==null)return{};var r=kne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return C.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KP(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(ce(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=eS(t,_ne),u=ae(c,!1);u.offset;var f=eS(u,Ane);r=C.createElement("line",da({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Tne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Bt(Bt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return KP(s,u)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $ne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Bt(Bt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return KP(s,u)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ine(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?s+o-h:f[p+1]-h;if(b<=0)return null;var v=p%t.length;return C.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Dne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?i+l-h:f[p+1]-h;if(b<=0)return null;var v=p%n.length;return C.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Mne=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return zO(my(Bt(Bt(Bt({},Do.defaultProps),n),{},{ticks:Mn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Rne=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return zO(my(Bt(Bt(Bt({},Do.defaultProps),n),{},{ticks:Mn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ja={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sr(e){var t,r,n,s,i,o,l=dy(),c=fy(),u=Sre(),f=Bt(Bt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ja.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ja.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ja.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ja.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ja.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ja.verticalFill,x:Y(e.x)?e.x:u.left,y:Y(e.y)?e.y:u.top,width:Y(e.width)?e.width:u.width,height:Y(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,b=f.syncWithTicks,v=f.horizontalValues,j=f.verticalValues,g=wre(),m=jre();if(!Y(p)||p<=0||!Y(y)||y<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||Mne,x=f.horizontalCoordinatesGenerator||Rne,w=f.horizontalPoints,_=f.verticalPoints;if((!w||!w.length)&&ce(x)){var N=v&&v.length,A=x({yAxis:m?Bt(Bt({},m),{},{ticks:N?v:m.ticks}):void 0,width:l,height:c,offset:u},N?!0:b);an(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($a(A),"]")),Array.isArray(A)&&(w=A)}if((!_||!_.length)&&ce(S)){var P=j&&j.length,E=S({xAxis:g?Bt(Bt({},g),{},{ticks:P?j:g.ticks}):void 0,width:l,height:c,offset:u},P?!0:b);an(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($a(E),"]")),Array.isArray(E)&&(_=E)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Cne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),C.createElement(Tne,da({},f,{offset:u,horizontalPoints:w,xAxis:g,yAxis:m})),C.createElement($ne,da({},f,{offset:u,verticalPoints:_,xAxis:g,yAxis:m})),C.createElement(Ine,da({},f,{horizontalPoints:w})),C.createElement(Dne,da({},f,{verticalPoints:_})))}Sr.displayName="CartesianGrid";var Lne=["type","layout","connectNulls","ref"],Fne=["key"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function tS(e,t){if(e==null)return{};var r=Une(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Une(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){Zr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ei(e){return Wne(e)||qne(e)||zne(e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(e,t){if(e){if(typeof e=="string")return Bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(e,t)}}function qne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wne(e){if(Array.isArray(e))return Bg(e)}function Bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function Kne(e,t,r){return t&&nS(e.prototype,t),r&&nS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vne(e,t,r){return t=Tf(t),Gne(e,VP()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function Gne(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qne(e)}function Qne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VP=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function Yne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zg(e,t)}function Zr(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=Xne(e,"string");return oo(t)=="symbol"?t:t+""}function Xne(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jt=function(e){function t(){var r;Hne(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Vne(this,t,[].concat(s)),Zr(r,"state",{isAnimationFinished:!0,totalLength:0}),Zr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,g){return j+g});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,p=[],y=0,b=0;y<c.length;b+=c[y],++y)if(b+c[y]>d){p=[].concat(ei(c.slice(0,y)),[d-b]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ei(t.repeat(c,f)),ei(p),v).map(function(j){return"".concat(j,"px")}).join(", ")}),Zr(r,"id",Po("recharts-line-")),Zr(r,"pathRef",function(o){r.mainCurve=o}),Zr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Zr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Yne(t,e),Kne(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wr(f,eu);if(!d)return null;var h=function(b,v){return{x:b.x,y:b.y,value:b.value,errorVal:gt(b.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return C.createElement(Ne,p,d.map(function(y){return C.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=ae(this.props,!1),h=ae(c,!0),p=u.map(function(b,v){var j=fr(fr(fr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:u});return t.renderDotItem(c,j)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return C.createElement(Ne,Pl({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=tS(l,Lne),h=fr(fr(fr({},ae(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return C.createElement(ff,Pl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,b=o.width,v=o.height,j=this.state,g=j.prevPoints,m=j.totalLength;return C.createElement(wn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(g){var w=g.length/l.length,_=l.map(function(k,D){var $=Math.floor(D*w);if(g[$]){var L=g[$],U=gr(L.x,k.x),q=gr(L.y,k.y);return fr(fr({},k),{},{x:U(x),y:q(x)})}if(y){var T=gr(b*2,k.x),R=gr(v/2,k.y);return fr(fr({},k),{},{x:T(x),y:R(x)})}return fr(fr({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(_,n,s)}var N=gr(0,m),A=N(x),P;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});P=i.getStrokeDasharray(A,m,E)}else P=i.generateSimpleStrokeDasharray(m,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Jc(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,d=s.top,h=s.left,p=s.width,y=s.height,b=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,g=l.length===1,m=he("recharts-line",c),S=u&&u.allowDataOverflow,x=f&&f.allowDataOverflow,w=S||x,_=ue(v)?this.id:v,N=(n=ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=N.r,P=A===void 0?3:A,E=N.strokeWidth,k=E===void 0?2:E,D=bM(o)?o:{},$=D.clipDot,L=$===void 0?!0:$,U=P*2+k;return C.createElement(Ne,{className:m},S||x?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(_)},C.createElement("rect",{x:S?h:h-p/2,y:x?d:d-y/2,width:S?p:p*2,height:x?y:y*2})),!L&&C.createElement("clipPath",{id:"clipPath-dots-".concat(_)},C.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:y+U}))):null,!g&&this.renderCurve(w,_),this.renderErrorBar(w,_),(g||o)&&this.renderDots(w,L,_),(!b||j)&&Un.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ei(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ei(o),ei(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(C.isValidElement(n))i=C.cloneElement(n,s);else if(ce(n))i=n(s);else{var o=s.key,l=tS(s,Fne),c=he("recharts-line-dot",typeof n!="boolean"?n.className:"");i=C.createElement(qh,Pl({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Zr(Jt,"displayName","Line");Zr(Jt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zr(Jt,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=gt(h,o);return f==="horizontal"?{x:Oj({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:ue(y)?null:n.scale(y),value:y,payload:h}:{x:ue(y)?null:r.scale(y),y:Oj({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return fr({points:d,layout:f},u)});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XP(n.key),n)}}function ese(e,t,r){return t&&Jne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tse(e,t,r){return t=$f(t),rse(e,QP()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function rse(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(e)}function nse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function sse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qg(e,t)}function YP(e,t,r){return t=XP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XP(e){var t=ase(e,"string");return lo(t)=="symbol"?t:t+""}function ase(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function ise(e){var t=e.xAxisId,r=dy(),n=fy(),s=DP(t);return s==null?null:O.createElement(Do,Wg({},s,{className:he("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Mn(o,!0)}}))}var Ht=function(e){function t(){return Zne(this,t),tse(this,t,arguments)}return sse(t,e),ese(t,[{key:"render",value:function(){return O.createElement(ise,this.props)}}])}(O.Component);YP(Ht,"displayName","XAxis");YP(Ht,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e6(n.key),n)}}function cse(e,t,r){return t&&lse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function use(e,t,r){return t=If(t),dse(e,ZP()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function dse(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(e)}function fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hg(e,t)}function JP(e,t,r){return t=e6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e6(e){var t=pse(e,"string");return co(t)=="symbol"?t:t+""}function pse(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}var mse=function(t){var r=t.yAxisId,n=dy(),s=fy(),i=MP(r);return i==null?null:O.createElement(Do,Kg({},i,{className:he("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Mn(l,!0)}}))},Kt=function(e){function t(){return ose(this,t),use(this,t,arguments)}return hse(t,e),cse(t,[{key:"render",value:function(){return O.createElement(mse,this.props)}}])}(O.Component);JP(Kt,"displayName","YAxis");JP(Kt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sS(e){return yse(e)||vse(e)||xse(e)||gse()}function gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(e,t){if(e){if(typeof e=="string")return Vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vg(e,t)}}function vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yse(e){if(Array.isArray(e))return Vg(e)}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gg=function(t,r,n,s,i){var o=wr(t,py),l=wr(t,Zh),c=[].concat(sS(o),sS(l)),u=wr(t,ep),f="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(b,v){if(v.props[f]===n&&yn(v.props,"extendDomain")&&Y(v.props[d])){var j=v.props[d];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(b,v){if(v.props[f]===n&&yn(v.props,"extendDomain")&&Y(v.props[p])&&Y(v.props[y])){var j=v.props[p],g=v.props[y];return[Math.min(b[0],j,g),Math.max(b[1],j,g)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,v){return Y(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},h)),h},t6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var b=r?r+u:u;if(!this._events[b])return!1;var v=this._events[b],j=arguments.length,g,m;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,p),!0;case 6:return v.fn.call(v.context,f,d,h,p,y),!0}for(m=1,g=new Array(j-1);m<j;m++)g[m-1]=arguments[m];v.fn.apply(v.context,g)}else{var S=v.length,x;for(m=0;m<S;m++)switch(v[m].once&&this.removeListener(u,v[m].fn,void 0,!0),j){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,f);break;case 3:v[m].fn.call(v[m].context,f,d);break;case 4:v[m].fn.call(v[m].context,f,d,h);break;default:if(!g)for(x=1,g=new Array(j-1);x<j;x++)g[x-1]=arguments[x];v[m].fn.apply(v[m].context,g)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var b=0,v=[],j=y.length;b<j;b++)(y[b].fn!==f||h&&!y[b].once||d&&y[b].context!==d)&&v.push(y[b]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(t6);var bse=t6.exports;const wse=$e(bse);var pm=new wse,mm="recharts.syncMouseEvents";function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function jse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r6(n.key),n)}}function Sse(e,t,r){return t&&Nse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gm(e,t,r){return t=r6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6(e){var t=_se(e,"string");return Tc(t)=="symbol"?t:t+""}function _se(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ase=function(){function e(){jse(this,e),gm(this,"activeIndex",0),gm(this,"coordinateList",[]),gm(this,"layout","horizontal")}return Sse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Ose(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Y(n)&&Y(s))return!0}return!1}function Pse(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function n6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=He(t,r,n,s),l=He(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Ese(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=He(l,c,u,d),p=He(l,c,f,d);n=h.x,s=h.y,i=p.x,o=p.y}else return n6(t);return[{x:n,y:s},{x:i,y:o}]}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kse(e,t,r){return t=Cse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cse(e){var t=Tse(e,"string");return $c(t)=="symbol"?t:t+""}function Tse(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $se(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,b=ff;if(h==="ScatterChart")y=o,b=XZ;else if(h==="BarChart")y=Pse(d,o,c,f),b=oy;else if(d==="radial"){var v=n6(o),j=v.cx,g=v.cy,m=v.radius,S=v.startAngle,x=v.endAngle;y={cx:j,cy:g,startAngle:S,endAngle:x,innerRadius:m,outerRadius:m},b=JO}else y={points:Ese(d,o,c)},b=ff;var w=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},c),y),ae(p,!1)),{},{payload:l,payloadIndex:u,className:he("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,w):O.createElement(b,w)}var Ise=["item"],Dse=["children","className","width","height","style","compact","title","desc"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function iS(e,t){return Lse(e)||Rse(e,t)||a6(e,t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Lse(e){if(Array.isArray(e))return e}function oS(e,t){if(e==null)return{};var r=Fse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Use(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i6(n.key),n)}}function zse(e,t,r){return t&&Bse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qse(e,t,r){return t=Df(t),Wse(e,s6()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function Wse(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hse(e)}function Hse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Kse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qg(e,t)}function fo(e){return Qse(e)||Gse(e)||a6(e)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6(e,t){if(e){if(typeof e=="string")return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yg(e,t)}}function Gse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qse(e){if(Array.isArray(e))return Yg(e)}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=i6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6(e){var t=Yse(e,"string");return uo(t)=="symbol"?t:t+""}function Yse(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xse={xAxis:["bottom","top"],yAxis:["left","right"]},Zse={width:"100%",height:"100%"},o6={x:0,y:0};function Lu(e){return e}var Jse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},eae=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),He(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),He(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return o6},tp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(fo(l),fo(u)):l},[]);return o.length>0?o:t&&t.length&&Y(s)&&Y(i)?t.slice(s,i+1):[]};function l6(e){return e==="number"?[0,"auto"]:void 0}var Xg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=tp(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;h=Id(p,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(fo(c),[VO(u,h)]):c},[])},cS=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Jse(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=wQ(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=Xg(t,r,f,d),p=eae(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},tae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=BO(f,i);return n.reduce(function(y,b){var v,j=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,g=j.type,m=j.dataKey,S=j.allowDataOverflow,x=j.allowDuplicatedCategory,w=j.scale,_=j.ticks,N=j.includeHidden,A=j[o];if(y[A])return y;var P=tp(t.data,{graphicalItems:s.filter(function(Q){var te,ve=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o];return ve===A}),dataStartIndex:c,dataEndIndex:u}),E=P.length,k,D,$;Ose(j.domain,S,g)&&(k=dg(j.domain,null,S),p&&(g==="number"||w!=="auto")&&($=Sl(P,m,"category")));var L=l6(g);if(!k||k.length===0){var U,q=(U=j.domain)!==null&&U!==void 0?U:L;if(m){if(k=Sl(P,m,g),g==="category"&&p){var T=uM(k);x&&T?(D=k,k=jf(0,E)):x||(k=Cj(q,k,b).reduce(function(Q,te){return Q.indexOf(te)>=0?Q:[].concat(fo(Q),[te])},[]))}else if(g==="category")x?k=k.filter(function(Q){return Q!==""&&!ue(Q)}):k=Cj(q,k,b).reduce(function(Q,te){return Q.indexOf(te)>=0||te===""||ue(te)?Q:[].concat(fo(Q),[te])},[]);else if(g==="number"){var R=AQ(P,s.filter(function(Q){var te,ve,De=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o],Ke="hide"in Q.props?Q.props.hide:(ve=Q.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return De===A&&(N||!Ke)}),m,i,f);R&&(k=R)}p&&(g==="number"||w!=="auto")&&($=Sl(P,m,"category"))}else p?k=jf(0,E):l&&l[A]&&l[A].hasStack&&g==="number"?k=h==="expand"?[0,1]:KO(l[A].stackGroups,c,u):k=UO(P,s.filter(function(Q){var te=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ve="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return te===A&&(N||!ve)}),g,f,!0);if(g==="number")k=Gg(d,k,A,i,_),q&&(k=dg(q,k,S));else if(g==="category"&&q){var I=q,K=k.every(function(Q){return I.indexOf(Q)>=0});K&&(k=I)}}return B(B({},y),{},oe({},A,B(B({},j),{},{axisType:i,domain:k,categoricalDomain:$,duplicateDomain:D,originalDomain:(v=j.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:f})))},{})},rae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=tp(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=BO(f,i),b=-1;return n.reduce(function(v,j){var g=j.type.defaultProps!==void 0?B(B({},j.type.defaultProps),j.props):j.props,m=g[o],S=l6("number");if(!v[m]){b++;var x;return y?x=jf(0,p):l&&l[m]&&l[m].hasStack?(x=KO(l[m].stackGroups,c,u),x=Gg(d,x,m,i)):(x=dg(S,UO(h,n.filter(function(w){var _,N,A=o in w.props?w.props[o]:(_=w.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in w.props?w.props.hide:(N=w.type.defaultProps)===null||N===void 0?void 0:N.hide;return A===m&&!P}),"number",f),s.defaultProps.allowDataOverflow),x=Gg(d,x,m,i)),B(B({},v),{},oe({},m,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:br(Xse,"".concat(i,".").concat(b%2),null),domain:x,originalDomain:S,isCategorical:y,layout:f})))}return v},{})},nae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(s,"Id"),h=wr(f,i),p={};return h&&h.length?p=tae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=rae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},sae=function(t){var r=ms(t),n=Mn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Iv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:cf(r,n)}},uS=function(t){var r=t.children,n=t.defaultShowTooltip,s=mr(r,to),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},aae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ln(r&&r.type);return n&&n.indexOf("Bar")>=0})},dS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=mr(d,to),y=mr(d,Ei),b=Object.keys(c).reduce(function(x,w){var _=c[w],N=_.orientation;return!_.mirror&&!_.hide?B(B({},x),{},oe({},N,x[N]+_.width)):x},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(x,w){var _=o[w],N=_.orientation;return!_.mirror&&!_.hide?B(B({},x),{},oe({},N,br(x,"".concat(N))+_.height)):x},{top:h.top||0,bottom:h.bottom||0}),j=B(B({},v),b),g=j.bottom;p&&(j.bottom+=p.props.height||to.defaultProps.height),y&&r&&(j=SQ(j,s,n,r));var m=u-j.left-j.right,S=f-j.top-j.bottom;return B(B({brushBottom:g},j),{},{width:Math.max(m,0),height:Math.max(S,0)})},oae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},xy=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(j,g){var m=g.graphicalItems,S=g.stackGroups,x=g.offset,w=g.updateId,_=g.dataStartIndex,N=g.dataEndIndex,A=j.barSize,P=j.layout,E=j.barGap,k=j.barCategoryGap,D=j.maxBarSize,$=dS(P),L=$.numericAxisName,U=$.cateAxisName,q=aae(m),T=[];return m.forEach(function(R,I){var K=tp(j.data,{graphicalItems:[R],dataStartIndex:_,dataEndIndex:N}),Q=R.type.defaultProps!==void 0?B(B({},R.type.defaultProps),R.props):R.props,te=Q.dataKey,ve=Q.maxBarSize,De=Q["".concat(L,"Id")],Ke=Q["".concat(U,"Id")],It={},bt=c.reduce(function(Ve,M){var Z=g["".concat(M.axisType,"Map")],xe=Q["".concat(M.axisType,"Id")];Z&&Z[xe]||M.axisType==="zAxis"||Ta();var Dt=Z[xe];return B(B({},Ve),{},oe(oe({},M.axisType,Dt),"".concat(M.axisType,"Ticks"),Mn(Dt)))},It),X=bt[U],ie=bt["".concat(U,"Ticks")],de=S&&S[De]&&S[De].hasStack&&DQ(R,S[De].stackGroups),H=Ln(R.type).indexOf("Bar")>=0,ke=cf(X,ie),pe=[],ge=q&&jQ({barSize:A,stackGroups:S,totalSize:oae(bt,U)});if(H){var V,re,le=ue(ve)?D:ve,_e=(V=(re=cf(X,ie,!0))!==null&&re!==void 0?re:le)!==null&&V!==void 0?V:0;pe=NQ({barGap:E,barCategoryGap:k,bandSize:_e!==ke?_e:ke,sizeList:ge[Ke],maxBarSize:le}),_e!==ke&&(pe=pe.map(function(Ve){return B(B({},Ve),{},{position:B(B({},Ve.position),{},{offset:Ve.position.offset-_e/2})})}))}var we=R&&R.type&&R.type.getComposedData;we&&T.push({props:B(B({},we(B(B({},bt),{},{displayedData:K,props:j,dataKey:te,item:R,bandSize:ke,barPosition:pe,offset:x,stackedData:de,layout:P,dataStartIndex:_,dataEndIndex:N}))),{},oe(oe(oe({key:R.key||"item-".concat(I)},L,bt[L]),U,bt[U]),"animationId",w)),childIndex:NM(R,j.children),item:R})}),T},p=function(j,g){var m=j.props,S=j.dataStartIndex,x=j.dataEndIndex,w=j.updateId;if(!S1({props:m}))return null;var _=m.children,N=m.layout,A=m.stackOffset,P=m.data,E=m.reverseStackOrder,k=dS(N),D=k.numericAxisName,$=k.cateAxisName,L=wr(_,n),U=$Q(P,L,"".concat(D,"Id"),"".concat($,"Id"),A,E),q=c.reduce(function(Q,te){var ve="".concat(te.axisType,"Map");return B(B({},Q),{},oe({},ve,nae(m,B(B({},te),{},{graphicalItems:L,stackGroups:te.axisType===D&&U,dataStartIndex:S,dataEndIndex:x}))))},{}),T=iae(B(B({},q),{},{props:m,graphicalItems:L}),g==null?void 0:g.legendBBox);Object.keys(q).forEach(function(Q){q[Q]=f(m,q[Q],T,Q.replace("Map",""),r)});var R=q["".concat($,"Map")],I=sae(R),K=h(m,B(B({},q),{},{dataStartIndex:S,dataEndIndex:x,updateId:w,graphicalItems:L,stackGroups:U,offset:T}));return B(B({formattedGraphicalItems:K,graphicalItems:L,offset:T,stackGroups:U},I),q)},y=function(v){function j(g){var m,S,x;return Use(this,j),x=qse(this,j,[g]),oe(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(x,"accessibilityManager",new Ase),oe(x,"handleLegendBBoxUpdate",function(w){if(w){var _=x.state,N=_.dataStartIndex,A=_.dataEndIndex,P=_.updateId;x.setState(B({legendBBox:w},p({props:x.props,dataStartIndex:N,dataEndIndex:A,updateId:P},B(B({},x.state),{},{legendBBox:w}))))}}),oe(x,"handleReceiveSyncEvent",function(w,_,N){if(x.props.syncId===w){if(N===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(_)}}),oe(x,"handleBrushChange",function(w){var _=w.startIndex,N=w.endIndex;if(_!==x.state.dataStartIndex||N!==x.state.dataEndIndex){var A=x.state.updateId;x.setState(function(){return B({dataStartIndex:_,dataEndIndex:N},p({props:x.props,dataStartIndex:_,dataEndIndex:N,updateId:A},x.state))}),x.triggerSyncEvent({dataStartIndex:_,dataEndIndex:N})}}),oe(x,"handleMouseEnter",function(w){var _=x.getMouseInfo(w);if(_){var N=B(B({},_),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var A=x.props.onMouseEnter;ce(A)&&A(N,w)}}),oe(x,"triggeredAfterMouseMove",function(w){var _=x.getMouseInfo(w),N=_?B(B({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(N),x.triggerSyncEvent(N);var A=x.props.onMouseMove;ce(A)&&A(N,w)}),oe(x,"handleItemMouseEnter",function(w){x.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),oe(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),oe(x,"handleMouseMove",function(w){w.persist(),x.throttleTriggeredAfterMouseMove(w)}),oe(x,"handleMouseLeave",function(w){x.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var N=x.props.onMouseLeave;ce(N)&&N(_,w)}),oe(x,"handleOuterEvent",function(w){var _=jM(w),N=br(x.props,"".concat(_));if(_&&ce(N)){var A,P;/.*touch.*/i.test(_)?P=x.getMouseInfo(w.changedTouches[0]):P=x.getMouseInfo(w),N((A=P)!==null&&A!==void 0?A:{},w)}}),oe(x,"handleClick",function(w){var _=x.getMouseInfo(w);if(_){var N=B(B({},_),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var A=x.props.onClick;ce(A)&&A(N,w)}}),oe(x,"handleMouseDown",function(w){var _=x.props.onMouseDown;if(ce(_)){var N=x.getMouseInfo(w);_(N,w)}}),oe(x,"handleMouseUp",function(w){var _=x.props.onMouseUp;if(ce(_)){var N=x.getMouseInfo(w);_(N,w)}}),oe(x,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),oe(x,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.handleMouseDown(w.changedTouches[0])}),oe(x,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.handleMouseUp(w.changedTouches[0])}),oe(x,"handleDoubleClick",function(w){var _=x.props.onDoubleClick;if(ce(_)){var N=x.getMouseInfo(w);_(N,w)}}),oe(x,"handleContextMenu",function(w){var _=x.props.onContextMenu;if(ce(_)){var N=x.getMouseInfo(w);_(N,w)}}),oe(x,"triggerSyncEvent",function(w){x.props.syncId!==void 0&&pm.emit(mm,x.props.syncId,w,x.eventEmitterSymbol)}),oe(x,"applySyncEvent",function(w){var _=x.props,N=_.layout,A=_.syncMethod,P=x.state.updateId,E=w.dataStartIndex,k=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)x.setState(B({dataStartIndex:E,dataEndIndex:k},p({props:x.props,dataStartIndex:E,dataEndIndex:k,updateId:P},x.state)));else if(w.activeTooltipIndex!==void 0){var D=w.chartX,$=w.chartY,L=w.activeTooltipIndex,U=x.state,q=U.offset,T=U.tooltipTicks;if(!q)return;if(typeof A=="function")L=A(T,w);else if(A==="value"){L=-1;for(var R=0;R<T.length;R++)if(T[R].value===w.activeLabel){L=R;break}}var I=B(B({},q),{},{x:q.left,y:q.top}),K=Math.min(D,I.x+I.width),Q=Math.min($,I.y+I.height),te=T[L]&&T[L].value,ve=Xg(x.state,x.props.data,L),De=T[L]?{x:N==="horizontal"?T[L].coordinate:K,y:N==="horizontal"?Q:T[L].coordinate}:o6;x.setState(B(B({},w),{},{activeLabel:te,activeCoordinate:De,activePayload:ve,activeTooltipIndex:L}))}else x.setState(w)}),oe(x,"renderCursor",function(w){var _,N=x.state,A=N.isTooltipActive,P=N.activeCoordinate,E=N.activePayload,k=N.offset,D=N.activeTooltipIndex,$=N.tooltipAxisBandSize,L=x.getTooltipEventType(),U=(_=w.props.active)!==null&&_!==void 0?_:A,q=x.props.layout,T=w.key||"_recharts-cursor";return C.createElement($se,{key:T,activeCoordinate:P,activePayload:E,activeTooltipIndex:D,chartName:r,element:w,isActive:U,layout:q,offset:k,tooltipAxisBandSize:$,tooltipEventType:L})}),oe(x,"renderPolarAxis",function(w,_,N){var A=br(w,"type.axisType"),P=br(x.state,"".concat(A,"Map")),E=w.type.defaultProps,k=E!==void 0?B(B({},E),w.props):w.props,D=P&&P[k["".concat(A,"Id")]];return O.cloneElement(w,B(B({},D),{},{className:he(A,D.className),key:w.key||"".concat(_,"-").concat(N),ticks:Mn(D,!0)}))}),oe(x,"renderPolarGrid",function(w){var _=w.props,N=_.radialLines,A=_.polarAngles,P=_.polarRadius,E=x.state,k=E.radiusAxisMap,D=E.angleAxisMap,$=ms(k),L=ms(D),U=L.cx,q=L.cy,T=L.innerRadius,R=L.outerRadius;return O.cloneElement(w,{polarAngles:Array.isArray(A)?A:Mn(L,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(P)?P:Mn($,!0).map(function(I){return I.coordinate}),cx:U,cy:q,innerRadius:T,outerRadius:R,key:w.key||"polar-grid",radialLines:N})}),oe(x,"renderLegend",function(){var w=x.state.formattedGraphicalItems,_=x.props,N=_.children,A=_.width,P=_.height,E=x.props.margin||{},k=A-(E.left||0)-(E.right||0),D=LO({children:N,formattedGraphicalItems:w,legendWidth:k,legendContent:u});if(!D)return null;var $=D.item,L=oS(D,Ise);return O.cloneElement($,B(B({},L),{},{chartWidth:A,chartHeight:P,margin:E,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),oe(x,"renderTooltip",function(){var w,_=x.props,N=_.children,A=_.accessibilityLayer,P=mr(N,ze);if(!P)return null;var E=x.state,k=E.isTooltipActive,D=E.activeCoordinate,$=E.activePayload,L=E.activeLabel,U=E.offset,q=(w=P.props.active)!==null&&w!==void 0?w:k;return O.cloneElement(P,{viewBox:B(B({},U),{},{x:U.left,y:U.top}),active:q,label:L,payload:q?$:[],coordinate:D,accessibilityLayer:A})}),oe(x,"renderBrush",function(w){var _=x.props,N=_.margin,A=_.data,P=x.state,E=P.offset,k=P.dataStartIndex,D=P.dataEndIndex,$=P.updateId;return O.cloneElement(w,{key:w.key||"_recharts-brush",onChange:$u(x.handleBrushChange,w.props.onChange),data:A,x:Y(w.props.x)?w.props.x:E.left,y:Y(w.props.y)?w.props.y:E.top+E.height+E.brushBottom-(N.bottom||0),width:Y(w.props.width)?w.props.width:E.width,startIndex:k,endIndex:D,updateId:"brush-".concat($)})}),oe(x,"renderReferenceElement",function(w,_,N){if(!w)return null;var A=x,P=A.clipPathId,E=x.state,k=E.xAxisMap,D=E.yAxisMap,$=E.offset,L=w.type.defaultProps||{},U=w.props,q=U.xAxisId,T=q===void 0?L.xAxisId:q,R=U.yAxisId,I=R===void 0?L.yAxisId:R;return O.cloneElement(w,{key:w.key||"".concat(_,"-").concat(N),xAxis:k[T],yAxis:D[I],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),oe(x,"renderActivePoints",function(w){var _=w.item,N=w.activePoint,A=w.basePoint,P=w.childIndex,E=w.isRange,k=[],D=_.props.key,$=_.item.type.defaultProps!==void 0?B(B({},_.item.type.defaultProps),_.item.props):_.item.props,L=$.activeDot,U=$.dataKey,q=B(B({index:P,dataKey:U,cx:N.x,cy:N.y,r:4,fill:iy(_.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},ae(L,!1)),Dd(L));return k.push(j.renderActiveDot(L,q,"".concat(D,"-activePoint-").concat(P))),A?k.push(j.renderActiveDot(L,B(B({},q),{},{cx:A.x,cy:A.y}),"".concat(D,"-basePoint-").concat(P))):E&&k.push(null),k}),oe(x,"renderGraphicChild",function(w,_,N){var A=x.filterFormatItem(w,_,N);if(!A)return null;var P=x.getTooltipEventType(),E=x.state,k=E.isTooltipActive,D=E.tooltipAxis,$=E.activeTooltipIndex,L=E.activeLabel,U=x.props.children,q=mr(U,ze),T=A.props,R=T.points,I=T.isRange,K=T.baseLine,Q=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,te=Q.activeDot,ve=Q.hide,De=Q.activeBar,Ke=Q.activeShape,It=!!(!ve&&k&&q&&(te||De||Ke)),bt={};P!=="axis"&&q&&q.props.trigger==="click"?bt={onClick:$u(x.handleItemMouseEnter,w.props.onClick)}:P!=="axis"&&(bt={onMouseLeave:$u(x.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:$u(x.handleItemMouseEnter,w.props.onMouseEnter)});var X=O.cloneElement(w,B(B({},A.props),bt));function ie(M){return typeof D.dataKey=="function"?D.dataKey(M.payload):null}if(It)if($>=0){var de,H;if(D.dataKey&&!D.allowDuplicatedCategory){var ke=typeof D.dataKey=="function"?ie:"payload.".concat(D.dataKey.toString());de=Id(R,ke,L),H=I&&K&&Id(K,ke,L)}else de=R==null?void 0:R[$],H=I&&K&&K[$];if(Ke||De){var pe=w.props.activeIndex!==void 0?w.props.activeIndex:$;return[O.cloneElement(w,B(B(B({},A.props),bt),{},{activeIndex:pe})),null,null]}if(!ue(de))return[X].concat(fo(x.renderActivePoints({item:A,activePoint:de,basePoint:H,childIndex:$,isRange:I})))}else{var ge,V=(ge=x.getItemByXY(x.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:X},re=V.graphicalItem,le=re.item,_e=le===void 0?w:le,we=re.childIndex,Ve=B(B(B({},A.props),bt),{},{activeIndex:we});return[O.cloneElement(_e,Ve),null,null]}return I?[X,null,null]:[X,null]}),oe(x,"renderCustomized",function(w,_,N){return O.cloneElement(w,B(B({key:"recharts-customized-".concat(N)},x.props),x.state))}),oe(x,"renderMap",{CartesianGrid:{handler:Lu,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Lu},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Lu},YAxis:{handler:Lu},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((m=g.id)!==null&&m!==void 0?m:Po("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=RA(x.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return Kse(j,v),zse(j,[{key:"componentDidMount",value:function(){var m,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,S=m.children,x=m.data,w=m.height,_=m.layout,N=mr(S,ze);if(N){var A=N.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=Xg(this.state,x,A,P),k=this.state.tooltipTicks[A].coordinate,D=(this.state.offset.top+w)/2,$=_==="horizontal",L=$?{x:k,y:D}:{y:k,x:D},U=this.state.formattedGraphicalItems.find(function(T){var R=T.item;return R.type.name==="Scatter"});U&&(L=B(B({},L),U.props.points[A].tooltipPosition),E=U.props.points[A].tooltipPayload);var q={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:L};this.setState(q),this.renderCursor(N),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var x,w;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(m){A0([mr(m.children,ze)],[mr(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=mr(this.props.children,ze);if(m&&typeof m.props.shared=="boolean"){var S=m.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),w=QW(x),_={chartX:Math.round(m.pageX-w.left),chartY:Math.round(m.pageY-w.top)},N=x.width/S.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,N);if(!A)return null;var P=this.state,E=P.xAxisMap,k=P.yAxisMap,D=this.getTooltipEventType(),$=cS(this.state,this.props.data,this.props.layout,A);if(D!=="axis"&&E&&k){var L=ms(E).scale,U=ms(k).scale,q=L&&L.invert?L.invert(_.chartX):null,T=U&&U.invert?U.invert(_.chartY):null;return B(B({},_),{},{xValue:q,yValue:T},$)}return $?B(B({},_),$):null}},{key:"inRange",value:function(m,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,_=m/x,N=S/x;if(w==="horizontal"||w==="vertical"){var A=this.state.offset,P=_>=A.left&&_<=A.left+A.width&&N>=A.top&&N<=A.top+A.height;return P?{x:_,y:N}:null}var E=this.state,k=E.angleAxisMap,D=E.radiusAxisMap;if(k&&D){var $=ms(k);return Ij({x:_,y:N},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,S=this.getTooltipEventType(),x=mr(m,ze),w={};x&&S==="axis"&&(x.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Dd(this.props,this.handleOuterEvent);return B(B({},_),w)}},{key:"addListener",value:function(){pm.on(mm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pm.removeListener(mm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,S,x){for(var w=this.state.formattedGraphicalItems,_=0,N=w.length;_<N;_++){var A=w[_];if(A.item===m||A.props.key===m.key||S===Ln(A.item.type)&&x===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,S=this.state.offset,x=S.left,w=S.top,_=S.height,N=S.width;return C.createElement("defs",null,C.createElement("clipPath",{id:m},C.createElement("rect",{x,y:w,height:_,width:N})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(S,x){var w=iS(x,2),_=w[0],N=w[1];return B(B({},S),{},oe({},_,N.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(S,x){var w=iS(x,2),_=w[0],N=w[1];return B(B({},S),{},oe({},_,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[m])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(m){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[m])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(m){var S=this.state,x=S.formattedGraphicalItems,w=S.activeItem;if(x&&x.length)for(var _=0,N=x.length;_<N;_++){var A=x[_],P=A.props,E=A.item,k=E.type.defaultProps!==void 0?B(B({},E.type.defaultProps),E.props):E.props,D=Ln(E.type);if(D==="Bar"){var $=(P.data||[]).find(function(T){return CZ(m,T)});if($)return{graphicalItem:A,payload:$}}else if(D==="RadialBar"){var L=(P.data||[]).find(function(T){return Ij(m,T)});if(L)return{graphicalItem:A,payload:L}}else if(Gh(A,w)||Qh(A,w)||Oc(A,w)){var U=yee({graphicalItem:A,activeTooltipItem:w,itemData:k.data}),q=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:q}),payload:Oc(A,w)?k.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var m=this;if(!S1(this))return null;var S=this.props,x=S.children,w=S.className,_=S.width,N=S.height,A=S.style,P=S.compact,E=S.title,k=S.desc,D=oS(S,Dse),$=ae(D,!1);if(P)return C.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(P0,bi({},$,{width:_,height:N,title:E,desc:k}),this.renderClipPath(),A1(x,this.renderMap)));if(this.props.accessibilityLayer){var L,U;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(T){m.accessibilityManager.keyboardEvent(T)},$.onFocus=function(){m.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return C.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",bi({className:he("recharts-wrapper",w),style:B({position:"relative",cursor:"default",width:_,height:N},A)},q,{ref:function(R){m.container=R}}),C.createElement(P0,bi({},$,{width:_,height:N,title:E,desc:k,style:Zse}),this.renderClipPath(),A1(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);oe(y,"displayName",r),oe(y,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oe(y,"getDerivedStateFromProps",function(v,j){var g=v.dataKey,m=v.data,S=v.children,x=v.width,w=v.height,_=v.layout,N=v.stackOffset,A=v.margin,P=j.dataStartIndex,E=j.dataEndIndex;if(j.updateId===void 0){var k=uS(v);return B(B(B({},k),{},{updateId:0},p(B(B({props:v},k),{},{updateId:0}),j)),{},{prevDataKey:g,prevData:m,prevWidth:x,prevHeight:w,prevLayout:_,prevStackOffset:N,prevMargin:A,prevChildren:S})}if(g!==j.prevDataKey||m!==j.prevData||x!==j.prevWidth||w!==j.prevHeight||_!==j.prevLayout||N!==j.prevStackOffset||!Pi(A,j.prevMargin)){var D=uS(v),$={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},L=B(B({},cS(j,m,_)),{},{updateId:j.updateId+1}),U=B(B(B({},D),$),L);return B(B(B({},U),p(B({props:v},U),j)),{},{prevDataKey:g,prevData:m,prevWidth:x,prevHeight:w,prevLayout:_,prevStackOffset:N,prevMargin:A,prevChildren:S})}if(!A0(S,j.prevChildren)){var q,T,R,I,K=mr(S,to),Q=K&&(q=(T=K.props)===null||T===void 0?void 0:T.startIndex)!==null&&q!==void 0?q:P,te=K&&(R=(I=K.props)===null||I===void 0?void 0:I.endIndex)!==null&&R!==void 0?R:E,ve=Q!==P||te!==E,De=!ue(m),Ke=De&&!ve?j.updateId:j.updateId+1;return B(B({updateId:Ke},p(B(B({props:v},j),{},{updateId:Ke,dataStartIndex:Q,dataEndIndex:te}),j)),{},{prevChildren:S,dataStartIndex:Q,dataEndIndex:te})}return null}),oe(y,"renderActiveDot",function(v,j,g){var m;return O.isValidElement(v)?m=O.cloneElement(v,j):ce(v)?m=v(j):m=C.createElement(qh,j),C.createElement(Ne,{className:"recharts-active-dot",key:g},m)});var b=O.forwardRef(function(j,g){return C.createElement(y,bi({},j,{ref:g}))});return b.displayName=y.displayName,b},tu=xy({chartName:"LineChart",GraphicalChild:Jt,axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Kt}],formatAxisMap:OP}),za=xy({chartName:"BarChart",GraphicalChild:Ot,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Kt}],formatAxisMap:OP}),ru=xy({chartName:"PieChart",GraphicalChild:Or,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vh},{axisType:"radiusAxis",AxisComp:Hh}],formatAxisMap:HQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function fS({title:e,data:t}){return a.jsxs(F,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function lae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await g3.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your survey platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(Su,{title:"Total Users",value:e.totalUsers,icon:a.jsx(Rr,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx(Su,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Wt,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx(Su,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Ur,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx(Su,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Ae,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(fS,{title:"Performance by Role",data:e.performanceByRole}),a.jsx(E$,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(fS,{title:"Performance by Survey",data:e.performanceBySurvey})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Pe({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(N$,{className:"w-5 h-5"})})]}),n]})]})})}function cae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{f()},[c]);const f=async()=>{try{i(!0);const p=await x3.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},d=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ja,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Rr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.zonePerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"zoneName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(p,y)=>[y==="passRate"?`${p}%`:p,y==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:y})=>`${p}: ${y}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,y)=>a.jsx(zs,{fill:h[y%h.length]},`cell-${y}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:e.monthlyTrends,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"month"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function uae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const g=await v3.getDashboardData(h);g.success&&g.data&&t(g.data)}catch(g){console.error("Failed to fetch RO dashboard data:",g)}finally{l(!1)}},b=g=>{n(g),u(!0)},v=g=>{i(g),d(!0)},j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(g=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},g))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Oa,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Rr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.districtPerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"districtName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(g,m)=>[m==="passRate"?`${g}%`:g,m==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:g,percentage:m})=>`${g}: ${m}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((g,m)=>a.jsx(zs,{fill:j[m%j.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(g=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(g),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:g.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g.passRate>=80?"bg-green-100 text-green-800":g.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[g.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:g.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:g.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",g.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},g.districtId))})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(g=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",g.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:g.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:g.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.passRate>=80?"bg-green-100 text-green-800":g.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[g.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[g.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>v(g),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})})})]},g.supervisorId))})]})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:e.monthlyTrends,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"month"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(g=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g.totalCertificates," certificates"]})]})]})},g.id))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function dae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const m=await sv.getDashboardData(h);m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch supervisor dashboard data:",m)}finally{l(!1)}},b=m=>{n(m),u(!0)},v=m=>{i(m),d(!0)},j=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(m=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},m))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Wt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(m=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(m.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[m.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[m.pendingEnumerators,"/",m.totalEnumerators," pending"]})]})]},m.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.teamPerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"teamName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(m,S)=>[S==="passRate"?`${m}%`:m,S==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:[{name:"Completed",value:e.enumeratorStatus.filter(m=>m.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(m=>m.overallProgress>0&&m.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(m=>m.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:S})=>`${m}: ${S}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(m=>a.jsx(zs,{fill:g[m%g.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(m=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(m),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.passRate>=80?"bg-green-100 text-green-800":m.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",m.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},m.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(se,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.surveys.filter(S=>S.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(m),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,3).map(S=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(S.status)}`,children:[S.surveyTitle,": ",S.status.replace("_"," ")]},S.surveyId)),m.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-3," more"]})]})]},m.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]})},m.id))})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Ce(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function fae(){const e=vo(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState("overview"),[p,y]=O.useState(""),[b,v]=O.useState("all");O.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const _=await qc.getDashboardData();_.success&&_.data&&r(_.data)}catch(_){console.error("Failed to fetch enumerator dashboard data:",_)}finally{o(!1)}},g=async _=>{try{f(!0);const N=t==null?void 0:t.availableTests.find(E=>E.surveyId===_);if(!N||!N.isEligible||N.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await ps.createTestSession(_);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:_,startTime:A.data.startTime,sessionData:A.data}})}catch(N){console.error("Failed to start test:",N),alert(`Failed to start test: ${N instanceof Error?N.message:"Please try again."}`)}finally{f(!1),c(!1)}},m=_=>{s(_),c(!0)},S=_=>_.isEligible?_.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",x=_=>{if(!_.isEligible)return"Not Eligible";if(_.attemptsLeft===0)return"No Attempts Left";const N=Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return N<=0?"Overdue":N<=3?`${N} days left`:"Available"},w=(t==null?void 0:t.availableTests.filter(_=>{const N=_.title.toLowerCase().includes(p.toLowerCase())||_.description.toLowerCase().includes(p.toLowerCase());if(b==="all")return N;const A=Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(b){case"urgent":return N&&A<=3&&A>0;case"available":return N&&_.isEligible&&_.attemptsLeft>0;case"overdue":return N&&A<=0;default:return N}}))||[];return i?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(_=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},_))})})})}):t?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:t.completedTests.map((_,N)=>({attempt:N+1,score:_.score,name:_.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"attempt"}),a.jsx(Kt,{domain:[0,100]}),a.jsx(ze,{formatter:_=>[`${_}%`,"Score"]}),a.jsx(Jt,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(_=>_.daysLeft<=7).length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(_=>_.daysLeft<=7).map(_=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:_.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(_.targetDate)]}),a.jsx("p",{className:`font-medium ${_.isOverdue?"text-red-600":"text-orange-600"}`,children:_.isOverdue?"OVERDUE":`${_.daysLeft} days left`})]})]},_.surveyId))})]}),a.jsxs(F,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Zl,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(jo,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),d==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(_=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${_.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Ce(_.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${_.isPassed?"text-green-600":"text-red-600"}`,children:[_.score,"%"]})]},_.resultId))})]})]})}),d==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search tests...",value:p,onChange:_=>y(_.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:b,onChange:_=>v(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:w.map(_=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:_.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(_.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Cs(_.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[_.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",_.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${S(_)}`,children:x(_)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.attemptsLeft,"/",_.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(_),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>g(_.surveyId),disabled:!_.isEligible||_.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===_.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},_.surveyId))})]}),d==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(_=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${_.score>=70?"text-green-600":"text-red-600"}`,children:[_.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${_.isPassed?"text-green-600":"text-red-600"}`,children:_.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:_.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(_.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[_.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(z,{variant:"secondary",size:"sm",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},_.resultId))}),d==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(_=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:_.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",_.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(_.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]})]}),a.jsxs(z,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},_.id))})]}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Cs(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{g(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function hae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[f]);const y=async()=>{try{i(!0);const x=await sv.getDashboardData(f);x.success&&x.data&&t(x.data.teamPerformance)}catch(x){console.error("Failed to fetch team results:",x)}finally{i(!1)}},b=x=>{n(x),l(!0)},v=x=>x>=90?"excellent":x>=80?"good":x>=60?"average":"poor",j=x=>{switch(x){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=e.filter(x=>{const w=x.teamName.toLowerCase().includes(c.toLowerCase()),_=v(x.passRate);return w&&(h==="all"||_===h)}),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],S={totalTeams:e.length,totalMembers:e.reduce((x,w)=>x+w.totalMembers,0),averagePassRate:e.reduce((x,w)=>x+w.passRate,0)/e.length||0,averageScore:e.reduce((x,w)=>x+w.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((x,w)=>x.passRate>w.passRate?x:w,e[0]),lowPerformingTeam:e.reduce((x,w)=>x.passRate<w.passRate?x:w,e[0])};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:f,onChange:x=>d(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:S.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:S.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Rr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[S.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[S.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"teamName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(x,w)=>[w==="passRate"?`${x}%`:x,w==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:[{name:"Excellent (90%+)",value:e.filter(x=>x.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(x=>x.passRate>=80&&x.passRate<90).length},{name:"Average (60-79%)",value:e.filter(x=>x.passRate>=60&&x.passRate<80).length},{name:"Poor (<60%)",value:e.filter(x=>x.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:w})=>`${x}: ${w}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(x=>a.jsx(zs,{fill:m[x%m.length]},`cell-${x}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((x,w)=>w.passRate-x.passRate).slice(0,3).map((x,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:w+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[x.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[x.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},x.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((x,w)=>x.passRate-w.passRate).slice(0,3).map((x,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:w+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[x.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[x.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},x.teamId))})]})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(se,{placeholder:"Search teams...",value:c,onChange:x=>u(x.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(F,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:g.map(x=>{const w=v(x.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Rr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",x.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${ys(x.passRate)}`,children:[x.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${ys(x.averageScore)}`,children:[x.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j(w)}`,children:w.charAt(0).toUpperCase()+w.slice(1)})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(x),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(x.completedTests/x.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.completedTests/x.totalMembers*100}%`}})})]})]},x.teamId)})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:x.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:x.surveys.filter(w=>w.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.surveys.length>0?Math.max(...x.surveys.map(w=>w.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},x.id))})]})]})})]})})}function pae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const x=await sv.getDashboardData("30");x.success&&x.data&&t(x.data.enumeratorStatus)}catch(x){console.error("Failed to fetch enumerators:",x)}finally{i(!1)}},b=x=>{n(x),l(!0)},v=x=>{switch(x){case"completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx($d,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(ur,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},j=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=x=>{const w=x.surveys.length,_=x.surveys.filter(P=>P.status==="completed").length,N=x.surveys.filter(P=>P.status==="failed").length,A=x.surveys.filter(P=>P.status==="expired").length;return _===w?"excellent":N>0||A>0?"needs_attention":_>w/2?"good":"poor"},m=e.filter(x=>{const w=x.user.name.toLowerCase().includes(c.toLowerCase())||x.user.email.toLowerCase().includes(c.toLowerCase()),_=g(x),N=f==="all"||_===f;let A=!0;if(h!=="all")switch(h){case"completed":A=x.overallProgress===100;break;case"in_progress":A=x.overallProgress>0&&x.overallProgress<100;break;case"not_started":A=x.overallProgress===0;break}return w&&N&&A}),S={totalEnumerators:e.length,completedAll:e.filter(x=>x.overallProgress===100).length,inProgress:e.filter(x=>x.overallProgress>0&&x.overallProgress<100).length,notStarted:e.filter(x=>x.overallProgress===0).length,averageProgress:e.reduce((x,w)=>x+w.overallProgress,0)/e.length||0,totalCertificates:e.reduce((x,w)=>x+w.totalCertificates,0)};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:S.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ds,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:S.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:S.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:S.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ur,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[S.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ur,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:S.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Ae,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.map(x=>({name:x.user.name.split(" ")[0],progress:x.overallProgress,certificates:x.totalCertificates})),children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(x,w)=>[w==="progress"?`${x}%`:x,w==="progress"?"Progress":"Certificates"]}),a.jsx(Ot,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Ot,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search enumerators...",value:c,onChange:x=>u(x.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:x=>d(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:m.map(x=>{const w=g(x),_=x.surveys.filter(A=>A.status==="completed").length,N=x.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(p$,{className:"w-4 h-4"}),a.jsx("span",{children:x.user.email})]}),x.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(x$,{className:"w-4 h-4"}),a.jsx("span",{children:x.user.phoneNumber})]}),x.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wc,{className:"w-4 h-4"}),a.jsx("span",{children:x.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",x.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[_,"/",N]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w==="excellent"?"bg-green-100 text-green-800":w==="good"?"bg-blue-100 text-blue-800":w==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:w==="excellent"?"Excellent":w==="good"?"Good":w==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(x),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[v(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),x.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",x.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Nr(x.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",x.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",x.surveys.length>0?(x.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/x.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},x.id)})})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(x=>x.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((x,w)=>x+(w.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(x.status),a.jsx("h5",{className:"font-medium text-gray-900",children:x.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(x.status)}`,children:x.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[x.attempts,"/",x.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.bestScore?`${x.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(x.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:x.lastAttempt?Ce(x.lastAttempt):"Never"})]})]}),x.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},x.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function mae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1),[h,p]=O.useState(null),[y,b]=O.useState(""),[v,j]=O.useState({name:"",email:"",roleId:""}),[g,m]=O.useState({name:"",email:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""});O.useEffect(()=>{S(),x()},[]);const S=async()=>{try{i(!0),console.log("Users page: Fetching users...");const P=await Fp.getUsers();console.log("Users page: API response:",P),t(P.data||[]),(!P.data||P.data.length===0)&&(console.log("Users page: No users found"),P.success||b(P.message))}catch(P){console.error("Failed to fetch users:",P),b("Failed to load users. Please try again."),t([])}finally{i(!1)}},x=async()=>{try{const P=await hs.getRoles();n(P.data||[])}catch(P){console.error("Failed to fetch roles:",P),n([])}},w=async()=>{if(b(""),!g.name.trim()){b("Name is required");return}if(!g.email.trim()){b("Email is required");return}if(!g.roleId){b("Role is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)){b("Please enter a valid email address");return}try{l(!0);const E=await Fp.createUser(g);E.success&&E.data?(t([...e,E.data]),d(!1),N(),alert(E.message)):b(E.message)}catch(E){console.error("Failed to create user:",E),b("Failed to create user. Please try again.")}finally{l(!1)}},_=async P=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await Fp.deleteUser(P)).success&&t(e.filter(k=>k.id!==P))}catch(E){console.error("Failed to delete user:",E)}},N=()=>{m({name:"",email:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""}),p(null)},A=e.filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.email.toLowerCase().includes(c.toLowerCase())||P.role.name.toLowerCase().includes(c.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(z,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"mb-6",children:[y&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm",children:y})}),a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search users...",value:c,onChange:P=>u(P.target.value),className:"pl-10"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(rn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"No users exist in the system yet. Get started by creating your first user or initializing the database.":"No users match your search criteria."}),e.length===0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create First User"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Or go to the ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"login page"})," to initialize the database"]})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:A.map(P=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500",children:P.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:P.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${P.isActive?"text-green-600":"text-red-600"}`,children:[P.isActive?a.jsx(Oa,{className:"w-4 h-4"}):a.jsx(w$,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:P.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Nr(P.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(P.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(ch,{className:"w-4 h-4"})})]})})]},P.id))})]})})]}),a.jsx(Pe,{isOpen:f,onClose:()=>{d(!1),N()},title:"Create New User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Full Name *",value:g.name,onChange:P=>{m({...g,name:P.target.value}),v.name&&j({...v,name:""})},placeholder:"Enter full name",error:v.name}),a.jsx(se,{label:"Email Address *",type:"email",value:g.email,onChange:P=>{m({...g,email:P.target.value}),v.email&&j({...v,email:""})},placeholder:"Enter email address",error:v.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:g.roleId,onChange:P=>{m({...g,roleId:P.target.value}),v.roleId&&j({...v,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${v.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map(P=>a.jsxs("option",{value:P.id,children:[P.name," (Level ",P.level,")"]},P.id))]}),v.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:v.roleId})]}),a.jsx(se,{label:"Employee ID",value:g.employeeId,onChange:P=>m({...g,employeeId:P.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Phone Number",value:g.phoneNumber,onChange:P=>m({...g,phoneNumber:P.target.value}),placeholder:"Enter phone number"}),a.jsx(se,{label:"Jurisdiction",value:g.jurisdiction,onChange:P=>m({...g,jurisdiction:P.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(se,{label:"Zone",value:g.zone,onChange:P=>m({...g,zone:P.target.value}),placeholder:"Enter zone"}),a.jsx(se,{label:"Region",value:g.region,onChange:P=>m({...g,region:P.target.value}),placeholder:"Enter region"}),a.jsx(se,{label:"District",value:g.district,onChange:P=>m({...g,district:P.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Default Login Credentials"}),a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Password:"})," password123 (user should change on first login)"]}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"The user will receive their login credentials and should change the password immediately."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),N()},disabled:o,children:"Cancel"}),a.jsx(z,{onClick:w,loading:o,disabled:o,children:o?"Creating User...":"Create User"})]})]})})]})})}function gae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState(null),[y,b]=O.useState({name:"",description:""});O.useEffect(()=>{v(),j()},[]);const v=async()=>{try{i(!0);const N=await hs.getRoles();t(N.data||[])}catch(N){console.error("Failed to fetch roles:",N),t([])}finally{i(!1)}},j=async()=>{try{const N=await hs.getPermissions();n(N.data)}catch(N){console.error("Failed to fetch permissions:",N)}},g=async()=>{try{const N=await hs.createRole(y);N.success&&N.data&&(t([...e,N.data]),u(!1),w())}catch(N){console.error("Failed to create role:",N)}},m=async()=>{if(h)try{const N=await hs.updateRole(h.id,y);N.success&&N.data&&(t(e.map(A=>A.id===h.id?N.data:A)),d(!1),w())}catch(N){console.error("Failed to update role:",N)}},S=async N=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await hs.deleteRole(N)).success&&t(e.filter(P=>P.id!==N))}catch(A){console.error("Failed to delete role:",A)}},x=N=>{p(N),b({name:N.name,description:N.description}),d(!0)},w=()=>{b({name:"",description:""}),p(null)},_=e.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((N,A)=>(N[A.module]||(N[A.module]=[]),N[A.module].push(A),N),{}),a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(z,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search roles...",value:o,onChange:N=>l(N.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(N=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Sa,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",N.level," | Users: ",N.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:N.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Rr,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[N.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Hc,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",N.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Nr(N.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Nr(N.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>x(N),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(N.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(ch,{className:"w-4 h-4"})})]})]})]},N.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>{u(!1),w()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Role Name",value:y.name,onChange:N=>b({...y,name:N.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:N=>b({...y,description:N.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:g,children:"Create Role"})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>{d(!1),w()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Role Name",value:y.name,onChange:N=>b({...y,name:N.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:N=>b({...y,description:N.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:m,children:"Update Role"})]})]})})]})})}function xae(){const{user:e}=Us(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(null),[p,y]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3});O.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const N=await Cn.getSurveys();r(N.data||[])}catch(N){console.error("Failed to fetch surveys:",N),r([])}finally{s(!1)}},v=async()=>{if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const N=await Cn.createSurvey({...p,targetDate:new Date(p.targetDate),createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"});N.success&&N.data?(r([...t,N.data]),c(!1),w(),alert("Survey created successfully!")):alert(`Failed to create survey: ${N.message}`)}catch(N){console.error("Failed to create survey:",N),alert("Failed to create survey. Please try again.")}},j=async()=>{if(d){if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const N=await Cn.updateSurvey(d.id,{...p,targetDate:new Date(p.targetDate)});N.success&&N.data?(r(t.map(A=>A.id===d.id?N.data:A)),f(!1),w(),alert("Survey updated successfully!")):alert(`Failed to update survey: ${N.message}`)}catch(N){console.error("Failed to update survey:",N),alert("Failed to update survey. Please try again.")}}},g=async(N,A)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{const P=await Cn.deleteSurvey(N);P.success?(r(t.filter(E=>E.id!==N)),alert("Survey deleted successfully!")):alert(`Failed to delete survey: ${P.message}`)}catch(P){console.error("Failed to delete survey:",P),alert("Failed to delete survey. Please try again.")}},m=async(N,A)=>{A.stopPropagation();const P=t.find(E=>E.id===N);if(P)try{const E=await Cn.updateSurvey(N,{...P,isActive:!P.isActive});E.success&&E.data?(r(t.map(k=>k.id===N?{...k,isActive:!k.isActive}:k)),alert(`Survey ${P.isActive?"deactivated":"activated"} successfully!`)):alert(`Failed to update survey status: ${E.message}`)}catch(E){console.error("Failed to toggle survey status:",E),alert("Failed to update survey status. Please try again.")}},S=async(N,A)=>{A.stopPropagation();try{const P={title:`${N.title} (Copy)`,description:N.description,targetDate:N.targetDate,duration:N.duration,totalQuestions:N.totalQuestions,passingScore:N.passingScore,maxAttempts:N.maxAttempts,createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"},E=await Cn.createSurvey(P);E.success&&E.data?(r([...t,E.data]),alert("Survey duplicated successfully!")):alert(`Failed to duplicate survey: ${E.message}`)}catch(P){console.error("Failed to duplicate survey:",P),alert("Failed to duplicate survey. Please try again.")}},x=(N,A)=>{A.stopPropagation();const P=new Date(N.targetDate),E=isNaN(P.getTime())?"":P.toISOString().split("T")[0];h(N),y({title:N.title,description:N.description,targetDate:E,duration:N.duration,totalQuestions:N.totalQuestions,passingScore:N.passingScore,maxAttempts:N.maxAttempts}),f(!0)},w=()=>{y({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3}),h(null)},_=t.filter(N=>N.title.toLowerCase().includes(i.toLowerCase())||N.description.toLowerCase().includes(i.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Survey Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search surveys...",value:i,onChange:N=>o(N.target.value),className:"pl-10"})]})}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(N=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:N.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:N.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Cs(N.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ce(N.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[N.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:A=>x(N,A),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>S(N,A),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(l$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>m(N.id,A),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${N.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:N.isActive?"Deactivate Survey":"Activate Survey",children:N.isActive?a.jsx(b$,{className:"w-4 h-4"}):a.jsx(y$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("View details for survey:",N.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>g(N.id,A),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx(ch,{className:"w-4 h-4"})})]})})]},N.id))})]})}),_.length===0&&!n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:i?"No surveys match your search criteria.":"Get started by creating your first survey."}),!i&&a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(Pe,{isOpen:l,onClose:()=>{c(!1),w()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Survey Title",value:p.title,onChange:N=>y({...p,title:N.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:N=>y({...p,description:N.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Target Date",type:"date",value:p.targetDate,onChange:N=>y({...p,targetDate:N.target.value})}),a.jsx(se,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:N=>y({...p,duration:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(se,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:N=>y({...p,totalQuestions:parseInt(N.target.value)}),min:"1"}),a.jsx(se,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:N=>y({...p,passingScore:parseInt(N.target.value)}),min:"1",max:"100"}),a.jsx(se,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:N=>y({...p,maxAttempts:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{c(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:v,children:"Create Survey"})]})]})}),a.jsx(Pe,{isOpen:u,onClose:()=>{f(!1),w()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Survey Title",value:p.title,onChange:N=>y({...p,title:N.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:N=>y({...p,description:N.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Target Date",type:"date",value:p.targetDate,onChange:N=>y({...p,targetDate:N.target.value})}),a.jsx(se,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:N=>y({...p,duration:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(se,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:N=>y({...p,totalQuestions:parseInt(N.target.value)}),min:"1"}),a.jsx(se,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:N=>y({...p,passingScore:parseInt(N.target.value)}),min:"1",max:"100"}),a.jsx(se,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:N=>y({...p,maxAttempts:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{f(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:j,children:"Update Survey"})]})]})})]})})}function vae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,d]=O.useState(null),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[v,j]=O.useState(!1),[g,m]=O.useState(""),[S,x]=O.useState(!1),[w,_]=O.useState(!1),[N,A]=O.useState(!1),[P,E]=O.useState(!1),[k,D]=O.useState(!1),[$,L]=O.useState(null),[U,q]=O.useState(!1),[T,R]=O.useState({title:"",description:"",questionsCount:10,order:1}),[I,K]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]});O.useEffect(()=>{Q()},[]),O.useEffect(()=>{o?te(o.id):(n([]),u(null),i([]))},[o]),O.useEffect(()=>{c?ve(o.id,c.id):i([])},[c]);const Q=async()=>{try{p(!0);const M=await Cn.getSurveys();t(M.data)}catch(M){console.error("Failed to fetch surveys:",M)}finally{p(!1)}},te=async M=>{try{b(!0);const Z=await Cn.getSurveySections(M);n(Z.data)}catch(Z){console.error("Failed to fetch sections:",Z)}finally{b(!1)}},ve=async(M,Z)=>{try{j(!0);const xe=await Nu.getQuestions(M,Z);i(xe.data)}catch(xe){console.error("Failed to fetch questions:",xe)}finally{j(!1)}},De=M=>{l(M),u(null),i([])},Ke=M=>{u(M)},It=async()=>{try{const M=await Nu.downloadTemplate(),Z=URL.createObjectURL(M),xe=document.createElement("a");xe.href=Z,xe.download="question_template_with_survey_sections.csv",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Z)}catch(M){console.error("Failed to download template:",M)}},bt=async()=>{if($)try{q(!0);const M=await Nu.uploadQuestions(o.id,$);if(M.success){const Z=M.data;let xe=`Upload completed!

`;xe+=` Questions added: ${Z.questionsAdded}
`,Z.questionsSkipped>0&&(xe+=` Questions skipped: ${Z.questionsSkipped}
`),Z.errors.length>0&&(xe+=`
Errors encountered:
${Z.errors.slice(0,5).join(`
`)}`,Z.errors.length>5&&(xe+=`
... and ${Z.errors.length-5} more errors`)),alert(xe),x(!1),L(null),o&&te(o.id),c&&ve(o.id,c.id)}}catch(M){console.error("Failed to upload questions:",M)}finally{q(!1)}},X=()=>{R({title:"",description:"",questionsCount:10,order:r.length+1})},ie=()=>{K({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]}),d(null)},de=async()=>{if(o)try{const M=await Cn.createSection(o.id,T);M.success&&M.data&&(n([...r,M.data]),_(!1),X())}catch(M){console.error("Failed to create section:",M)}},H=()=>{ie(),A(!0)},ke=M=>{d(M),K({text:M.text,type:M.type,complexity:M.complexity,points:M.points,explanation:M.explanation||"",options:M.options.map(Z=>Z.text),correctAnswers:M.options.map((Z,xe)=>Z.isCorrect?xe:-1).filter(Z=>Z!==-1)}),E(!0)},pe=M=>{d(M),D(!0)},ge=async()=>{if(c){console.log("Adding question to section:",c.id),console.log("Question form data:",I);try{const M={sectionId:c.id,text:I.text,type:I.type,complexity:I.complexity,points:I.points,explanation:I.explanation,options:I.options.map((xe,Dt)=>({text:xe,isCorrect:I.correctAnswers.includes(Dt)})),order:s.length+1};console.log("Calling API to create question:",M);const Z=await Nu.createQuestion(M);console.log("API response:",Z),Z.success&&Z.data?(i([...s,Z.data]),A(!1),ie(),alert(`Question added successfully! ${Z.message}`)):(console.error("Failed to create question:",Z.message),alert(`Failed to create question: ${Z.message}`))}catch(M){console.error("Failed to create question:",M),alert(`Failed to create question: ${M instanceof Error?M.message:"Unknown error"}. Please try again.`)}}},V=async()=>{if(f)try{const M={text:I.text,type:I.type,complexity:I.complexity,points:I.points,explanation:I.explanation,options:I.options.map((xe,Dt)=>({text:xe,isCorrect:I.correctAnswers.includes(Dt),order:Dt+1}))},Z={...f,...M,options:M.options.map((xe,Dt)=>{var vy;return{id:((vy=f.options[Dt])==null?void 0:vy.id)||`opt_${Dt}`,text:xe.text,isCorrect:xe.isCorrect}})};i(s.map(xe=>xe.id===f.id?Z:xe)),E(!1),ie()}catch(M){console.error("Failed to update question:",M)}},re=async M=>{if(window.confirm("Are you sure you want to delete this question?"))try{i(s.filter(Z=>Z.id!==M))}catch(Z){console.error("Failed to delete question:",Z)}},le=M=>{if(I.type==="single_choice")K({...I,correctAnswers:[M]});else{const Z=I.correctAnswers.includes(M)?I.correctAnswers.filter(xe=>xe!==M):[...I.correctAnswers,M];K({...I,correctAnswers:Z})}},_e=(e||[]).filter(M=>M.title.toLowerCase().includes(g.toLowerCase())),we=M=>{switch(M){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ve=M=>{switch(M){case"single_choice":return"bg-blue-100 text-blue-800";case"multiple_choice":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys and assessments"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:It,className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs(z,{onClick:()=>x(!0),disabled:!o,className:"flex items-center space-x-2",children:[a.jsx(j4,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Questions"})]})]})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search surveys...",value:g,onChange:M=>m(M.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," surveys"]})]}),a.jsx("div",{className:"h-[500px] overflow-y-auto space-y-2",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading surveys..."})]}):_e.map(M=>a.jsxs("div",{onClick:()=>De(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.totalQuestions," questions"]}),a.jsx("span",{children:Ce(M.targetDate)})]})]},M.id))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?`Sections - ${o.title}`:"Sections"}),o&&a.jsxs(z,{size:"sm",onClick:()=>{X(),_(!0)},className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]})]}),a.jsx("div",{className:"h-[calc(100%-80px)] overflow-y-auto space-y-2",children:o?y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading sections..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ov,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"No sections found"}),a.jsxs(z,{size:"sm",onClick:()=>{R({title:"",description:"",questionsCount:10,order:1}),_(!0)},className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Section"})]})]}):r.map(M=>a.jsxs("div",{onClick:()=>Ke(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(c==null?void 0:c.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.questionsCount," questions"]}),a.jsxs("span",{children:["Order: ",M.order]})]})]},M.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Select a survey to view sections"})]})})]})]}),c&&a.jsxs(F,{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions - ",c.title]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," questions in this section"]})]}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]}),v?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Questions Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your assessment by adding questions to this section."}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50",children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Complexity"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Points"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Options"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(M=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:M.text}),M.explanation&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:["Explanation: ",M.explanation]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(M.type)}`,children:M.type==="single_choice"?"Single":"Multiple"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(M.complexity)}`,children:M.complexity.charAt(0).toUpperCase()+M.complexity.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-gray-900",children:M.points})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[M.options.slice(0,2).map((Z,xe)=>a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:[String.fromCharCode(65+xe),":"]}),a.jsx("span",{className:`${Z.isCorrect?"text-green-600 font-medium":"text-gray-700"}`,children:Z.text.length>30?`${Z.text.substring(0,30)}...`:Z.text}),Z.isCorrect&&a.jsx(ot,{className:"w-3 h-3 text-green-600"})]},xe)),M.options.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",M.options.length-2," more"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-900",children:M.order})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>pe(M),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ke(M),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>re(M.id),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx(ch,{className:"w-4 h-4"})})]})})]},M.id))})]})})})]}),a.jsx(Pe,{isOpen:S,onClose:()=>{x(!1),L(null)},title:"Upload Questions",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Upload Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Download the template first to see the required format"}),a.jsx("li",{children:" Include Survey ID, Survey Title, Section ID, Section Title for proper mapping"}),a.jsx("li",{children:" Questions will be automatically assigned to the correct surveys and sections"}),a.jsx("li",{children:" Supported file format: CSV only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:M=>{var Z;return L(((Z=M.target.files)==null?void 0:Z[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),$&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Selected file:"})," ",$.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",($.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{x(!1),L(null)},children:"Cancel"}),a.jsx(z,{onClick:bt,disabled:!$||U,loading:U,children:"Upload Questions"})]})]})}),a.jsx(Pe,{isOpen:w,onClose:()=>{_(!1),X()},title:"Add New Section",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Section Title",value:T.title,onChange:M=>R({...T,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:M=>R({...T,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Questions Count",type:"number",value:T.questionsCount,onChange:M=>R({...T,questionsCount:parseInt(M.target.value)}),min:"1"}),a.jsx(se,{label:"Section Order",type:"number",value:T.order,onChange:M=>R({...T,order:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{_(!1),X()},children:"Cancel"}),a.jsx(z,{onClick:de,children:"Add Section"})]})]})}),a.jsx(Pe,{isOpen:N,onClose:()=>{A(!1),ie()},title:`Add Question to ${c==null?void 0:c.title}`,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:I.text,onChange:M=>K({...I,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:I.type,onChange:M=>K({...I,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:I.complexity,onChange:M=>K({...I,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(se,{label:"Points",type:"number",value:I.points,onChange:M=>K({...I,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",I.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:I.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:I.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:I.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:I.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(se,{value:M,onChange:xe=>{const Dt=[...I.options];Dt[Z]=xe.target.value,K({...I,options:Dt})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:I.explanation,onChange:M=>K({...I,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{A(!1),ie()},children:"Cancel"}),a.jsx(z,{onClick:ge,disabled:!I.text.trim()||I.correctAnswers.length===0,children:"Add Question"})]})]})}),a.jsx(Pe,{isOpen:P,onClose:()=>{E(!1),ie()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:I.text,onChange:M=>K({...I,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:I.type,onChange:M=>K({...I,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:I.complexity,onChange:M=>K({...I,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(se,{label:"Points",type:"number",value:I.points,onChange:M=>K({...I,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",I.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:I.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:I.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:I.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:I.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(se,{value:M,onChange:xe=>{const Dt=[...I.options];Dt[Z]=xe.target.value,K({...I,options:Dt})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:I.explanation,onChange:M=>K({...I,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{E(!1),ie()},children:"Cancel"}),a.jsx(z,{onClick:V,disabled:!I.text.trim()||I.correctAnswers.length===0,children:"Update Question"})]})]})}),a.jsx(Pe,{isOpen:k,onClose:()=>{D(!1),d(null)},title:"Question Details",size:"lg",children:f&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Question"}),a.jsx("p",{className:"text-gray-700",children:f.text})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Type"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(f.type)}`,children:f.type==="single_choice"?"Single Choice":"Multiple Choice"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Complexity"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(f.complexity)}`,children:f.complexity.charAt(0).toUpperCase()+f.complexity.slice(1)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Points"}),a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:f.points})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options"}),a.jsx("div",{className:"space-y-2",children:f.options.map((M,Z)=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${M.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsxs("span",{className:"font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx("span",{className:`flex-1 ${M.isCorrect?"text-green-800 font-medium":"text-gray-700"}`,children:M.text}),M.isCorrect&&a.jsx(ot,{className:"w-5 h-5 text-green-600"})]},Z))})]}),f.explanation&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Explanation"}),a.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:f.explanation})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{D(!1),d(null)},children:"Close"}),a.jsxs(z,{onClick:()=>{D(!1),ke(f)},className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Question"})]})]})]})})]})})}function yae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,p]=O.useState(!1),[y,b]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{v(),j()},[y]);const v=async()=>{try{i(!0);const w=await Up.getResults(y);t(w.data)}catch(w){console.error("Failed to fetch results:",w)}finally{i(!1)}},j=async()=>{try{const w=await Up.getAnalytics(y);n(w.data)}catch(w){console.error("Failed to fetch analytics:",w)}},g=async()=>{try{const w=await Up.exportResults(y),_=new Blob([w.data],{type:"text/csv"}),N=URL.createObjectURL(_),A=document.createElement("a");A.href=N,A.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(N)}catch(w){console.error("Failed to export results:",w)}},m=w=>{u(w),d(!0)},S=e.filter(w=>w.user.name.toLowerCase().includes(o.toLowerCase())||w.survey.title.toLowerCase().includes(o.toLowerCase())||w.user.email.toLowerCase().includes(o.toLowerCase())),x=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(z,{onClick:g,className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ur,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ae,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Cs(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Zt,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:r.performanceByRole,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:w=>[`${w}%`,"Pass Rate"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Survey"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:w,percentage:_})=>`${w}: ${_}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((w,_)=>a.jsx(zs,{fill:x[_%x.length]},`cell-${_}`))}),a.jsx(ze,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:r.timeSeriesData,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"date"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((w,_)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[w.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.passRate.toFixed(1),"% pass rate"]})]})]},w.userId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((w,_)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[w.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.passRate.toFixed(1),"% pass rate"]})]})]},w.userId))})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search results...",value:o,onChange:w=>l(w.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:S.map(w=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:w.user.email})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:w.user.role.name})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${ys(w.score)}`,children:[w.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",w.correctAnswers,"/",w.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[w.attemptNumber,"/",w.survey.maxAttempts]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Cs(Math.floor(w.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Nr(w.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(w),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})}),w.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Ae,{className:"w-4 h-4"})})]})})]},w.id))})]})})]}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",c.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",c.user.jurisdiction||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",c.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",c.survey.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",Cs(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Nr(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:w.sectionTitle}),a.jsxs("span",{className:`font-bold ${ys(w.score)}`,children:[w.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[w.correctAnswers,"/",w.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.score}%`}})})]})]},w.sectionId))})]})]})}),a.jsx(Pe,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Start Date",type:"date",value:y.dateRange.start.toISOString().split("T")[0],onChange:w=>b({...y,dateRange:{...y.dateRange,start:new Date(w.target.value)}})}),a.jsx(se,{label:"End Date",type:"date",value:y.dateRange.end.toISOString().split("T")[0],onChange:w=>b({...y,dateRange:{...y.dateRange,end:new Date(w.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:()=>{p(!1),v(),j()},children:"Apply Filters"})]})]})})]})})}function bae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const g=await y3.getEnumeratorStatus();t(g.data)}catch(g){console.error("Failed to fetch enumerator status:",g)}finally{n(!1)}},p=g=>{switch(g){case"completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx($d,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(ur,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},y=g=>{switch(g){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},b=g=>{const m=g.surveys.length,S=g.surveys.filter(_=>_.status==="completed").length,x=g.surveys.filter(_=>_.status==="failed").length,w=g.surveys.filter(_=>_.status==="expired").length;return S===m?"excellent":x>0||w>0?"needs_attention":S>m/2?"good":"poor"},v=g=>{l(g),u(!0)},j=e.filter(g=>{const m=g.user.name.toLowerCase().includes(s.toLowerCase())||g.user.email.toLowerCase().includes(s.toLowerCase());if(f==="all")return m;const S=b(g);return m&&S===f});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enumerator Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all enumerators"})]})}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search enumerators...",value:s,onChange:g=>i(g.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ds,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(g=>b(g)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(g=>b(g)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(ur,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((g,m)=>g+m.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:j.map(g=>{const m=b(g),S=g.surveys.filter(w=>w.status==="completed").length,x=g.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[S,"/",x]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m==="excellent"?"bg-green-100 text-green-800":m==="good"?"bg-blue-100 text-blue-800":m==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:m==="excellent"?"Excellent":m==="good"?"Good":m==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(g),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.surveys.slice(0,3).map(w=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(w.status),a.jsx("span",{className:"text-sm text-gray-600",children:w.surveyTitle})]},w.surveyId)),g.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",g.surveys.length-3," more"]})]})]},g.id)})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(g.status),a.jsx("h5",{className:"font-medium text-gray-900",children:g.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(g.status)}`,children:g.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[g.attempts,"/",g.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.bestScore?`${g.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(g.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:g.lastAttempt?Ce(g.lastAttempt):"Never"})]})]}),g.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},g.surveyId))})]})]})})]})})}function wae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const N=await Zu.getCertificates();t(N.data)}catch(N){console.error("Failed to fetch certificates:",N)}finally{n(!1)}},b=async N=>{try{const A=await Zu.downloadCertificate(N),P=new Blob([A.data],{type:"application/pdf"}),E=URL.createObjectURL(P),k=document.createElement("a");k.href=E,k.download=`certificate_${N}.pdf`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(E),t(e.map(D=>D.id===N?{...D,downloadCount:D.downloadCount+1}:D))}catch(A){console.error("Failed to download certificate:",A)}},v=async N=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await Zu.revokeCertificate(N)).success&&t(e.map(P=>P.id===N?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},j=N=>{l(N),u(!0)},g=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=e.filter(N=>{const A=N.user.name.toLowerCase().includes(s.toLowerCase())||N.survey.title.toLowerCase().includes(s.toLowerCase())||N.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=f==="all"||N.status===f;let E=!0;if(h!=="all"){const k=new Date,D=new Date(N.issuedAt);switch(h){case"today":E=D.toDateString()===k.toDateString();break;case"week":const $=new Date(k.getTime()-7*24*60*60*1e3);E=D>=$;break;case"month":const L=new Date(k.getTime()-30*24*60*60*1e3);E=D>=L;break}}return A&&P&&E}),S=e.length,x=e.filter(N=>N.status==="active").length,w=e.filter(N=>N.status==="revoked").length,_=e.reduce((N,A)=>N+A.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(z,{onClick:y,className:"flex items-center space-x-2",children:[a.jsx(Ju,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:S})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ae,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:x})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Wt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:w})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ju,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(_t,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search certificates...",value:s,onChange:N=>i(N.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:N=>d(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(N=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",N.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:N.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:N.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(N.status)}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Ce(N.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Nr(N.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>j(N),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(N.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:N.status==="revoked",children:a.jsx(_t,{className:"w-4 h-4"})}),N.status==="active"&&a.jsx("button",{onClick:()=>v(N.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(Ju,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${g(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Nr(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Ce(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(z,{onClick:()=>b(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function jae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const m=await i1.getSettings();m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch settings:",m)}finally{n(!1)}},p=async()=>{if(s)try{(await i1.updateSetting(s.id,c)).success&&(t(e.map(S=>S.id===s.id?{...S,value:c,updatedAt:new Date}:S)),l(!1),i(null),u(""),d(!0))}catch(m){console.error("Failed to update setting:",m)}},y=m=>{i(m),u(m.value),l(!0)},b=m=>{switch(m.toLowerCase()){case"general":return a.jsx(u$,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(Zt,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(Sa,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Hc,{className:"w-5 h-5 text-gray-600"})}},v=e.reduce((m,S)=>(m[S.category]||(m[S.category]=[]),m[S.category].push(S),m),{}),j=m=>{switch(m.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:m.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:m.value}}),a.jsx("span",{className:"font-mono text-sm",children:m.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:m.value});default:return a.jsx("span",{className:"text-sm font-medium",children:m.value})}},g=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(se,{type:"number",value:c,onChange:S=>u(S.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{type:"color",value:c,onChange:S=>u(S.target.value),className:"h-12"}),a.jsx(se,{type:"text",value:c,onChange:S=>u(S.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(se,{type:"email",value:c,onChange:S=>u(S.target.value),placeholder:"Enter email address"});case"url":return a.jsx(se,{type:"url",value:c,onChange:S=>u(S.target.value),placeholder:"Enter URL"});case"select":const m=s.options||[];return a.jsx("select",{value:c,onChange:S=>u(S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:m.map(S=>a.jsx("option",{value:S,children:S},S))});case"json":return a.jsx("textarea",{value:c,onChange:S=>u(S.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(se,{value:c,onChange:S=>u(S.target.value),placeholder:"Enter value"})}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[f&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Td,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(z,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(Ju,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(v).map(([m,S])=>a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[b(m),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[m," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:S.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:x.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${x.type==="boolean"?"bg-green-100 text-green-700":x.type==="number"?"bg-blue-100 text-blue-700":x.type==="color"?"bg-purple-100 text-purple-700":x.type==="email"?"bg-teal-100 text-teal-700":x.type==="url"?"bg-indigo-100 text-indigo-700":x.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:x.type}),!x.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),a.jsx("div",{className:"mt-2",children:j(x)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Nr(x.updatedAt),x.updatedBy&&` by ${x.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:x.isEditable?a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>y(x),className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},x.id))})]},m))}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:j(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),g()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(z,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function Nae(){const e=vo(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const w=await qc.getDashboardData();w.success&&w.data&&r(w.data.availableTests)}catch(w){console.error("Failed to fetch available tests:",w)}finally{o(!1)}},v=async w=>{try{f(!0);const _=t.find(P=>P.surveyId===w);if(!_||!_.isEligible||_.attemptsLeft===0){alert(`You are not eligible to take this test or have no attempts remaining. Attempts left: ${(_==null?void 0:_.attemptsLeft)||0}`);return}const N=await ps.createTestSession(w);if(!N.success||!N.data){alert(`Failed to start test: ${N.message}`);return}const A=N.data.id;e(`/test/${A}`)}catch(_){console.error("Failed to start test:",_),alert(`Failed to start test: ${_ instanceof Error?_.message:"Please try again."}`)}finally{f(!1),c(!1)}},j=w=>{s(w),c(!0)},g=w=>w.isEligible?w.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=w=>{if(!w.isEligible)return"Not Eligible";if(w.attemptsLeft===0)return"No Attempts Left";const _=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return _<=0?"Overdue":_<=3?`${_} days left`:"Available"},S=t.filter(w=>{const _=w.title.toLowerCase().includes(d.toLowerCase())||w.description.toLowerCase().includes(d.toLowerCase());if(p==="all")return _;const N=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return _&&N<=3&&N>0;case"available":return _&&w.isEligible&&w.attemptsLeft>0;case"overdue":return _&&N<=0;default:return _}}),x=t.filter(w=>{const _=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/864e5);return _<=3&&_>0});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(w=>w.isEligible&&w.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:x.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(ur,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(w=>Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Zt,{className:"w-6 h-6 text-red-600"})})]})})]}),x.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(w=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:w.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(w.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(z,{onClick:()=>v(w.surveyId),disabled:!w.isEligible||w.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(pa,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},w.surveyId))})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search tests...",value:d,onChange:w=>h(w.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(F,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:S.map(w=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:w.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(w.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Cs(w.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[w.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",w.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${g(w)}`,children:m(w)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.attemptsLeft,"/",w.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>j(w),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>v(w.surveyId),disabled:!w.isEligible||w.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===w.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},w.surveyId))})}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Cs(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{v(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Sae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState(!1),[y,b]=O.useState(""),[v,j]=O.useState(!1);O.useEffect(()=>{var P;g();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(b(A.message),p(!0),A.showCertificate&&j(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),j(!1)},5e3))},[]);const g=async()=>{try{i(!0);const A=await qc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},m=A=>{n(A),l(!0)},S=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return f==="all"?P:f==="passed"?P&&A.isPassed:f==="failed"?P&&!A.isPassed:P}),x=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const w=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,_=e.filter(A=>A.certificateId).length,N=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(bs,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:x})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[w.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(ot,{className:"w-5 h-5"}),a.jsx("span",{children:y})]})}),v&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Aa,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(z,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:N,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"attempt"}),a.jsx(Kt,{domain:[0,100]}),a.jsx(ze,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(Jt,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):S.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:S.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(ot,{className:"w-5 h-5 text-green-600"}):a.jsx($d,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${ys(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${ys(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(z,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${ys(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx($d,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ce(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${ys(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function _ae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var j;f();const v=((j=window.history.state)==null?void 0:j.usr)||window.history.state;v!=null&&v.newCertificate&&(setTimeout(()=>{f()},1e3),window.history.replaceState({},document.title))},[]);const f=async()=>{try{i(!0);const v=await qc.getDashboardData();v.success&&v.data&&t(v.data.certificates)}catch(v){console.error("Failed to fetch certificates:",v)}finally{i(!1)}},d=async v=>{try{const g=(await Zu.downloadCertificate(v)).data,m=URL.createObjectURL(g),S=document.createElement("a");S.href=m;const x=e.find(_=>_.id===v),w=x?`${x.certificateNumber}_${x.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${v}.pdf`;S.download=w,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(m),t(e.map(_=>_.id===v?{..._,downloadCount:_.downloadCount+1}:_))}catch(j){console.error("Failed to download certificate:",j),alert("Failed to download certificate. Please try again.")}},h=v=>{n(v),l(!0)},p=e.filter(v=>v.survey.title.toLowerCase().includes(c.toLowerCase())||v.certificateNumber.toLowerCase().includes(c.toLowerCase())),y=e.filter(v=>v.status==="active").length,b=e.reduce((v,j)=>v+j.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:y})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(_t,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search certificates...",value:c,onChange:v=>u(v.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((v,j)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},j)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(Aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(v=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:v.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",v.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(v.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${v.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",v.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{onClick:()=>h(v),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(z,{onClick:()=>d(v.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:v.status!=="active",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},v.id))}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(c1,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(c1,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{onClick:()=>d(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Aae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const d=await qc.getDashboardData();d.success&&d.data&&t(d.data.upcomingTests)}catch(d){console.error("Failed to fetch test schedule:",d)}finally{n(!1)}},i=d=>d.isOverdue?"bg-red-100 text-red-800":d.daysLeft<=3?"bg-orange-100 text-orange-800":d.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=d=>d.isOverdue?a.jsx(ur,{className:"w-4 h-4"}):d.daysLeft<=3?a.jsx(Zt,{className:"w-4 h-4"}):a.jsx(ot,{className:"w-4 h-4"}),l=d=>d.isOverdue?"Overdue":d.daysLeft===0?"Due Today":d.daysLeft===1?"Due Tomorrow":`${d.daysLeft} days left`,c=e.filter(d=>d.daysLeft<=3||d.isOverdue),u=e.filter(d=>d.daysLeft<=7&&d.daysLeft>3),f=e.filter(d=>d.daysLeft>7);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(cv,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ur,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(ur,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsxs(F,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsxs(F,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(ot,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>a.jsxs(F,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(We,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},d.surveyId))})]})]})]})})}function Oae(){const{sessionId:e}=dC(),t=vo();Ma();const[r,n]=O.useState(null),[s,i]=O.useState([]),[o,l]=O.useState(0),[c,u]=O.useState({}),[f,d]=O.useState(0),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[v,j]=O.useState(!1),[g,m]=O.useState(!1),[S,x]=O.useState(!1),[w,_]=O.useState(new Set),[N,A]=O.useState(navigator.onLine),[P,E]=O.useState(null),[k,D]=O.useState(null),[$,L]=O.useState(!1),[U,q]=O.useState(null);O.useState({});const T=3e4;O.useEffect(()=>{const V=()=>{A(!0),ps.syncOfflineData()},re=()=>{A(!1),r&&!$&&f>0&&(L(!0),q(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",V),window.addEventListener("offline",re),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",re)}},[r,$,f,U]);const R=O.useCallback(async()=>{if(!(!r||$))try{D("saving"),await ps.updateSession(r.id,{currentQuestionIndex:o,timeRemaining:f,answers:Object.keys(c).map(V=>({questionId:V,selectedOptions:c[V],isCorrect:!1,timeSpent:0,answered:!0}))}),E(new Date),D("saved"),setTimeout(()=>D(null),2e3)}catch(V){console.error("Auto-save failed:",V),D("error"),setTimeout(()=>D(null),3e3)}},[r,o,f,c,$]);O.useEffect(()=>{if(!r||$)return;const V=setInterval(R,T);return()=>clearInterval(V)},[R,r,$]),O.useEffect(()=>{if(r&&Object.keys(c).length>0&&!$){const V=setTimeout(R,2e3);return()=>clearTimeout(V)}},[c,R,r,$]),O.useEffect(()=>{e&&(console.log("Loading test session with ID:",e),K())},[e]),O.useEffect(()=>{if(f>0&&!$&&N){const V=setInterval(()=>{d(re=>{const le=re-1;return le<=0?(bt(),0):(le===300&&!g&&m(!0),le)})},1e3);return()=>clearInterval(V)}},[f,g,$,N]);const I=async V=>{try{if(p(!0),console.log("Loading questions for survey:",V),!V)throw new Error("Survey ID not provided");if(!W)throw new Error("Database not configured");const{data:re,error:le}=await W.from("questions").select(`
          *,
          question_options(*),
          survey_sections!inner(
            id,
            title,
            section_order,
            survey_id
          )
        `).eq("survey_sections.survey_id",V).order("question_order",{ascending:!0});if(le)throw console.error("Database error loading questions:",le),new Error(`Database error: ${le.message}`);if(!re||re.length===0)throw console.log("No questions found for survey:",V),new Error("No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.");console.log("Raw questions data from database:",re);const _e=re.map(we=>({id:we.id,sectionId:we.section_id,text:we.text,type:we.question_type,complexity:we.complexity,points:we.points,explanation:we.explanation,order:we.survey_sections.section_order*1e3+we.question_order,options:we.question_options.sort((Ve,M)=>Ve.option_order-M.option_order).map(Ve=>({id:Ve.id,text:Ve.text,isCorrect:Ve.is_correct})),correctAnswers:we.question_options.filter(Ve=>Ve.is_correct).map(Ve=>Ve.id),createdAt:new Date(we.created_at),updatedAt:new Date(we.updated_at)}));console.log("Transformed questions:",_e),i(_e),r&&r.currentQuestionIndex&&l(r.currentQuestionIndex)}catch(re){console.error("Failed to load questions:",re),alert(`Failed to load questions: ${re instanceof Error?re.message:"Unknown error"}`),t("/available-tests")}finally{p(!1)}},K=async()=>{try{if(p(!0),console.log("Loading test session for ID:",e),!W)throw new Error("Database not configured");const{data:V,error:re}=await W.from("test_sessions").select("*").eq("id",e).single();if(re||!V)throw console.error("Failed to load session:",re),new Error("Session not found or expired");console.log("Session data loaded:",V);const le={id:V.id,userId:V.user_id,surveyId:V.survey_id,startTime:new Date(V.start_time),timeRemaining:V.time_remaining,currentQuestionIndex:V.current_question_index,answers:[],status:V.session_status,attemptNumber:V.attempt_number};n(le),d(le.timeRemaining),l(le.currentQuestionIndex);const{data:_e}=await W.from("test_answers").select("*").eq("session_id",e);if(_e){console.log("Existing answers loaded:",_e);const we={};_e.forEach(Ve=>{we[Ve.question_id]=Ve.selected_options||[]}),u(we)}console.log("Loading questions for survey:",le.surveyId),await I(le.surveyId)}catch(V){console.error("Failed to load test session:",V),alert(`Failed to load test session: ${V instanceof Error?V.message:"Unknown error"}`),t("/available-tests")}},Q=async(V,re,le)=>{if($)return;const _e={...c};if(le){const we=_e[V]||[];_e[V]=we.includes(re)?we.filter(Ve=>Ve!==re):[...we,re]}else _e[V]=[re];u(_e);try{await ps.saveAnswer(r.id,V,_e[V])}catch(we){console.error("Failed to save answer:",we)}},te=()=>{$||o<s.length-1&&l(V=>V+1)},ve=()=>{$||o>0&&l(V=>V-1)},De=V=>{$||l(V)},Ke=V=>{$||_(re=>{const le=new Set(re);return le.has(V)?le.delete(V):le.add(V),le})},It=async()=>{var V,re;try{b(!0);const le=await ps.submitTest(e);le.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:le.data,showCertificate:((V=le.data)==null?void 0:V.isPassed)&&((re=le.data)==null?void 0:re.certificateId)}})}catch(le){console.error("Failed to submit test:",le),alert("Failed to submit test. Please try again.")}finally{b(!1),j(!1)}},bt=async()=>{try{await ps.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(V){console.error("Failed to auto-submit test:",V)}},X=()=>{x(!1),L(!1)},ie=()=>{l(0),u({}),_(new Set),d(35*60),x(!1),L(!1)},de=V=>{const re=s[V];if(!re)return"unanswered";const le=c[re.id]&&c[re.id].length>0,_e=w.has(V);return _e&&le?"flagged-answered":_e?"flagged":le?"answered":"unanswered"},H=V=>{switch(V){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},ke=s.filter(V=>c[V.id]&&c[V.id].length>0).length,pe=s.length-ke;if(h)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test session and questions..."}),r&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Session ID: ",r.id]})]})});if(!r||s.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(F,{className:"max-w-md w-full text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(z,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const ge=s[o];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",r.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:N?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(j$,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(zp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[k==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),k==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Td,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),k==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(ur,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),P&&!k&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",P.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[t$(f),$&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[o+1," / ",s.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:ke})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:pe})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:w.size})]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((V,re,le)=>{const we=`Section ${Math.floor(re.order/1e3)}`;return V[we]||(V[we]=[]),V[we].push({question:re,index:le}),V},{})).sort(([V],[re])=>V.localeCompare(re)).map(([V,re])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:V}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:re.map(({question:le,index:_e})=>{const we=de(_e);return a.jsx("button",{onClick:()=>De(_e),disabled:$,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${_e===o?"ring-2 ring-blue-500 ring-offset-2":""} ${H(we)} ${$?"opacity-50 cursor-not-allowed":""}`,children:_e+1},_e)})})]},V))}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:R,disabled:$,children:[a.jsx(Td,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),$&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(F,{className:"max-w-4xl mx-auto",children:$?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(g$,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(zp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Section ",Math.floor(ge.order/1e3)]}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",o+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${ge.complexity==="easy"?"bg-green-100 text-green-800":ge.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ge.complexity.charAt(0).toUpperCase()+ge.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[ge.points," point",ge.points!==1?"s":""]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>Ke(o),className:`flex items-center space-x-2 ${w.has(o)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(c$,{className:"w-4 h-4"}),a.jsx("span",{children:w.has(o)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:ge.text}),a.jsx("div",{className:"space-y-3",children:ge.options.map(V=>{var re;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:ge.type==="multiple_choice"?"checkbox":"radio",name:`question-${ge.id}`,value:V.id,checked:((re=c[ge.id])==null?void 0:re.includes(V.id))||!1,onChange:()=>Q(ge.id,V.id,ge.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:$}),a.jsx("span",{className:"text-gray-900",children:V.text})]},V.id)})}),ge.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]}),ge.explanation&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Hint:"})," ",ge.explanation]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(z,{variant:"secondary",onClick:ve,disabled:o===0||$,className:"flex items-center space-x-2",children:[a.jsx(w4,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{variant:"secondary",onClick:()=>j(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),o<s.length-1?a.jsxs(z,{onClick:te,disabled:$,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(i$,{className:"w-4 h-4"})]}):a.jsxs(z,{onClick:()=>j(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),!N&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(zp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(Pe,{isOpen:S,onClose:X,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(v$,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(z,{variant:"secondary",onClick:ie,children:"Start Fresh"}),a.jsx(z,{onClick:X,children:"Resume Session"})]})]})}),a.jsx(Pe,{isOpen:g,onClose:()=>m(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zt,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(z,{onClick:()=>m(!1),children:"Continue Test"})]})}),a.jsx(Pe,{isOpen:v,onClose:()=>j(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:ke})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:pe})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:w.size})]})]})]}),pe>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",pe," unanswered question",pe!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>j(!1),children:"Continue Test"}),a.jsxs(z,{onClick:It,loading:y,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const sl=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Pae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState([]),[h,p]=O.useState(""),[y,b]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const N=await hs.getRoles();t(N.data)}catch(N){console.error("Failed to fetch roles:",N)}finally{i(!1)}},j=N=>{n(N),d(N.menuAccess||[]),l(!0)},g=async()=>{if(r)try{u(!0),(await hs.updateRoleMenuAccess(r.id,f)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:f}:A)),l(!1),n(null),d([]))}catch(N){console.error("Failed to update menu access:",N)}finally{u(!1)}},m=N=>{d(A=>A.includes(N)?A.filter(P=>P!==N):[...A,N])},S=N=>{const A=sl.filter(P=>P.level>=N).map(P=>P.path);d(P=>{const E=[...P];return A.forEach(k=>{E.includes(k)||E.push(k)}),E})},w=sl.filter(N=>{const A=N.label.toLowerCase().includes(h.toLowerCase())||N.path.toLowerCase().includes(h.toLowerCase()),P=y==="all"||N.category===y;return A&&P}).reduce((N,A)=>(N[A.category]||(N[A.category]=[]),N[A.category].push(A),N),{}),_=[...new Set(sl.map(N=>N.category))];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((N,A)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(N=>{var A,P,E;return a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${N.level===1?"bg-red-100":N.level===2?"bg-purple-100":N.level===3?"bg-indigo-100":N.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(Sa,{className:`w-5 h-5 ${N.level===1?"text-red-600":N.level===2?"text-purple-600":N.level===3?"text-indigo-600":N.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",N.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:N.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=N.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:N.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(N.menuAccess||[]).slice(0,2).map(k=>{const D=sl.find($=>$.path===k);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(D==null?void 0:D.label)||k},k)}),(((P=N.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((E=N.menuAccess)==null?void 0:E.length)||0)-2," more"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>j(N),className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},N.id)})}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),n(null),d([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Sa,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",f.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>S(r.level),className:"flex items-center space-x-2",children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>d([]),className:"flex items-center space-x-2",children:[a.jsx(m$,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(se,{placeholder:"Search menus...",value:h,onChange:N=>p(N.target.value),className:"w-48"})}),a.jsxs("select",{value:y,onChange:N=>b(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),_.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(w).map(([N,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>[...new Set([...E,...P])])},className:"text-xs",children:"Select All"}),a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>E.filter(k=>!P.includes(k)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const E=f.includes(P.path),k=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${E?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:E,onChange:()=>m(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),k&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),E&&a.jsx(ot,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},N))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:_.map(N=>{const A=sl.filter(E=>E.category===N),P=f.filter(E=>A.some(k=>k.path===E)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:N})]},N)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),n(null),d([])},children:"Cancel"}),a.jsxs(z,{onClick:g,loading:c,className:"flex items-center space-x-2",children:[a.jsx(Td,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function Eae(){const e=vo(),{user:t}=Us(),r=()=>{e(-1)},n=()=>{if(!t){e("/login");return}switch(t.role.name.toLowerCase()){case"admin":e("/dashboard");break;case"zo user":e("/zo-dashboard");break;case"ro user":e("/ro-dashboard");break;case"supervisor":e("/supervisor-dashboard");break;case"enumerator":e("/enumerator-dashboard");break;default:e("/dashboard")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(F,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Sa,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(f$,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(z,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(w4,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function lt({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=Us();if(!i||!s)return a.jsx(Gl,{to:"/login",replace:!0});const o=s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(Gl,{to:n,replace:!0})}function kae(){const{user:e}=Us(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(Gl,{to:t(),replace:!0})}function Cae(){return a.jsxs(D2,{children:[a.jsx(Fe,{path:"/dashboard",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(lae,{})})}),a.jsx(Fe,{path:"/users",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(mae,{})})}),a.jsx(Fe,{path:"/roles",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(gae,{})})}),a.jsx(Fe,{path:"/role-menu-management",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(Pae,{})})}),a.jsx(Fe,{path:"/surveys",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(xae,{})})}),a.jsx(Fe,{path:"/questions",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(vae,{})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(jae,{})})}),a.jsx(Fe,{path:"/zo-dashboard",element:a.jsx(lt,{requiredRoles:["ZO User"],children:a.jsx(cae,{})})}),a.jsx(Fe,{path:"/ro-dashboard",element:a.jsx(lt,{requiredRoles:["RO User"],children:a.jsx(uae,{})})}),a.jsx(Fe,{path:"/supervisor-dashboard",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(dae,{})})}),a.jsx(Fe,{path:"/team-results",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(hae,{})})}),a.jsx(Fe,{path:"/my-enumerators",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(pae,{})})}),a.jsx(Fe,{path:"/enumerator-dashboard",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(fae,{})})}),a.jsx(Fe,{path:"/available-tests",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Nae,{})})}),a.jsx(Fe,{path:"/my-results",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Sae,{})})}),a.jsx(Fe,{path:"/my-certificates",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(_ae,{})})}),a.jsx(Fe,{path:"/test-schedule",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Aae,{})})}),a.jsx(Fe,{path:"/test/:sessionId",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Oae,{})})}),a.jsx(Fe,{path:"/results",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(yae,{})})}),a.jsx(Fe,{path:"/enumerator-status",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(bae,{})})}),a.jsx(Fe,{path:"/certificates",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(wae,{})})}),a.jsx(Fe,{path:"/unauthorized",element:a.jsx(Eae,{})}),a.jsx(Fe,{path:"/",element:a.jsx(kae,{})})]})}function Tae(){return a.jsx($C,{children:a.jsx(b3,{children:a.jsx(j3,{children:a.jsxs(D2,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(S$,{})}),a.jsx(Fe,{path:"/*",element:a.jsx(_$,{children:a.jsx(Cae,{})})})]})})})})}_2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(Tae,{})}));
