function u6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var pS={exports:{}},Rf={},mS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),f6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),x6=Symbol.for("react.context"),v6=Symbol.for("react.forward_ref"),y6=Symbol.for("react.suspense"),b6=Symbol.for("react.memo"),w6=Symbol.for("react.lazy"),by=Symbol.iterator;function j6(e){return e===null||typeof e!="object"?null:(e=by&&e[by]||e["@@iterator"],typeof e=="function"?e:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xS=Object.assign,vS={};function po(e,t,r){this.props=e,this.context=t,this.refs=vS,this.updater=r||gS}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yS(){}yS.prototype=po.prototype;function Jg(e,t,r){this.props=e,this.context=t,this.refs=vS,this.updater=r||gS}var ex=Jg.prototype=new yS;ex.constructor=Jg;xS(ex,po.prototype);ex.isPureReactComponent=!0;var wy=Array.isArray,bS=Object.prototype.hasOwnProperty,tx={current:null},wS={key:!0,ref:!0,__self:!0,__source:!0};function jS(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bS.call(t,n)&&!wS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Mc,type:e,key:i,ref:o,props:s,_owner:tx.current}}function N6(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function S6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jy=/\/+/g;function np(e,t){return typeof e=="object"&&e!==null&&e.key!=null?S6(""+e.key):t.toString(36)}function Bu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mc:case f6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+np(o,0):n,wy(s)?(r="",e!=null&&(r=e.replace(jy,"$&/")+"/"),Bu(s,t,r,"",function(u){return u})):s!=null&&(rx(s)&&(s=N6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",wy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+np(i,l);o+=Bu(i,t,r,c,s)}else if(c=j6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+np(i,l++),o+=Bu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function su(e,t,r){if(e==null)return e;var n=[],s=0;return Bu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tr={current:null},zu={transition:null},A6={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:zu,ReactCurrentOwner:tx};function NS(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:su,forEach:function(e,t,r){su(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!rx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=po;ve.Fragment=h6;ve.Profiler=m6;ve.PureComponent=Jg;ve.StrictMode=p6;ve.Suspense=y6;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A6;ve.act=NS;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xS({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bS.call(t,c)&&!wS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Mc,type:e.type,key:s,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:x6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g6,_context:e},e.Consumer=e};ve.createElement=jS;ve.createFactory=function(e){var t=jS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:v6,render:e}};ve.isValidElement=rx;ve.lazy=function(e){return{$$typeof:w6,_payload:{_status:-1,_result:e},_init:_6}};ve.memo=function(e,t){return{$$typeof:b6,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};ve.unstable_act=NS;ve.useCallback=function(e,t){return tr.current.useCallback(e,t)};ve.useContext=function(e){return tr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return tr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return tr.current.useEffect(e,t)};ve.useId=function(){return tr.current.useId()};ve.useImperativeHandle=function(e,t,r){return tr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return tr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return tr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return tr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return tr.current.useReducer(e,t,r)};ve.useRef=function(e){return tr.current.useRef(e)};ve.useState=function(e){return tr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return tr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return tr.current.useTransition()};ve.version="18.3.1";mS.exports=ve;var O=mS.exports;const E=Ee(O),O6=u6({__proto__:null,default:E},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P6=O,k6=Symbol.for("react.element"),E6=Symbol.for("react.fragment"),C6=Object.prototype.hasOwnProperty,T6=P6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$6={key:!0,ref:!0,__self:!0,__source:!0};function SS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)C6.call(t,n)&&!$6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:k6,type:e,key:i,ref:o,props:s,_owner:T6.current}}Rf.Fragment=E6;Rf.jsx=SS;Rf.jsxs=SS;pS.exports=Rf;var a=pS.exports,_S={exports:{}},Ar={},AS={exports:{}},OS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var $=T.length;T.push(L);e:for(;0<$;){var q=$-1>>>1,V=T[q];if(0<s(V,L))T[q]=L,T[$]=V,$=q;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],$=T.pop();if($!==L){T[0]=$;e:for(var q=0,V=T.length,ee=V>>>1;q<ee;){var ge=2*(q+1)-1,Te=T[ge],He=ge+1,It=T[He];if(0>s(Te,$))He<V&&0>s(It,Te)?(T[q]=It,T[He]=$,q=He):(T[q]=Te,T[ge]=$,q=ge);else if(He<V&&0>s(It,$))T[q]=It,T[He]=$,q=He;else break e}}return L}function s(T,L){var $=T.sortIndex-L.sortIndex;return $!==0?$:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=T)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(T){if(y=!1,m(T),!v)if(r(c)!==null)v=!0,U(g);else{var L=r(u);L!==null&&W(_,L.startTime-T)}}function g(T,L){v=!1,y&&(y=!1,w(S),S=-1),p=!0;var $=h;try{for(m(L),f=r(c);f!==null&&(!(f.expirationTime>L)||T&&!k());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var V=q(f.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),m(L)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var ge=r(u);ge!==null&&W(_,ge.startTime-L),ee=!1}return ee}finally{f=null,h=$,p=!1}}var j=!1,N=null,S=-1,A=5,P=-1;function k(){return!(e.unstable_now()-P<A)}function C(){if(N!==null){var T=e.unstable_now();P=T;var L=!0;try{L=N(!0,T)}finally{L?M():(j=!1,N=null)}}else j=!1}var M;if(typeof x=="function")M=function(){x(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,I=R.port2;R.port1.onmessage=C,M=function(){I.postMessage(null)}}else M=function(){b(C,0)};function U(T){N=T,j||(j=!0,M())}function W(T,L){S=b(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,U(g))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var $=h;h=L;try{return T()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=h;h=T;try{return L()}finally{h=$}},e.unstable_scheduleCallback=function(T,L,$){var q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,T={id:d++,callback:L,priorityLevel:T,startTime:$,expirationTime:V,sortIndex:-1},$>q?(T.sortIndex=$,t(u,T),r(c)===null&&T===r(u)&&(y?(w(S),S=-1):y=!0,W(_,$-q))):(T.sortIndex=V,t(c,T),v||p||(v=!0,U(g))),T},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(T){var L=h;return function(){var $=h;h=L;try{return T.apply(this,arguments)}finally{h=$}}}})(OS);AS.exports=OS;var I6=AS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6=O,Nr=I6;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PS=new Set,El={};function Ia(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(El[e]=t,e=0;e<t.length;e++)PS.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vm=Object.prototype.hasOwnProperty,D6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Sy={};function R6(e){return vm.call(Sy,e)?!0:vm.call(Ny,e)?!1:D6.test(e)?Sy[e]=!0:(Ny[e]=!0,!1)}function L6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F6(e,t,r,n){if(t===null||typeof t>"u"||L6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nx,sx);$t[t]=new rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nx,sx);$t[t]=new rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nx,sx);$t[t]=new rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new rr(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ax(e,t,r,n){var s=$t.hasOwnProperty(t)?$t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F6(t,r,s,n)&&(r=null),n||s===null?R6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yn=M6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),ES=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),CS=Symbol.for("react.offscreen"),_y=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=_y&&e[_y]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,sp;function il(e){if(sp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sp=t&&t[1]||""}return`
`+sp+e}var ap=!1;function ip(e,t){if(!e||ap)return"";ap=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ap=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?il(e):""}function U6(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=ip(e.type,!1),e;case 11:return e=ip(e.type.render,!1),e;case 1:return e=ip(e.type,!0),e;default:return""}}function jm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ai:return"Portal";case ym:return"Profiler";case ix:return"StrictMode";case bm:return"Suspense";case wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ES:return(e.displayName||"Context")+".Consumer";case kS:return(e._context.displayName||"Context")+".Provider";case ox:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lx:return t=e.displayName||null,t!==null?t:jm(e.type)||"Memo";case ls:t=e._payload,e=e._init;try{return jm(e(t))}catch{}}return null}function B6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(t);case 8:return t===ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z6(e){var t=TS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iu(e){e._valueTracker||(e._valueTracker=z6(e))}function $S(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=TS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nm(e,t){var r=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ay(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$s(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IS(e,t){t=t.checked,t!=null&&ax(e,"checked",t,!1)}function Sm(e,t){IS(e,t);var r=$s(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_m(e,t.type,r):t.hasOwnProperty("defaultValue")&&_m(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _m(e,t,r){(t!=="number"||rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ol=Array.isArray;function ji(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$s(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Py(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(ol(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$s(r)}}function MS(e,t){var r=$s(t.value),n=$s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ky(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,RS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W6=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){W6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function LS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function FS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=LS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var q6=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(e,t){if(t){if(q6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function km(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function cx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,Ni=null,Si=null;function Ey(e){if(e=Lc(e)){if(typeof Cm!="function")throw Error(K(280));var t=e.stateNode;t&&(t=zf(t),Cm(e.stateNode,e.type,t))}}function US(e){Ni?Si?Si.push(e):Si=[e]:Ni=e}function BS(){if(Ni){var e=Ni,t=Si;if(Si=Ni=null,Ey(e),t)for(e=0;e<t.length;e++)Ey(t[e])}}function zS(e,t){return e(t)}function WS(){}var op=!1;function qS(e,t,r){if(op)return e(t,r);op=!0;try{return zS(e,t,r)}finally{op=!1,(Ni!==null||Si!==null)&&(WS(),BS())}}function Tl(e,t){var r=e.stateNode;if(r===null)return null;var n=zf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var Tm=!1;if(Wn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Tm=!1}function H6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hl=!1,nd=null,sd=!1,$m=null,K6={onError:function(e){hl=!0,nd=e}};function V6(e,t,r,n,s,i,o,l,c){hl=!1,nd=null,H6.apply(K6,arguments)}function G6(e,t,r,n,s,i,o,l,c){if(V6.apply(this,arguments),hl){if(hl){var u=nd;hl=!1,nd=null}else throw Error(K(198));sd||(sd=!0,$m=u)}}function Ma(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cy(e){if(Ma(e)!==e)throw Error(K(188))}function Q6(e){var t=e.alternate;if(!t){if(t=Ma(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cy(s),e;if(i===n)return Cy(s),t;i=i.sibling}throw Error(K(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function KS(e){return e=Q6(e),e!==null?VS(e):null}function VS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VS(e);if(t!==null)return t;e=e.sibling}return null}var GS=Nr.unstable_scheduleCallback,Ty=Nr.unstable_cancelCallback,Y6=Nr.unstable_shouldYield,X6=Nr.unstable_requestPaint,lt=Nr.unstable_now,Z6=Nr.unstable_getCurrentPriorityLevel,ux=Nr.unstable_ImmediatePriority,QS=Nr.unstable_UserBlockingPriority,ad=Nr.unstable_NormalPriority,J6=Nr.unstable_LowPriority,YS=Nr.unstable_IdlePriority,Lf=null,mn=null;function ek(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Lf,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:nk,tk=Math.log,rk=Math.LN2;function nk(e){return e>>>=0,e===0?32:31-(tk(e)/rk|0)|0}var lu=64,cu=4194304;function ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ll(l):(i&=o,i!==0&&(n=ll(i)))}else o=r&~s,o!==0?n=ll(o):i!==0&&(n=ll(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nn(t),s=1<<r,n|=e[r],t&=~s;return n}function sk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ak(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-nn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=sk(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Im(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XS(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function lp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=r}function ik(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ke=0;function ZS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JS,fx,e_,t_,r_,Mm=!1,uu=[],js=null,Ns=null,Ss=null,$l=new Map,Il=new Map,fs=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Fo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lc(t),t!==null&&fx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lk(e,t,r,n,s){switch(t){case"focusin":return js=Fo(js,e,t,r,n,s),!0;case"dragenter":return Ns=Fo(Ns,e,t,r,n,s),!0;case"mouseover":return Ss=Fo(Ss,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return $l.set(i,Fo($l.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Il.set(i,Fo(Il.get(i)||null,e,t,r,n,s)),!0}return!1}function n_(e){var t=aa(e.target);if(t!==null){var r=Ma(t);if(r!==null){if(t=r.tag,t===13){if(t=HS(r),t!==null){e.blockedOn=t,r_(e.priority,function(){e_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Em=n,r.target.dispatchEvent(n),Em=null}else return t=Lc(r),t!==null&&fx(t),e.blockedOn=r,!1;t.shift()}return!0}function Iy(e,t,r){Wu(e)&&r.delete(t)}function ck(){Mm=!1,js!==null&&Wu(js)&&(js=null),Ns!==null&&Wu(Ns)&&(Ns=null),Ss!==null&&Wu(Ss)&&(Ss=null),$l.forEach(Iy),Il.forEach(Iy)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,ck)))}function Ml(e){function t(s){return Uo(s,e)}if(0<uu.length){Uo(uu[0],e);for(var r=1;r<uu.length;r++){var n=uu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(js!==null&&Uo(js,e),Ns!==null&&Uo(Ns,e),Ss!==null&&Uo(Ss,e),$l.forEach(t),Il.forEach(t),r=0;r<fs.length;r++)n=fs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)n_(r),r.blockedOn===null&&fs.shift()}var _i=Yn.ReactCurrentBatchConfig,od=!0;function uk(e,t,r,n){var s=ke,i=_i.transition;_i.transition=null;try{ke=1,hx(e,t,r,n)}finally{ke=s,_i.transition=i}}function dk(e,t,r,n){var s=ke,i=_i.transition;_i.transition=null;try{ke=4,hx(e,t,r,n)}finally{ke=s,_i.transition=i}}function hx(e,t,r,n){if(od){var s=Dm(e,t,r,n);if(s===null)vp(e,t,n,ld,r),$y(e,n);else if(lk(s,e,t,r,n))n.stopPropagation();else if($y(e,n),t&4&&-1<ok.indexOf(e)){for(;s!==null;){var i=Lc(s);if(i!==null&&JS(i),i=Dm(e,t,r,n),i===null&&vp(e,t,n,ld,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vp(e,t,n,null,r)}}var ld=null;function Dm(e,t,r,n){if(ld=null,e=cx(n),e=aa(e),e!==null)if(t=Ma(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function s_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z6()){case ux:return 1;case QS:return 4;case ad:case J6:return 16;case YS:return 536870912;default:return 16}default:return 16}}var gs=null,px=null,qu=null;function a_(){if(qu)return qu;var e,t=px,r=t.length,n,s="value"in gs?gs.value:gs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return qu=s.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function du(){return!0}function My(){return!1}function Or(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?du:My,this.isPropagationStopped=My,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=Or(mo),Rc=nt({},mo,{view:0,detail:0}),fk=Or(Rc),cp,up,Bo,Ff=nt({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(cp=e.screenX-Bo.screenX,up=e.screenY-Bo.screenY):up=cp=0,Bo=e),cp)},movementY:function(e){return"movementY"in e?e.movementY:up}}),Dy=Or(Ff),hk=nt({},Ff,{dataTransfer:0}),pk=Or(hk),mk=nt({},Rc,{relatedTarget:0}),dp=Or(mk),gk=nt({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=Or(gk),vk=nt({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yk=Or(vk),bk=nt({},mo,{data:0}),Ry=Or(bk),wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nk[e])?!!t[e]:!1}function gx(){return Sk}var _k=nt({},Rc,{key:function(e){if(e.key){var t=wk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ak=Or(_k),Ok=nt({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Or(Ok),Pk=nt({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),kk=Or(Pk),Ek=nt({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ck=Or(Ek),Tk=nt({},Ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=Or(Tk),Ik=[9,13,27,32],xx=Wn&&"CompositionEvent"in window,pl=null;Wn&&"documentMode"in document&&(pl=document.documentMode);var Mk=Wn&&"TextEvent"in window&&!pl,i_=Wn&&(!xx||pl&&8<pl&&11>=pl),Fy=" ",Uy=!1;function o_(e,t){switch(e){case"keyup":return Ik.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function Dk(e,t){switch(e){case"compositionend":return l_(t);case"keypress":return t.which!==32?null:(Uy=!0,Fy);case"textInput":return e=t.data,e===Fy&&Uy?null:e;default:return null}}function Rk(e,t){if(oi)return e==="compositionend"||!xx&&o_(e,t)?(e=a_(),qu=px=gs=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i_&&t.locale!=="ko"?null:t.data;default:return null}}var Lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lk[e.type]:t==="textarea"}function c_(e,t,r,n){US(n),t=cd(t,"onChange"),0<t.length&&(r=new mx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ml=null,Dl=null;function Fk(e){b_(e,0)}function Uf(e){var t=ui(e);if($S(t))return e}function Uk(e,t){if(e==="change")return t}var u_=!1;if(Wn){var fp;if(Wn){var hp="oninput"in document;if(!hp){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),hp=typeof zy.oninput=="function"}fp=hp}else fp=!1;u_=fp&&(!document.documentMode||9<document.documentMode)}function Wy(){ml&&(ml.detachEvent("onpropertychange",d_),Dl=ml=null)}function d_(e){if(e.propertyName==="value"&&Uf(Dl)){var t=[];c_(t,Dl,e,cx(e)),qS(Fk,t)}}function Bk(e,t,r){e==="focusin"?(Wy(),ml=t,Dl=r,ml.attachEvent("onpropertychange",d_)):e==="focusout"&&Wy()}function zk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uf(Dl)}function Wk(e,t){if(e==="click")return Uf(t)}function qk(e,t){if(e==="input"||e==="change")return Uf(t)}function Hk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:Hk;function Rl(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!vm.call(t,s)||!on(e[s],t[s]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hy(e,t){var r=qy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qy(r)}}function f_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h_(){for(var e=window,t=rd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=rd(e.document)}return t}function vx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kk(e){var t=h_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f_(r.ownerDocument.documentElement,r)){if(n!==null&&vx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hy(r,i);var o=Hy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vk=Wn&&"documentMode"in document&&11>=document.documentMode,li=null,Rm=null,gl=null,Lm=!1;function Ky(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lm||li==null||li!==rd(n)||(n=li,"selectionStart"in n&&vx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gl&&Rl(gl,n)||(gl=n,n=cd(Rm,"onSelect"),0<n.length&&(t=new mx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=li)))}function fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},pp={},p_={};Wn&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Bf(e){if(pp[e])return pp[e];if(!ci[e])return e;var t=ci[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in p_)return pp[e]=t[r];return e}var m_=Bf("animationend"),g_=Bf("animationiteration"),x_=Bf("animationstart"),v_=Bf("transitionend"),y_=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){y_.set(e,t),Ia(t,[e])}for(var mp=0;mp<Vy.length;mp++){var gp=Vy[mp],Gk=gp.toLowerCase(),Qk=gp[0].toUpperCase()+gp.slice(1);Ds(Gk,"on"+Qk)}Ds(m_,"onAnimationEnd");Ds(g_,"onAnimationIteration");Ds(x_,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(v_,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Gy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,G6(n,t,void 0,e),e.currentTarget=null}function b_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}}}if(sd)throw e=$m,sd=!1,$m=null,e}function Ve(e,t){var r=t[Wm];r===void 0&&(r=t[Wm]=new Set);var n=e+"__bubble";r.has(n)||(w_(t,e,2,!1),r.add(n))}function xp(e,t,r){var n=0;t&&(n|=4),w_(r,e,n,t)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[hu]){e[hu]=!0,PS.forEach(function(r){r!=="selectionchange"&&(Yk.has(r)||xp(r,!1,e),xp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hu]||(t[hu]=!0,xp("selectionchange",!1,t))}}function w_(e,t,r,n){switch(s_(t)){case 1:var s=uk;break;case 4:s=dk;break;default:s=hx}r=s.bind(null,t,r,e),s=void 0,!Tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}qS(function(){var u=i,d=cx(r),f=[];e:{var h=y_.get(e);if(h!==void 0){var p=mx,v=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":p=Ak;break;case"focusin":v="focus",p=dp;break;case"focusout":v="blur",p=dp;break;case"beforeblur":case"afterblur":p=dp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kk;break;case m_:case g_:case x_:p=xk;break;case v_:p=Ck;break;case"scroll":p=fk;break;case"wheel":p=$k;break;case"copy":case"cut":case"paste":p=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ly}var y=(t&4)!==0,b=!y&&e==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,m;x!==null;){m=x;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,w!==null&&(_=Tl(x,w),_!=null&&y.push(Fl(x,_,m)))),b)break;x=x.return}0<y.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Em&&(v=r.relatedTarget||r.fromElement)&&(aa(v)||v[qn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?aa(v):null,v!==null&&(b=Ma(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Dy,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ly,_="onPointerLeave",w="onPointerEnter",x="pointer"),b=p==null?h:ui(p),m=v==null?h:ui(v),h=new y(_,x+"leave",p,r,d),h.target=b,h.relatedTarget=m,_=null,aa(d)===u&&(y=new y(w,x+"enter",v,r,d),y.target=m,y.relatedTarget=b,_=y),b=_,p&&v)t:{for(y=p,w=v,x=0,m=y;m;m=qa(m))x++;for(m=0,_=w;_;_=qa(_))m++;for(;0<x-m;)y=qa(y),x--;for(;0<m-x;)w=qa(w),m--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=qa(y),w=qa(w)}y=null}else y=null;p!==null&&Qy(f,h,p,y,!1),v!==null&&b!==null&&Qy(f,b,v,y,!0)}}e:{if(h=u?ui(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var g=Uk;else if(By(h))if(u_)g=qk;else{g=zk;var j=Bk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(g=Wk);if(g&&(g=g(e,u))){c_(f,g,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&_m(h,"number",h.value)}switch(j=u?ui(u):window,e){case"focusin":(By(j)||j.contentEditable==="true")&&(li=j,Rm=u,gl=null);break;case"focusout":gl=Rm=li=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Ky(f,r,d);break;case"selectionchange":if(Vk)break;case"keydown":case"keyup":Ky(f,r,d)}var N;if(xx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else oi?o_(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(i_&&r.locale!=="ko"&&(oi||S!=="onCompositionStart"?S==="onCompositionEnd"&&oi&&(N=a_()):(gs=d,px="value"in gs?gs.value:gs.textContent,oi=!0)),j=cd(u,S),0<j.length&&(S=new Ry(S,e,null,r,d),f.push({event:S,listeners:j}),N?S.data=N:(N=l_(r),N!==null&&(S.data=N)))),(N=Mk?Dk(e,r):Rk(e,r))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new Ry("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}b_(f,t)})}function Fl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tl(e,r),i!=null&&n.unshift(Fl(e,i,s)),i=Tl(e,t),i!=null&&n.push(Fl(e,i,s))),e=e.return}return n}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Tl(r,i),c!=null&&o.unshift(Fl(r,c,l))):s||(c=Tl(r,i),c!=null&&o.push(Fl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(Xk,`
`).replace(Zk,"")}function pu(e,t,r){if(t=Yy(t),Yy(e)!==t&&r)throw Error(K(425))}function ud(){}var Fm=null,Um=null;function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zm=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,eE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(tE)}:zm;function tE(e){setTimeout(function(){throw e})}function yp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ml(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),dn="__reactFiber$"+go,Ul="__reactProps$"+go,qn="__reactContainer$"+go,Wm="__reactEvents$"+go,rE="__reactListeners$"+go,nE="__reactHandles$"+go;function aa(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zy(e);e!==null;){if(r=e[dn])return r;e=Zy(e)}return t}e=r,r=e.parentNode}return null}function Lc(e){return e=e[dn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function zf(e){return e[Ul]||null}var qm=[],di=-1;function Rs(e){return{current:e}}function Xe(e){0>di||(e.current=qm[di],qm[di]=null,di--)}function ze(e,t){di++,qm[di]=e.current,e.current=t}var Is={},qt=Rs(Is),lr=Rs(!1),xa=Is;function Ii(e,t){var r=e.type.contextTypes;if(!r)return Is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cr(e){return e=e.childContextTypes,e!=null}function dd(){Xe(lr),Xe(qt)}function Jy(e,t,r){if(qt.current!==Is)throw Error(K(168));ze(qt,t),ze(lr,r)}function j_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(K(108,B6(e)||"Unknown",s));return nt({},r,n)}function fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,xa=qt.current,ze(qt,e),ze(lr,lr.current),!0}function eb(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=j_(e,t,xa),n.__reactInternalMemoizedMergedChildContext=e,Xe(lr),Xe(qt),ze(qt,e)):Xe(lr),ze(lr,r)}var En=null,Wf=!1,bp=!1;function N_(e){En===null?En=[e]:En.push(e)}function sE(e){Wf=!0,N_(e)}function Ls(){if(!bp&&En!==null){bp=!0;var e=0,t=ke;try{var r=En;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}En=null,Wf=!1}catch(s){throw En!==null&&(En=En.slice(e+1)),GS(ux,Ls),s}finally{ke=t,bp=!1}}return null}var fi=[],hi=0,hd=null,pd=0,Tr=[],$r=0,va=null,$n=1,In="";function Ys(e,t){fi[hi++]=pd,fi[hi++]=hd,hd=e,pd=t}function S_(e,t,r){Tr[$r++]=$n,Tr[$r++]=In,Tr[$r++]=va,va=e;var n=$n;e=In;var s=32-nn(n)-1;n&=~(1<<s),r+=1;var i=32-nn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,$n=1<<32-nn(t)+s|r<<s|n,In=i+e}else $n=1<<i|r<<s|n,In=e}function yx(e){e.return!==null&&(Ys(e,1),S_(e,1,0))}function bx(e){for(;e===hd;)hd=fi[--hi],fi[hi]=null,pd=fi[--hi],fi[hi]=null;for(;e===va;)va=Tr[--$r],Tr[$r]=null,In=Tr[--$r],Tr[$r]=null,$n=Tr[--$r],Tr[$r]=null}var br=null,yr=null,Ze=!1,en=null;function __(e,t){var r=Mr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,br=e,yr=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,br=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=va!==null?{id:$n,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,br=e,yr=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Km(e){if(Ze){var t=yr;if(t){var r=t;if(!tb(e,t)){if(Hm(e))throw Error(K(418));t=_s(r.nextSibling);var n=br;t&&tb(e,t)?__(n,r):(e.flags=e.flags&-4097|2,Ze=!1,br=e)}}else{if(Hm(e))throw Error(K(418));e.flags=e.flags&-4097|2,Ze=!1,br=e}}}function rb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;br=e}function mu(e){if(e!==br)return!1;if(!Ze)return rb(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bm(e.type,e.memoizedProps)),t&&(t=yr)){if(Hm(e))throw A_(),Error(K(418));for(;t;)__(e,t),t=_s(t.nextSibling)}if(rb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=_s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=br?_s(e.stateNode.nextSibling):null;return!0}function A_(){for(var e=yr;e;)e=_s(e.nextSibling)}function Mi(){yr=br=null,Ze=!1}function wx(e){en===null?en=[e]:en.push(e)}var aE=Yn.ReactCurrentBatchConfig;function zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nb(e){var t=e._init;return t(e._payload)}function O_(e){function t(w,x){if(e){var m=w.deletions;m===null?(w.deletions=[x],w.flags|=16):m.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=ks(w,x),w.index=0,w.sibling=null,w}function i(w,x,m){return w.index=m,e?(m=w.alternate,m!==null?(m=m.index,m<x?(w.flags|=2,x):m):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,m,_){return x===null||x.tag!==6?(x=Op(m,w.mode,_),x.return=w,x):(x=s(x,m),x.return=w,x)}function c(w,x,m,_){var g=m.type;return g===ii?d(w,x,m.props.children,_,m.key):x!==null&&(x.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ls&&nb(g)===x.type)?(_=s(x,m.props),_.ref=zo(w,x,m),_.return=w,_):(_=Zu(m.type,m.key,m.props,null,w.mode,_),_.ref=zo(w,x,m),_.return=w,_)}function u(w,x,m,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Pp(m,w.mode,_),x.return=w,x):(x=s(x,m.children||[]),x.return=w,x)}function d(w,x,m,_,g){return x===null||x.tag!==7?(x=ha(m,w.mode,_,g),x.return=w,x):(x=s(x,m),x.return=w,x)}function f(w,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Op(""+x,w.mode,m),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case au:return m=Zu(x.type,x.key,x.props,null,w.mode,m),m.ref=zo(w,null,x),m.return=w,m;case ai:return x=Pp(x,w.mode,m),x.return=w,x;case ls:var _=x._init;return f(w,_(x._payload),m)}if(ol(x)||Ro(x))return x=ha(x,w.mode,m,null),x.return=w,x;gu(w,x)}return null}function h(w,x,m,_){var g=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return g!==null?null:l(w,x,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case au:return m.key===g?c(w,x,m,_):null;case ai:return m.key===g?u(w,x,m,_):null;case ls:return g=m._init,h(w,x,g(m._payload),_)}if(ol(m)||Ro(m))return g!==null?null:d(w,x,m,_,null);gu(w,m)}return null}function p(w,x,m,_,g){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(m)||null,l(x,w,""+_,g);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case au:return w=w.get(_.key===null?m:_.key)||null,c(x,w,_,g);case ai:return w=w.get(_.key===null?m:_.key)||null,u(x,w,_,g);case ls:var j=_._init;return p(w,x,m,j(_._payload),g)}if(ol(_)||Ro(_))return w=w.get(m)||null,d(x,w,_,g,null);gu(x,_)}return null}function v(w,x,m,_){for(var g=null,j=null,N=x,S=x=0,A=null;N!==null&&S<m.length;S++){N.index>S?(A=N,N=null):A=N.sibling;var P=h(w,N,m[S],_);if(P===null){N===null&&(N=A);break}e&&N&&P.alternate===null&&t(w,N),x=i(P,x,S),j===null?g=P:j.sibling=P,j=P,N=A}if(S===m.length)return r(w,N),Ze&&Ys(w,S),g;if(N===null){for(;S<m.length;S++)N=f(w,m[S],_),N!==null&&(x=i(N,x,S),j===null?g=N:j.sibling=N,j=N);return Ze&&Ys(w,S),g}for(N=n(w,N);S<m.length;S++)A=p(N,w,S,m[S],_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?S:A.key),x=i(A,x,S),j===null?g=A:j.sibling=A,j=A);return e&&N.forEach(function(k){return t(w,k)}),Ze&&Ys(w,S),g}function y(w,x,m,_){var g=Ro(m);if(typeof g!="function")throw Error(K(150));if(m=g.call(m),m==null)throw Error(K(151));for(var j=g=null,N=x,S=x=0,A=null,P=m.next();N!==null&&!P.done;S++,P=m.next()){N.index>S?(A=N,N=null):A=N.sibling;var k=h(w,N,P.value,_);if(k===null){N===null&&(N=A);break}e&&N&&k.alternate===null&&t(w,N),x=i(k,x,S),j===null?g=k:j.sibling=k,j=k,N=A}if(P.done)return r(w,N),Ze&&Ys(w,S),g;if(N===null){for(;!P.done;S++,P=m.next())P=f(w,P.value,_),P!==null&&(x=i(P,x,S),j===null?g=P:j.sibling=P,j=P);return Ze&&Ys(w,S),g}for(N=n(w,N);!P.done;S++,P=m.next())P=p(N,w,S,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),x=i(P,x,S),j===null?g=P:j.sibling=P,j=P);return e&&N.forEach(function(C){return t(w,C)}),Ze&&Ys(w,S),g}function b(w,x,m,_){if(typeof m=="object"&&m!==null&&m.type===ii&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case au:e:{for(var g=m.key,j=x;j!==null;){if(j.key===g){if(g=m.type,g===ii){if(j.tag===7){r(w,j.sibling),x=s(j,m.props.children),x.return=w,w=x;break e}}else if(j.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ls&&nb(g)===j.type){r(w,j.sibling),x=s(j,m.props),x.ref=zo(w,j,m),x.return=w,w=x;break e}r(w,j);break}else t(w,j);j=j.sibling}m.type===ii?(x=ha(m.props.children,w.mode,_,m.key),x.return=w,w=x):(_=Zu(m.type,m.key,m.props,null,w.mode,_),_.ref=zo(w,x,m),_.return=w,w=_)}return o(w);case ai:e:{for(j=m.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(w,x.sibling),x=s(x,m.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Pp(m,w.mode,_),x.return=w,w=x}return o(w);case ls:return j=m._init,b(w,x,j(m._payload),_)}if(ol(m))return v(w,x,m,_);if(Ro(m))return y(w,x,m,_);gu(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(w,x.sibling),x=s(x,m),x.return=w,w=x):(r(w,x),x=Op(m,w.mode,_),x.return=w,w=x),o(w)):r(w,x)}return b}var Di=O_(!0),P_=O_(!1),md=Rs(null),gd=null,pi=null,jx=null;function Nx(){jx=pi=gd=null}function Sx(e){var t=md.current;Xe(md),e._currentValue=t}function Vm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ai(e,t){gd=e,jx=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function Fr(e){var t=e._currentValue;if(jx!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(gd===null)throw Error(K(308));pi=e,gd.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var ia=null;function _x(e){ia===null?ia=[e]:ia.push(e)}function k_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_x(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hn(e,n)}function Hn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cs=!1;function Ax(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hn(e,r)}return s=n.interleaved,s===null?(t.next=t,_x(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hn(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dx(e,r)}}function sb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xd(e,t,r,n){var s=e.updateQueue;cs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(h=t,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=nt({},f,h);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ba|=o,e.lanes=o,e.memoizedState=f}}function ab(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(K(191,s));s.call(n)}}}var Fc={},gn=Rs(Fc),Bl=Rs(Fc),zl=Rs(Fc);function oa(e){if(e===Fc)throw Error(K(174));return e}function Ox(e,t){switch(ze(zl,t),ze(Bl,e),ze(gn,Fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Om(t,e)}Xe(gn),ze(gn,t)}function Ri(){Xe(gn),Xe(Bl),Xe(zl)}function C_(e){oa(zl.current);var t=oa(gn.current),r=Om(t,e.type);t!==r&&(ze(Bl,e),ze(gn,r))}function Px(e){Bl.current===e&&(Xe(gn),Xe(Bl))}var et=Rs(0);function vd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wp=[];function kx(){for(var e=0;e<wp.length;e++)wp[e]._workInProgressVersionPrimary=null;wp.length=0}var Vu=Yn.ReactCurrentDispatcher,jp=Yn.ReactCurrentBatchConfig,ya=0,tt=null,mt=null,Nt=null,yd=!1,xl=!1,Wl=0,iE=0;function Rt(){throw Error(K(321))}function Ex(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function Cx(e,t,r,n,s,i){if(ya=i,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?uE:dE,e=r(n,s),xl){i=0;do{if(xl=!1,Wl=0,25<=i)throw Error(K(301));i+=1,Nt=mt=null,t.updateQueue=null,Vu.current=fE,e=r(n,s)}while(xl)}if(Vu.current=bd,t=mt!==null&&mt.next!==null,ya=0,Nt=mt=tt=null,yd=!1,t)throw Error(K(300));return e}function Tx(){var e=Wl!==0;return Wl=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?tt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Ur(){if(mt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Nt===null?tt.memoizedState:Nt.next;if(t!==null)Nt=t,mt=e;else{if(e===null)throw Error(K(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Nt===null?tt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ql(e,t){return typeof t=="function"?t(e):t}function Np(e){var t=Ur(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ya&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,tt.lanes|=d,ba|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,on(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,tt.lanes|=i,ba|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sp(e){var t=Ur(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);on(i,t.memoizedState)||(ir=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function T_(){}function $_(e,t){var r=tt,n=Ur(),s=t(),i=!on(n.memoizedState,s);if(i&&(n.memoizedState=s,ir=!0),n=n.queue,$x(D_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,M_.bind(null,r,n,s,t),void 0,null),At===null)throw Error(K(349));ya&30||I_(r,t,s)}return s}function I_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function M_(e,t,r,n){t.value=r,t.getSnapshot=n,R_(t)&&L_(e)}function D_(e,t,r){return r(function(){R_(t)&&L_(e)})}function R_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch{return!0}}function L_(e){var t=Hn(e,1);t!==null&&sn(t,e,1,-1)}function ib(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:e},t.queue=e,e=e.dispatch=cE.bind(null,tt,e),[t.memoizedState,e]}function Hl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function F_(){return Ur().memoizedState}function Gu(e,t,r,n){var s=un();tt.flags|=e,s.memoizedState=Hl(1|t,r,void 0,n===void 0?null:n)}function qf(e,t,r,n){var s=Ur();n=n===void 0?null:n;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,n!==null&&Ex(n,o.deps)){s.memoizedState=Hl(t,r,i,n);return}}tt.flags|=e,s.memoizedState=Hl(1|t,r,i,n)}function ob(e,t){return Gu(8390656,8,e,t)}function $x(e,t){return qf(2048,8,e,t)}function U_(e,t){return qf(4,2,e,t)}function B_(e,t){return qf(4,4,e,t)}function z_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W_(e,t,r){return r=r!=null?r.concat([e]):null,qf(4,4,z_.bind(null,t,e),r)}function Ix(){}function q_(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ex(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function H_(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ex(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function K_(e,t,r){return ya&21?(on(r,t)||(r=XS(),tt.lanes|=r,ba|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function oE(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=jp.transition;jp.transition={};try{e(!1),t()}finally{ke=r,jp.transition=n}}function V_(){return Ur().memoizedState}function lE(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},G_(e))Q_(t,r);else if(r=k_(e,t,r,n),r!==null){var s=Zt();sn(r,e,n,s),Y_(r,t,n)}}function cE(e,t,r){var n=Ps(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(G_(e))Q_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,on(l,o)){var c=t.interleaved;c===null?(s.next=s,_x(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=k_(e,t,s,n),r!==null&&(s=Zt(),sn(r,e,n,s),Y_(r,t,n))}}function G_(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Q_(e,t){xl=yd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Y_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dx(e,r)}}var bd={readContext:Fr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},uE={readContext:Fr,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Fr,useEffect:ob,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gu(4194308,4,z_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var r=un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lE.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:ib,useDebugValue:Ix,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=ib(!1),t=e[0];return e=oE.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,s=un();if(Ze){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),At===null)throw Error(K(349));ya&30||I_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ob(D_.bind(null,n,i,e),[e]),n.flags|=2048,Hl(9,M_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=un(),t=At.identifierPrefix;if(Ze){var r=In,n=$n;r=(n&~(1<<32-nn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=iE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dE={readContext:Fr,useCallback:q_,useContext:Fr,useEffect:$x,useImperativeHandle:W_,useInsertionEffect:U_,useLayoutEffect:B_,useMemo:H_,useReducer:Np,useRef:F_,useState:function(){return Np(ql)},useDebugValue:Ix,useDeferredValue:function(e){var t=Ur();return K_(t,mt.memoizedState,e)},useTransition:function(){var e=Np(ql)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:T_,useSyncExternalStore:$_,useId:V_,unstable_isNewReconciler:!1},fE={readContext:Fr,useCallback:q_,useContext:Fr,useEffect:$x,useImperativeHandle:W_,useInsertionEffect:U_,useLayoutEffect:B_,useMemo:H_,useReducer:Sp,useRef:F_,useState:function(){return Sp(ql)},useDebugValue:Ix,useDeferredValue:function(e){var t=Ur();return mt===null?t.memoizedState=e:K_(t,mt.memoizedState,e)},useTransition:function(){var e=Sp(ql)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:T_,useSyncExternalStore:$_,useId:V_,unstable_isNewReconciler:!1};function Qr(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hf={isMounted:function(e){return(e=e._reactInternals)?Ma(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zt(),s=Ps(e),i=Fn(n,s);i.payload=t,r!=null&&(i.callback=r),t=As(e,i,s),t!==null&&(sn(t,e,s,n),Ku(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zt(),s=Ps(e),i=Fn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=As(e,i,s),t!==null&&(sn(t,e,s,n),Ku(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zt(),n=Ps(e),s=Fn(r,n);s.tag=2,t!=null&&(s.callback=t),t=As(e,s,n),t!==null&&(sn(t,e,n,r),Ku(t,e,n))}};function lb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rl(r,n)||!Rl(s,i):!0}function X_(e,t,r){var n=!1,s=Is,i=t.contextType;return typeof i=="object"&&i!==null?i=Fr(i):(s=cr(t)?xa:qt.current,n=t.contextTypes,i=(n=n!=null)?Ii(e,s):Is),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hf.enqueueReplaceState(t,t.state,null)}function Qm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ax(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fr(i):(i=cr(t)?xa:qt.current,s.context=Ii(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gm(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hf.enqueueReplaceState(s,s.state,null),xd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t){try{var r="",n=t;do r+=U6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _p(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ym(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hE=typeof WeakMap=="function"?WeakMap:Map;function Z_(e,t,r){r=Fn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jd||(jd=!0,i0=n),Ym(e,t)},r}function J_(e,t,r){r=Fn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ym(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ym(e,t),typeof n!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ub(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=OE.bind(null,e,t,r),t.then(e,e))}function db(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fn(-1,1),t.tag=2,As(r,t,1))),r.lanes|=1),e)}var pE=Yn.ReactCurrentOwner,ir=!1;function Gt(e,t,r,n){t.child=e===null?P_(t,null,r,n):Di(t,e.child,r,n)}function hb(e,t,r,n,s){r=r.render;var i=t.ref;return Ai(t,s),n=Cx(e,t,r,n,i,s),r=Tx(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(Ze&&r&&yx(t),t.flags|=1,Gt(e,t,n,s),t.child)}function pb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!zx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,e2(e,t,i,n,s)):(e=Zu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Rl,r(o,n)&&e.ref===t.ref)return Kn(e,t,s)}return t.flags|=1,e=ks(i,n),e.ref=t.ref,e.return=t,t.child=e}function e2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Rl(i,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Kn(e,t,s)}return Xm(e,t,r,n,s)}function t2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(gi,mr),mr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(gi,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ze(gi,mr),mr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ze(gi,mr),mr|=n;return Gt(e,t,s,r),t.child}function r2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xm(e,t,r,n,s){var i=cr(r)?xa:qt.current;return i=Ii(t,i),Ai(t,s),r=Cx(e,t,r,n,i,s),n=Tx(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(Ze&&n&&yx(t),t.flags|=1,Gt(e,t,r,s),t.child)}function mb(e,t,r,n,s){if(cr(r)){var i=!0;fd(t)}else i=!1;if(Ai(t,s),t.stateNode===null)Qu(e,t),X_(t,r,n),Qm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=cr(r)?xa:qt.current,u=Ii(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&cb(t,o,n,u),cs=!1;var h=t.memoizedState;o.state=h,xd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||lr.current||cs?(typeof d=="function"&&(Gm(t,r,d,n),c=t.memoizedState),(l=cs||lb(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,E_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Qr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=cr(r)?xa:qt.current,c=Ii(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&cb(t,o,n,c),cs=!1,h=t.memoizedState,o.state=h,xd(t,n,o,s);var v=t.memoizedState;l!==f||h!==v||lr.current||cs?(typeof p=="function"&&(Gm(t,r,p,n),v=t.memoizedState),(u=cs||lb(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Zm(e,t,r,n,i,s)}function Zm(e,t,r,n,s,i){r2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&eb(t,r,!1),Kn(e,t,i);n=t.stateNode,pE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,l,i)):Gt(e,t,l,i),t.memoizedState=n.state,s&&eb(t,r,!0),t.child}function n2(e){var t=e.stateNode;t.pendingContext?Jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jy(e,t.context,!1),Ox(e,t.containerInfo)}function gb(e,t,r,n,s){return Mi(),wx(s),t.flags|=256,Gt(e,t,r,n),t.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function e0(e){return{baseLanes:e,cachePool:null,transitions:null}}function s2(e,t,r){var n=t.pendingProps,s=et.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(et,s&1),e===null)return Km(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gf(o,n,0,null),e=ha(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=e0(r),t.memoizedState=Jm,e):Mx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mE(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ks(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ks(l,i):(i=ha(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?e0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Jm,n}return i=e.child,e=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mx(e,t){return t=Gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,r,n){return n!==null&&wx(n),Di(t,e.child,null,r),e=Mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mE(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_p(Error(K(422))),xu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Gf({mode:"visible",children:n.children},s,0,null),i=ha(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Di(t,e.child,null,o),t.child.memoizedState=e0(o),t.memoizedState=Jm,i);if(!(t.mode&1))return xu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(K(419)),n=_p(i,n,void 0),xu(e,t,o,n)}if(l=(o&e.childLanes)!==0,ir||l){if(n=At,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hn(e,s),sn(n,e,s,-1))}return Bx(),n=_p(Error(K(421))),xu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=PE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yr=_s(s.nextSibling),br=t,Ze=!0,en=null,e!==null&&(Tr[$r++]=$n,Tr[$r++]=In,Tr[$r++]=va,$n=e.id,In=e.overflow,va=t),t=Mx(t,n.children),t.flags|=4096,t)}function xb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vm(e.return,t,r)}function Ap(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function a2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Gt(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xb(e,r,t);else if(e.tag===19)xb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(et,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&vd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ap(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ap(t,!0,r,null,i);break;case"together":Ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gE(e,t,r){switch(t.tag){case 3:n2(t),Mi();break;case 5:C_(t);break;case 1:cr(t.type)&&fd(t);break;case 4:Ox(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ze(md,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?s2(e,t,r):(ze(et,et.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);ze(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return a2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,t2(e,t,r)}return Kn(e,t,r)}var i2,t0,o2,l2;i2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t0=function(){};o2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,oa(gn.current);var i=null;switch(r){case"input":s=Nm(e,s),n=Nm(e,n),i=[];break;case"select":s=nt({},s,{value:void 0}),n=nt({},n,{value:void 0}),i=[];break;case"textarea":s=Am(e,s),n=Am(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ud)}Pm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ve("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};l2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wo(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xE(e,t,r){var n=t.pendingProps;switch(bx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return cr(t.type)&&dd(),Lt(t),null;case 3:return n=t.stateNode,Ri(),Xe(lr),Xe(qt),kx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(c0(en),en=null))),t0(e,t),Lt(t),null;case 5:Px(t);var s=oa(zl.current);if(r=t.type,e!==null&&t.stateNode!=null)o2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return Lt(t),null}if(e=oa(gn.current),mu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dn]=t,n[Ul]=i,e=(t.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Ve(cl[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ay(n,i),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",n);break;case"textarea":Py(n,i),Ve("invalid",n)}Pm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&pu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pu(n.textContent,l,e),s=["children",""+l]):El.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":iu(n),Oy(n,i,!0);break;case"textarea":iu(n),ky(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ud)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[dn]=t,e[Ul]=n,i2(e,t,!1,!1),t.stateNode=e;e:{switch(o=km(r,n),r){case"dialog":Ve("cancel",e),Ve("close",e),s=n;break;case"iframe":case"object":case"embed":Ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<cl.length;s++)Ve(cl[s],e);s=n;break;case"source":Ve("error",e),s=n;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),s=n;break;case"details":Ve("toggle",e),s=n;break;case"input":Ay(e,n),s=Nm(e,n),Ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=nt({},n,{value:void 0}),Ve("invalid",e);break;case"textarea":Py(e,n),s=Am(e,n),Ve("invalid",e);break;default:s=n}Pm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?FS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cl(e,c):typeof c=="number"&&Cl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(El.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",e):c!=null&&ax(e,i,c,o))}switch(r){case"input":iu(e),Oy(e,n,!1);break;case"textarea":iu(e),ky(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$s(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ji(e,!!n.multiple,i,!1):n.defaultValue!=null&&ji(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)l2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=oa(zl.current),oa(gn.current),mu(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(i=n.nodeValue!==r)&&(e=br,e!==null))switch(e.tag){case 3:pu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return Lt(t),null;case 13:if(Xe(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&yr!==null&&t.mode&1&&!(t.flags&128))A_(),Mi(),t.flags|=98560,i=!1;else if(i=mu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[dn]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),i=!1}else en!==null&&(c0(en),en=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?xt===0&&(xt=3):Bx())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Ri(),t0(e,t),e===null&&Ll(t.stateNode.containerInfo),Lt(t),null;case 10:return Sx(t.type._context),Lt(t),null;case 17:return cr(t.type)&&dd(),Lt(t),null;case 19:if(Xe(et),i=t.memoizedState,i===null)return Lt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Wo(i,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vd(e),o!==null){for(t.flags|=128,Wo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>Fi&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304)}else{if(!n)if(e=vd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Lt(t),null}else 2*lt()-i.renderingStartTime>Fi&&r!==1073741824&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,r=et.current,ze(et,n?r&1|2:r&1),t):(Lt(t),null);case 22:case 23:return Ux(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mr&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function vE(e,t){switch(bx(t),t.tag){case 1:return cr(t.type)&&dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(),Xe(lr),Xe(qt),kx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Px(t),null;case 13:if(Xe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(et),null;case 4:return Ri(),null;case 10:return Sx(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var vu=!1,Bt=!1,yE=typeof WeakSet=="function"?WeakSet:Set,Z=null;function mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function r0(e,t,r){try{r()}catch(n){st(e,t,n)}}var vb=!1;function bE(e,t){if(Fm=od,e=h_(),vx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Um={focusedElem:e,selectionRange:r},od=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qr(t.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){st(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return v=vb,vb=!1,v}function vl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&r0(t,r,i)}s=s.next}while(s!==n)}}function Kf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function n0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c2(e){var t=e.alternate;t!==null&&(e.alternate=null,c2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Ul],delete t[Wm],delete t[rE],delete t[nE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u2(e){return e.tag===5||e.tag===3||e.tag===4}function yb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ud));else if(n!==4&&(e=e.child,e!==null))for(s0(e,t,r),e=e.sibling;e!==null;)s0(e,t,r),e=e.sibling}function a0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(a0(e,t,r),e=e.sibling;e!==null;)a0(e,t,r),e=e.sibling}var Et=null,Yr=!1;function rs(e,t,r){for(r=r.child;r!==null;)d2(e,t,r),r=r.sibling}function d2(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Lf,r)}catch{}switch(r.tag){case 5:Bt||mi(r,t);case 6:var n=Et,s=Yr;Et=null,rs(e,t,r),Et=n,Yr=s,Et!==null&&(Yr?(e=Et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(Yr?(e=Et,r=r.stateNode,e.nodeType===8?yp(e.parentNode,r):e.nodeType===1&&yp(e,r),Ml(e)):yp(Et,r.stateNode));break;case 4:n=Et,s=Yr,Et=r.stateNode.containerInfo,Yr=!0,rs(e,t,r),Et=n,Yr=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&r0(r,t,o),s=s.next}while(s!==n)}rs(e,t,r);break;case 1:if(!Bt&&(mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}rs(e,t,r);break;case 21:rs(e,t,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,rs(e,t,r),Bt=n):rs(e,t,r);break;default:rs(e,t,r)}}function bb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yE),t.forEach(function(n){var s=kE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Kr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Yr=!1;break e;case 3:Et=l.stateNode.containerInfo,Yr=!0;break e;case 4:Et=l.stateNode.containerInfo,Yr=!0;break e}l=l.return}if(Et===null)throw Error(K(160));d2(i,o,s),Et=null,Yr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f2(t,e),t=t.sibling}function f2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),cn(e),n&4){try{vl(3,e,e.return),Kf(3,e)}catch(y){st(e,e.return,y)}try{vl(5,e,e.return)}catch(y){st(e,e.return,y)}}break;case 1:Kr(t,e),cn(e),n&512&&r!==null&&mi(r,r.return);break;case 5:if(Kr(t,e),cn(e),n&512&&r!==null&&mi(r,r.return),e.flags&32){var s=e.stateNode;try{Cl(s,"")}catch(y){st(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&IS(s,i),km(l,o);var u=km(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?FS(s,f):d==="dangerouslySetInnerHTML"?RS(s,f):d==="children"?Cl(s,f):ax(s,d,f,u)}switch(l){case"input":Sm(s,i);break;case"textarea":MS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ji(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ji(s,!!i.multiple,i.defaultValue,!0):ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ul]=i}catch(y){st(e,e.return,y)}}break;case 6:if(Kr(t,e),cn(e),n&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){st(e,e.return,y)}}break;case 3:if(Kr(t,e),cn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(y){st(e,e.return,y)}break;case 4:Kr(t,e),cn(e);break;case 13:Kr(t,e),cn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lx=lt())),n&4&&bb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(u=Bt)||d,Kr(t,e),Bt=u):Kr(t,e),cn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:vl(4,h,h.return);break;case 1:mi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){st(n,r,y)}}break;case 5:mi(h,h.return);break;case 22:if(h.memoizedState!==null){jb(f);continue}}p!==null?(p.return=h,Z=p):jb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=LS("display",o))}catch(y){st(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){st(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kr(t,e),cn(e),n&4&&bb(e);break;case 21:break;default:Kr(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u2(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cl(s,""),n.flags&=-33);var i=yb(e);a0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=yb(e);s0(e,l,o);break;default:throw Error(K(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wE(e,t,r){Z=e,h2(e)}function h2(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Bt;l=vu;var u=Bt;if(vu=o,(Bt=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?Nb(s):c!==null?(c.return=o,Z=c):Nb(s);for(;i!==null;)Z=i,h2(i),i=i.sibling;Z=s,vu=l,Bt=u}wb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):wb(e)}}function wb(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||Kf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ab(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ab(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Bt||t.flags&512&&n0(t)}catch(h){st(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function jb(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Nb(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kf(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){st(t,s,c)}}var i=t.return;try{n0(t)}catch(c){st(t,i,c)}break;case 5:var o=t.return;try{n0(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var jE=Math.ceil,wd=Yn.ReactCurrentDispatcher,Dx=Yn.ReactCurrentOwner,Rr=Yn.ReactCurrentBatchConfig,we=0,At=null,ut=null,Ct=0,mr=0,gi=Rs(0),xt=0,Kl=null,ba=0,Vf=0,Rx=0,yl=null,sr=null,Lx=0,Fi=1/0,On=null,jd=!1,i0=null,Os=null,yu=!1,xs=null,Nd=0,bl=0,o0=null,Yu=-1,Xu=0;function Zt(){return we&6?lt():Yu!==-1?Yu:Yu=lt()}function Ps(e){return e.mode&1?we&2&&Ct!==0?Ct&-Ct:aE.transition!==null?(Xu===0&&(Xu=XS()),Xu):(e=ke,e!==0||(e=window.event,e=e===void 0?16:s_(e.type)),e):1}function sn(e,t,r,n){if(50<bl)throw bl=0,o0=null,Error(K(185));Dc(e,r,n),(!(we&2)||e!==At)&&(e===At&&(!(we&2)&&(Vf|=r),xt===4&&hs(e,Ct)),ur(e,n),r===1&&we===0&&!(t.mode&1)&&(Fi=lt()+500,Wf&&Ls()))}function ur(e,t){var r=e.callbackNode;ak(e,t);var n=id(e,e===At?Ct:0);if(n===0)r!==null&&Ty(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ty(r),t===1)e.tag===0?sE(Sb.bind(null,e)):N_(Sb.bind(null,e)),eE(function(){!(we&6)&&Ls()}),r=null;else{switch(ZS(n)){case 1:r=ux;break;case 4:r=QS;break;case 16:r=ad;break;case 536870912:r=YS;break;default:r=ad}r=w2(r,p2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p2(e,t){if(Yu=-1,Xu=0,we&6)throw Error(K(327));var r=e.callbackNode;if(Oi()&&e.callbackNode!==r)return null;var n=id(e,e===At?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sd(e,n);else{t=n;var s=we;we|=2;var i=g2();(At!==e||Ct!==t)&&(On=null,Fi=lt()+500,fa(e,t));do try{_E();break}catch(l){m2(e,l)}while(!0);Nx(),wd.current=i,we=s,ut!==null?t=0:(At=null,Ct=0,t=xt)}if(t!==0){if(t===2&&(s=Im(e),s!==0&&(n=s,t=l0(e,s))),t===1)throw r=Kl,fa(e,0),hs(e,n),ur(e,lt()),r;if(t===6)hs(e,n);else{if(s=e.current.alternate,!(n&30)&&!NE(s)&&(t=Sd(e,n),t===2&&(i=Im(e),i!==0&&(n=i,t=l0(e,i))),t===1))throw r=Kl,fa(e,0),hs(e,n),ur(e,lt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:Xs(e,sr,On);break;case 3:if(hs(e,n),(n&130023424)===n&&(t=Lx+500-lt(),10<t)){if(id(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zm(Xs.bind(null,e,sr,On),t);break}Xs(e,sr,On);break;case 4:if(hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-nn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jE(n/1960))-n,10<n){e.timeoutHandle=zm(Xs.bind(null,e,sr,On),n);break}Xs(e,sr,On);break;case 5:Xs(e,sr,On);break;default:throw Error(K(329))}}}return ur(e,lt()),e.callbackNode===r?p2.bind(null,e):null}function l0(e,t){var r=yl;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=Sd(e,t),e!==2&&(t=sr,sr=r,t!==null&&c0(t)),e}function c0(e){sr===null?sr=e:sr.push.apply(sr,e)}function NE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!on(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~Rx,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nn(t),n=1<<r;e[r]=-1,t&=~n}}function Sb(e){if(we&6)throw Error(K(327));Oi();var t=id(e,0);if(!(t&1))return ur(e,lt()),null;var r=Sd(e,t);if(e.tag!==0&&r===2){var n=Im(e);n!==0&&(t=n,r=l0(e,n))}if(r===1)throw r=Kl,fa(e,0),hs(e,t),ur(e,lt()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,sr,On),ur(e,lt()),null}function Fx(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Fi=lt()+500,Wf&&Ls())}}function wa(e){xs!==null&&xs.tag===0&&!(we&6)&&Oi();var t=we;we|=1;var r=Rr.transition,n=ke;try{if(Rr.transition=null,ke=1,e)return e()}finally{ke=n,Rr.transition=r,we=t,!(we&6)&&Ls()}}function Ux(){mr=gi.current,Xe(gi)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jk(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(bx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dd();break;case 3:Ri(),Xe(lr),Xe(qt),kx();break;case 5:Px(n);break;case 4:Ri();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:Sx(n.type._context);break;case 22:case 23:Ux()}r=r.return}if(At=e,ut=e=ks(e.current,null),Ct=mr=t,xt=0,Kl=null,Rx=Vf=ba=0,sr=yl=null,ia!==null){for(t=0;t<ia.length;t++)if(r=ia[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ia=null}return e}function m2(e,t){do{var r=ut;try{if(Nx(),Vu.current=bd,yd){for(var n=tt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yd=!1}if(ya=0,Nt=mt=tt=null,xl=!1,Wl=0,Dx.current=null,r===null||r.return===null){xt=1,Kl=t,ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=db(o);if(p!==null){p.flags&=-257,fb(p,o,l,i,t),p.mode&1&&ub(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){ub(i,u,t),Bx();break e}c=Error(K(426))}}else if(Ze&&l.mode&1){var b=db(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fb(b,o,l,i,t),wx(Li(c,l));break e}}i=c=Li(c,l),xt!==4&&(xt=2),yl===null?yl=[i]:yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Z_(i,c,t);sb(i,w);break e;case 1:l=c;var x=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Os===null||!Os.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=J_(i,l,t);sb(i,_);break e}}i=i.return}while(i!==null)}v2(r)}catch(g){t=g,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function g2(){var e=wd.current;return wd.current=bd,e===null?bd:e}function Bx(){(xt===0||xt===3||xt===2)&&(xt=4),At===null||!(ba&268435455)&&!(Vf&268435455)||hs(At,Ct)}function Sd(e,t){var r=we;we|=2;var n=g2();(At!==e||Ct!==t)&&(On=null,fa(e,t));do try{SE();break}catch(s){m2(e,s)}while(!0);if(Nx(),we=r,wd.current=n,ut!==null)throw Error(K(261));return At=null,Ct=0,xt}function SE(){for(;ut!==null;)x2(ut)}function _E(){for(;ut!==null&&!Y6();)x2(ut)}function x2(e){var t=b2(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?v2(e):ut=t,Dx.current=null}function v2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vE(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ut=null;return}}else if(r=xE(r,t,mr),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);xt===0&&(xt=5)}function Xs(e,t,r){var n=ke,s=Rr.transition;try{Rr.transition=null,ke=1,AE(e,t,r,n)}finally{Rr.transition=s,ke=n}return null}function AE(e,t,r,n){do Oi();while(xs!==null);if(we&6)throw Error(K(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ik(e,i),e===At&&(ut=At=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yu||(yu=!0,w2(ad,function(){return Oi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=ke;ke=1;var l=we;we|=4,Dx.current=null,bE(e,r),f2(r,e),Kk(Um),od=!!Fm,Um=Fm=null,e.current=r,wE(r),X6(),we=l,ke=o,Rr.transition=i}else e.current=r;if(yu&&(yu=!1,xs=e,Nd=s),i=e.pendingLanes,i===0&&(Os=null),ek(r.stateNode),ur(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(jd)throw jd=!1,e=i0,i0=null,e;return Nd&1&&e.tag!==0&&Oi(),i=e.pendingLanes,i&1?e===o0?bl++:(bl=0,o0=e):bl=0,Ls(),null}function Oi(){if(xs!==null){var e=ZS(Nd),t=Rr.transition,r=ke;try{if(Rr.transition=null,ke=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,Nd=0,we&6)throw Error(K(331));var s=we;for(we|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:vl(8,d,i)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(c2(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Z=w;break e}Z=i.return}}var x=e.current;for(Z=x;Z!==null;){o=Z;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,Z=m;else e:for(o=x;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kf(9,l)}}catch(g){st(l,l.return,g)}if(l===o){Z=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Z=_;break e}Z=l.return}}if(we=s,Ls(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Lf,e)}catch{}n=!0}return n}finally{ke=r,Rr.transition=t}}return!1}function _b(e,t,r){t=Li(r,t),t=Z_(e,t,1),e=As(e,t,1),t=Zt(),e!==null&&(Dc(e,1,t),ur(e,t))}function st(e,t,r){if(e.tag===3)_b(e,e,r);else for(;t!==null;){if(t.tag===3){_b(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Os===null||!Os.has(n))){e=Li(r,e),e=J_(t,e,1),t=As(t,e,1),e=Zt(),t!==null&&(Dc(t,1,e),ur(t,e));break}}t=t.return}}function OE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Ct&r)===r&&(xt===4||xt===3&&(Ct&130023424)===Ct&&500>lt()-Lx?fa(e,0):Rx|=r),ur(e,t)}function y2(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var r=Zt();e=Hn(e,t),e!==null&&(Dc(e,t,r),ur(e,r))}function PE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y2(e,r)}function kE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),y2(e,r)}var b2;b2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,gE(e,t,r);ir=!!(e.flags&131072)}else ir=!1,Ze&&t.flags&1048576&&S_(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qu(e,t),e=t.pendingProps;var s=Ii(t,qt.current);Ai(t,r),s=Cx(null,t,n,e,s,r);var i=Tx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(i=!0,fd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ax(t),s.updater=Hf,t.stateNode=s,s._reactInternals=t,Qm(t,n,e,r),t=Zm(null,t,n,!0,i,r)):(t.tag=0,Ze&&i&&yx(t),Gt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=CE(n),e=Qr(n,e),s){case 0:t=Xm(null,t,n,e,r);break e;case 1:t=mb(null,t,n,e,r);break e;case 11:t=hb(null,t,n,e,r);break e;case 14:t=pb(null,t,n,Qr(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),Xm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),mb(e,t,n,s,r);case 3:e:{if(n2(t),e===null)throw Error(K(387));n=t.pendingProps,i=t.memoizedState,s=i.element,E_(e,t),xd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Li(Error(K(423)),t),t=gb(e,t,n,r,s);break e}else if(n!==s){s=Li(Error(K(424)),t),t=gb(e,t,n,r,s);break e}else for(yr=_s(t.stateNode.containerInfo.firstChild),br=t,Ze=!0,en=null,r=P_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mi(),n===s){t=Kn(e,t,r);break e}Gt(e,t,n,r)}t=t.child}return t;case 5:return C_(t),e===null&&Km(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Bm(n,s)?o=null:i!==null&&Bm(n,i)&&(t.flags|=32),r2(e,t),Gt(e,t,o,r),t.child;case 6:return e===null&&Km(t),null;case 13:return s2(e,t,r);case 4:return Ox(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Di(t,null,n,r):Gt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),hb(e,t,n,s,r);case 7:return Gt(e,t,t.pendingProps,r),t.child;case 8:return Gt(e,t,t.pendingProps.children,r),t.child;case 12:return Gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(md,n._currentValue),n._currentValue=o,i!==null)if(on(i.value,o)){if(i.children===s.children&&!lr.current){t=Kn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Fn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Vm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ai(t,r),s=Fr(s),n=n(s),t.flags|=1,Gt(e,t,n,r),t.child;case 14:return n=t.type,s=Qr(n,t.pendingProps),s=Qr(n.type,s),pb(e,t,n,s,r);case 15:return e2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),Qu(e,t),t.tag=1,cr(n)?(e=!0,fd(t)):e=!1,Ai(t,r),X_(t,n,s),Qm(t,n,s,r),Zm(null,t,n,!0,e,r);case 19:return a2(e,t,r);case 22:return t2(e,t,r)}throw Error(K(156,t.tag))};function w2(e,t){return GS(e,t)}function EE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,r,n){return new EE(e,t,r,n)}function zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CE(e){if(typeof e=="function")return zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ox)return 11;if(e===lx)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")zx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ii:return ha(r.children,s,i,t);case ix:o=8,s|=8;break;case ym:return e=Mr(12,r,t,s|2),e.elementType=ym,e.lanes=i,e;case bm:return e=Mr(13,r,t,s),e.elementType=bm,e.lanes=i,e;case wm:return e=Mr(19,r,t,s),e.elementType=wm,e.lanes=i,e;case CS:return Gf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kS:o=10;break e;case ES:o=9;break e;case ox:o=11;break e;case lx:o=14;break e;case ls:o=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Mr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ha(e,t,r,n){return e=Mr(7,e,n,t),e.lanes=r,e}function Gf(e,t,r,n){return e=Mr(22,e,n,t),e.elementType=CS,e.lanes=r,e.stateNode={isHidden:!1},e}function Op(e,t,r){return e=Mr(6,e,null,t),e.lanes=r,e}function Pp(e,t,r){return t=Mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lp(0),this.expirationTimes=lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wx(e,t,r,n,s,i,o,l,c){return e=new TE(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ax(i),e}function $E(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function j2(e){if(!e)return Is;e=e._reactInternals;e:{if(Ma(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(cr(r))return j_(e,r,t)}return t}function N2(e,t,r,n,s,i,o,l,c){return e=Wx(r,n,!0,e,s,i,o,l,c),e.context=j2(null),r=e.current,n=Zt(),s=Ps(r),i=Fn(n,s),i.callback=t??null,As(r,i,s),e.current.lanes=s,Dc(e,s,n),ur(e,n),e}function Qf(e,t,r,n){var s=t.current,i=Zt(),o=Ps(s);return r=j2(r),t.context===null?t.context=r:t.pendingContext=r,t=Fn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=As(s,t,o),e!==null&&(sn(e,s,o,i),Ku(e,s,o)),o}function _d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ab(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qx(e,t){Ab(e,t),(e=e.alternate)&&Ab(e,t)}function IE(){return null}var S2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hx(e){this._internalRoot=e}Yf.prototype.render=Hx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Qf(e,t,null,null)};Yf.prototype.unmount=Hx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wa(function(){Qf(null,e,null,null)}),t[qn]=null}};function Yf(e){this._internalRoot=e}Yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=t_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fs.length&&t!==0&&t<fs[r].priority;r++);fs.splice(r,0,e),r===0&&n_(e)}};function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function ME(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=_d(o);i.call(u)}}var o=N2(t,n,e,0,null,!1,!1,"",Ob);return e._reactRootContainer=o,e[qn]=o.current,Ll(e.nodeType===8?e.parentNode:e),wa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=_d(c);l.call(u)}}var c=Wx(e,0,!1,null,null,!1,!1,"",Ob);return e._reactRootContainer=c,e[qn]=c.current,Ll(e.nodeType===8?e.parentNode:e),wa(function(){Qf(t,c,r,n)}),c}function Zf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=_d(o);l.call(c)}}Qf(t,o,e,s)}else o=ME(r,t,e,s,n);return _d(o)}JS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ll(t.pendingLanes);r!==0&&(dx(t,r|1),ur(t,lt()),!(we&6)&&(Fi=lt()+500,Ls()))}break;case 13:wa(function(){var n=Hn(e,1);if(n!==null){var s=Zt();sn(n,e,1,s)}}),qx(e,1)}};fx=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var r=Zt();sn(t,e,134217728,r)}qx(e,134217728)}};e_=function(e){if(e.tag===13){var t=Ps(e),r=Hn(e,t);if(r!==null){var n=Zt();sn(r,e,t,n)}qx(e,t)}};t_=function(){return ke};r_=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Cm=function(e,t,r){switch(t){case"input":if(Sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zf(n);if(!s)throw Error(K(90));$S(n),Sm(n,s)}}}break;case"textarea":MS(e,r);break;case"select":t=r.value,t!=null&&ji(e,!!r.multiple,t,!1)}};zS=Fx;WS=wa;var DE={usingClientEntryPoint:!1,Events:[Lc,ui,zf,US,BS,Fx]},qo={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RE={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KS(e),e===null?null:e.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||IE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Lf=bu.inject(RE),mn=bu}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;Ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kx(t))throw Error(K(200));return $E(e,t,null,r)};Ar.createRoot=function(e,t){if(!Kx(e))throw Error(K(299));var r=!1,n="",s=S2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wx(e,1,!1,null,null,r,!1,n,s),e[qn]=t.current,Ll(e.nodeType===8?e.parentNode:e),new Hx(t)};Ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=KS(t),e=e===null?null:e.stateNode,e};Ar.flushSync=function(e){return wa(e)};Ar.hydrate=function(e,t,r){if(!Xf(t))throw Error(K(200));return Zf(null,e,t,!0,r)};Ar.hydrateRoot=function(e,t,r){if(!Kx(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=S2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=N2(t,null,e,1,r??null,s,!1,i,o),e[qn]=t.current,Ll(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yf(t)};Ar.render=function(e,t,r){if(!Xf(t))throw Error(K(200));return Zf(null,e,t,!1,r)};Ar.unmountComponentAtNode=function(e){if(!Xf(e))throw Error(K(40));return e._reactRootContainer?(wa(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Ar.unstable_batchedUpdates=Fx;Ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xf(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Zf(e,t,r,!1,n)};Ar.version="18.3.1-next-f1338f8080-20240426";function _2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_2)}catch(e){console.error(e)}}_2(),_S.exports=Ar;var LE=_S.exports,A2,Pb=LE;A2=Pb.createRoot,Pb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}var vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vs||(vs={}));const kb="popstate";function FE(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return u0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ad(s)}return BE(t,r,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UE(){return Math.random().toString(36).substr(2,8)}function Eb(e,t){return{usr:e.state,key:e.key,idx:t}}function u0(e,t,r,n){return r===void 0&&(r=null),Vl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xo(t):t,{state:r,key:t&&t.key||n||UE()})}function Ad(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function BE(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=vs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Vl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=vs.Pop;let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:w})}function h(b,w){l=vs.Push;let x=u0(y.location,b,w);u=d()+1;let m=Eb(x,u),_=y.createHref(x);try{o.pushState(m,"",_)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;s.location.assign(_)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,w){l=vs.Replace;let x=u0(y.location,b,w);u=d();let m=Eb(x,u),_=y.createHref(x);o.replaceState(m,"",_),i&&c&&c({action:l,location:y.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Ad(b);return x=x.replace(/ $/,"%20"),rt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kb,f),c=b,()=>{s.removeEventListener(kb,f),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return o.go(b)}};return y}var Cb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cb||(Cb={}));function zE(e,t,r){return r===void 0&&(r="/"),WE(e,t,r,!1)}function WE(e,t,r,n){let s=typeof t=="string"?xo(t):t,i=Ui(s.pathname||"/",r);if(i==null)return null;let o=P2(e);qE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=tC(i);l=JE(o[c],u,n)}return l}function P2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Es([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),P2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:XE(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of k2(i.path))s(i,o,c)}),t}function k2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=k2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ZE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HE=/^:[\w-]+$/,KE=3,VE=2,GE=1,QE=10,YE=-2,Tb=e=>e==="*";function XE(e,t){let r=e.split("/"),n=r.length;return r.some(Tb)&&(n+=YE),t&&(n+=VE),r.filter(s=>!Tb(s)).reduce((s,i)=>s+(HE.test(i)?KE:i===""?GE:QE),n)}function ZE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function JE(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Es([i,f.pathname]),pathnameBase:aC(Es([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Es([i,f.pathnameBase]))}return o}function Od(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eC(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function eC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),O2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function tC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?xo(e):e;return{pathname:r?r.startsWith("/")?r:nC(r,t):t,search:iC(n),hash:oC(s)}}function nC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function kp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vx(e,t){let r=sC(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=xo(e):(s=Vl({},e),rt(!s.pathname||!s.pathname.includes("?"),kp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),kp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),kp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=rC(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),aC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E2=["post","put","patch","delete"];new Set(E2);const cC=["get",...E2];new Set(cC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}const Jf=O.createContext(null),C2=O.createContext(null),Xn=O.createContext(null),eh=O.createContext(null),Zn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),T2=O.createContext(null);function uC(e,t){let{relative:r}=t===void 0?{}:t;vo()||rt(!1);let{basename:n,navigator:s}=O.useContext(Xn),{hash:i,pathname:o,search:l}=th(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Es([n,o])),s.createHref({pathname:c,search:l,hash:i})}function vo(){return O.useContext(eh)!=null}function Da(){return vo()||rt(!1),O.useContext(eh).location}function $2(e){O.useContext(Xn).static||O.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=O.useContext(Zn);return e?SC():dC()}function dC(){vo()||rt(!1);let e=O.useContext(Jf),{basename:t,future:r,navigator:n}=O.useContext(Xn),{matches:s}=O.useContext(Zn),{pathname:i}=Da(),o=JSON.stringify(Vx(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return $2(()=>{l.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Gx(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Es([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function fC(){let{matches:e}=O.useContext(Zn),t=e[e.length-1];return t?t.params:{}}function th(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Xn),{matches:s}=O.useContext(Zn),{pathname:i}=Da(),o=JSON.stringify(Vx(s,n.v7_relativeSplatPath));return O.useMemo(()=>Gx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function hC(e,t){return pC(e,t)}function pC(e,t,r,n){vo()||rt(!1);let{navigator:s}=O.useContext(Xn),{matches:i}=O.useContext(Zn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Da(),d;if(t){var f;let b=typeof t=="string"?xo(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||rt(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=zE(e,{pathname:p}),y=yC(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Es([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Es([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&y?O.createElement(eh.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vs.Pop}},y):y}function mC(){let e=NC(),t=lC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const gC=O.createElement(mC,null);class xC extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Zn.Provider,{value:this.props.routeContext},O.createElement(T2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vC(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(Jf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Zn.Provider,{value:t},n)}function yC(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,v=!1,y=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||gC,c&&(u<0&&h===0?(v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),x=()=>{let m;return p?m=y:v?m=b:f.route.Component?m=O.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,O.createElement(vC,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(xC,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var I2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I2||{}),Pd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pd||{});function bC(e){let t=O.useContext(Jf);return t||rt(!1),t}function wC(e){let t=O.useContext(C2);return t||rt(!1),t}function jC(e){let t=O.useContext(Zn);return t||rt(!1),t}function M2(e){let t=jC(),r=t.matches[t.matches.length-1];return r.route.id||rt(!1),r.route.id}function NC(){var e;let t=O.useContext(T2),r=wC(Pd.UseRouteError),n=M2(Pd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function SC(){let{router:e}=bC(I2.UseNavigateStable),t=M2(Pd.UseNavigateStable),r=O.useRef(!1);return $2(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gl({fromRouteId:t},i)))},[e,t])}function _C(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ql(e){let{to:t,replace:r,state:n,relative:s}=e;vo()||rt(!1);let{future:i,static:o}=O.useContext(Xn),{matches:l}=O.useContext(Zn),{pathname:c}=Da(),u=yo(),d=Gx(t,Vx(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return O.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Le(e){rt(!1)}function AC(e){let{basename:t="/",children:r=null,location:n,navigationType:s=vs.Pop,navigator:i,static:o=!1,future:l}=e;vo()&&rt(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Gl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=xo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,y=O.useMemo(()=>{let b=Ui(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:s}},[c,d,f,h,p,v,s]);return y==null?null:O.createElement(Xn.Provider,{value:u},O.createElement(eh.Provider,{children:r,value:y}))}function D2(e){let{children:t,location:r}=e;return hC(d0(t),r)}new Promise(()=>{});function d0(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,d0(n.props.children,i));return}n.type!==Le&&rt(!1),!n.props.index||!n.props.children||rt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=d0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function R2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function OC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PC(e,t){return e.button===0&&(!t||t==="_self")&&!OC(e)}const kC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CC="6";try{window.__reactRouterVersion=CC}catch{}const TC=O.createContext({isTransitioning:!1}),$C="startTransition",$b=O6[$C];function IC(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=FE({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&$b?$b(()=>c(f)):c(f)},[c,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>_C(n),[n]),O.createElement(AC,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RC=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=R2(t,kC),{basename:p}=O.useContext(Xn),v,y=!1;if(typeof u=="string"&&DC.test(u)&&(v=u,MC))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),g=Ui(_.pathname,p);_.origin===m.origin&&g!=null?u=g+_.search+_.hash:y=!0}catch{}let b=uC(u,{relative:s}),w=UC(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(m){n&&n(m),m.defaultPrevented||w(m)}return O.createElement("a",kd({},h,{href:v||b,onClick:y||i?n:x,ref:r,target:c}))}),LC=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=R2(t,EC),h=th(c,{relative:f.relative}),p=Da(),v=O.useContext(C2),{navigator:y,basename:b}=O.useContext(Xn),w=v!=null&&BC(h)&&u===!0,x=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,m=p.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(m=m.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=Ui(_,b)||_);const g=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=m===x||!o&&m.startsWith(x)&&m.charAt(g)==="/",N=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),S={isActive:j,isPending:N,isTransitioning:w},A=j?n:void 0,P;typeof i=="function"?P=i(S):P=[i,j?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(S):l;return O.createElement(RC,kd({},f,{"aria-current":A,className:P,ref:r,style:k,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var f0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f0||(f0={}));var Ib;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ib||(Ib={}));function FC(e){let t=O.useContext(Jf);return t||rt(!1),t}function UC(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=yo(),u=Da(),d=th(e,{relative:o});return O.useCallback(f=>{if(PC(f,r)){f.preventDefault();let h=n!==void 0?n:Ad(u)===Ad(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function BC(e,t){t===void 0&&(t={});let r=O.useContext(TC);r==null&&rt(!1);let{basename:n}=FC(f0.useViewTransitionState),s=th(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ui(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ui(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Od(s.pathname,o)!=null||Od(s.pathname,i)!=null}const zC="modulepreload",WC=function(e){return"/"+e},Mb={},Uc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=WC(c),c in Mb)return;Mb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zC,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},qC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class HC extends Qx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Db extends Qx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rb extends Qx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var h0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(h0||(h0={}));var KC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class VC{constructor(t,{headers:r={},customFetch:n,region:s=h0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=qC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(y=>{throw new HC(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Db(f);if(!f.ok)throw new Rb(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Rb||s instanceof Db?s.context:void 0}}})}}var ar={},Yx={},rh={},Bc={},nh={},sh={},GC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bi=GC();const QC=Bi.fetch,L2=Bi.fetch.bind(Bi),F2=Bi.Headers,YC=Bi.Request,XC=Bi.Response,bo=Object.freeze(Object.defineProperty({__proto__:null,Headers:F2,Request:YC,Response:XC,default:L2,fetch:QC},Symbol.toStringTag,{value:"Module"})),ZC=d6(bo);var ah={};Object.defineProperty(ah,"__esModule",{value:!0});let JC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ah.default=JC;var U2=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const eT=U2(ZC),tT=U2(ah);let rT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new tT.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};sh.default=rT;var nT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nh,"__esModule",{value:!0});const sT=nT(sh);let aT=class extends sT.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nh.default=aT;var iT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bc,"__esModule",{value:!0});const oT=iT(nh);let lT=class extends oT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Bc.default=lT;var cT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const Ho=cT(Bc);let uT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ho.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ho.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ho.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ho.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ho.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rh.default=uT;var ih={},oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.version=void 0;oh.version="0.0.0-automated";Object.defineProperty(ih,"__esModule",{value:!0});ih.DEFAULT_HEADERS=void 0;const dT=oh;ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dT.version}`};var B2=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yx,"__esModule",{value:!0});const fT=B2(rh),hT=B2(Bc),pT=ih;let mT=class z2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new fT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new z2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new hT.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Yx.default=mT;var wo=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const W2=wo(Yx);ar.PostgrestClient=W2.default;const q2=wo(rh);ar.PostgrestQueryBuilder=q2.default;const H2=wo(Bc);ar.PostgrestFilterBuilder=H2.default;const K2=wo(nh);ar.PostgrestTransformBuilder=K2.default;const V2=wo(sh);ar.PostgrestBuilder=V2.default;const G2=wo(ah);ar.PostgrestError=G2.default;var gT=ar.default={PostgrestClient:W2.default,PostgrestQueryBuilder:q2.default,PostgrestFilterBuilder:H2.default,PostgrestTransformBuilder:K2.default,PostgrestBuilder:V2.default,PostgrestError:G2.default};const{PostgrestClient:xT,PostgrestQueryBuilder:Lae,PostgrestFilterBuilder:Fae,PostgrestTransformBuilder:Uae,PostgrestBuilder:Bae,PostgrestError:zae}=gT;function vT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const yT=vT(),bT="2.11.15",wT=`realtime-js/${bT}`,jT="1.0.0",Q2=1e4,NT=1e3;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var Xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xr||(Xr={}));var p0;(function(e){e.websocket="websocket"})(p0||(p0={}));var ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ra||(ra={}));class ST{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let Y2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const Lb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=_T(o,e,t,s),i),{})},_T=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?X2(i,o):m0(o)},X2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kT(t,r)}switch(e){case Re.bool:return AT(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return OT(t);case Re.json:case Re.jsonb:return PT(t);case Re.timestamp:return ET(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return m0(t);default:return m0(t)}},m0=e=>e,AT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>X2(t,l))}return e},ET=e=>typeof e=="string"?e.replace(" ","T"):e,Z2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ep{constructor(t,r,n={},s=Q2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fb||(Fb={}));class jl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=jl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ub;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ub||(Ub={}));var Bb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bb||(Bb={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Xx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ep(this,Xr.join,this.params,this.timeout),this.rejoinTimer=new Y2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new jl(this),this.broadcastEndpointURL=Z2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Pn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let y=0;y<p;y++){const b=h[y],{filter:{event:w,schema:x,table:m,filter:_}}=b,g=d&&d[y];if(g&&g.event===w&&g.schema===x&&g.table===m&&g.filter===_)v.push(Object.assign(Object.assign({},b),{id:g.id}));else{this.unsubscribe(),this.state=Ft.errored,t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Pn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ft.errored,t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ep(this,Xr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ep(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Xr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,y,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,y,b,w,x,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,g=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(g==="*"||(g==null?void 0:g.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:w,type:x,errors:m}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:w,eventType:x,new:{},old:{},errors:m}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xr.close,{},t)}_onError(t){this._on(Xr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lb(t.columns,t.old_record)),r}}const zb=()=>{},CT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zb,this.ref=0,this.logger=zb,this.conn=null,this.sendBuffer=[],this.serializer=new ST,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Uc(async()=>{const{default:c}=await Promise.resolve().then(()=>bo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${p0.websocket}`,this.httpEndpoint=Z2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Y2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=yT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return ra.Connecting;case wl.open:return ra.Open;case wl.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:wT};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(NT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([CT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Zx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $T extends Zx{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class g0 extends Zx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var IT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const J2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MT=()=>IT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>bo),void 0)).Response:Response}),x0=e=>{if(Array.isArray(e))return e.map(r=>x0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=x0(n)}),t};var Ra=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Cp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DT=(e,t,r)=>Ra(void 0,void 0,void 0,function*(){const n=yield MT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new $T(Cp(s),e.status||500))}).catch(s=>{t(new g0(Cp(s),s))}):t(new g0(Cp(e),e))}),RT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zc(e,t,r,n,s,i){return Ra(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,RT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DT(c,l,n))})})}function Ed(e,t,r,n){return Ra(this,void 0,void 0,function*(){return zc(e,"GET",t,r,n)})}function us(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return zc(e,"POST",t,n,s,r)})}function LT(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return zc(e,"PUT",t,n,s,r)})}function FT(e,t,r,n){return Ra(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function e4(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return zc(e,"DELETE",t,n,s,r)})}var nr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const UT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=J2(s)}uploadOrUpdate(t,r,n,s){return nr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Wb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return nr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Wb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return nr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return nr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield us(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return nr(this,void 0,void 0,function*(){try{const s=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}download(t,r){return nr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ed(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}info(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:x0(n),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}exists(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield FT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wt(n)&&n instanceof g0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return nr(this,void 0,void 0,function*(){try{return{data:yield e4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return nr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UT),r),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zT="2.7.1",WT={"X-Client-Info":`storage-js/${zT}`};var Ha=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},WT),r),this.fetch=J2(n)}listBuckets(){return Ha(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ha(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ha(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ha(this,void 0,void 0,function*(){try{return{data:yield LT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ha(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ha(this,void 0,void 0,function*(){try{return{data:yield e4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}}class HT extends qT{constructor(t,r={},n){super(t,r,n)}from(t){return new BT(this.url,this.headers,t,this.fetch)}}const KT="2.52.1";let ul="";typeof Deno<"u"?ul="deno":typeof document<"u"?ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ul="react-native":ul="node";const VT={"X-Client-Info":`supabase-js-${ul}/${KT}`},GT={headers:VT},QT={schema:"public"},YT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XT={};var ZT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const JT=e=>{let t;return e?t=e:typeof fetch>"u"?t=L2:t=fetch,(...r)=>t(...r)},e3=()=>typeof Headers>"u"?F2:Headers,t3=(e,t,r)=>{const n=JT(r),s=e3();return(i,o)=>ZT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var r3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function n3(e){return e.endsWith("/")?e:e+"/"}function s3(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>r3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const t4="2.71.1",ri=30*1e3,v0=3,Tp=v0*ri,a3="http://localhost:9999",i3="supabase.auth.token",o3={"X-Client-Info":`gotrue-js/${t4}`},y0="X-Supabase-Api-Version",r4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c3=10*60*1e3;class Jx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u3 extends Jx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function d3(e){return de(e)&&e.name==="AuthApiError"}class n4 extends Jx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fs extends Jx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class os extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f3(e){return de(e)&&e.name==="AuthSessionMissingError"}class wu extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ju extends Fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nu extends Fs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h3(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class qb extends Fs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b0 extends Fs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $p(e){return de(e)&&e.name==="AuthRetryableFetchError"}class Hb extends Fs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class w0 extends Fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kb=` 	
\r=`.split(""),p3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kb.length;t+=1)e[Kb[t].charCodeAt(0)]=-2;for(let t=0;t<Cd.length;t+=1)e[Cd[t].charCodeAt(0)]=t;return e})();function Vb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cd[n]),t.queuedBits-=6}}function s4(e,t,r){const n=p3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{x3(o,n,r)};for(let o=0;o<e.length;o+=1)s4(e.charCodeAt(o),s,i);return t.join("")}function m3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function g3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}m3(n,t)}}function x3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function v3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)s4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function y3(e){const t=[];return g3(e,r=>t.push(r)),new Uint8Array(t)}function b3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Vb(s,r,n)),Vb(null,r,n),t.join("")}function w3(e){return Math.round(Date.now()/1e3)+e}function j3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gr=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},a4=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function N3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const i4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},S3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ni=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ks=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ns=async(e,t)=>{await e.removeItem(t)};class lh{constructor(){this.promise=new lh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lh.promiseConstructor=Promise;function Ip(e){const t=e.split(".");if(t.length!==3)throw new w0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!l3.test(t[n]))throw new w0("JWT not in base64url format");return{header:JSON.parse(Gb(t[0])),payload:JSON.parse(Gb(t[1])),signature:v3(t[2]),raw:{header:t[0],payload:t[1]}}}async function _3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A3(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function O3(e){return("0"+e.toString(16)).substr(-2)}function P3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,O3).join("")}async function k3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function E3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await k3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(e,t,r=!1){const n=P3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ni(e,`${t}-code-verifier`,s);const i=await E3(n);return[i,n===i?"plain":"s256"]}const C3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T3(e){const t=e.headers.get(y0);if(!t||!t.match(C3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Va(e){if(!M3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qb(e){return JSON.parse(JSON.stringify(e))}var D3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R3=[502,503,504];async function Yb(e){var t;if(!S3(e))throw new b0(Zs(e),0);if(R3.includes(e.status))throw new b0(Zs(e),e.status);let r;try{r=await e.json()}catch(i){throw new n4(Zs(i),i)}let n;const s=T3(e);if(s&&s.getTime()>=r4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hb(Zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Hb(Zs(r),e.status,r.weak_password.reasons);throw new u3(Zs(r),e.status||500,n)}const L3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function xe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[y0]||(i[y0]=r4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await F3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function F3(e,t,r,n,s,i){const o=L3(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new b0(Zs(c),0)}if(l.ok||await Yb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Yb(c)}}function An(e){var t;let r=null;W3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=w3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xb(e){const t=An(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ps(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function U3(e){return{data:e,error:null}}function B3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=D3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function z3(e){return e}function W3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dp=["global","local","others"];var q3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class H3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=i4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dp[0]){if(Dp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dp.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ps})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ps})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:z3});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Va(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ps})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Va(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ps})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Va(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ps})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Va(t.userId);try{const{data:r,error:n}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Va(t.userId),Va(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Zb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function K3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ga={debug:!!(globalThis&&a4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class V3 extends o4{}async function G3(e,t,r){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ga.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}K3();const Q3={url:a3,storageKey:i3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jb(e,t,r){return await r()}const Qa={};class Yl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yl.nextInstanceID,Yl.nextInstanceID+=1,this.instanceID>0&&Gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=i4(s.fetch),this.lock=s.lock||Jb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Gr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=G3:this.lock=Jb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:a4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Zb(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Qa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${t4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=N3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Gr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),h3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new n4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:An}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ka(this.storage,this.storageKey)),i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:An})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:An})}else throw new ju("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else throw new ju("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:b,wallet:w,statement:x,options:m}=t;let _;if(Gr())if(typeof w=="object")_=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const g=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),x?{statement:x}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${g.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:b,error:w}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:b3(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:An});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(de(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ks(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:An});if(await ns(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:An}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ka(this.storage,this.storageKey));const{error:f}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ju("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:An});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ka(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:U3})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:s}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ju("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ks(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ps}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ps})})}catch(r){if(de(r))return f3(r)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new os;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ka(this.storage,this.storageKey));const{data:u,error:d}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ps});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ip(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new os;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Gr())throw new Nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qb("No code detected.");const{data:x,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Nu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(d3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=j3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ka(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await A3(async s=>(s>0&&await _3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:An})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$p(i)&&Date.now()+o-n<ri})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ks(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ni(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mp()}else if(s&&!s.user&&!s.user){const o=await Ks(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ns(this.storage,this.storageKey+"-user"),await ni(this.storage,this.storageKey,s)):s.user=Mp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$p(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new os;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),de(i)){const o={session:null,error:i};return $p(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ni(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Qb(s);await ni(this.storage,this.storageKey,i)}else{const s=Qb(r);await ni(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ri}ms, refresh threshold is ${v0} ticks`),s<=v0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof o4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ka(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ip(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+c3>s)return n;const{data:i,error:o}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ip(n);r!=null&&r.allowExpired||$3(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=I3(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,y3(`${l}.${c}`)))throw new w0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}Yl.nextInstanceID=0;const Y3=Yl;class X3 extends Y3{constructor(t){super(t)}}var Z3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class J3{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=n3(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:QT,realtime:XT,auth:Object.assign(Object.assign({},YT),{storageKey:u}),global:GT},f=s3(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=t3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new xT(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new VC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new HT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Z3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new X3({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new TT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const e5=(e,t,r)=>new J3(e,t,r);function t5(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}t5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wc="https://dlvpvzfztyzcatcpgwzo.supabase.co",ev="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y";console.log("Environment check:");console.log("VITE_SUPABASE_URL:",Wc);console.log("VITE_SUPABASE_ANON_KEY:","Set (length: "+ev.length+")");const tv=!!(Wc.includes(".supabase.co")&&ev.length>20);console.log("Supabase configuration status:",tv);tv||(console.warn("=== SUPABASE CONFIGURATION REQUIRED ==="),console.warn("Please update your .env file with your actual Supabase credentials:"),console.warn("1. Go to https://supabase.com and create a project"),console.warn("2. Get your Project URL and anon key from Settings > API"),console.warn("3. Update .env file with your actual values"),console.warn("4. Restart the development server"),console.warn("Current values:"),console.warn("  VITE_SUPABASE_URL:",Wc),console.warn("  VITE_SUPABASE_ANON_KEY:","Set but may be placeholder"));const re=tv?e5(Wc,ev,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null;re&&(console.log("Supabase client initialized with URL:",Wc),re.from("roles").select("count",{count:"exact",head:!0}).then(({error:e})=>{e?console.error("Supabase connection test failed:",e):console.log("Supabase connection test successful")}));const r5={};var j0=null;function n5(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return r5.randomBytes(e)}catch{}if(!j0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return j0(e)}function s5(e){j0=e}function rv(e,t){if(e=e||nv,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Td(n5(Xl),Xl)),r.join("")}function l4(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=nv;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){rn(function(){try{s(null,rv(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function c4(e,t){if(typeof t>"u"&&(t=nv),typeof t=="number"&&(t=rv(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return N0(e,t)}function u4(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?l4(t,function(o,l){N0(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?N0(e,t,i,n):rn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function d4(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function a5(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:d4(c4(e,t.substring(0,t.length-31)),t)}function i5(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){rn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){rn(i.bind(this,null,!1));return}u4(e,t.substring(0,29),function(o,l){o?i(o):i(null,d4(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function o5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function l5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function c5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return f4(e)>72}var rn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function f4(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function u5(e){for(var t=0,r,n,s=new Array(f4(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var Ya="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ss=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Td(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(Ya[s>>2&63]),s=(s&3)<<4,r>=t){n.push(Ya[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(Ya[s&63]),s=(i&15)<<2,r>=t){n.push(Ya[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(Ya[s&63]),n.push(Ya[i&63])}return n.join("")}function h4(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,d,f;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(f=e.charCodeAt(r++),o=f<ss.length?ss[f]:-1,f=e.charCodeAt(r++),l=f<ss.length?ss[f]:-1,!(o==-1||l==-1||(d=o<<2>>>0,d|=(l&48)>>4,i.push(String.fromCharCode(d)),++s>=t||r>=n)||(f=e.charCodeAt(r++),c=f<ss.length?ss[f]:-1,c==-1)||(d=(l&15)<<4>>>0,d|=(c&60)>>2,i.push(String.fromCharCode(d)),++s>=t||r>=n)));)f=e.charCodeAt(r++),u=f<ss.length?ss[f]:-1,d=(c&3)<<6>>>0,d|=u,i.push(String.fromCharCode(d)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var Xl=16,nv=10,d5=16,f5=100,e1=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],t1=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],p4=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Zl(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[d5+1],e[t+1]=i,e}function si(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function r1(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=si(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=Zl(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=Zl(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function h5(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=si(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=si(e,s),s=c.offp,i[0]^=c.key,c=si(e,s),s=c.offp,i[1]^=c.key,i=Zl(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=si(e,s),s=c.offp,i[0]^=c.key,c=si(e,s),s=c.offp,i[1]^=c.key,i=Zl(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function n1(e,t,r,n,s){var i=p4.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){rn(n.bind(this,l));return}else throw l;if(t.length!==Xl)if(l=Error("Illegal salt length: "+t.length+" != "+Xl),n){rn(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,d=0,f;typeof Int32Array=="function"?(c=new Int32Array(e1),u=new Int32Array(t1)):(c=e1.slice(),u=t1.slice()),h5(t,e,c,u);function h(){if(s&&s(d/r),d<r)for(var v=Date.now();d<r&&(d=d+1,r1(e,c,u),r1(t,c,u),!(Date.now()-v>f5)););else{for(d=0;d<64;d++)for(f=0;f<o>>1;f++)Zl(i,f<<1,c,u);var y=[];for(d=0;d<o;d++)y.push((i[d]>>24&255)>>>0),y.push((i[d]>>16&255)>>>0),y.push((i[d]>>8&255)>>>0),y.push((i[d]&255)>>>0);if(n){n(null,y);return}else return y}n&&rn(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function N0(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){rn(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){rn(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){rn(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){rn(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,d=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var f=u5(e),h=h4(d,Xl);function p(v){var y=[];return y.push("$2"),i>="a"&&y.push(i),y.push("$"),u<10&&y.push("0"),y.push(u.toString()),y.push("$"),y.push(Td(h,h.length)),y.push(Td(v,p4.length*4-1)),y.join("")}if(typeof r>"u")return p(n1(f,h,u));n1(f,h,u,function(v,y){v?r(v,null):r(null,p(y))},n)}function p5(e,t){return Td(e,t)}function m5(e,t){return h4(e,t)}const sv={setRandomFallback:s5,genSaltSync:rv,genSalt:l4,hashSync:c4,hash:u4,compareSync:a5,compare:i5,getRounds:o5,getSalt:l5,truncates:c5,encodeBase64:p5,decodeBase64:m5};class Ye{static checkSupabaseConnection(){if(!re)throw console.error("Supabase client is null. Environment variables may be missing or invalid."),console.error("Please ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set correctly."),new Error("Database connection not available. Please check your Supabase configuration in the .env file.");return re}}class s1{static async login(t,r){try{if(console.log("AuthService: Attempting login for:",t),!re)return console.log("AuthService: Supabase not configured, using demo mode"),this.handleDemoLogin(t,r);const{data:n,error:s}=await re.from("users").select(`
          *,
          role:roles(*)
        `).eq("email",t).eq("is_active",!0).single();if(s||!n)return console.log("AuthService: User not found in database, trying demo login"),this.handleDemoLogin(t,r);if(!await sv.compare(r,n.password_hash))return console.log("AuthService: Invalid password for user:",t),{success:!1,message:"Invalid email or password"};await re.from("users").update({last_login:new Date().toISOString()}).eq("id",n.id);const o={id:n.id,email:n.email,name:n.name,roleId:n.role_id,role:{id:n.role.id,name:n.role.name,description:n.role.description,level:n.role.level,isActive:n.role.is_active,createdAt:new Date(n.role.created_at),updatedAt:new Date(n.role.updated_at),menuAccess:n.role.menu_access},isActive:n.is_active,jurisdiction:n.jurisdiction,zone:n.zone,region:n.region,district:n.district,employeeId:n.employee_id,phoneNumber:n.phone_number,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),lastLogin:n.last_login?new Date(n.last_login):void 0},l=`demo_token_${n.id}`;return console.log("AuthService: Login successful for user:",o.name),{success:!0,data:{user:o,token:l},message:"Login successful"}}catch(n){return console.error("AuthService: Login error:",n),this.handleDemoLogin(t,r)}}static async handleDemoLogin(t,r){console.log("AuthService: Using demo authentication for:",t);const s={"admin@esigma.com":{id:"550e8400-e29b-41d4-a716-446655440015",name:"System Administrator",roleId:"550e8400-e29b-41d4-a716-446655440010",role:{id:"550e8400-e29b-41d4-a716-446655440010",name:"Admin",description:"System Administrator",level:1,isActive:!0,createdAt:new Date,updatedAt:new Date},jurisdiction:"National",zone:null,region:null,district:null,employeeId:"ADM001",phoneNumber:"+91-9876543210"},"zo@esigma.com":{id:"550e8400-e29b-41d4-a716-446655440016",name:"Zonal Officer",roleId:"550e8400-e29b-41d4-a716-446655440011",role:{id:"550e8400-e29b-41d4-a716-446655440011",name:"ZO User",description:"Zonal Office User",level:2,isActive:!0,createdAt:new Date,updatedAt:new Date},jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employeeId:"ZO001",phoneNumber:"+91-9876543211"},"ro@esigma.com":{id:"550e8400-e29b-41d4-a716-446655440017",name:"Regional Officer",roleId:"550e8400-e29b-41d4-a716-446655440012",role:{id:"550e8400-e29b-41d4-a716-446655440012",name:"RO User",description:"Regional Office User",level:3,isActive:!0,createdAt:new Date,updatedAt:new Date},jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employeeId:"RO001",phoneNumber:"+91-9876543212"},"supervisor@esigma.com":{id:"550e8400-e29b-41d4-a716-446655440018",name:"Field Supervisor",roleId:"550e8400-e29b-41d4-a716-446655440013",role:{id:"550e8400-e29b-41d4-a716-446655440013",name:"Supervisor",description:"Field Supervisor",level:4,isActive:!0,createdAt:new Date,updatedAt:new Date},jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employeeId:"SUP001",phoneNumber:"+91-9876543213"},"enumerator@esigma.com":{id:"550e8400-e29b-41d4-a716-446655440019",name:"Field Enumerator",roleId:"550e8400-e29b-41d4-a716-446655440014",role:{id:"550e8400-e29b-41d4-a716-446655440014",name:"Enumerator",description:"Field Enumerator",level:5,isActive:!0,createdAt:new Date,updatedAt:new Date},jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employeeId:"ENU001",phoneNumber:"+91-9876543214"}}[t];if(!s||r!=="password123")return{success:!1,message:"Invalid email or password"};const i={id:s.id,email:t,name:s.name,roleId:s.roleId,role:s.role,isActive:!0,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employeeId,phoneNumber:s.phoneNumber,createdAt:new Date,updatedAt:new Date,lastLogin:new Date},o=`demo_token_${s.id}`;return console.log("AuthService: Demo login successful for:",i.name),{success:!0,data:{user:i,token:o},message:"Login successful"}}static async logout(){try{return re&&await re.auth.signOut(),{success:!0,message:"Logout successful"}}catch(t){return console.error("AuthService: Logout error:",t),{success:!0,message:"Logout completed"}}}}class Rp{static async getUsers(){try{Ye.checkSupabaseConnection();const{data:t,error:r}=await re.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});if(r)throw r;return{success:!0,data:t.map(s=>({id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})),message:"Users fetched successfully"}}catch(t){return console.error("UserService: Error fetching users:",t),{success:!1,message:"Failed to fetch users",data:[]}}}static async createUser(t){try{Ye.checkSupabaseConnection();const r=await sv.hash("password123",10),{data:n,error:s}=await re.from("users").insert({email:t.email,password_hash:r,name:t.name,role_id:t.roleId,jurisdiction:t.jurisdiction,is_active:!0}).select(`
          *,
          role:roles(*)
        `).single();if(s)throw s;return{success:!0,data:{id:n.id,email:n.email,name:n.name,roleId:n.role_id,role:{id:n.role.id,name:n.role.name,description:n.role.description,level:n.role.level,isActive:n.role.is_active,createdAt:new Date(n.role.created_at),updatedAt:new Date(n.role.updated_at)},isActive:n.is_active,jurisdiction:n.jurisdiction,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"User created successfully"}}catch(r){return console.error("UserService: Error creating user:",r),{success:!1,message:"Failed to create user"}}}static async deleteUser(t){try{Ye.checkSupabaseConnection();const{error:r}=await re.from("users").delete().eq("id",t);if(r)throw r;return{success:!0,message:"User deleted successfully"}}catch(r){return console.error("UserService: Error deleting user:",r),{success:!1,message:"Failed to delete user"}}}}class Ko{static async getRoles(){try{Ye.checkSupabaseConnection();const{data:t,error:r}=await re.from("roles").select("*").order("level",{ascending:!0});if(r)throw r;return{success:!0,data:t.map(s=>({id:s.id,name:s.name,description:s.description,level:s.level,isActive:s.is_active,menuAccess:s.menu_access,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})),message:"Roles fetched successfully"}}catch(t){return console.error("RoleService: Error fetching roles:",t),{success:!1,message:"Failed to fetch roles",data:[]}}}static async createRole(t){try{Ye.checkSupabaseConnection();const{data:r,error:n}=await re.from("roles").insert({name:t.name,description:t.description,level:5,is_active:!0}).select().single();if(n)throw n;return{success:!0,data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Role created successfully"}}catch(r){return console.error("RoleService: Error creating role:",r),{success:!1,message:"Failed to create role"}}}static async updateRole(t,r){try{Ye.checkSupabaseConnection();const{data:n,error:s}=await re.from("roles").update({name:r.name,description:r.description}).eq("id",t).select().single();if(s)throw s;return{success:!0,data:{id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"Role updated successfully"}}catch(n){return console.error("RoleService: Error updating role:",n),{success:!1,message:"Failed to update role"}}}static async deleteRole(t){try{Ye.checkSupabaseConnection();const{error:r}=await re.from("roles").delete().eq("id",t);if(r)throw r;return{success:!0,message:"Role deleted successfully"}}catch(r){return console.error("RoleService: Error deleting role:",r),{success:!1,message:"Failed to delete role"}}}static async updateRoleMenuAccess(t,r){try{Ye.checkSupabaseConnection();const{error:n}=await re.from("roles").update({menu_access:r}).eq("id",t);if(n)throw n;return{success:!0,message:"Role menu access updated successfully"}}catch(n){return console.error("RoleService: Error updating role menu access:",n),{success:!1,message:"Failed to update role menu access"}}}}class Xa{static async getSurveys(){try{Ye.checkSupabaseConnection();const{data:t,error:r}=await re.from("surveys").select("*").order("created_at",{ascending:!1});if(r)throw r;return{success:!0,data:t.map(s=>({id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions})),message:"Surveys fetched successfully"}}catch(t){return console.error("SurveyService: Error fetching surveys:",t),{success:!1,message:"Failed to fetch surveys",data:[]}}}static async createSurvey(t){try{Ye.checkSupabaseConnection();const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:"550e8400-e29b-41d4-a716-446655440015",{data:s,error:i}=await re.from("surveys").insert({title:t.title,description:t.description,target_date:t.targetDate.toISOString().split("T")[0],duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,is_active:!0,created_by:n}).select().single();if(i)throw i;return{success:!0,data:{id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by},message:"Survey created successfully"}}catch(r){return console.error("SurveyService: Error creating survey:",r),{success:!1,message:"Failed to create survey"}}}static async updateSurvey(t,r){try{Ye.checkSupabaseConnection();const{data:n,error:s}=await re.from("surveys").update({title:r.title,description:r.description,target_date:r.targetDate.toISOString().split("T")[0],duration:r.duration,total_questions:r.totalQuestions,passing_score:r.passingScore,max_attempts:r.maxAttempts,is_active:r.isActive}).eq("id",t).select().single();if(s)throw s;return{success:!0,data:{id:n.id,title:n.title,description:n.description,targetDate:new Date(n.target_date),duration:n.duration,totalQuestions:n.total_questions,passingScore:n.passing_score,maxAttempts:n.max_attempts,isActive:n.is_active,sections:[],createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),createdBy:n.created_by},message:"Survey updated successfully"}}catch(n){return console.error("SurveyService: Error updating survey:",n),{success:!1,message:"Failed to update survey"}}}static async deleteSurvey(t){try{Ye.checkSupabaseConnection();const{error:r}=await re.from("surveys").delete().eq("id",t);if(r)throw r;return{success:!0,message:"Survey deleted successfully"}}catch(r){return console.error("SurveyService: Error deleting survey:",r),{success:!1,message:"Failed to delete survey"}}}static async getSurveySections(t){try{Ye.checkSupabaseConnection();const{data:r,error:n}=await re.from("survey_sections").select("*").eq("survey_id",t).order("section_order",{ascending:!0});if(n)throw n;return{success:!0,data:r.map(i=>({id:i.id,surveyId:i.survey_id,title:i.title,description:i.description,questionsCount:i.questions_count,order:i.section_order,questions:[]})),message:"Survey sections fetched successfully"}}catch(r){return console.error("SurveyService: Error fetching survey sections:",r),{success:!1,message:"Failed to fetch survey sections",data:[]}}}static async createSection(t,r){try{Ye.checkSupabaseConnection();const{data:n,error:s}=await re.from("survey_sections").insert({survey_id:t,title:r.title,description:r.description,questions_count:r.questionsCount,section_order:r.order}).select().single();if(s)throw s;return{success:!0,data:{id:n.id,surveyId:n.survey_id,title:n.title,description:n.description,questionsCount:n.questions_count,order:n.section_order,questions:[]},message:"Section created successfully"}}catch(n){return console.error("SurveyService: Error creating section:",n),{success:!1,message:"Failed to create section"}}}}class Lp{static async getQuestions(t,r){try{Ye.checkSupabaseConnection();const{data:n,error:s}=await re.from("questions").select(`
          *,
          options:question_options(*)
        `).eq("section_id",r).order("question_order",{ascending:!0});if(s)throw s;return{success:!0,data:n.map(o=>({id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.options.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:o.options.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)})),message:"Questions fetched successfully"}}catch(n){return console.error("QuestionService: Error fetching questions:",n),{success:!1,message:"Failed to fetch questions",data:[]}}}static async createQuestion(t){try{Ye.checkSupabaseConnection();const{data:r,error:n}=await re.from("questions").insert({section_id:t.sectionId,text:t.text,question_type:t.type,complexity:t.complexity,points:t.points,explanation:t.explanation,question_order:t.order}).select().single();if(n)throw n;const s=t.options.map((c,u)=>({question_id:r.id,text:c.text,is_correct:c.isCorrect,option_order:u+1})),{data:i,error:o}=await re.from("question_options").insert(s).select();if(o)throw o;return{success:!0,data:{id:r.id,sectionId:r.section_id,text:r.text,type:r.question_type,complexity:r.complexity,points:r.points,explanation:r.explanation,order:r.question_order,options:i.map(c=>({id:c.id,text:c.text,isCorrect:c.is_correct})),correctAnswers:i.filter(c=>c.is_correct).map(c=>c.id),createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Question created successfully"}}catch(r){return console.error("QuestionService: Error creating question:",r),{success:!1,message:"Failed to create question"}}}static async uploadQuestions(t){try{const r=t.split(`
`).filter(l=>l.trim()),n=r[0].split(",");let s=0,i=0;const o=[];for(let l=1;l<r.length;l++)try{const c=r[l].split(",");s++}catch(c){i++,o.push(`Error processing line ${l+1}: ${c}`)}return{success:!0,data:{questionsAdded:s,questionsSkipped:i,errors:o,success:!0,fileName:"uploaded.csv"},message:"Questions uploaded successfully"}}catch(r){return console.error("QuestionService: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}}}class Su{static async createTestSession(t,r){try{Ye.checkSupabaseConnection();const{data:n,error:s}=await re.from("test_sessions").insert({user_id:r,survey_id:t,time_remaining:35*60,current_question_index:0,session_status:"in_progress",attempt_number:1}).select().single();if(s)throw s;return{success:!0,data:{id:n.id,userId:n.user_id,surveyId:n.survey_id,startTime:new Date(n.start_time),timeRemaining:n.time_remaining,currentQuestionIndex:n.current_question_index,answers:[],status:n.session_status,attemptNumber:n.attempt_number},message:"Test session created successfully"}}catch(n){return console.error("TestService: Error creating test session:",n),{success:!1,message:"Failed to create test session"}}}static async saveAnswer(t,r,n){try{Ye.checkSupabaseConnection();const{error:s}=await re.from("test_answers").upsert({session_id:t,question_id:r,selected_options:n,answered:!0});if(s)throw s;return{success:!0,message:"Answer saved successfully"}}catch(s){return console.error("TestService: Error saving answer:",s),{success:!1,message:"Failed to save answer"}}}static async updateSession(t,r){try{Ye.checkSupabaseConnection();const{error:n}=await re.from("test_sessions").update({current_question_index:r.currentQuestionIndex,time_remaining:r.timeRemaining}).eq("id",t);if(n)throw n;return{success:!0,message:"Session updated successfully"}}catch(n){return console.error("TestService: Error updating session:",n),{success:!1,message:"Failed to update session"}}}static async submitTest(t){try{Ye.checkSupabaseConnection();const{data:r,error:n}=await re.from("test_sessions").select("*").eq("id",t).single();if(n)throw n;const s=75,i=s>=70,{data:o,error:l}=await re.from("test_results").insert({user_id:r.user_id,survey_id:r.survey_id,session_id:t,score:s,total_questions:30,correct_answers:Math.floor(30*s/100),is_passed:i,time_spent:35*60-r.time_remaining,attempt_number:r.attempt_number}).select().single();if(l)throw l;return await re.from("test_sessions").update({session_status:"completed",end_time:new Date().toISOString(),score:s,is_passed:i,completed_at:new Date().toISOString()}).eq("id",t),{success:!0,data:{id:o.id,userId:o.user_id,user:{},surveyId:o.survey_id,survey:{},sessionId:o.session_id,score:o.score,totalQuestions:o.total_questions,correctAnswers:o.correct_answers,isPassed:o.is_passed,timeSpent:o.time_spent,attemptNumber:o.attempt_number,sectionScores:[],completedAt:new Date(o.completed_at),certificateId:o.certificate_id},message:"Test submitted successfully"}}catch(r){return console.error("TestService: Error submitting test:",r),{success:!1,message:"Failed to submit test"}}}}class ch{static async getDashboardData(){try{if(console.log("DashboardService: Fetching dashboard data"),!re)return console.log("DashboardService: Supabase not configured, returning demo data"),{success:!0,data:{totalUsers:5,totalSurveys:3,totalAttempts:25,averageScore:78.5,passRate:72,recentActivity:[],performanceByRole:[{name:"Admin",value:1,total:1,percentage:100},{name:"Supervisor",value:3,total:4,percentage:75},{name:"Enumerator",value:15,total:20,percentage:75}],performanceBySurvey:[{name:"Digital Literacy",value:18,total:25,percentage:72},{name:"Data Collection",value:12,total:15,percentage:80},{name:"Survey Methodology",value:8,total:10,percentage:80}],monthlyTrends:[]},message:"Dashboard data fetched successfully (Demo Mode)"};Ye.checkSupabaseConnection();const[t,r,n]=await Promise.all([re.from("users").select("id",{count:"exact"}),re.from("surveys").select("id",{count:"exact"}),re.from("test_results").select("*")]),s=t.count||0,i=r.count||0,o=n.data||[],l=o.length,c=o.filter(f=>f.is_passed),u=l>0?c.length/l*100:0,d=l>0?o.reduce((f,h)=>f+h.score,0)/l:0;return{success:!0,data:{totalUsers:s,totalSurveys:i,totalAttempts:l,averageScore:d,passRate:u,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]},message:"Dashboard data fetched successfully"}}catch(t){return console.error("DashboardService: Error in getDashboardData:",t),{success:!0,data:{totalUsers:5,totalSurveys:3,totalAttempts:25,averageScore:78.5,passRate:72,recentActivity:[],performanceByRole:[{name:"Admin",value:1,total:1,percentage:100},{name:"Supervisor",value:3,total:4,percentage:75},{name:"Enumerator",value:15,total:20,percentage:75}],performanceBySurvey:[{name:"Digital Literacy",value:18,total:25,percentage:72},{name:"Data Collection",value:12,total:15,percentage:80},{name:"Survey Methodology",value:8,total:10,percentage:80}],monthlyTrends:[]},message:"Dashboard data fetched successfully (Demo Mode - Fallback)"}}}}class Fp{static async getCertificates(){try{if(!re)return{success:!0,data:[],message:"Certificates fetched successfully (Demo Mode)"};Ye.checkSupabaseConnection();const{data:t,error:r}=await re.from("certificates").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("issued_at",{ascending:!1});if(r)throw r;return{success:!0,data:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"}},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title},resultId:s.result_id,certificateNumber:s.certificate_number,issuedAt:new Date(s.issued_at),validUntil:s.valid_until?new Date(s.valid_until):void 0,downloadCount:s.download_count,status:s.certificate_status})),message:"Certificates fetched successfully"}}catch(t){return console.error("CertificateService: Error fetching certificates:",t),{success:!1,message:"Failed to fetch certificates",data:[]}}}static async downloadCertificate(t){try{const r=`Certificate ID: ${t}
Generated on: ${new Date().toISOString()}`;return{success:!0,data:new Blob([r],{type:"application/pdf"}),message:"Certificate downloaded successfully"}}catch(r){return console.error("CertificateService: Error downloading certificate:",r),{success:!1,message:"Failed to download certificate"}}}static async revokeCertificate(t){try{if(!re)return{success:!0,message:"Certificate revoked successfully (Demo Mode)"};Ye.checkSupabaseConnection();const{error:r}=await re.from("certificates").update({certificate_status:"revoked"}).eq("id",t);if(r)throw r;return{success:!0,message:"Certificate revoked successfully"}}catch(r){return console.error("CertificateService: Error revoking certificate:",r),{success:!1,message:"Failed to revoke certificate"}}}}class a1{static async getSettings(){try{if(!re)return{success:!0,data:[],message:"Settings fetched successfully (Demo Mode)"};Ye.checkSupabaseConnection();const{data:t,error:r}=await re.from("system_settings").select("*").order("category",{ascending:!0});if(r)throw r;return{success:!0,data:t.map(s=>({id:s.id,category:s.category,key:s.setting_key,value:s.setting_value,description:s.description,type:s.setting_type,isEditable:s.is_editable,options:s.options,updatedAt:new Date(s.updated_at),updatedBy:s.updated_by||"System"})),message:"Settings fetched successfully"}}catch(t){return console.error("SettingsService: Error fetching settings:",t),{success:!1,message:"Failed to fetch settings",data:[]}}}static async updateSetting(t,r,n){try{if(!re)return{success:!0,message:"Setting updated successfully (Demo Mode)"};Ye.checkSupabaseConnection();const{error:s}=await re.from("system_settings").update({setting_value:r,updated_at:new Date().toISOString(),updated_by:n}).eq("id",t);if(s)throw s;return{success:!0,message:"Setting updated successfully"}}catch(s){return console.error("SettingsService: Error updating setting:",s),{success:!1,message:"Failed to update setting"}}}}console.log("API Services: Initializing with Supabase backend");const i1={async login(e,t){return console.log("authApi: Login attempt for:",e),await s1.login(e,t)},async logout(){return console.log("authApi: Logout request"),await s1.logout()}},Up={async getUsers(){return console.log("userApi: Fetching users"),await Rp.getUsers()},async createUser(e){return console.log("userApi: Creating user:",e.email),await Rp.createUser(e)},async deleteUser(e){return console.log("userApi: Deleting user:",e),await Rp.deleteUser(e)}},na={async getRoles(){return console.log("roleApi: Fetching roles"),await Ko.getRoles()},async getPermissions(){return console.log("roleApi: Fetching permissions (mock data)"),{success:!0,data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"user_management"},{id:"2",name:"View Users",resource:"users",action:"read",description:"View user information",module:"user_management"},{id:"3",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"user_management"},{id:"4",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"user_management"}],message:"Permissions fetched successfully"}},async createRole(e){return console.log("roleApi: Creating role:",e.name),await Ko.createRole(e)},async updateRole(e,t){return console.log("roleApi: Updating role:",e),await Ko.updateRole(e,t)},async deleteRole(e){return console.log("roleApi: Deleting role:",e),await Ko.deleteRole(e)},async updateRoleMenuAccess(e,t){return console.log("roleApi: Updating menu access for role:",e),await Ko.updateRoleMenuAccess(e,t)}},Cn={async getSurveys(){return console.log("surveyApi: Fetching surveys"),await Xa.getSurveys()},async createSurvey(e){return console.log("surveyApi: Creating survey:",e.title),await Xa.createSurvey(e)},async updateSurvey(e,t){return console.log("surveyApi: Updating survey:",e),await Xa.updateSurvey(e,t)},async deleteSurvey(e){return console.log("surveyApi: Deleting survey:",e),await Xa.deleteSurvey(e)},async getSurveySections(e){return console.log("surveyApi: Fetching sections for survey:",e),await Xa.getSurveySections(e)},async createSection(e,t){return console.log("surveyApi: Creating section for survey:",e),await Xa.createSection(e,t)}},_u={async getQuestions(e,t){return console.log("questionApi: Fetching questions for section:",t),await Lp.getQuestions(e,t)},async createQuestion(e){return console.log("questionApi: Creating question for section:",e.sectionId),await Lp.createQuestion(e)},async uploadQuestions(e,t){try{console.log("questionApi: Uploading questions from file:",t.name);const r=await t.text();return await Lp.uploadQuestions(r)}catch(r){return console.error("questionApi: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}},async downloadTemplate(){console.log("questionApi: Generating CSV template");const e=`survey_id,section_id,question_text,question_type,complexity,points,explanation,question_order,option_a,option_b,option_c,option_d,correct_options
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","What is the primary function of an operating system?","single_choice","easy",1,"An operating system manages all hardware and software resources of a computer.",1,"To manage hardware and software resources","To create documents","To browse the internet","To play games","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","Which of the following are input devices? (Select all that apply)","multiple_choice","medium",2,"Input devices allow users to provide data to the computer. Monitor is an output device.",2,"Keyboard","Mouse","Monitor","Microphone","A,B,D"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440031","What does URL stand for?","single_choice","easy",1,"URL stands for Uniform Resource Locator, which is the address of a web page.",3,"Uniform Resource Locator","Universal Resource Link","Unified Resource Location","Universal Reference Locator","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440032","Which of the following are good password practices?","multiple_choice","medium",2,"Strong passwords should be long, complex, unique, and not shared.",4,"Use at least 8 characters","Include uppercase and lowercase letters","Share passwords with colleagues","Use unique passwords for each account","A,B,D"`;return new Blob([e],{type:"text/csv"})}},Tn={async createTestSession(e){console.log("testApi: Creating test session for survey:",e);const t=localStorage.getItem("userData"),r=t?JSON.parse(t).id:null;return r?await Su.createTestSession(e,r):{success:!1,message:"User not authenticated"}},async getQuestionsForSession(e){try{console.log("testApi: Fetching questions for session:",e);const{data:t}=await re.from("test_sessions").select("survey_id").eq("id",e).single();if(!t)return{success:!1,message:"Session not found"};const{data:r}=await re.from("survey_sections").select("id").eq("survey_id",t.survey_id).order("section_order");if(!r||r.length===0)return{success:!1,message:"No sections found for survey"};const n=r.map(o=>o.id),{data:s,error:i}=await re.from("questions").select(`
          *,
          options:question_options(*)
        `).in("section_id",n).order("question_order",{ascending:!0});if(i)throw console.error("testApi: Error fetching questions:",i),i;return console.log("testApi: Successfully fetched questions:",s==null?void 0:s.length),{success:!0,data:s.map(o=>({id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.options.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:o.options.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)})),message:"Questions loaded for session"}}catch(t){return console.error("testApi: Error in getQuestionsForSession:",t),{success:!1,message:"Failed to load questions"}}},async saveAnswer(e,t,r){return console.log("testApi: Saving answer for session:",e,"question:",t),await Su.saveAnswer(e,t,r)},async updateSession(e,t){return console.log("testApi: Updating session:",e),await Su.updateSession(e,t)},async submitTest(e){return console.log("testApi: Submitting test for session:",e),await Su.submitTest(e)},async syncOfflineData(){return console.log("testApi: Syncing offline data"),{success:!0,message:"Offline data synced successfully"}}},g5={async getDashboardData(){return console.log("dashboardApi: Fetching dashboard data"),await ch.getDashboardData()}},x5={async getDashboardData(e){console.log("zoDashboardApi: Fetching ZO dashboard data with filter:",e);const t=await ch.getDashboardData();return t.success?{success:!0,data:{...t.data,totalZones:5,totalRegions:25,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]},message:"ZO Dashboard data fetched successfully"}:t}},v5={async getDashboardData(e){console.log("roDashboardApi: Fetching RO dashboard data with filter:",e);const t=await ch.getDashboardData();return t.success?{success:!0,data:{...t.data,totalDistricts:8,totalSupervisors:24,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]},message:"RO Dashboard data fetched successfully"}:t}},av={async getDashboardData(e){console.log("supervisorDashboardApi: Fetching supervisor dashboard data with filter:",e);const t=await ch.getDashboardData();return t.success?{success:!0,data:{...t.data,totalEnumerators:12,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]},message:"Supervisor Dashboard data fetched successfully"}:t}},qc={async getDashboardData(){try{if(console.log("enumeratorDashboardApi: Fetching enumerator dashboard data"),!re)return console.log("enumeratorDashboardApi: Supabase not configured, returning demo data"),{success:!0,data:{availableTests:[],completedTests:[],upcomingTests:[],certificates:[],overallProgress:0,averageScore:0,totalAttempts:0,passedTests:0},message:"Enumerator Dashboard data fetched successfully (Demo Mode)"};const e=localStorage.getItem("userData"),t=e?JSON.parse(e):null;if(!t)return{success:!1,message:"User not authenticated"};const{data:r}=await re.from("surveys").select("*").eq("is_active",!0),n=(r==null?void 0:r.map(d=>({surveyId:d.id,title:d.title,description:d.description,targetDate:new Date(d.target_date),duration:d.duration,totalQuestions:d.total_questions,passingScore:d.passing_score,attemptsLeft:d.max_attempts,maxAttempts:d.max_attempts,isEligible:!0})))||[],{data:s}=await re.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1}),i=(s==null?void 0:s.map(d=>({resultId:d.id,surveyTitle:d.survey.title,score:d.score,isPassed:d.is_passed,completedAt:new Date(d.completed_at),attemptNumber:d.attempt_number,certificateId:d.certificate_id})))||[],{data:o}=await re.from("certificates").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("issued_at",{ascending:!1}),l=(o==null?void 0:o.map(d=>({id:d.id,userId:d.user_id,user:t,surveyId:d.survey_id,survey:{id:d.survey_id,title:d.survey.title},resultId:d.result_id,certificateNumber:d.certificate_number,issuedAt:new Date(d.issued_at),validUntil:d.valid_until?new Date(d.valid_until):void 0,downloadCount:d.download_count,status:d.certificate_status})))||[],c=i.filter(d=>d.isPassed).length,u=i.length>0?i.reduce((d,f)=>d+f.score,0)/i.length:0;return{success:!0,data:{availableTests:n,completedTests:i,upcomingTests:[],certificates:l,overallProgress:n.length>0?c/n.length*100:0,averageScore:u,totalAttempts:i.length,passedTests:c},message:"Enumerator Dashboard data fetched successfully"}}catch(e){return console.error("enumeratorDashboardApi: Error fetching dashboard data:",e),{success:!1,message:"Failed to fetch dashboard data"}}}},Bp={async getResults(e){try{console.log("resultApi: Fetching results with filters");const{data:t,error:r}=await re.from("test_results").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching results:",r),r;return{success:!0,data:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"},jurisdiction:s.user.jurisdiction},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title,maxAttempts:s.survey.max_attempts},sessionId:s.session_id,score:s.score,totalQuestions:s.total_questions,correctAnswers:s.correct_answers,isPassed:s.is_passed,timeSpent:s.time_spent,attemptNumber:s.attempt_number,sectionScores:[],completedAt:new Date(s.completed_at),certificateId:s.certificate_id,grade:s.grade})),message:"Results fetched successfully"}}catch(t){return console.error("resultApi: Error in getResults:",t),{success:!1,message:"Failed to fetch results",data:[]}}},async getAnalytics(e){return console.log("resultApi: Fetching analytics data"),{success:!0,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]},message:"Analytics data fetched successfully"}},async exportResults(e){console.log("resultApi: Exporting results");const t=`user_name,survey_title,score,status,completed_at
`;return{success:!0,data:new Blob([t],{type:"text/csv"}),message:"Results exported successfully"}}},Ju={async getCertificates(){return console.log("certificateApi: Fetching certificates"),await Fp.getCertificates()},async downloadCertificate(e){return console.log("certificateApi: Downloading certificate:",e),await Fp.downloadCertificate(e)},async revokeCertificate(e){return console.log("certificateApi: Revoking certificate:",e),await Fp.revokeCertificate(e)}},o1={async getSettings(){return console.log("settingsApi: Fetching settings"),await a1.getSettings()},async updateSetting(e,t){console.log("settingsApi: Updating setting:",e);const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:void 0;return await a1.updateSetting(e,t,n)}},y5={async getEnumeratorStatus(){return console.log("enumeratorApi: Fetching enumerator status"),{success:!0,data:[],message:"Enumerator status fetched successfully"}}},m4=O.createContext(void 0);function La(){const e=O.useContext(m4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function b5({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{const c=localStorage.getItem("authToken"),u=localStorage.getItem("userData");c&&u&&r(JSON.parse(u)),s(!1)},[]);const l={user:t,isLoading:n,login:async(c,u)=>{try{console.log("Attempting login with:",c);const d=await i1.login(c,u);if(console.log("Login response:",d),d.success&&d.data){const{user:f,token:h}=d.data;return console.log("Setting user:",f),r(f),localStorage.setItem("authToken",h),localStorage.setItem("userData",JSON.stringify(f)),{success:!0,message:d.message}}return{success:!1,message:d.message}}catch(d){return console.error("Login error:",d),{success:!1,message:"Login failed. Please try again."}}},logout:async()=>{try{await i1.logout()}catch(c){console.error("Logout error:",c)}finally{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}},isAuthenticated:!!t};return a.jsx(m4.Provider,{value:l,children:e})}const w5=O.createContext(void 0);function j5({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},d=()=>{r(!1)},f=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const v=localStorage.getItem("last_sync");v&&s(new Date(parseInt(v)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",d),f();const h=setInterval(f,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",d),clearInterval(h)}},[]);const l=async()=>{if(t)try{await Tn.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(w5.Provider,{value:c,children:e})}function g4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=g4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=g4(e))&&(n&&(n+=" "),n+=t);return n}const iv="-",N5=e=>{const t=_5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(iv);return l[0]===""&&l.length!==1&&l.shift(),x4(l,t)||S5(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},x4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?x4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(iv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},l1=/^\[(.+)\]$/,S5=e=>{if(l1.test(e)){const t=l1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return O5(Object.entries(e.classGroups),r).forEach(([i,o])=>{S0(o,n,i,t)}),n},S0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:c1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(A5(s)){S0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{S0(o,c1(t,i),r,n)})})},c1=(e,t)=>{let r=e;return t.split(iv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},A5=e=>e.isThemeGetter,O5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,P5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},v4="!",k5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(v4),v=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},E5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},C5=e=>({cache:P5(e.cacheSize),parseClassName:k5(e),...N5(e)}),T5=/\s+/,$5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(T5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,y=n(v?h.substring(0,p):h);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=E5(d).join(":"),w=f?b+v4:b,x=w+y;if(i.includes(x))continue;i.push(x);const m=s(y,v);for(let _=0;_<m.length;++_){const g=m[_];i.push(w+g)}l=u+(l.length>0?" "+l:l)}return l};function I5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=y4(t))&&(n&&(n+=" "),n+=r);return n}const y4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=y4(e[n]))&&(r&&(r+=" "),r+=t);return r};function M5(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=C5(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=$5(c,r);return s(c,d),d}return function(){return i(I5.apply(null,arguments))}}const Ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},b4=/^\[(?:([a-z-]+):)?(.+)\]$/i,D5=/^\d+\/\d+$/,R5=new Set(["px","full","screen"]),L5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Pi(e)||R5.has(e)||D5.test(e),as=e=>jo(e,"length",Y5),Pi=e=>!!e&&!Number.isNaN(Number(e)),zp=e=>jo(e,"number",Pi),Vo=e=>!!e&&Number.isInteger(Number(e)),W5=e=>e.endsWith("%")&&Pi(e.slice(0,-1)),he=e=>b4.test(e),is=e=>L5.test(e),q5=new Set(["length","size","percentage"]),H5=e=>jo(e,q5,w4),K5=e=>jo(e,"position",w4),V5=new Set(["image","url"]),G5=e=>jo(e,V5,Z5),Q5=e=>jo(e,"",X5),Go=()=>!0,jo=(e,t,r)=>{const n=b4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Y5=e=>F5.test(e)&&!U5.test(e),w4=()=>!1,X5=e=>B5.test(e),Z5=e=>z5.test(e),J5=()=>{const e=Ke("colors"),t=Ke("spacing"),r=Ke("blur"),n=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),d=Ke("hueRotate"),f=Ke("invert"),h=Ke("gap"),p=Ke("gradientColorStops"),v=Ke("gradientColorStopPositions"),y=Ke("inset"),b=Ke("margin"),w=Ke("opacity"),x=Ke("padding"),m=Ke("saturate"),_=Ke("scale"),g=Ke("sepia"),j=Ke("skew"),N=Ke("space"),S=Ke("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",he,t],C=()=>[he,t],M=()=>["",Sn,as],R=()=>["auto",Pi,he],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",he],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Pi,he];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[Sn,as],blur:["none","",is,he],brightness:q(),borderColor:[e],borderRadius:["none","","full",is,he],borderSpacing:C(),borderWidth:M(),contrast:q(),grayscale:L(),hueRotate:q(),invert:L(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[W5,as],inset:k(),margin:k(),opacity:q(),padding:C(),saturate:q(),scale:q(),sepia:L(),skew:q(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),he]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo,he]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Vo,he]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Vo,he]},he]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Vo,he]},he]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",is,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Pi,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,as]}],"underline-offset":[{"underline-offset":["auto",Sn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),K5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Sn,he]}],"outline-w":[{outline:[Sn,as]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Sn,as]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",is,Q5]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",is,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[g]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[g]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vo,he]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,as,zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e$=M5(J5);function ov(...e){return e$(fe(e))}function Pe(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Sr(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Cs(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function t$(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function ys(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function z({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:f,disabled:n||s,className:ov(c,u[t],d[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const ie=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:ov("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));ie.displayName="Input";class r${static async initializeDatabase(){try{console.log("Starting database initialization...");const t=re,{data:r}=await t.from("roles").select("id").limit(1);return r&&r.length>0?(console.log("Database already initialized"),{success:!0,message:"Database already contains data"}):(await this.createRoles(t),await this.createUsers(t),await this.createSurveys(t),await this.createSurveySections(t),await this.createQuestions(t),await this.createSystemSettings(t),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully"})}catch(t){return console.error("Database initialization failed:",t),{success:!1,message:"Failed to initialize database",error:t}}}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440010",name:"Admin",description:"System Administrator with full access",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440011",name:"ZO User",description:"Zonal Office User",level:2,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440012",name:"RO User",description:"Regional Office User",level:3,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440013",name:"Supervisor",description:"Field Supervisor",level:4,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440014",name:"Enumerator",description:"Field Enumerator",level:5,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users...");const r=await sv.hash("password123",10),n=[{id:"550e8400-e29b-41d4-a716-446655440015",email:"admin@esigma.com",password_hash:r,name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440010",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{id:"550e8400-e29b-41d4-a716-446655440016",email:"zo@esigma.com",password_hash:r,name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440011",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543211"},{id:"550e8400-e29b-41d4-a716-446655440017",email:"ro@esigma.com",password_hash:r,name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440012",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543212"},{id:"550e8400-e29b-41d4-a716-446655440018",email:"supervisor@esigma.com",password_hash:r,name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440013",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543213",parent_id:"550e8400-e29b-41d4-a716-446655440017"},{id:"550e8400-e29b-41d4-a716-446655440019",email:"enumerator@esigma.com",password_hash:r,name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440014",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543214",parent_id:"550e8400-e29b-41d4-a716-446655440018"}],{error:s}=await t.from("users").insert(n);if(s)throw s;console.log("Users created successfully")}static async createSurveys(t){console.log("Creating surveys...");const r=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone"],assigned_regions:["Delhi Region","Mumbai Region"],created_by:"550e8400-e29b-41d4-a716-446655440015"},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone"],assigned_regions:["Delhi Region"],created_by:"550e8400-e29b-41d4-a716-446655440015"},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:"550e8400-e29b-41d4-a716-446655440015"}],{error:n}=await t.from("surveys").insert(r);if(n)throw n;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:10,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:10,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:10,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:15,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:10,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async checkDatabaseConnection(){try{const{data:t,error:r}=await re.from("roles").select("count").limit(1);if(r)throw r;return{success:!0,message:"Database connection successful"}}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>O.createElement("svg",{ref:d,...n$,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${s$(e)}`,l].join(" "),...u},[...t.map(([f,h])=>O.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=te("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=te("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=te("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S$(){const{login:e,isAuthenticated:t}=La(),[r,n]=O.useState("admin@esigma.com"),[s,i]=O.useState("password123"),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState("");if(t)return a.jsx(Ql,{to:"/",replace:!0});const h=async()=>{u(!0),f("");try{const b=await r$.initializeDatabase();b.success?(f(""),alert("Database initialized successfully! You can now login with the demo credentials.")):f(b.message)}catch{f("Failed to initialize database. Please check your Supabase configuration.")}finally{u(!1)}},p=async b=>{if(b.preventDefault(),!r||!s){f("Please enter both email and password");return}l(!0),f("");const w=await e(r,s);w.success?console.log("Login successful"):f(w.message),l(!1)},v=[{role:"Admin",email:"admin@esigma.com",icon:Lr,color:"bg-red-100 text-red-700",password:"password123"},{role:"ZO User",email:"zo@esigma.com",icon:ja,color:"bg-purple-100 text-purple-700",password:"password123"},{role:"RO User",email:"ro@esigma.com",icon:ja,color:"bg-indigo-100 text-indigo-700",password:"password123"},{role:"Supervisor",email:"supervisor@esigma.com",icon:Oa,color:"bg-green-100 text-green-700",password:"password123"},{role:"Enumerator",email:"enumerator@esigma.com",icon:Ms,color:"bg-blue-100 text-blue-700",password:"password123"}],y=b=>{n(b),i("password123"),f("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:a.jsx(Ht,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),d&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(a$,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:d})]}),a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Database Setup"}),a.jsx("p",{className:"text-xs text-blue-800 mb-3",children:"If this is your first time, initialize the database with sample data including users, surveys, and settings."}),a.jsx(z,{onClick:h,disabled:c,variant:"secondary",size:"sm",className:"w-full",children:c?"Initializing Database...":"Initialize Database"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(ie,{label:"Email Address",type:"email",value:r,onChange:b=>n(b.target.value),placeholder:"Enter your email",required:!0}),a.jsx(ie,{label:"Password",type:"password",value:s,onChange:b=>i(b.target.value),placeholder:"Enter your password",required:!0}),a.jsx(z,{type:"submit",disabled:o,className:"w-full",size:"lg",children:o?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Demo Accounts - Click to Login:"}),a.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Authentication Details"}),a.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Database:"})," Supabase PostgreSQL with Row Level Security"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Password Encryption:"})," bcrypt with salt rounds"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Session Management:"})," JWT tokens with auto-refresh"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Security:"})," Account lockout after 5 failed attempts"]})]})]}),a.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-green-900 mb-2",children:" Role-Based Access Control (RBAC)"}),a.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin  ZO User  RO User  Supervisor  Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Permissions:"})," Each role has specific menu access and data visibility"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data Isolation:"})," Users only see data relevant to their jurisdiction"]})]})]}),a.jsx("div",{className:"space-y-2",children:v.map(b=>a.jsxs("button",{onClick:()=>y(b.email),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-left",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${b.color}`,children:a.jsx(b.icon,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.role}),a.jsx("p",{className:"text-xs text-gray-600",children:b.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",b.role==="Admin"?"1":b.role==="ZO User"?"2":b.role==="RO User"?"3":b.role==="Supervisor"?"4":"5","  ",b.role==="Admin"?"Full System Access":b.role==="ZO User"?"Zone Management":b.role==="RO User"?"Regional Management":b.role==="Supervisor"?"Team Management":"Test Taking"]})]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Click to login"})]},b.email))}),a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" Login Credentials"}),a.jsxs("div",{className:"text-xs text-yellow-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Password for all accounts:"})," ",a.jsx("span",{className:"font-mono bg-yellow-100 px-1 rounded",children:"password123"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Employee IDs:"})," ADM001, ZO001, RO001, SUP001, ENU001"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone Numbers:"})," +91-9876543210 to +91-9876543214"]})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-purple-900 mb-2",children:" Organizational Structure"}),a.jsxs("div",{className:"text-xs text-purple-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Zone:"})," North Zone (ZO, RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Region:"})," Delhi Region (RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"District:"})," Central Delhi (Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin manages all  ZO manages zones  RO manages regions  Supervisors manage teams"]})]})]})]})]})})})}function _$(){const{user:e,logout:t}=La(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Online MCQ Test Management System"}),!1]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(o$,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Kc,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(h$,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const A$=[{to:"/dashboard",icon:hn,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:Lr,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:Sa,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:cv,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Ht,label:"Survey Management",roles:["Admin"],level:1},{to:"/questions",icon:lv,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:Kc,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:hn,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Hc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:ja,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:hn,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:ja,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:hn,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:bs,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Oa,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Ht,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:hn,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:Jl,label:"Available Tests",roles:["Enumerator"],level:5},{to:"/my-results",icon:No,label:"My Results",roles:["Enumerator"],level:5},{to:"/my-certificates",icon:Aa,label:"My Certificates",roles:["Enumerator"],level:5},{to:"/test-schedule",icon:uv,label:"Test Schedule",roles:["Enumerator"],level:5},{to:"/results",icon:bs,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:We,label:"Enumerator Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Se,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator"],level:1}],d1={admin:[{to:"/dashboard",icon:hn,label:"Dashboard"},{to:"/users",icon:Lr,label:"User Management"},{to:"/roles",icon:Sa,label:"Role Management"},{to:"/role-menu-management",icon:cv,label:"Menu Access Control"},{to:"/surveys",icon:Ht,label:"Survey Management"},{to:"/questions",icon:lv,label:"Question Bank"},{to:"/results",icon:bs,label:"Results & Analytics"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/certificates",icon:Se,label:"Certificates"},{to:"/settings",icon:Kc,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:hn,label:"ZO Dashboard"},{to:"/zone-performance",icon:Hc,label:"Zone Performance"},{to:"/regional-overview",icon:ja,label:"Regional Overview"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:bs,label:"Zone Analytics"},{to:"/certificates",icon:Se,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:hn,label:"RO Dashboard"},{to:"/district-performance",icon:ja,label:"District Performance"},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:bs,label:"Regional Analytics"},{to:"/certificates",icon:Se,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:hn,label:"Dashboard"},{to:"/team-results",icon:bs,label:"Team Results"},{to:"/my-enumerators",icon:Oa,label:"My Enumerators"},{to:"/enumerator-status",icon:We,label:"Team Status"},{to:"/assigned-surveys",icon:Ht,label:"Assigned Surveys"},{to:"/certificates",icon:Se,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:hn,label:"My Dashboard"},{to:"/available-tests",icon:Jl,label:"Available Tests"},{to:"/my-results",icon:No,label:"My Results"},{to:"/my-certificates",icon:Aa,label:"My Certificates"},{to:"/test-schedule",icon:uv,label:"Test Schedule"}]};function O$(){const{user:e}=La(),r=(()=>{if(!e)return[];const u=e.role.name,d=e.role.level;return A$.filter(f=>{const h=f.roles.includes(u),p=f.level?d<=f.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=d1[n]||d1.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Ht,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"eSigma"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Survey Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cv,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(LC,{to:u.to,className:({isActive:d})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${d?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(d$,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Oe({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(O$,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(_$,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function F({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:ov("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function Au({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function P$({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(it,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(Ms,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Ht,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(N4,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName,"  ",Sr(r.timestamp)]})]})]},r.id))})]})}var k$=Array.isArray,fr=k$,E$=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,S4=E$,C$=S4,T$=typeof self=="object"&&self&&self.Object===Object&&self,$$=C$||T$||Function("return this")(),jn=$$,I$=jn,M$=I$.Symbol,Vc=M$,f1=Vc,_4=Object.prototype,D$=_4.hasOwnProperty,R$=_4.toString,Qo=f1?f1.toStringTag:void 0;function L$(e){var t=D$.call(e,Qo),r=e[Qo];try{e[Qo]=void 0;var n=!0}catch{}var s=R$.call(e);return n&&(t?e[Qo]=r:delete e[Qo]),s}var F$=L$,U$=Object.prototype,B$=U$.toString;function z$(e){return B$.call(e)}var W$=z$,h1=Vc,q$=F$,H$=W$,K$="[object Null]",V$="[object Undefined]",p1=h1?h1.toStringTag:void 0;function G$(e){return e==null?e===void 0?V$:K$:p1&&p1 in Object(e)?q$(e):H$(e)}var Jn=G$;function Q$(e){return e!=null&&typeof e=="object"}var es=Q$,Y$=Jn,X$=es,Z$="[object Symbol]";function J$(e){return typeof e=="symbol"||X$(e)&&Y$(e)==Z$}var So=J$,eI=fr,tI=So,rI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nI=/^\w*$/;function sI(e,t){if(eI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tI(e)?!0:nI.test(e)||!rI.test(e)||t!=null&&e in Object(t)}var fv=sI;function aI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Us=aI;const _o=Ee(Us);var iI=Jn,oI=Us,lI="[object AsyncFunction]",cI="[object Function]",uI="[object GeneratorFunction]",dI="[object Proxy]";function fI(e){if(!oI(e))return!1;var t=iI(e);return t==cI||t==uI||t==lI||t==dI}var hv=fI;const oe=Ee(hv);var hI=jn,pI=hI["__core-js_shared__"],mI=pI,qp=mI,m1=function(){var e=/[^.]+$/.exec(qp&&qp.keys&&qp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gI(e){return!!m1&&m1 in e}var xI=gI,vI=Function.prototype,yI=vI.toString;function bI(e){if(e!=null){try{return yI.call(e)}catch{}try{return e+""}catch{}}return""}var A4=bI,wI=hv,jI=xI,NI=Us,SI=A4,_I=/[\\^$.*+?()[\]{}|]/g,AI=/^\[object .+?Constructor\]$/,OI=Function.prototype,PI=Object.prototype,kI=OI.toString,EI=PI.hasOwnProperty,CI=RegExp("^"+kI.call(EI).replace(_I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TI(e){if(!NI(e)||jI(e))return!1;var t=wI(e)?CI:AI;return t.test(SI(e))}var $I=TI;function II(e,t){return e==null?void 0:e[t]}var MI=II,DI=$I,RI=MI;function LI(e,t){var r=RI(e,t);return DI(r)?r:void 0}var Fa=LI,FI=Fa,UI=FI(Object,"create"),dh=UI,g1=dh;function BI(){this.__data__=g1?g1(null):{},this.size=0}var zI=BI;function WI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qI=WI,HI=dh,KI="__lodash_hash_undefined__",VI=Object.prototype,GI=VI.hasOwnProperty;function QI(e){var t=this.__data__;if(HI){var r=t[e];return r===KI?void 0:r}return GI.call(t,e)?t[e]:void 0}var YI=QI,XI=dh,ZI=Object.prototype,JI=ZI.hasOwnProperty;function e8(e){var t=this.__data__;return XI?t[e]!==void 0:JI.call(t,e)}var t8=e8,r8=dh,n8="__lodash_hash_undefined__";function s8(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=r8&&t===void 0?n8:t,this}var a8=s8,i8=zI,o8=qI,l8=YI,c8=t8,u8=a8;function Ao(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ao.prototype.clear=i8;Ao.prototype.delete=o8;Ao.prototype.get=l8;Ao.prototype.has=c8;Ao.prototype.set=u8;var d8=Ao;function f8(){this.__data__=[],this.size=0}var h8=f8;function p8(e,t){return e===t||e!==e&&t!==t}var pv=p8,m8=pv;function g8(e,t){for(var r=e.length;r--;)if(m8(e[r][0],t))return r;return-1}var fh=g8,x8=fh,v8=Array.prototype,y8=v8.splice;function b8(e){var t=this.__data__,r=x8(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():y8.call(t,r,1),--this.size,!0}var w8=b8,j8=fh;function N8(e){var t=this.__data__,r=j8(t,e);return r<0?void 0:t[r][1]}var S8=N8,_8=fh;function A8(e){return _8(this.__data__,e)>-1}var O8=A8,P8=fh;function k8(e,t){var r=this.__data__,n=P8(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var E8=k8,C8=h8,T8=w8,$8=S8,I8=O8,M8=E8;function Oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oo.prototype.clear=C8;Oo.prototype.delete=T8;Oo.prototype.get=$8;Oo.prototype.has=I8;Oo.prototype.set=M8;var hh=Oo,D8=Fa,R8=jn,L8=D8(R8,"Map"),mv=L8,x1=d8,F8=hh,U8=mv;function B8(){this.size=0,this.__data__={hash:new x1,map:new(U8||F8),string:new x1}}var z8=B8;function W8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var q8=W8,H8=q8;function K8(e,t){var r=e.__data__;return H8(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ph=K8,V8=ph;function G8(e){var t=V8(this,e).delete(e);return this.size-=t?1:0,t}var Q8=G8,Y8=ph;function X8(e){return Y8(this,e).get(e)}var Z8=X8,J8=ph;function eM(e){return J8(this,e).has(e)}var tM=eM,rM=ph;function nM(e,t){var r=rM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var sM=nM,aM=z8,iM=Q8,oM=Z8,lM=tM,cM=sM;function Po(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Po.prototype.clear=aM;Po.prototype.delete=iM;Po.prototype.get=oM;Po.prototype.has=lM;Po.prototype.set=cM;var gv=Po,O4=gv,uM="Expected a function";function xv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uM);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(xv.Cache||O4),r}xv.Cache=O4;var P4=xv;const dM=Ee(P4);var fM=P4,hM=500;function pM(e){var t=fM(e,function(n){return r.size===hM&&r.clear(),n}),r=t.cache;return t}var mM=pM,gM=mM,xM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vM=/\\(\\)?/g,yM=gM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xM,function(r,n,s,i){t.push(s?i.replace(vM,"$1"):n||r)}),t}),bM=yM;function wM(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var vv=wM,v1=Vc,jM=vv,NM=fr,SM=So,_M=1/0,y1=v1?v1.prototype:void 0,b1=y1?y1.toString:void 0;function k4(e){if(typeof e=="string")return e;if(NM(e))return jM(e,k4)+"";if(SM(e))return b1?b1.call(e):"";var t=e+"";return t=="0"&&1/e==-_M?"-0":t}var AM=k4,OM=AM;function PM(e){return e==null?"":OM(e)}var E4=PM,kM=fr,EM=fv,CM=bM,TM=E4;function $M(e,t){return kM(e)?e:EM(e,t)?[e]:CM(TM(e))}var C4=$M,IM=So,MM=1/0;function DM(e){if(typeof e=="string"||IM(e))return e;var t=e+"";return t=="0"&&1/e==-MM?"-0":t}var mh=DM,RM=C4,LM=mh;function FM(e,t){t=RM(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[LM(t[r++])];return r&&r==n?e:void 0}var yv=FM,UM=yv;function BM(e,t,r){var n=e==null?void 0:UM(e,t);return n===void 0?r:n}var T4=BM;const wr=Ee(T4);function zM(e){return e==null}var WM=zM;const ce=Ee(WM);var qM=Jn,HM=fr,KM=es,VM="[object String]";function GM(e){return typeof e=="string"||!HM(e)&&KM(e)&&qM(e)==VM}var QM=GM;const Pa=Ee(QM);var $4={exports:{}},Ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=Symbol.for("react.element"),wv=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),YM=Symbol.for("react.server_context"),wh=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),XM=Symbol.for("react.offscreen"),I4;I4=Symbol.for("react.module.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bv:switch(e=e.type,e){case gh:case vh:case xh:case jh:case Nh:return e;default:switch(e=e&&e.$$typeof,e){case YM:case bh:case wh:case _h:case Sh:case yh:return e;default:return t}}case wv:return t}}}Ce.ContextConsumer=bh;Ce.ContextProvider=yh;Ce.Element=bv;Ce.ForwardRef=wh;Ce.Fragment=gh;Ce.Lazy=_h;Ce.Memo=Sh;Ce.Portal=wv;Ce.Profiler=vh;Ce.StrictMode=xh;Ce.Suspense=jh;Ce.SuspenseList=Nh;Ce.isAsyncMode=function(){return!1};Ce.isConcurrentMode=function(){return!1};Ce.isContextConsumer=function(e){return qr(e)===bh};Ce.isContextProvider=function(e){return qr(e)===yh};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bv};Ce.isForwardRef=function(e){return qr(e)===wh};Ce.isFragment=function(e){return qr(e)===gh};Ce.isLazy=function(e){return qr(e)===_h};Ce.isMemo=function(e){return qr(e)===Sh};Ce.isPortal=function(e){return qr(e)===wv};Ce.isProfiler=function(e){return qr(e)===vh};Ce.isStrictMode=function(e){return qr(e)===xh};Ce.isSuspense=function(e){return qr(e)===jh};Ce.isSuspenseList=function(e){return qr(e)===Nh};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gh||e===vh||e===xh||e===jh||e===Nh||e===XM||typeof e=="object"&&e!==null&&(e.$$typeof===_h||e.$$typeof===Sh||e.$$typeof===yh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===I4||e.getModuleId!==void 0)};Ce.typeOf=qr;$4.exports=Ce;var ZM=$4.exports,JM=Jn,eD=es,tD="[object Number]";function rD(e){return typeof e=="number"||eD(e)&&JM(e)==tD}var M4=rD;const nD=Ee(M4);var sD=M4;function aD(e){return sD(e)&&e!=+e}var iD=aD;const Gc=Ee(iD);var Qt=function(t){return t===0?0:t>0?1:-1},la=function(t){return Pa(t)&&t.indexOf("%")===t.length-1},G=function(t){return nD(t)&&!Gc(t)},oD=function(t){return ce(t)},vt=function(t){return G(t)||Pa(t)},lD=0,ko=function(t){var r=++lD;return"".concat(t||"").concat(r)},Yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&!Pa(t))return n;var i;if(la(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Gc(i)&&(i=n),s&&i>r&&(i=r),i},ms=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},xr=function(t,r){return G(t)&&G(r)?function(n){return t+n*(r-t)}:function(){return r}};function Md(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):wr(n,t))===r})}var uD=function(t,r){return G(t)&&G(r)?t-r:Pa(t)&&Pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ki(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var dD=["viewBox","children"],fD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w1=["points","pathLength"],Hp={svg:dD,polygon:w1,polyline:w1},jv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!_o(n))return null;var s={};return Object.keys(n).forEach(function(i){jv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},hD=function(t,r,n){return function(s){return t(r,n,s),null}},ka=function(t,r,n){if(!_o(t)||_0(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];jv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=hD(o,r,n))}),s},pD=["children"],mD=["children"];function j1(e,t){if(e==null)return{};var r=gD(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}var N1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Un=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S1=null,Kp=null,Nv=function e(t){if(t===S1&&Array.isArray(Kp))return Kp;var r=[];return O.Children.forEach(t,function(n){ce(n)||(ZM.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Kp=r,S1=t,r};function jr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Un(s)}):n=[Un(t)],Nv(e).forEach(function(s){var i=wr(s,"type.displayName")||wr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function gr(e,t){var r=jr(e,t);return r&&r[0]}var _1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!G(n)||n<=0||!G(s)||s<=0)},xD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vD=function(t){return t&&t.type&&Pa(t.type)&&xD.indexOf(t.type)>=0},yD=function(t){return t&&A0(t)==="object"&&"clipDot"in t},bD=function(t,r,n,s){var i,o=(i=Hp==null?void 0:Hp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!oe(t)&&(s&&o.includes(r)||fD.includes(r))||n&&jv.includes(r)},se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!_o(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;bD((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},O0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!A1(i,o))return!1}return!0},A1=function(t,r){if(ce(t)&&ce(r))return!0;if(!ce(t)&&!ce(r)){var n=t.props||{},s=n.children,i=j1(n,pD),o=r.props||{},l=o.children,c=j1(o,mD);return s&&l?ki(i,c)&&O0(s,l):!s&&!l?ki(i,c):!1}return!1},O1=function(t,r){var n=[],s={};return Nv(t).forEach(function(i,o){if(vD(i))n.push(i);else if(i){var l=Un(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},wD=function(t){var r=t&&t.type;return r&&N1[r]?N1[r]:null},jD=function(t,r){return Nv(r).indexOf(t)},ND=["children","width","height","viewBox","className","style","title","desc"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function SD(e,t){if(e==null)return{};var r=_D(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _D(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k0(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=SD(e,ND),d=s||{width:r,height:n,x:0,y:0},f=fe("recharts-surface",i);return E.createElement("svg",P0({},se(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var AD=["children","className"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function OD(e,t){if(e==null)return{};var r=PD(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var je=E.forwardRef(function(e,t){var r=e.children,n=e.className,s=OD(e,AD),i=fe("recharts-layer",n);return E.createElement("g",E0({className:i},se(s,!0),{ref:t}),r)}),an=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function kD(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var ED=kD,CD=ED;function TD(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:CD(e,t,r)}var $D=TD,ID="\\ud800-\\udfff",MD="\\u0300-\\u036f",DD="\\ufe20-\\ufe2f",RD="\\u20d0-\\u20ff",LD=MD+DD+RD,FD="\\ufe0e\\ufe0f",UD="\\u200d",BD=RegExp("["+UD+ID+LD+FD+"]");function zD(e){return BD.test(e)}var D4=zD;function WD(e){return e.split("")}var qD=WD,R4="\\ud800-\\udfff",HD="\\u0300-\\u036f",KD="\\ufe20-\\ufe2f",VD="\\u20d0-\\u20ff",GD=HD+KD+VD,QD="\\ufe0e\\ufe0f",YD="["+R4+"]",C0="["+GD+"]",T0="\\ud83c[\\udffb-\\udfff]",XD="(?:"+C0+"|"+T0+")",L4="[^"+R4+"]",F4="(?:\\ud83c[\\udde6-\\uddff]){2}",U4="[\\ud800-\\udbff][\\udc00-\\udfff]",ZD="\\u200d",B4=XD+"?",z4="["+QD+"]?",JD="(?:"+ZD+"(?:"+[L4,F4,U4].join("|")+")"+z4+B4+")*",eR=z4+B4+JD,tR="(?:"+[L4+C0+"?",C0,F4,U4,YD].join("|")+")",rR=RegExp(T0+"(?="+T0+")|"+tR+eR,"g");function nR(e){return e.match(rR)||[]}var sR=nR,aR=qD,iR=D4,oR=sR;function lR(e){return iR(e)?oR(e):aR(e)}var cR=lR,uR=$D,dR=D4,fR=cR,hR=E4;function pR(e){return function(t){t=hR(t);var r=dR(t)?fR(t):void 0,n=r?r[0]:t.charAt(0),s=r?uR(r,1).join(""):t.slice(1);return n[e]()+s}}var mR=pR,gR=mR,xR=gR("toUpperCase"),vR=xR;const Ah=Ee(vR);function Ue(e){return function(){return e}}const W4=Math.cos,Rd=Math.sin,ln=Math.sqrt,Ld=Math.PI,Oh=2*Ld,$0=Math.PI,I0=2*$0,Js=1e-6,yR=I0-Js;function q4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class wR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q4:bR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Js)if(!(Math.abs(f*c-u*d)>Js)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=s-l,y=c*c+u*u,b=p*p+v*v,w=Math.sqrt(y),x=Math.sqrt(h),m=i*Math.tan(($0-Math.acos((y+h-b)/(2*w*x)))/2),_=m/x,g=m/w;Math.abs(_-1)>Js&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+g*c},${this._y1=r+g*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Js||Math.abs(this._y1-d)>Js)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%I0+I0),h>yR?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Js&&this._append`A${n},${n},0,${+(h>=$0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Sv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wR(t)}function _v(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function H4(e){this._context=e}H4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ph(e){return new H4(e)}function K4(e){return e[0]}function V4(e){return e[1]}function G4(e,t){var r=Ue(!0),n=null,s=Ph,i=null,o=Sv(l);e=typeof e=="function"?e:e===void 0?K4:Ue(e),t=typeof t=="function"?t:t===void 0?V4:Ue(t);function l(c){var u,d=(c=_v(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ue(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ue(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ue(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Ou(e,t,r){var n=null,s=Ue(!0),i=null,o=Ph,l=null,c=Sv(u);e=typeof e=="function"?e:e===void 0?K4:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?V4:Ue(+r);function u(f){var h,p,v,y=(f=_v(f)).length,b,w=!1,x,m=new Array(y),_=new Array(y);for(i==null&&(l=o(x=c())),h=0;h<=y;++h){if(!(h<y&&s(b=f[h],h,f))===w)if(w=!w)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(m[v],_[v]);l.lineEnd(),l.areaEnd()}w&&(m[h]=+e(b,h,f),_[h]=+t(b,h,f),l.point(n?+n(b,h,f):m[h],r?+r(b,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return G4().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ue(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ue(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ue(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Q4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jR(e){return new Q4(e,!0)}function NR(e){return new Q4(e,!1)}const Av={draw(e,t){const r=ln(t/Ld);e.moveTo(r,0),e.arc(0,0,r,0,Oh)}},SR={draw(e,t){const r=ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Y4=ln(1/3),_R=Y4*2,AR={draw(e,t){const r=ln(t/_R),n=r*Y4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OR={draw(e,t){const r=ln(t),n=-r/2;e.rect(n,n,r,r)}},PR=.8908130915292852,X4=Rd(Ld/10)/Rd(7*Ld/10),kR=Rd(Oh/10)*X4,ER=-W4(Oh/10)*X4,CR={draw(e,t){const r=ln(t*PR),n=kR*r,s=ER*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Oh*i/5,l=W4(o),c=Rd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Vp=ln(3),TR={draw(e,t){const r=-ln(t/(Vp*3));e.moveTo(0,r*2),e.lineTo(-Vp*r,-r),e.lineTo(Vp*r,-r),e.closePath()}},kr=-.5,Er=ln(3)/2,M0=1/ln(12),$R=(M0/2+1)*3,IR={draw(e,t){const r=ln(t/$R),n=r/2,s=r*M0,i=n,o=r*M0+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(kr*n-Er*s,Er*n+kr*s),e.lineTo(kr*i-Er*o,Er*i+kr*o),e.lineTo(kr*l-Er*c,Er*l+kr*c),e.lineTo(kr*n+Er*s,kr*s-Er*n),e.lineTo(kr*i+Er*o,kr*o-Er*i),e.lineTo(kr*l+Er*c,kr*c-Er*l),e.closePath()}};function MR(e,t){let r=null,n=Sv(s);e=typeof e=="function"?e:Ue(e||Av),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ue(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Fd(){}function Ud(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ud(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DR(e){return new Z4(e)}function J4(e){this._context=e}J4.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RR(e){return new J4(e)}function eA(e){this._context=e}eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LR(e){return new eA(e)}function tA(e){this._context=e}tA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FR(e){return new tA(e)}function P1(e){return e<0?-1:1}function k1(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(P1(i)+P1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function E1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Gp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Bd(e){this._context=e}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gp(this,this._t0,E1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gp(this,E1(this,r=k1(this,e,t)),r);break;default:Gp(this,this._t0,r=k1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rA(e){this._context=new nA(e)}(rA.prototype=Object.create(Bd.prototype)).point=function(e,t){Bd.prototype.point.call(this,t,e)};function nA(e){this._context=e}nA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function UR(e){return new Bd(e)}function BR(e){return new rA(e)}function sA(e){this._context=e}sA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=C1(e),s=C1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C1(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function zR(e){return new sA(e)}function kh(e,t){this._context=e,this._t=t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WR(e){return new kh(e,.5)}function qR(e){return new kh(e,0)}function HR(e){return new kh(e,1)}function zi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function D0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KR(e,t){return e[t]}function VR(e){const t=[];return t.key=e,t}function GR(){var e=Ue([]),t=D0,r=zi,n=KR;function s(i){var o=Array.from(e.apply(this,arguments),VR),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=_v(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ue(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?D0:typeof i=="function"?i:Ue(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??zi,s):r},s}function QR(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}zi(e,t)}}function YR(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}zi(e,t)}}function XR(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var y=e[t[v]],b=y[n][1]||0,w=y[n-1][1]||0;p+=b-w}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,zi(e,t)}}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}var ZR=["type","size","sizeType"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return t=e9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e9(e){var t=t9(e,"string");return ec(t)=="symbol"?t:t+""}function t9(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e,t){if(e==null)return{};var r=n9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aA={symbolCircle:Av,symbolCross:SR,symbolDiamond:AR,symbolSquare:OR,symbolStar:CR,symbolTriangle:TR,symbolWye:IR},s9=Math.PI/180,a9=function(t){var r="symbol".concat(Ah(t));return aA[r]||Av},i9=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*s9;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},o9=function(t,r){aA["symbol".concat(Ah(t))]=r},Ov=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=r9(t,ZR),u=$1($1({},c),{},{type:n,size:i,sizeType:l}),d=function(){var b=a9(n),w=MR().type(b).size(i9(i,l,n));return w()},f=u.className,h=u.cx,p=u.cy,v=se(u,!0);return h===+h&&p===+p&&i===+i?E.createElement("path",R0({},v,{className:fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Ov.registerSymbol=o9;function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oA(n.key),n)}}function d9(e,t,r){return t&&u9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f9(e,t,r){return t=zd(t),h9(e,iA()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function h9(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9(e)}function p9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iA=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function m9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F0(e,t)}function tc(e,t,r){return t=oA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oA(e){var t=g9(e,"string");return Wi(t)=="symbol"?t:t+""}function g9(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr=32,Pv=function(e){function t(){return c9(this,t),f9(this,t,arguments)}return m9(t,e),d9(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Cr/2,o=Cr/6,l=Cr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(E.isValidElement(n.legendIcon)){var u=l9({},n);return delete u.legendIcon,E.cloneElement(n.legendIcon,u)}return E.createElement(Ov,{fill:c,cx:i,cy:i,size:Cr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Cr,height:Cr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var y=p.formatter||c,b=fe(tc(tc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=oe(p.value)?null:p.value;an(!oe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return E.createElement("li",L0({className:b,style:f,key:"legend-item-".concat(v)},ka(n.props,p,v)),E.createElement(k0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(w,p,v):w))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);tc(Pv,"displayName","Legend");tc(Pv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x9=hh;function v9(){this.__data__=new x9,this.size=0}var y9=v9;function b9(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w9=b9;function j9(e){return this.__data__.get(e)}var N9=j9;function S9(e){return this.__data__.has(e)}var _9=S9,A9=hh,O9=mv,P9=gv,k9=200;function E9(e,t){var r=this.__data__;if(r instanceof A9){var n=r.__data__;if(!O9||n.length<k9-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new P9(n)}return r.set(e,t),this.size=r.size,this}var C9=E9,T9=hh,$9=y9,I9=w9,M9=N9,D9=_9,R9=C9;function Eo(e){var t=this.__data__=new T9(e);this.size=t.size}Eo.prototype.clear=$9;Eo.prototype.delete=I9;Eo.prototype.get=M9;Eo.prototype.has=D9;Eo.prototype.set=R9;var lA=Eo,L9="__lodash_hash_undefined__";function F9(e){return this.__data__.set(e,L9),this}var U9=F9;function B9(e){return this.__data__.has(e)}var z9=B9,W9=gv,q9=U9,H9=z9;function Wd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new W9;++t<r;)this.add(e[t])}Wd.prototype.add=Wd.prototype.push=q9;Wd.prototype.has=H9;var cA=Wd;function K9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var uA=K9;function V9(e,t){return e.has(t)}var dA=V9,G9=cA,Q9=uA,Y9=dA,X9=1,Z9=2;function J9(e,t,r,n,s,i){var o=r&X9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Z9?new G9:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],y=t[f];if(n)var b=o?n(y,v,f,t,e,i):n(v,y,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!Q9(t,function(w,x){if(!Y9(p,x)&&(v===w||s(v,w,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(v===y||s(v,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var fA=J9,eL=jn,tL=eL.Uint8Array,rL=tL;function nL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var sL=nL;function aL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var kv=aL,M1=Vc,D1=rL,iL=pv,oL=fA,lL=sL,cL=kv,uL=1,dL=2,fL="[object Boolean]",hL="[object Date]",pL="[object Error]",mL="[object Map]",gL="[object Number]",xL="[object RegExp]",vL="[object Set]",yL="[object String]",bL="[object Symbol]",wL="[object ArrayBuffer]",jL="[object DataView]",R1=M1?M1.prototype:void 0,Qp=R1?R1.valueOf:void 0;function NL(e,t,r,n,s,i,o){switch(r){case jL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wL:return!(e.byteLength!=t.byteLength||!i(new D1(e),new D1(t)));case fL:case hL:case gL:return iL(+e,+t);case pL:return e.name==t.name&&e.message==t.message;case xL:case yL:return e==t+"";case mL:var l=lL;case vL:var c=n&uL;if(l||(l=cL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=dL,o.set(e,t);var d=oL(l(e),l(t),n,s,i,o);return o.delete(e),d;case bL:if(Qp)return Qp.call(e)==Qp.call(t)}return!1}var SL=NL;function _L(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var hA=_L,AL=hA,OL=fr;function PL(e,t,r){var n=t(e);return OL(e)?n:AL(n,r(e))}var kL=PL;function EL(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var CL=EL;function TL(){return[]}var $L=TL,IL=CL,ML=$L,DL=Object.prototype,RL=DL.propertyIsEnumerable,L1=Object.getOwnPropertySymbols,LL=L1?function(e){return e==null?[]:(e=Object(e),IL(L1(e),function(t){return RL.call(e,t)}))}:ML,FL=LL;function UL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var BL=UL,zL=Jn,WL=es,qL="[object Arguments]";function HL(e){return WL(e)&&zL(e)==qL}var KL=HL,F1=KL,VL=es,pA=Object.prototype,GL=pA.hasOwnProperty,QL=pA.propertyIsEnumerable,YL=F1(function(){return arguments}())?F1:function(e){return VL(e)&&GL.call(e,"callee")&&!QL.call(e,"callee")},Ev=YL,qd={exports:{}};function XL(){return!1}var ZL=XL;qd.exports;(function(e,t){var r=jn,n=ZL,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(qd,qd.exports);var mA=qd.exports,JL=9007199254740991,e7=/^(?:0|[1-9]\d*)$/;function t7(e,t){var r=typeof e;return t=t??JL,!!t&&(r=="number"||r!="symbol"&&e7.test(e))&&e>-1&&e%1==0&&e<t}var Cv=t7,r7=9007199254740991;function n7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r7}var Tv=n7,s7=Jn,a7=Tv,i7=es,o7="[object Arguments]",l7="[object Array]",c7="[object Boolean]",u7="[object Date]",d7="[object Error]",f7="[object Function]",h7="[object Map]",p7="[object Number]",m7="[object Object]",g7="[object RegExp]",x7="[object Set]",v7="[object String]",y7="[object WeakMap]",b7="[object ArrayBuffer]",w7="[object DataView]",j7="[object Float32Array]",N7="[object Float64Array]",S7="[object Int8Array]",_7="[object Int16Array]",A7="[object Int32Array]",O7="[object Uint8Array]",P7="[object Uint8ClampedArray]",k7="[object Uint16Array]",E7="[object Uint32Array]",Ge={};Ge[j7]=Ge[N7]=Ge[S7]=Ge[_7]=Ge[A7]=Ge[O7]=Ge[P7]=Ge[k7]=Ge[E7]=!0;Ge[o7]=Ge[l7]=Ge[b7]=Ge[c7]=Ge[w7]=Ge[u7]=Ge[d7]=Ge[f7]=Ge[h7]=Ge[p7]=Ge[m7]=Ge[g7]=Ge[x7]=Ge[v7]=Ge[y7]=!1;function C7(e){return i7(e)&&a7(e.length)&&!!Ge[s7(e)]}var T7=C7;function $7(e){return function(t){return e(t)}}var gA=$7,Hd={exports:{}};Hd.exports;(function(e,t){var r=S4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Hd,Hd.exports);var I7=Hd.exports,M7=T7,D7=gA,U1=I7,B1=U1&&U1.isTypedArray,R7=B1?D7(B1):M7,xA=R7,L7=BL,F7=Ev,U7=fr,B7=mA,z7=Cv,W7=xA,q7=Object.prototype,H7=q7.hasOwnProperty;function K7(e,t){var r=U7(e),n=!r&&F7(e),s=!r&&!n&&B7(e),i=!r&&!n&&!s&&W7(e),o=r||n||s||i,l=o?L7(e.length,String):[],c=l.length;for(var u in e)(t||H7.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||z7(u,c)))&&l.push(u);return l}var V7=K7,G7=Object.prototype;function Q7(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||G7;return e===r}var Y7=Q7;function X7(e,t){return function(r){return e(t(r))}}var vA=X7,Z7=vA,J7=Z7(Object.keys,Object),eF=J7,tF=Y7,rF=eF,nF=Object.prototype,sF=nF.hasOwnProperty;function aF(e){if(!tF(e))return rF(e);var t=[];for(var r in Object(e))sF.call(e,r)&&r!="constructor"&&t.push(r);return t}var iF=aF,oF=hv,lF=Tv;function cF(e){return e!=null&&lF(e.length)&&!oF(e)}var Qc=cF,uF=V7,dF=iF,fF=Qc;function hF(e){return fF(e)?uF(e):dF(e)}var Eh=hF,pF=kL,mF=FL,gF=Eh;function xF(e){return pF(e,gF,mF)}var vF=xF,z1=vF,yF=1,bF=Object.prototype,wF=bF.hasOwnProperty;function jF(e,t,r,n,s,i){var o=r&yF,l=z1(e),c=l.length,u=z1(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:wF.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var y=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var w=e[h],x=t[h];if(n)var m=o?n(x,w,h,t,e,i):n(w,x,h,e,t,i);if(!(m===void 0?w===x||s(w,x,r,n,i):m)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var _=e.constructor,g=t.constructor;_!=g&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof g=="function"&&g instanceof g)&&(y=!1)}return i.delete(e),i.delete(t),y}var NF=jF,SF=Fa,_F=jn,AF=SF(_F,"DataView"),OF=AF,PF=Fa,kF=jn,EF=PF(kF,"Promise"),CF=EF,TF=Fa,$F=jn,IF=TF($F,"Set"),yA=IF,MF=Fa,DF=jn,RF=MF(DF,"WeakMap"),LF=RF,U0=OF,B0=mv,z0=CF,W0=yA,q0=LF,bA=Jn,Co=A4,W1="[object Map]",FF="[object Object]",q1="[object Promise]",H1="[object Set]",K1="[object WeakMap]",V1="[object DataView]",UF=Co(U0),BF=Co(B0),zF=Co(z0),WF=Co(W0),qF=Co(q0),ea=bA;(U0&&ea(new U0(new ArrayBuffer(1)))!=V1||B0&&ea(new B0)!=W1||z0&&ea(z0.resolve())!=q1||W0&&ea(new W0)!=H1||q0&&ea(new q0)!=K1)&&(ea=function(e){var t=bA(e),r=t==FF?e.constructor:void 0,n=r?Co(r):"";if(n)switch(n){case UF:return V1;case BF:return W1;case zF:return q1;case WF:return H1;case qF:return K1}return t});var HF=ea,Yp=lA,KF=fA,VF=SL,GF=NF,G1=HF,Q1=fr,Y1=mA,QF=xA,YF=1,X1="[object Arguments]",Z1="[object Array]",Pu="[object Object]",XF=Object.prototype,J1=XF.hasOwnProperty;function ZF(e,t,r,n,s,i){var o=Q1(e),l=Q1(t),c=o?Z1:G1(e),u=l?Z1:G1(t);c=c==X1?Pu:c,u=u==X1?Pu:u;var d=c==Pu,f=u==Pu,h=c==u;if(h&&Y1(e)){if(!Y1(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Yp),o||QF(e)?KF(e,t,r,n,s,i):VF(e,t,c,r,n,s,i);if(!(r&YF)){var p=d&&J1.call(e,"__wrapped__"),v=f&&J1.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,b=v?t.value():t;return i||(i=new Yp),s(y,b,r,n,i)}}return h?(i||(i=new Yp),GF(e,t,r,n,s,i)):!1}var JF=ZF,eU=JF,ew=es;function wA(e,t,r,n,s){return e===t?!0:e==null||t==null||!ew(e)&&!ew(t)?e!==e&&t!==t:eU(e,t,r,n,wA,s)}var $v=wA,tU=lA,rU=$v,nU=1,sU=2;function aU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new tU;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?rU(d,u,nU|sU,n,f):h))return!1}}return!0}var iU=aU,oU=Us;function lU(e){return e===e&&!oU(e)}var jA=lU,cU=jA,uU=Eh;function dU(e){for(var t=uU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,cU(s)]}return t}var fU=dU;function hU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var NA=hU,pU=iU,mU=fU,gU=NA;function xU(e){var t=mU(e);return t.length==1&&t[0][2]?gU(t[0][0],t[0][1]):function(r){return r===e||pU(r,e,t)}}var vU=xU;function yU(e,t){return e!=null&&t in Object(e)}var bU=yU,wU=C4,jU=Ev,NU=fr,SU=Cv,_U=Tv,AU=mh;function OU(e,t,r){t=wU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=AU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&_U(s)&&SU(o,s)&&(NU(e)||jU(e)))}var PU=OU,kU=bU,EU=PU;function CU(e,t){return e!=null&&EU(e,t,kU)}var TU=CU,$U=$v,IU=T4,MU=TU,DU=fv,RU=jA,LU=NA,FU=mh,UU=1,BU=2;function zU(e,t){return DU(e)&&RU(t)?LU(FU(e),t):function(r){var n=IU(r,e);return n===void 0&&n===t?MU(r,e):$U(t,n,UU|BU)}}var WU=zU;function qU(e){return e}var To=qU;function HU(e){return function(t){return t==null?void 0:t[e]}}var KU=HU,VU=yv;function GU(e){return function(t){return VU(t,e)}}var QU=GU,YU=KU,XU=QU,ZU=fv,JU=mh;function eB(e){return ZU(e)?YU(JU(e)):XU(e)}var tB=eB,rB=vU,nB=WU,sB=To,aB=fr,iB=tB;function oB(e){return typeof e=="function"?e:e==null?sB:typeof e=="object"?aB(e)?nB(e[0],e[1]):rB(e):iB(e)}var Nn=oB;function lB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var SA=lB;function cB(e){return e!==e}var uB=cB;function dB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var fB=dB,hB=SA,pB=uB,mB=fB;function gB(e,t,r){return t===t?mB(e,t,r):hB(e,pB,r)}var xB=gB,vB=xB;function yB(e,t){var r=e==null?0:e.length;return!!r&&vB(e,t,0)>-1}var bB=yB;function wB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var jB=wB;function NB(){}var SB=NB,Xp=yA,_B=SB,AB=kv,OB=1/0,PB=Xp&&1/AB(new Xp([,-0]))[1]==OB?function(e){return new Xp(e)}:_B,kB=PB,EB=cA,CB=bB,TB=jB,$B=dA,IB=kB,MB=kv,DB=200;function RB(e,t,r){var n=-1,s=CB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=TB;else if(i>=DB){var u=t?null:IB(e);if(u)return MB(u);o=!1,s=$B,c=new EB}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var LB=RB,FB=Nn,UB=LB;function BB(e,t){return e&&e.length?UB(e,FB(t)):[]}var zB=BB;const tw=Ee(zB);function _A(e,t,r){return t===!0?tw(e,r):oe(t)?tw(e,t):e}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var WB=["ref"];function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OA(n.key),n)}}function HB(e,t,r){return t&&nw(e.prototype,t),r&&nw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KB(e,t,r){return t=Kd(t),VB(e,AA()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function VB(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GB(e)}function GB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AA=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function QB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H0(e,t)}function H0(e,t){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H0(e,t)}function Ch(e,t,r){return t=OA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OA(e){var t=YB(e,"string");return qi(t)=="symbol"?t:t+""}function YB(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t){if(e==null)return{};var r=ZB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JB(e){return e.value}function ez(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=XB(t,WB);return E.createElement(Pv,r)}var sw=1,Ei=function(e){function t(){var r;qB(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=KB(this,t,[].concat(s)),Ch(r,"lastBoundingBox",{width:-1,height:-1}),r}return QB(t,e),HB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sw||Math.abs(s.height-this.lastBoundingBox.height)>sw)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_n({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _n(_n({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=_n(_n({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},ez(i,_n(_n({},this.props),{},{payload:_A(d,u,JB)})))}}],[{key:"getWithHeight",value:function(n,s){var i=_n(_n({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&G(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);Ch(Ei,"displayName","Legend");Ch(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aw=Vc,tz=Ev,rz=fr,iw=aw?aw.isConcatSpreadable:void 0;function nz(e){return rz(e)||tz(e)||!!(iw&&e&&e[iw])}var sz=nz,az=hA,iz=sz;function PA(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=iz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?PA(l,t-1,r,n,s):az(s,l):n||(s[s.length]=l)}return s}var kA=PA;function oz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var lz=oz,cz=lz,uz=cz(),dz=uz,fz=dz,hz=Eh;function pz(e,t){return e&&fz(e,t,hz)}var EA=pz,mz=Qc;function gz(e,t){return function(r,n){if(r==null)return r;if(!mz(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var xz=gz,vz=EA,yz=xz,bz=yz(vz),Iv=bz,wz=Iv,jz=Qc;function Nz(e,t){var r=-1,n=jz(e)?Array(e.length):[];return wz(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var CA=Nz;function Sz(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _z=Sz,ow=So;function Az(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=ow(e),o=t!==void 0,l=t===null,c=t===t,u=ow(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Oz=Az,Pz=Oz;function kz(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Pz(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ez=kz,Zp=vv,Cz=yv,Tz=Nn,$z=CA,Iz=_z,Mz=gA,Dz=Ez,Rz=To,Lz=fr;function Fz(e,t,r){t.length?t=Zp(t,function(i){return Lz(i)?function(o){return Cz(o,i.length===1?i[0]:i)}:i}):t=[Rz];var n=-1;t=Zp(t,Mz(Tz));var s=$z(e,function(i,o,l){var c=Zp(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Iz(s,function(i,o){return Dz(i,o,r)})}var Uz=Fz;function Bz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zz=Bz,Wz=zz,lw=Math.max;function qz(e,t,r){return t=lw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=lw(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Wz(e,this,l)}}var Hz=qz;function Kz(e){return function(){return e}}var Vz=Kz,Gz=Fa,Qz=function(){try{var e=Gz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TA=Qz,Yz=Vz,cw=TA,Xz=To,Zz=cw?function(e,t){return cw(e,"toString",{configurable:!0,enumerable:!1,value:Yz(t),writable:!0})}:Xz,Jz=Zz,eW=800,tW=16,rW=Date.now;function nW(e){var t=0,r=0;return function(){var n=rW(),s=tW-(n-r);if(r=n,s>0){if(++t>=eW)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sW=nW,aW=Jz,iW=sW,oW=iW(aW),lW=oW,cW=To,uW=Hz,dW=lW;function fW(e,t){return dW(uW(e,t,cW),e+"")}var hW=fW,pW=pv,mW=Qc,gW=Cv,xW=Us;function vW(e,t,r){if(!xW(r))return!1;var n=typeof t;return(n=="number"?mW(r)&&gW(t,r.length):n=="string"&&t in r)?pW(r[t],e):!1}var Th=vW,yW=kA,bW=Uz,wW=hW,uw=Th,jW=wW(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uw(e,t[0],t[1])?t=[]:r>2&&uw(t[0],t[1],t[2])&&(t=[t[0]]),bW(e,yW(t,1),[])}),NW=jW;const Mv=Ee(NW);function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function SW(e,t){return PW(e)||OW(e,t)||AW(e,t)||_W()}function _W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function PW(e){if(Array.isArray(e))return e}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return t=EW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=CW(e,"string");return rc(t)=="symbol"?t:t+""}function CW(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e){return Array.isArray(e)&&vt(e[0])&&vt(e[1])?e.join(" ~ "):e}var $W=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,y=t.label,b=t.labelFormatter,w=t.accessibilityLayer,x=w===void 0?!1:w,m=function(){if(d&&d.length){var C={padding:0,margin:0},M=(h?Mv(d,h):d).map(function(R,I){if(R.type==="none")return null;var U=Jp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),W=R.formatter||f||TW,T=R.value,L=R.name,$=T,q=L;if(W&&$!=null&&q!=null){var V=W(T,L,R,I,d);if(Array.isArray(V)){var ee=SW(V,2);$=ee[0],q=ee[1]}else $=V}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:U},vt(q)?E.createElement("span",{className:"recharts-tooltip-item-name"},q):null,vt(q)?E.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,E.createElement("span",{className:"recharts-tooltip-item-value"},$),E.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:C},M)}return null},_=Jp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),g=Jp({margin:0},u),j=!ce(y),N=j?y:"",S=fe("recharts-default-tooltip",p),A=fe("recharts-tooltip-label",v);j&&b&&d!==void 0&&d!==null&&(N=b(y,d));var P=x?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",K0({className:S,style:_},P),E.createElement("p",{className:A,style:g},E.isValidElement(N)?N:"".concat(N)),m())};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function ku(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=MW(e,"string");return nc(t)=="symbol"?t:t+""}function MW(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yo="recharts-tooltip-wrapper",DW={visibility:"hidden"};function RW(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return fe(Yo,ku(ku(ku(ku({},"".concat(Yo,"-right"),G(r)&&t&&G(t.x)&&r>=t.x),"".concat(Yo,"-left"),G(r)&&t&&G(t.x)&&r<t.x),"".concat(Yo,"-bottom"),G(n)&&t&&G(t.y)&&n>=t.y),"".concat(Yo,"-top"),G(n)&&t&&G(t.y)&&n<t.y))}function hw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&G(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,y=c[n]+u;return v>y?Math.max(d,c[n]):Math.max(f,c[n])}function LW(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FW(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=hw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=hw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=LW({translateX:d,translateY:f,useTranslate3d:l})):u=DW,{cssProperties:u,cssClasses:RW({translateX:d,translateY:f,coordinate:r})}}function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IA(n.key),n)}}function zW(e,t,r){return t&&BW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WW(e,t,r){return t=Vd(t),qW(e,$A()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function qW(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HW(e)}function HW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function KW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V0(e,t)}function G0(e,t,r){return t=IA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IA(e){var t=VW(e,"string");return Hi(t)=="symbol"?t:t+""}function VW(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gw=1,GW=function(e){function t(){var r;UW(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=WW(this,t,[].concat(s)),G0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),G0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return KW(t,e),zW(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gw||Math.abs(n.height-this.state.lastBoundingBox.height)>gw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,y=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,x=s.wrapperStyle,m=FW({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),_=m.cssClasses,g=m.cssProperties,j=mw(mw({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return E.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),QW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xn={isSsr:QW(),get:function(t){return xn[t]},set:function(t,r){if(typeof t=="string")xn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){xn[s]=t[s]})}}};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function ZW(e,t,r){return t&&XW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JW(e,t,r){return t=Gd(t),eq(e,MA()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function eq(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(e)}function tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MA=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q0(e,t)}function Dv(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=nq(e,"string");return Ki(t)=="symbol"?t:t+""}function nq(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e){return e.dataKey}function aq(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement($W,t)}var Be=function(e){function t(){return YW(this,t),JW(this,t,arguments)}return rq(t,e),ZW(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,y=s.payloadUniqBy,b=s.position,w=s.reverseDirection,x=s.useTranslate3d,m=s.viewBox,_=s.wrapperStyle,g=v??[];f&&g.length&&(g=_A(v.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),y,sq));var j=g.length>0;return E.createElement(GW,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:j,offset:p,position:b,reverseDirection:w,useTranslate3d:x,viewBox:m,wrapperStyle:_},aq(u,vw(vw({},this.props),{},{payload:g})))}}])}(O.PureComponent);Dv(Be,"displayName","Tooltip");Dv(Be,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iq=jn,oq=function(){return iq.Date.now()},lq=oq,cq=/\s/;function uq(e){for(var t=e.length;t--&&cq.test(e.charAt(t)););return t}var dq=uq,fq=dq,hq=/^\s+/;function pq(e){return e&&e.slice(0,fq(e)+1).replace(hq,"")}var mq=pq,gq=mq,yw=Us,xq=So,bw=NaN,vq=/^[-+]0x[0-9a-f]+$/i,yq=/^0b[01]+$/i,bq=/^0o[0-7]+$/i,wq=parseInt;function jq(e){if(typeof e=="number")return e;if(xq(e))return bw;if(yw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gq(e);var r=yq.test(e);return r||bq.test(e)?wq(e.slice(2),r?2:8):vq.test(e)?bw:+e}var RA=jq,Nq=Us,em=lq,ww=RA,Sq="Expected a function",_q=Math.max,Aq=Math.min;function Oq(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Sq);t=ww(t)||0,Nq(r)&&(d=!!r.leading,f="maxWait"in r,i=f?_q(ww(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var N=n,S=s;return n=s=void 0,u=j,o=e.apply(S,N),o}function v(j){return u=j,l=setTimeout(w,t),d?p(j):o}function y(j){var N=j-c,S=j-u,A=t-N;return f?Aq(A,i-S):A}function b(j){var N=j-c,S=j-u;return c===void 0||N>=t||N<0||f&&S>=i}function w(){var j=em();if(b(j))return x(j);l=setTimeout(w,y(j))}function x(j){return l=void 0,h&&n?p(j):(n=s=void 0,o)}function m(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:x(em())}function g(){var j=em(),N=b(j);if(n=arguments,s=this,c=j,N){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(w,t),p(c)}return l===void 0&&(l=setTimeout(w,t)),o}return g.cancel=m,g.flush=_,g}var Pq=Oq,kq=Pq,Eq=Us,Cq="Expected a function";function Tq(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Cq);return Eq(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),kq(e,t,{leading:n,maxWait:t,trailing:s})}var $q=Tq;const LA=Ee($q);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return t=Mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Dq(e,"string");return sc(t)=="symbol"?t:t+""}function Dq(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e,t){return Bq(e)||Uq(e,t)||Fq(e,t)||Lq()}function Lq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Bq(e){if(Array.isArray(e))return e}var Tt=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,y=v===void 0?0:v,b=e.id,w=e.className,x=e.onResize,m=e.style,_=m===void 0?{}:m,g=O.useRef(null),j=O.useRef();j.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(g.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),g.current},configurable:!0})});var N=O.useState({containerWidth:s.width,containerHeight:s.height}),S=Rq(N,2),A=S[0],P=S[1],k=O.useCallback(function(M,R){P(function(I){var U=Math.round(M),W=Math.round(R);return I.containerWidth===U&&I.containerHeight===W?I:{containerWidth:U,containerHeight:W}})},[]);O.useEffect(function(){var M=function(L){var $,q=L[0].contentRect,V=q.width,ee=q.height;k(V,ee),($=j.current)===null||$===void 0||$.call(j,V,ee)};y>0&&(M=LA(M,y,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),I=g.current.getBoundingClientRect(),U=I.width,W=I.height;return k(U,W),R.observe(g.current),function(){R.disconnect()}},[k,y]);var C=O.useMemo(function(){var M=A.containerWidth,R=A.containerHeight;if(M<0||R<0)return null;an(la(o)||la(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),an(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=la(o)?M:o,U=la(c)?R:c;r&&r>0&&(I?U=I/r:U&&(I=U*r),h&&U>h&&(U=h)),an(I>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,U,o,c,d,f,r);var W=!Array.isArray(p)&&Un(p.type).endsWith("Chart");return E.Children.map(p,function(T){return E.isValidElement(T)?O.cloneElement(T,Eu({width:I,height:U},W?{style:Eu({height:"100%",width:"100%",maxHeight:U,maxWidth:I},T.props.style)}:{})):T})},[r,p,c,h,f,d,A,o]);return E.createElement("div",{id:b?"".concat(b):void 0,className:fe("recharts-responsive-container",w),style:Eu(Eu({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:g},C)}),Bs=function(t){return null};Bs.displayName="Cell";function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=qq(e,"string");return ac(t)=="symbol"?t:t+""}function qq(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Za={widthCache:{},cacheCount:0},Hq=2e3,Kq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_w="recharts_measurement_span";function Vq(e){var t=Y0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Nl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xn.isSsr)return{width:0,height:0};var n=Vq(r),s=JSON.stringify({text:t,copyStyle:n});if(Za.widthCache[s])return Za.widthCache[s];try{var i=document.getElementById(_w);i||(i=document.createElement("span"),i.setAttribute("id",_w),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Y0(Y0({},Kq),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Za.widthCache[s]=c,++Za.cacheCount>Hq&&(Za.cacheCount=0,Za.widthCache={}),c}catch{return{width:0,height:0}}},Gq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Qd(e,t){return Zq(e)||Xq(e,t)||Yq(e,t)||Qq()}function Qq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yq(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zq(e){if(Array.isArray(e))return e}function Jq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function eH(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tH(e){var t=rH(e,"string");return ic(t)=="symbol"?t:t+""}function rH(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aH=Object.keys(FA),xi="NaN";function iH(e,t){return e*FA[t]}var Cu=function(){function e(t,r){Jq(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nH.test(r)&&(this.num=NaN,this.unit=""),aH.includes(r)&&(this.num=iH(t,r),this.unit="px")}return eH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=sH.exec(r))!==null&&n!==void 0?n:[],i=Qd(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function UA(e){if(e.includes(xi))return xi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Pw.exec(t))!==null&&r!==void 0?r:[],s=Qd(n,4),i=s[1],o=s[2],l=s[3],c=Cu.parse(i??""),u=Cu.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return xi;t=t.replace(Pw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=kw.exec(t))!==null&&f!==void 0?f:[],p=Qd(h,4),v=p[1],y=p[2],b=p[3],w=Cu.parse(v??""),x=Cu.parse(b??""),m=y==="+"?w.add(x):w.subtract(x);if(m.isNaN())return xi;t=t.replace(kw,m.toString())}return t}var Ew=/\(([^()]*)\)/;function oH(e){for(var t=e;t.includes("(");){var r=Ew.exec(t),n=Qd(r,2),s=n[1];t=t.replace(Ew,UA(s))}return t}function lH(e){var t=e.replace(/\s+/g,"");return t=oH(t),t=UA(t),t}function cH(e){try{return lH(e)}catch{return xi}}function tm(e){var t=cH(e.slice(5,-1));return t===xi?"":t}var uH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dH=["dx","dy","angle","className","breakAll"];function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function Cw(e,t){if(e==null)return{};var r=fH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tw(e,t){return gH(e)||mH(e,t)||pH(e,t)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gH(e){if(Array.isArray(e))return e}var BA=/[ \f\n\r\t\v\u2028\u2029]+/,zA=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];ce(r)||(n?i=r.toString().split(""):i=r.toString().split(BA));var o=i.map(function(c){return{word:c,width:Nl(c,s).width}}),l=n?0:Nl("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=G(o),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(U,W){var T=W.word,L=W.width,$=U[U.length-1];if($&&(s==null||i||$.width+L+n<Number(s)))$.words.push(T),$.width+=L+n;else{var q={words:[T],width:L};U.push(q)}return U},[])},p=h(r),v=function(I){return I.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return p;for(var y="",b=function(I){var U=f.slice(0,I),W=zA({breakAll:u,style:c,children:U+y}).wordsWithComputedWidth,T=h(W),L=T.length>o||v(T).width>Number(s);return[L,T]},w=0,x=f.length-1,m=0,_;w<=x&&m<=f.length-1;){var g=Math.floor((w+x)/2),j=g-1,N=b(j),S=Tw(N,2),A=S[0],P=S[1],k=b(g),C=Tw(k,1),M=C[0];if(!A&&!M&&(w=g+1),A&&M&&(x=g-1),!A&&M){_=P;break}m++}return _||p},Iw=function(t){var r=ce(t)?[]:t.toString().split(BA);return[{words:r}]},vH=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!xn.isSsr){var c,u,d=zA({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return Iw(s);return xH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return Iw(s)},Mw="#808080",Ea=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,y=v===void 0?"end":v,b=t.fill,w=b===void 0?Mw:b,x=Cw(t,uH),m=O.useMemo(function(){return vH({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,g=x.dy,j=x.angle,N=x.className,S=x.breakAll,A=Cw(x,dH);if(!vt(n)||!vt(i))return null;var P=n+(G(_)?_:0),k=i+(G(g)?g:0),C;switch(y){case"start":C=tm("calc(".concat(u,")"));break;case"middle":C=tm("calc(".concat((m.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=tm("calc(".concat(m.length-1," * -").concat(l,")"));break}var M=[];if(f){var R=m[0].width,I=x.width;M.push("scale(".concat((G(I)?I/R:1)/R,")"))}return j&&M.push("rotate(".concat(j,", ").concat(P,", ").concat(k,")")),M.length&&(A.transform=M.join(" ")),E.createElement("text",X0({},se(A,!0),{x:P,y:k,className:fe("recharts-text",N),textAnchor:p,fill:w.includes("url")?Mw:w}),m.map(function(U,W){var T=U.words.join(S?"":" ");return E.createElement("tspan",{x:P,dy:W===0?C:l,key:"".concat(T,"-").concat(W)},T)}))};function Ts(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rv(e){let t,r,n;e.length!==2?(t=Ts,r=(l,c)=>Ts(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ts||e===yH?e:bH,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function bH(){return 0}function WA(e){return e===null?NaN:+e}function*wH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jH=Rv(Ts),Yc=jH.right;Rv(WA).center;class Dw extends Map{constructor(t,r=_H){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Rw(this,t))}has(t){return super.has(Rw(this,t))}set(t,r){return super.set(NH(this,t),r)}delete(t){return super.delete(SH(this,t))}}function Rw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function NH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _H(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AH(e=Ts){if(e===Ts)return qA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OH=Math.sqrt(50),PH=Math.sqrt(10),kH=Math.sqrt(2);function Yd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=OH?10:i>=PH?5:i>=kH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Yd(e,t,r*2):[l,c,u]}function Z0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Yd(t,e,r):Yd(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function J0(e,t,r){return t=+t,e=+e,r=+r,Yd(e,t,r)[2]}function eg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?J0(t,e,r):J0(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Lw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Fw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HA(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?qA:AH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));HA(e,t,p,v,s)}const i=e[t];let o=r,l=n;for(Xo(e,r,t),s(e[n],i)>0&&Xo(e,r,n);o<l;){for(Xo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Xo(e,r,l):(++l,Xo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function EH(e,t,r){if(e=Float64Array.from(wH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Fw(e);if(t>=1)return Lw(e);var n,s=(n-1)*t,i=Math.floor(s),o=Lw(HA(e,i).subarray(0,i+1)),l=Fw(e.subarray(i+1));return o+(l-o)*(s-i)}}function CH(e,t,r=WA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function TH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ts(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tg=Symbol("implicit");function Lv(){var e=new Dw,t=[],r=[],n=tg;function s(i){let o=e.get(i);if(o===void 0){if(n!==tg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Dw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Lv(t,r).unknown(n)},Hr.apply(s,arguments),s}function oc(){var e=Lv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,v=p?s:n,y=p?n:s;i=(y-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(y-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=TH(h).map(function(w){return v+i*w});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return oc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hr.apply(f(),arguments)}function KA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KA(t())},e}function Sl(){return KA(oc.apply(null,arguments).paddingInner(1))}function Fv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xc(){}var lc=.7,Xd=1/lc,Ci="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$H=/^#([0-9a-f]{3,8})$/,IH=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),MH=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),DH=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${cc}\\)$`),RH=new RegExp(`^rgba\\(${vn},${vn},${vn},${cc}\\)$`),LH=new RegExp(`^hsl\\(${cc},${vn},${vn}\\)$`),FH=new RegExp(`^hsla\\(${cc},${vn},${vn},${cc}\\)$`),Uw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fv(Xc,uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bw,formatHex:Bw,formatHex8:UH,formatHsl:BH,formatRgb:zw,toString:zw});function Bw(){return this.rgb().formatHex()}function UH(){return this.rgb().formatHex8()}function BH(){return GA(this).formatHsl()}function zw(){return this.rgb().formatRgb()}function uc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$H.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ww(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IH.exec(e))?new or(t[1],t[2],t[3],1):(t=MH.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DH.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=RH.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LH.exec(e))?Kw(t[1],t[2]/100,t[3]/100,1):(t=FH.exec(e))?Kw(t[1],t[2]/100,t[3]/100,t[4]):Uw.hasOwnProperty(e)?Ww(Uw[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function Ww(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function zH(e){return e instanceof Xc||(e=uc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function rg(e,t,r,n){return arguments.length===1?zH(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Fv(or,rg,VA(Xc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(ma(this.r),ma(this.g),ma(this.b),Zd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qw,formatHex:qw,formatHex8:WH,formatRgb:Hw,toString:Hw}));function qw(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}`}function WH(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}${ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hw(){const e=Zd(this.opacity);return`${e===1?"rgb(":"rgba("}${ma(this.r)}, ${ma(this.g)}, ${ma(this.b)}${e===1?")":`, ${e})`}`}function Zd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ma(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ca(e){return e=ma(e),(e<16?"0":"")+e.toString(16)}function Kw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function GA(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof Xc||(e=uc(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new tn(o,l,c,e.opacity)}function qH(e,t,r,n){return arguments.length===1?GA(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Fv(tn,qH,VA(Xc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new or(rm(e>=240?e-240:e+120,s,n),rm(e,s,n),rm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new tn(Vw(this.h),$u(this.s),$u(this.l),Zd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zd(this.opacity);return`${e===1?"hsl(":"hsla("}${Vw(this.h)}, ${$u(this.s)*100}%, ${$u(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vw(e){return e=(e||0)%360,e<0?e+360:e}function $u(e){return Math.max(0,Math.min(1,e||0))}function rm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Uv=e=>()=>e;function HH(e,t){return function(r){return e+r*t}}function KH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function VH(e){return(e=+e)==1?QA:function(t,r){return r-t?KH(t,r,e):Uv(isNaN(t)?r:t)}}function QA(e,t){var r=t-e;return r?HH(e,r):Uv(isNaN(e)?t:e)}const Gw=function e(t){var r=VH(t);function n(s,i){var o=r((s=rg(s)).r,(i=rg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=QA(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function GH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function QH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=$o(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function XH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Jd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZH(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=$o(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nm=new RegExp(ng.source,"g");function JH(e){return function(){return e}}function eK(e){return function(t){return e(t)+""}}function tK(e,t){var r=ng.lastIndex=nm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ng.exec(e))&&(s=nm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Jd(n,s)})),r=nm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?eK(c[0].x):JH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $o(e,t){var r=typeof t,n;return t==null||r==="boolean"?Uv(t):(r==="number"?Jd:r==="string"?(n=uc(t))?(t=n,Gw):tK:t instanceof uc?Gw:t instanceof Date?XH:QH(t)?GH:Array.isArray(t)?YH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZH:Jd)(e,t)}function Bv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rK(e,t){t===void 0&&(t=e,e=$o);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nK(e){return function(){return e}}function ef(e){return+e}var Qw=[0,1];function Xt(e){return e}function sg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nK(isNaN(t)?NaN:.5)}function sK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=sg(s,n),i=r(o,i)):(n=sg(n,s),i=r(i,o)),function(l){return i(n(l))}}function iK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=sg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Yc(e,l,1,n)-1;return i[c](s[c](l))}}function Zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $h(){var e=Qw,t=Qw,r=$o,n,s,i,o=Xt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Xt&&(o=sK(e[0],e[h-1])),l=h>2?iK:aK,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Jd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ef),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Bv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Xt,d()):o!==Xt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function zv(){return $h()(Xt,Xt)}function oK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vi(e){return e=tf(Math.abs(e)),e?e[1]:NaN}function lK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=uK.exec(e)))throw new Error("invalid format: "+e);var t;return new Wv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=Wv.prototype;function Wv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var YA;function fK(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(YA=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tf(e,Math.max(0,t+i-1))[0]}function Yw(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Xw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yw(e*100,t),r:Yw,s:fK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zw(e){return e}var Jw=Array.prototype.map,ej=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hK(e){var t=e.grouping===void 0||e.thousands===void 0?Zw:lK(Jw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Zw:cK(Jw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=dc(f);var h=f.fill,p=f.align,v=f.sign,y=f.symbol,b=f.zero,w=f.width,x=f.comma,m=f.precision,_=f.trim,g=f.type;g==="n"?(x=!0,g="g"):Xw[g]||(m===void 0&&(m=12),_=!0,g="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var j=y==="$"?r:y==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",N=y==="$"?n:/[%p]/.test(g)?o:"",S=Xw[g],A=/[defgprs%]/.test(g);m=m===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(k){var C=j,M=N,R,I,U;if(g==="c")M=S(k)+M,k="";else{k=+k;var W=k<0||1/k<0;if(k=isNaN(k)?c:S(Math.abs(k),m),_&&(k=dK(k)),W&&+k==0&&v!=="+"&&(W=!1),C=(W?v==="("?v:l:v==="-"||v==="("?"":v)+C,M=(g==="s"?ej[8+YA/3]:"")+M+(W&&v==="("?")":""),A){for(R=-1,I=k.length;++R<I;)if(U=k.charCodeAt(R),48>U||U>57){M=(U===46?s+k.slice(R+1):k.slice(R))+M,k=k.slice(0,R);break}}}x&&!b&&(k=t(k,1/0));var T=C.length+k.length+M.length,L=T<w?new Array(w-T+1).join(h):"";switch(x&&b&&(k=t(L+k,L.length?w-M.length:1/0),L=""),p){case"<":k=C+k+M+L;break;case"=":k=C+L+k+M;break;case"^":k=L.slice(0,T=L.length>>1)+C+k+M+L.slice(T);break;default:k=L+C+k+M;break}return i(k)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=dc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Vi(h)/3)))*3,y=Math.pow(10,-v),b=ej[8+v/3];return function(w){return p(y*w)+b}}return{format:u,formatPrefix:d}}var Iu,qv,XA;pK({thousands:",",grouping:[3],currency:["$",""]});function pK(e){return Iu=hK(e),qv=Iu.format,XA=Iu.formatPrefix,Iu}function mK(e){return Math.max(0,-Vi(Math.abs(e)))}function gK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vi(t)/3)))*3-Vi(Math.abs(e)))}function xK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vi(t)-Vi(e))+1}function ZA(e,t,r,n){var s=eg(e,t,r),i;switch(n=dc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gK(s,o))&&(n.precision=i),XA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=mK(s))&&(n.precision=i-(n.type==="%")*2);break}}return qv(n)}function zs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Z0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return ZA(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=J0(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function rf(){var e=zv();return e.copy=function(){return Zc(e,rf())},Hr.apply(e,arguments),zs(e)}function JA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ef),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JA(e).unknown(t)},e=arguments.length?Array.from(e,ef):[0,1],zs(r)}function eO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function tj(e){return Math.log(e)}function rj(e){return Math.exp(e)}function vK(e){return-Math.log(-e)}function yK(e){return-Math.exp(-e)}function bK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wK(e){return e===10?bK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nj(e){return(t,r)=>-e(-t,r)}function Hv(e){const t=e(tj,rj),r=t.domain;let n=10,s,i;function o(){return s=jK(n),i=wK(n),r()[0]<0?(s=nj(s),i=nj(i),e(vK,yK)):e(tj,rj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),v,y;const b=l==null?10:+l;let w=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(y=h<0?v/i(-h):v*i(h),!(y<u)){if(y>d)break;w.push(y)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(y=h>0?v/i(-h):v*i(h),!(y<u)){if(y>d)break;w.push(y)}w.length*2<b&&(w=Z0(u,d,b))}else w=Z0(h,p,Math.min(p-h,b)).map(i);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=dc(c)).precision==null&&(c.trim=!0),c=qv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(eO(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function tO(){const e=Hv($h()).domain([1,10]);return e.copy=()=>Zc(e,tO()).base(e.base()),Hr.apply(e,arguments),e}function sj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kv(e){var t=1,r=e(sj(t),aj(t));return r.constant=function(n){return arguments.length?e(sj(t=+n),aj(t)):t},zs(r)}function rO(){var e=Kv($h());return e.copy=function(){return Zc(e,rO()).constant(e.constant())},Hr.apply(e,arguments)}function ij(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SK(e){return e<0?-e*e:e*e}function Vv(e){var t=e(Xt,Xt),r=1;function n(){return r===1?e(Xt,Xt):r===.5?e(NK,SK):e(ij(r),ij(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},zs(t)}function Gv(){var e=Vv($h());return e.copy=function(){return Zc(e,Gv()).exponent(e.exponent())},Hr.apply(e,arguments),e}function _K(){return Gv.apply(null,arguments).exponent(.5)}function oj(e){return Math.sign(e)*e*e}function AK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nO(){var e=zv(),t=[0,1],r=!1,n;function s(i){var o=AK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(oj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ef)).map(oj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return nO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hr.apply(s,arguments),zs(s)}function sO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=CH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Yc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ts),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sO().domain(e).range(t).unknown(n)},Hr.apply(i,arguments)}function aO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Yc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return aO().domain([e,t]).range(s).unknown(i)},Hr.apply(zs(o),arguments)}function iO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Yc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return iO().domain(e).range(t).unknown(r)},Hr.apply(s,arguments)}const sm=new Date,am=new Date;function yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(sm.setTime(+i),am.setTime(+o),e(sm),e(am),Math.floor(r(sm,am))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const nf=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nf);nf.range;const Dn=1e3,Dr=Dn*60,Rn=Dr*60,Vn=Rn*24,Qv=Vn*7,lj=Vn*30,im=Vn*365,ua=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCSeconds());ua.range;const Yv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Yv.range;const Xv=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());Xv.range;const Zv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getHours());Zv.range;const Jv=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCHours());Jv.range;const Jc=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Vn,e=>e.getDate()-1);Jc.range;const Ih=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);Ih.range;const oO=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));oO.range;function Ua(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Qv)}const Mh=Ua(0),sf=Ua(1),OK=Ua(2),PK=Ua(3),Gi=Ua(4),kK=Ua(5),EK=Ua(6);Mh.range;sf.range;OK.range;PK.range;Gi.range;kK.range;EK.range;function Ba(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qv)}const Dh=Ba(0),af=Ba(1),CK=Ba(2),TK=Ba(3),Qi=Ba(4),$K=Ba(5),IK=Ba(6);Dh.range;af.range;CK.range;TK.range;Qi.range;$K.range;IK.range;const ey=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ey.range;const ty=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ty.range;const Gn=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gn.range;const Qn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qn.range;function lO(e,t,r,n,s,i){const o=[[ua,1,Dn],[ua,5,5*Dn],[ua,15,15*Dn],[ua,30,30*Dn],[i,1,Dr],[i,5,5*Dr],[i,15,15*Dr],[i,30,30*Dr],[s,1,Rn],[s,3,3*Rn],[s,6,6*Rn],[s,12,12*Rn],[n,1,Vn],[n,2,2*Vn],[r,1,Qv],[t,1,lj],[t,3,3*lj],[e,1,im]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=Rv(([,,b])=>b).right(o,h);if(p===o.length)return e.every(eg(u/im,d/im,f));if(p===0)return nf.every(Math.max(eg(u,d,f),1));const[v,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(y)}return[l,c]}const[MK,DK]=lO(Qn,ty,Dh,oO,Jv,Xv),[RK,LK]=lO(Gn,ey,Mh,Jc,Zv,Yv);function om(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FK(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Jo(s),d=el(s),f=Jo(i),h=el(i),p=Jo(o),v=el(o),y=Jo(l),b=el(l),w=Jo(c),x=el(c),m={a:W,A:T,b:L,B:$,c:null,d:pj,e:pj,f:lV,g:vV,G:bV,H:aV,I:iV,j:oV,L:cO,m:cV,M:uV,p:q,q:V,Q:xj,s:vj,S:dV,u:fV,U:hV,V:pV,w:mV,W:gV,x:null,X:null,y:xV,Y:yV,Z:wV,"%":gj},_={a:ee,A:ge,b:Te,B:He,c:null,d:mj,e:mj,f:_V,g:MV,G:RV,H:jV,I:NV,j:SV,L:dO,m:AV,M:OV,p:It,q:bt,Q:xj,s:vj,S:PV,u:kV,U:EV,V:CV,w:TV,W:$V,x:null,X:null,y:IV,Y:DV,Z:LV,"%":gj},g={a:P,A:k,b:C,B:M,c:R,d:fj,e:fj,f:tV,g:dj,G:uj,H:hj,I:hj,j:XK,L:eV,m:YK,M:ZK,p:A,q:QK,Q:nV,s:sV,S:JK,u:qK,U:HK,V:KK,w:WK,W:VK,x:I,X:U,y:dj,Y:uj,Z:GK,"%":rV};m.x=j(r,m),m.X=j(n,m),m.c=j(t,m),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(Y,ne){return function(ue){var H=[],Ie=-1,pe=0,Me=Y.length,ye,Q,le;for(ue instanceof Date||(ue=new Date(+ue));++Ie<Me;)Y.charCodeAt(Ie)===37&&(H.push(Y.slice(pe,Ie)),(Q=cj[ye=Y.charAt(++Ie)])!=null?ye=Y.charAt(++Ie):Q=ye==="e"?" ":"0",(le=ne[ye])&&(ye=le(ue,Q)),H.push(ye),pe=Ie+1);return H.push(Y.slice(pe,Ie)),H.join("")}}function N(Y,ne){return function(ue){var H=Zo(1900,void 0,1),Ie=S(H,Y,ue+="",0),pe,Me;if(Ie!=ue.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ne&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(pe=lm(Zo(H.y,0,1)),Me=pe.getUTCDay(),pe=Me>4||Me===0?af.ceil(pe):af(pe),pe=Ih.offset(pe,(H.V-1)*7),H.y=pe.getUTCFullYear(),H.m=pe.getUTCMonth(),H.d=pe.getUTCDate()+(H.w+6)%7):(pe=om(Zo(H.y,0,1)),Me=pe.getDay(),pe=Me>4||Me===0?sf.ceil(pe):sf(pe),pe=Jc.offset(pe,(H.V-1)*7),H.y=pe.getFullYear(),H.m=pe.getMonth(),H.d=pe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Me="Z"in H?lm(Zo(H.y,0,1)).getUTCDay():om(Zo(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Me+5)%7:H.w+H.U*7-(Me+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,lm(H)):om(H)}}function S(Y,ne,ue,H){for(var Ie=0,pe=ne.length,Me=ue.length,ye,Q;Ie<pe;){if(H>=Me)return-1;if(ye=ne.charCodeAt(Ie++),ye===37){if(ye=ne.charAt(Ie++),Q=g[ye in cj?ne.charAt(Ie++):ye],!Q||(H=Q(Y,ue,H))<0)return-1}else if(ye!=ue.charCodeAt(H++))return-1}return H}function A(Y,ne,ue){var H=u.exec(ne.slice(ue));return H?(Y.p=d.get(H[0].toLowerCase()),ue+H[0].length):-1}function P(Y,ne,ue){var H=p.exec(ne.slice(ue));return H?(Y.w=v.get(H[0].toLowerCase()),ue+H[0].length):-1}function k(Y,ne,ue){var H=f.exec(ne.slice(ue));return H?(Y.w=h.get(H[0].toLowerCase()),ue+H[0].length):-1}function C(Y,ne,ue){var H=w.exec(ne.slice(ue));return H?(Y.m=x.get(H[0].toLowerCase()),ue+H[0].length):-1}function M(Y,ne,ue){var H=y.exec(ne.slice(ue));return H?(Y.m=b.get(H[0].toLowerCase()),ue+H[0].length):-1}function R(Y,ne,ue){return S(Y,t,ne,ue)}function I(Y,ne,ue){return S(Y,r,ne,ue)}function U(Y,ne,ue){return S(Y,n,ne,ue)}function W(Y){return o[Y.getDay()]}function T(Y){return i[Y.getDay()]}function L(Y){return c[Y.getMonth()]}function $(Y){return l[Y.getMonth()]}function q(Y){return s[+(Y.getHours()>=12)]}function V(Y){return 1+~~(Y.getMonth()/3)}function ee(Y){return o[Y.getUTCDay()]}function ge(Y){return i[Y.getUTCDay()]}function Te(Y){return c[Y.getUTCMonth()]}function He(Y){return l[Y.getUTCMonth()]}function It(Y){return s[+(Y.getUTCHours()>=12)]}function bt(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ne=j(Y+="",m);return ne.toString=function(){return Y},ne},parse:function(Y){var ne=N(Y+="",!1);return ne.toString=function(){return Y},ne},utcFormat:function(Y){var ne=j(Y+="",_);return ne.toString=function(){return Y},ne},utcParse:function(Y){var ne=N(Y+="",!0);return ne.toString=function(){return Y},ne}}}var cj={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,UK=/^%/,BK=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function zK(e){return e.replace(BK,"\\$&")}function Jo(e){return new RegExp("^(?:"+e.map(zK).join("|")+")","i")}function el(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function KK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uj(e,t,r){var n=Pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XK(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=Pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rV(e,t,r){var n=UK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pj(e,t){return Ne(e.getDate(),t,2)}function aV(e,t){return Ne(e.getHours(),t,2)}function iV(e,t){return Ne(e.getHours()%12||12,t,2)}function oV(e,t){return Ne(1+Jc.count(Gn(e),e),t,3)}function cO(e,t){return Ne(e.getMilliseconds(),t,3)}function lV(e,t){return cO(e,t)+"000"}function cV(e,t){return Ne(e.getMonth()+1,t,2)}function uV(e,t){return Ne(e.getMinutes(),t,2)}function dV(e,t){return Ne(e.getSeconds(),t,2)}function fV(e){var t=e.getDay();return t===0?7:t}function hV(e,t){return Ne(Mh.count(Gn(e)-1,e),t,2)}function uO(e){var t=e.getDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function pV(e,t){return e=uO(e),Ne(Gi.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function mV(e){return e.getDay()}function gV(e,t){return Ne(sf.count(Gn(e)-1,e),t,2)}function xV(e,t){return Ne(e.getFullYear()%100,t,2)}function vV(e,t){return e=uO(e),Ne(e.getFullYear()%100,t,2)}function yV(e,t){return Ne(e.getFullYear()%1e4,t,4)}function bV(e,t){var r=e.getDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function wV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function mj(e,t){return Ne(e.getUTCDate(),t,2)}function jV(e,t){return Ne(e.getUTCHours(),t,2)}function NV(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function SV(e,t){return Ne(1+Ih.count(Qn(e),e),t,3)}function dO(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function _V(e,t){return dO(e,t)+"000"}function AV(e,t){return Ne(e.getUTCMonth()+1,t,2)}function OV(e,t){return Ne(e.getUTCMinutes(),t,2)}function PV(e,t){return Ne(e.getUTCSeconds(),t,2)}function kV(e){var t=e.getUTCDay();return t===0?7:t}function EV(e,t){return Ne(Dh.count(Qn(e)-1,e),t,2)}function fO(e){var t=e.getUTCDay();return t>=4||t===0?Qi(e):Qi.ceil(e)}function CV(e,t){return e=fO(e),Ne(Qi.count(Qn(e),e)+(Qn(e).getUTCDay()===4),t,2)}function TV(e){return e.getUTCDay()}function $V(e,t){return Ne(af.count(Qn(e)-1,e),t,2)}function IV(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function MV(e,t){return e=fO(e),Ne(e.getUTCFullYear()%100,t,2)}function DV(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function RV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qi(e):Qi.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function LV(){return"+0000"}function gj(){return"%"}function xj(e){return+e}function vj(e){return Math.floor(+e/1e3)}var Ja,hO,pO;FV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FV(e){return Ja=FK(e),hO=Ja.format,Ja.parse,pO=Ja.utcFormat,Ja.utcParse,Ja}function UV(e){return new Date(e)}function BV(e){return e instanceof Date?+e:+new Date(+e)}function ry(e,t,r,n,s,i,o,l,c,u){var d=zv(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),m=u("%B"),_=u("%Y");function g(j){return(c(j)<j?p:l(j)<j?v:o(j)<j?y:i(j)<j?b:n(j)<j?s(j)<j?w:x:r(j)<j?m:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,BV)):h().map(UV)},d.ticks=function(j){var N=h();return e(N[0],N[N.length-1],j??10)},d.tickFormat=function(j,N){return N==null?g:u(N)},d.nice=function(j){var N=h();return(!j||typeof j.range!="function")&&(j=t(N[0],N[N.length-1],j??10)),j?h(eO(N,j)):d},d.copy=function(){return Zc(d,ry(e,t,r,n,s,i,o,l,c,u))},d}function zV(){return Hr.apply(ry(RK,LK,Gn,ey,Mh,Jc,Zv,Yv,ua,hO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WV(){return Hr.apply(ry(MK,DK,Qn,ty,Dh,Ih,Jv,Xv,ua,pO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rh(){var e=0,t=1,r,n,s,i,o=Xt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d($o),u.rangeRound=d(Bv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Ws(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mO(){var e=zs(Rh()(Xt));return e.copy=function(){return Ws(e,mO())},ts.apply(e,arguments)}function gO(){var e=Hv(Rh()).domain([1,10]);return e.copy=function(){return Ws(e,gO()).base(e.base())},ts.apply(e,arguments)}function xO(){var e=Kv(Rh());return e.copy=function(){return Ws(e,xO()).constant(e.constant())},ts.apply(e,arguments)}function ny(){var e=Vv(Rh());return e.copy=function(){return Ws(e,ny()).exponent(e.exponent())},ts.apply(e,arguments)}function qV(){return ny.apply(null,arguments).exponent(.5)}function vO(){var e=[],t=Xt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ts),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>EH(e,i/n))},r.copy=function(){return vO(t).domain(e)},ts.apply(r,arguments)}function Lh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Xt,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function v(y){return function(b){var w,x,m;return arguments.length?([w,x,m]=b,u=rK(y,[w,x,m]),p):[u(0),u(.5),u(1)]}}return p.range=v($o),p.rangeRound=v(Bv),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function yO(){var e=zs(Lh()(Xt));return e.copy=function(){return Ws(e,yO())},ts.apply(e,arguments)}function bO(){var e=Hv(Lh()).domain([.1,1,10]);return e.copy=function(){return Ws(e,bO()).base(e.base())},ts.apply(e,arguments)}function wO(){var e=Kv(Lh());return e.copy=function(){return Ws(e,wO()).constant(e.constant())},ts.apply(e,arguments)}function sy(){var e=Vv(Lh());return e.copy=function(){return Ws(e,sy()).exponent(e.exponent())},ts.apply(e,arguments)}function HV(){return sy.apply(null,arguments).exponent(.5)}const yj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:yO,scaleDivergingLog:bO,scaleDivergingPow:sy,scaleDivergingSqrt:HV,scaleDivergingSymlog:wO,scaleIdentity:JA,scaleImplicit:tg,scaleLinear:rf,scaleLog:tO,scaleOrdinal:Lv,scalePoint:Sl,scalePow:Gv,scaleQuantile:sO,scaleQuantize:aO,scaleRadial:nO,scaleSequential:mO,scaleSequentialLog:gO,scaleSequentialPow:ny,scaleSequentialQuantile:vO,scaleSequentialSqrt:qV,scaleSequentialSymlog:xO,scaleSqrt:_K,scaleSymlog:rO,scaleThreshold:iO,scaleTime:zV,scaleUtc:WV,tickFormat:ZA},Symbol.toStringTag,{value:"Module"}));var KV=So;function VV(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!KV(o):r(o,l)))var l=o,c=i}return c}var Fh=VV;function GV(e,t){return e>t}var jO=GV,QV=Fh,YV=jO,XV=To;function ZV(e){return e&&e.length?QV(e,XV,YV):void 0}var JV=ZV;const Uh=Ee(JV);function eG(e,t){return e<t}var NO=eG,tG=Fh,rG=NO,nG=To;function sG(e){return e&&e.length?tG(e,nG,rG):void 0}var aG=sG;const Bh=Ee(aG);var iG=vv,oG=Nn,lG=CA,cG=fr;function uG(e,t){var r=cG(e)?iG:lG;return r(e,oG(t))}var dG=uG,fG=kA,hG=dG;function pG(e,t){return fG(hG(e,t),1)}var mG=pG;const gG=Ee(mG);var xG=$v;function vG(e,t){return xG(e,t)}var yG=vG;const eu=Ee(yG);var Io=1e9,bG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iy,Je=!0,zr="[DecimalError] ",ga=zr+"Invalid argument: ",ay=zr+"Exponent out of range: ",Mo=Math.floor,ta=Math.pow,wG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,jt=1e7,Qe=7,SO=9007199254740991,of=Mo(SO/Qe),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return Bn(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return De(Bn(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return dt(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(vr)?new n(0):(Je=!1,t=Bn(fc(r,i),fc(e,i),i),Je=!0,De(t,s))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OO(t,e):_O(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(zr+"NaN");return r.s?(Je=!1,t=Bn(r,e,0,1).times(e),Je=!0,r.minus(t)):De(new n(r),s)};J.naturalExponential=J.exp=function(){return AO(this)};J.naturalLogarithm=J.ln=function(){return fc(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_O(t,e):OO(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ga+e);if(t=dt(s)+1,n=s.d.length-1,r=n*Qe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zr+"NaN")}for(e=dt(l),Je=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=pn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Mo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Bn(l,i,o+2)).times(.5),pn(i.d).slice(0,o)===(t=pn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(De(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Je=!0,De(n,r)};J.times=J.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%jt|0,t=l/jt|0;i[s]=(i[s]+t)%jt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Je?De(e,f.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,Io),t===void 0?t=n.rounding:bn(t,0,8),De(r,e+dt(r)+1,t))};J.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ca(n,!0):(bn(e,0,Io),t===void 0?t=s.rounding:bn(t,0,8),n=De(new s(n),e+1,t),r=Ca(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ca(s):(bn(e,0,Io),t===void 0?t=i.rounding:bn(t,0,8),n=De(new i(s),e+dt(s)+1,t),r=Ca(n.abs(),!1,e+dt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return De(new t(e),dt(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vr);if(l=new c(l),!l.s){if(e.s<1)throw Error(zr+"Infinity");return l}if(l.eq(vr))return l;if(n=c.precision,e.eq(vr))return De(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=SO){for(s=new c(vr),t=Math.ceil(n/Qe+4),Je=!1;r%2&&(s=s.times(l),wj(s.d,t)),r=Mo(r/2),r!==0;)l=l.times(l),wj(l.d,t);return Je=!0,e.s<0?new c(vr).div(s):De(s,n)}}else if(i<0)throw Error(zr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Je=!1,s=e.times(fc(l,n+u)),Je=!0,s=AO(s),s.s=i,s};J.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=dt(s),n=Ca(s,r<=i.toExpNeg||r>=i.toExpPos)):(bn(e,1,Io),t===void 0?t=i.rounding:bn(t,0,8),s=De(new i(s),e,t),r=dt(s),n=Ca(s,e<=r||r<=i.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,Io),t===void 0?t=n.rounding:bn(t,0,8)),De(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dt(e),r=e.constructor;return Ca(e,t<=r.toExpNeg||t>=r.toExpPos)};function _O(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Je?De(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Qe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/jt|0,c[i]%=jt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Je?De(t,f):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ga+e)}function pn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Qe-n.length,r&&(i+=ds(r)),i+=n;o=e[t],n=o+"",r=Qe-n.length,r&&(i+=ds(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%jt|0,o=i/jt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*jt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,v,y,b,w,x,m,_,g,j,N,S,A=n.constructor,P=n.s==s.s?1:-1,k=n.d,C=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(zr+"Division by zero");for(c=n.e-s.e,N=C.length,g=k.length,p=new A(P),v=p.d=[],u=0;C[u]==(k[u]||0);)++u;if(C[u]>(k[u]||0)&&--c,i==null?x=i=A.precision:o?x=i+(dt(n)-dt(s))+1:x=i,x<0)return new A(0);if(x=x/Qe+2|0,u=0,N==1)for(d=0,C=C[0],x++;(u<g||d)&&x--;u++)m=d*jt+(k[u]||0),v[u]=m/C|0,d=m%C|0;else{for(d=jt/(C[0]+1)|0,d>1&&(C=e(C,d),k=e(k,d),N=C.length,g=k.length),_=N,y=k.slice(0,N),b=y.length;b<N;)y[b++]=0;S=C.slice(),S.unshift(0),j=C[0],C[1]>=jt/2&&++j;do d=0,l=t(C,y,N,b),l<0?(w=y[0],N!=b&&(w=w*jt+(y[1]||0)),d=w/j|0,d>1?(d>=jt&&(d=jt-1),f=e(C,d),h=f.length,b=y.length,l=t(f,y,h,b),l==1&&(d--,r(f,N<h?S:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<b&&f.unshift(0),r(y,f,b),l==-1&&(b=y.length,l=t(C,y,N,b),l<1&&(d++,r(y,N<b?S:C,b))),b=y.length):l===0&&(d++,y=[0]),v[u++]=d,l&&y[0]?y[b++]=k[_]||0:(y=[k[_]],b=1);while((_++<g||y[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=c,De(p,o?i+dt(p)+1:i)}}();function AO(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(dt(e)>16)throw Error(ay+dt(e));if(!e.s)return new d(vr);for(t==null?(Je=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ta(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(vr),d.precision=l;;){if(s=De(s.times(e),l),r=r.times(++c),o=i.plus(Bn(s,r,l)),pn(o.d).slice(0,l)===pn(i.d).slice(0,l)){for(;u--;)i=De(i.times(i),l);return d.precision=f,t==null?(Je=!0,De(i,f)):i}i=o}}function dt(e){for(var t=e.e*Qe,r=e.d[0];r>=10;r/=10)t++;return t}function cm(e,t,r){if(t>e.LN10.sd())throw Je=!0,r&&(e.precision=r),Error(zr+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function ds(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,v=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(zr+(p.s?"NaN":"-Infinity"));if(p.eq(vr))return new y(0);if(t==null?(Je=!1,u=b):u=t,p.eq(10))return t==null&&(Je=!0),cm(y,u);if(u+=h,y.precision=u,r=pn(v),n=r.charAt(0),i=dt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pn(p.d),n=r.charAt(0),f++;i=dt(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return c=cm(y,u+2,b).times(i+""),p=fc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=b,t==null?(Je=!0,De(p,b)):p;for(l=o=p=Bn(p.minus(vr),p.plus(vr),u),d=De(p.times(p),u),s=3;;){if(o=De(o.times(d),u),c=l.plus(Bn(o,new y(s),u)),pn(c.d).slice(0,u)===pn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(cm(y,u+2,b).times(i+""))),l=Bn(l,new y(f),u),y.precision=b,t==null?(Je=!0,De(l,b)):l;l=c,s+=2}}function bj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Mo(r/Qe),e.d=[],n=(r+1)%Qe,r<0&&(n+=Qe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Qe;n<s;)e.d.push(+t.slice(n,n+=Qe));t=t.slice(n),n=Qe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Je&&(e.e>of||e.e<-of))throw Error(ay+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qe,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qe,s=n-Qe+o}if(r!==void 0&&(i=ta(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ta(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=dt(e),f.length=1,t=t-i-1,f[0]=ta(10,(Qe-t%Qe)%Qe),e.e=Mo(-t/Qe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ta(10,Qe-n),f[d]=s>0?(u/ta(10,o-s)%ta(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==jt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=jt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Je&&(e.e>of||e.e<-of))throw Error(ay+dt(e));return e}function OO(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Je?De(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Qe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=jt-1;--c[i],c[s]+=jt}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Je?De(t,p):t):new h(0)}function Ca(e,t,r){var n,s=dt(e),i=pn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ds(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ds(-s-1)+i,r&&(n=r-o)>0&&(i+=ds(n))):s>=o?(i+=ds(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ds(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ds(n))),e.s<0?"-"+i:i}function wj(e,t){if(e.length>t)return e.length=t,!0}function PO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ga+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bj(o,i.toString())}else if(typeof i!="string")throw Error(ga+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,wG.test(i))bj(o,i);else throw Error(ga+i)}if(s.prototype=J,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PO,s.config=s.set=jG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function jG(e){if(!e||typeof e!="object")throw Error(zr+"Object expected");var t,r,n,s=["precision",1,Io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Mo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ga+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ga+r+": "+n);return this}var iy=PO(bG);vr=new iy(1);const $e=iy;function NG(e){return OG(e)||AG(e)||_G(e)||SG()}function SG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(e,t){if(e){if(typeof e=="string")return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}}function AG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OG(e){if(Array.isArray(e))return ag(e)}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PG=function(t){return t},kO={"@@functional/placeholder":!0},EO=function(t){return t===kO},jj=function(t){return function r(){return arguments.length===0||arguments.length===1&&EO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},kG=function e(t,r){return t===1?r:jj(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==kO}).length;return o>=t?r.apply(void 0,s):e(t-o,jj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return EO(f)?c.shift():f});return r.apply(void 0,NG(d).concat(c))}))})},zh=function(t){return kG(t.length,t)},ig=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},EG=zh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),CG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},og=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function TG(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function $G(e,t,r){for(var n=new $e(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var IG=zh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),MG=zh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),DG=zh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Wh={rangeStep:$G,getDigitCount:TG,interpolateNumber:IG,uninterpolateNumber:MG,uninterpolateTruncation:DG};function lg(e){return FG(e)||LG(e)||TO(e)||RG()}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FG(e){if(Array.isArray(e))return cg(e)}function hc(e,t){return zG(e)||BG(e,t)||TO(e,t)||UG()}function UG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TO(e,t){if(e){if(typeof e=="string")return cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cg(e,t)}}function cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function zG(e){if(Array.isArray(e))return e}function $O(e){var t=hc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function IO(e,t,r){if(e.lte(0))return new $e(0);var n=Wh.getDigitCount(e.toNumber()),s=new $e(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new $e(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new $e(Math.ceil(c))}function WG(e,t,r){var n=1,s=new $e(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new $e(10).pow(Wh.getDigitCount(e)-1),s=new $e(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new $e(Math.floor(e)))}else e===0?s=new $e(Math.floor((t-1)/2)):r||(s=new $e(Math.floor(e)));var o=Math.floor((t-1)/2),l=CG(EG(function(c){return s.add(new $e(c-o).mul(n)).toNumber()}),ig);return l(0,t)}function MO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var i=IO(new $e(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new $e(0):(o=new $e(e).add(t).div(2),o=o.sub(new $e(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new $e(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?MO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new $e(l).mul(i)),tickMax:o.add(new $e(c).mul(i))})}function qG(e){var t=hc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=$O([r,n]),c=hc(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(lg(ig(0,s-1).map(function(){return 1/0}))):[].concat(lg(ig(0,s-1).map(function(){return-1/0})),[d]);return r>n?og(f):f}if(u===d)return WG(u,s,i);var h=MO(u,d,o,i),p=h.step,v=h.tickMin,y=h.tickMax,b=Wh.rangeStep(v,y.add(new $e(.1).mul(p)),p);return r>n?og(b):b}function HG(e,t){var r=hc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$O([n,s]),l=hc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=IO(new $e(u).sub(c).div(d-1),i,0),h=[].concat(lg(Wh.rangeStep(new $e(c),new $e(u).sub(new $e(.99).mul(f)),f)),[u]);return n>s?og(h):h}var KG=CO(qG),VG=CO(HG),GG="Invariant failed";function Ta(e,t){throw new Error(GG)}var QG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function YG(e,t){return eQ(e)||JG(e,t)||ZG(e,t)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e,t){if(e){if(typeof e=="string")return Nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(e,t)}}function Nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eQ(e){if(Array.isArray(e))return e}function tQ(e,t){if(e==null)return{};var r=rQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function aQ(e,t,r){return t&&sQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iQ(e,t,r){return t=cf(t),oQ(e,DO()?Reflect.construct(t,r||[],cf(e).constructor):t.apply(e,r))}function oQ(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cf(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ug(e,t)}function RO(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=uQ(e,"string");return Yi(t)=="symbol"?t:t+""}function uQ(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tu=function(e){function t(){return nQ(this,t),iQ(this,t,arguments)}return cQ(t,e),aQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tQ(n,QG),p=se(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ta();var v=c.map(function(y){var b=u(y,l),w=b.x,x=b.y,m=b.value,_=b.errorVal;if(!_)return null;var g=[],j,N;if(Array.isArray(_)){var S=YG(_,2);j=S[0],N=S[1]}else j=N=_;if(i==="vertical"){var A=d.scale,P=x+s,k=P+o,C=P-o,M=A(m-j),R=A(m+N);g.push({x1:R,y1:k,x2:R,y2:C}),g.push({x1:M,y1:P,x2:R,y2:P}),g.push({x1:M,y1:k,x2:M,y2:C})}else if(i==="horizontal"){var I=f.scale,U=w+s,W=U-o,T=U+o,L=I(m-j),$=I(m+N);g.push({x1:W,y1:$,x2:T,y2:$}),g.push({x1:U,y1:L,x2:U,y2:$}),g.push({x1:W,y1:L,x2:T,y2:L})}return E.createElement(je,lf({className:"recharts-errorBar",key:"bar-".concat(g.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),g.map(function(q){return E.createElement("line",lf({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return E.createElement(je,{className:"recharts-errorBars"},v)}}])}(E.Component);RO(tu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RO(tu,"displayName","ErrorBar");function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return pc(t)=="symbol"?t:t+""}function hQ(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=gr(r,Ei);if(!o)return null;var l=Ei.defaultProps,c=l!==void 0?Vs(Vs({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Vs(Vs({},h),f.props):{},v=p.dataKey,y=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:v,type:c.iconType||b||"square",color:oy(f),value:y||v,payload:p}}),Vs(Vs(Vs({},c),Ei.getWithHeight(o,s)),{},{payload:u,item:o})};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function _j(e){return xQ(e)||gQ(e)||mQ(e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function gQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xQ(e){if(Array.isArray(e))return dg(e)}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ti(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=yQ(e,"string");return mc(t)=="symbol"?t:t+""}function yQ(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return ce(e)||ce(t)?r:vt(t)?wr(e,t,r):oe(t)?t(e):r}function _l(e,t,r,n){var s=gG(e,function(l){return gt(l,t)});if(r==="number"){var i=s.filter(function(l){return G(l)||parseFloat(l)});return i.length?[Bh(i),Uh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ce(l)}):s;return o.map(function(l){return vt(l)||l instanceof Date?l:""})}var bQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Qt(f-d)!==Qt(h-f)){var v=[];if(Qt(h-f)===Qt(c[1]-c[0])){p=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{p=d;var b=h+c[1]-c[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){o=s[u].index;break}}else{var x=Math.min(d,h),m=Math.max(d,h);if(t>(x+f)/2&&t<=(m+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},oy=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wQ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,w=y.filter(function(N){return Un(N.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,m=x!==void 0?at(at({},x),w[0].props):w[0].props,_=m.barSize,g=m[b];o[g]||(o[g]=[]);var j=ce(_)?r:_;o[g].push({item:w[0],stackList:w.slice(1),barSize:ce(j)?void 0:Yt(j,n,0)})}}return o},jQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Yt(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,v=o.reduce(function(_,g){return _+g.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&p>0&&(h=!0,p*=.9,v=c*p);var y=(s-v)/2>>0,b={offset:y-u,size:0};d=o.reduce(function(_,g){var j={item:g.item,position:{offset:b.offset+b.size+u,size:h?p:g.barSize}},N=[].concat(_j(_),[j]);return b=N[N.length-1].position,g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){N.push({item:S,position:b})}),N},f)}else{var w=Yt(n,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var x=(s-2*w-(c-1)*u)/c;x>1&&(x>>=0);var m=l===+l?Math.min(x,l):x;d=o.reduce(function(_,g,j){var N=[].concat(_j(_),[{item:g.item,position:{offset:w+(x+u)*j+(x-m)/2,size:m}}]);return g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},f)}return d},NQ=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=FO({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&p!=="center"&&G(t[p]))return at(at({},t),{},Ti({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&v!=="middle"&&G(t[v]))return at(at({},t),{},Ti({},v,t[v]+(h||0)))}return t},SQ=function(t,r,n){return ce(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},UO=function(t,r,n,s,i){var o=r.props.children,l=jr(o,tu).filter(function(u){return SQ(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gt(d,n);if(ce(f))return u;var h=Array.isArray(f)?[Bh(f),Uh(f)]:[f,f],p=c.reduce(function(v,y){var b=gt(d,y,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},_Q=function(t,r,n,s,i){var o=r.map(function(l){return UO(t,l,n,i,s)}).filter(function(l){return!ce(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},BO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&UO(t,c,u,s)||_l(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},zO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},WO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ln=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Gc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},um=new WeakMap,Mu=function(t,r){if(typeof r!="function")return t;um.has(t)||um.set(t,new WeakMap);var n=um.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},qO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:oc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sl(),realScaleType:"point"}:i==="category"?{scale:oc(),realScaleType:"band"}:{scale:rf(),realScaleType:"linear"};if(Pa(s)){var c="scale".concat(Ah(s));return{scale:(yj[c]||Sl)(),realScaleType:yj[c]?c:"point"}}return oe(s)?{scale:s}:{scale:Sl(),realScaleType:"point"}},Oj=1e-4,HO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Oj,o=Math.max(s[0],s[1])+Oj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},AQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},OQ=function(t,r){if(!r||r.length!==2||!G(r[0])||!G(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!G(t[0])||t[0]<n)&&(i[0]=n),(!G(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},PQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Gc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},kQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Gc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},EQ={sign:PQ,expand:QR,none:zi,silhouette:YR,wiggle:XR,positive:kQ},CQ=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=EQ[n],o=GR().keys(s).value(function(l,c){return+gt(l,c,0)}).order(D0).offset(i);return o(t)},TQ=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?at(at({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var w=v[n],x=f[w]||{hasStack:!1,stackGroups:{}};if(vt(y)){var m=x.stackGroups[y]||{numericAxisId:n,cateAxisId:s,items:[]};m.items.push(h),x.hasStack=!0,x.stackGroups[y]=m}else x.stackGroups[ko("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return at(at({},f),{},Ti({},w,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var w=p.stackGroups[b];return at(at({},y),{},Ti({},b,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:CQ(t,w.items,i)}))},v)}return at(at({},f),{},Ti({},h,p))},d)},KO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=KG(u,i,l);return t.domain([Bh(d),Uh(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=VG(f,i,l);return{niceTicks:h}}return null};function Pj(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ce(s[t.dataKey])){var l=Md(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=gt(s,ce(o)?t.dataKey:o);return ce(c)?null:t.scale(c)}var kj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=gt(o,r.dataKey,r.domain[l]);return ce(c)?null:r.scale(c)-i/2+s},$Q=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},IQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(vt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},MQ=function(t){return t.reduce(function(r,n){return[Bh(n.concat([r[0]]).filter(G)),Uh(n.concat([r[1]]).filter(G))]},[1/0,-1/0])},VO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=MQ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Ej=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fg=function(t,r,n){if(oe(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(G(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Ej.test(t[0])){var i=+Ej.exec(t[0])[1];s[0]=r[0]-i}else oe(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(G(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Cj.test(t[1])){var o=+Cj.exec(t[1])[1];s[1]=r[1]+o}else oe(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},uf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Mv(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Tj=function(t,r,n){return!t||!t.length||eu(t,wr(n,"type.defaultProps.domain"))?r:t},GO=function(t,r){var n=t.type.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return at(at({},se(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:oy(t),value:gt(r,s),type:c,payload:r,chartType:u,hide:d})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){QO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QO(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=RQ(e,"string");return gc(t)=="symbol"?t:t+""}function RQ(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){return zQ(e)||BQ(e,t)||UQ(e,t)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(e,t){if(e){if(typeof e=="string")return Ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ij(e,t)}}function Ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zQ(e){if(Array.isArray(e))return e}var df=Math.PI/180,WQ=function(t){return t*180/Math.PI},qe=function(t,r,n,s){return{x:t+Math.cos(-df*s)*n,y:r+Math.sin(-df*s)*n}},YO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qQ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Yt(t.cx,o,o/2),f=Yt(t.cy,l,l/2),h=YO(o,l,n),p=Yt(t.innerRadius,h,0),v=Yt(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(b,w){var x=r[w],m=x.domain,_=x.reversed,g;if(ce(x.range))s==="angleAxis"?g=[c,u]:s==="radiusAxis"&&(g=[p,v]),_&&(g=[g[1],g[0]]);else{g=x.range;var j=g,N=LQ(j,2);c=N[0],u=N[1]}var S=qO(x,i),A=S.realScaleType,P=S.scale;P.domain(m).range(g),HO(P);var k=KO(P,kn(kn({},x),{},{realScaleType:A})),C=kn(kn(kn({},x),k),{},{range:g,radius:v,realScaleType:A,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return kn(kn({},b),{},QO({},w,C))},{})},HQ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},KQ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=HQ({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:WQ(u),angleInRadian:u}},VQ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},GQ=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Mj=function(t,r){var n=t.x,s=t.y,i=KQ({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=VQ(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?kn(kn({},r),{},{radius:o,angle:GQ(p,r)}):null},XO=function(t){return!O.isValidElement(t)&&!oe(t)&&typeof t!="boolean"?t.className:""};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var QQ=["offset"];function YQ(e){return eY(e)||JQ(e)||ZQ(e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(e,t){if(e){if(typeof e=="string")return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hg(e,t)}}function JQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eY(e){if(Array.isArray(e))return hg(e)}function hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tY(e,t){if(e==null)return{};var r=rY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return t=sY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=aY(e,"string");return xc(t)=="symbol"?t:t+""}function aY(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}var iY=function(t){var r=t.value,n=t.formatter,s=ce(t.children)?r:t.children;return oe(n)?n(s):s},oY=function(t,r){var n=Qt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},lY=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,y=c.clockWise,b=(f+h)/2,w=oY(p,v),x=w>=0?1:-1,m,_;s==="insideStart"?(m=p+x*o,_=y):s==="insideEnd"?(m=v-x*o,_=!y):s==="end"&&(m=v+x*o,_=y),_=w<=0?_:!_;var g=qe(u,d,b,m),j=qe(u,d,b,m+(_?1:-1)*359),N="M".concat(g.x,",").concat(g.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),S=ce(t.id)?ko("recharts-radial-line-"):t.id;return E.createElement("text",vc({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:S,d:N})),E.createElement("textPath",{xlinkHref:"#".concat(S)},r))},cY=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=qe(o,l,u+n,h),v=p.x,y=p.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,w=qe(o,l,b,h),x=w.x,m=w.y;return{x,y:m,textAnchor:"middle",verticalAnchor:"middle"}},uY=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*s,w=y>0?"end":"start",x=y>0?"start":"end";if(i==="top"){var m={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return pt(pt({},m),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return pt(pt({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var g={x:l-b,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return pt(pt({},g),n?{width:Math.max(g.x-n.x,0),height:d}:{})}if(i==="right"){var j={x:l+u+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return pt(pt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?pt({x:l+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideRight"?pt({x:l+u-b,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideTop"?pt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):i==="insideBottom"?pt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?pt({x:l+b,y:c+h,textAnchor:x,verticalAnchor:v},N):i==="insideTopRight"?pt({x:l+u-b,y:c+h,textAnchor:w,verticalAnchor:v},N):i==="insideBottomLeft"?pt({x:l+b,y:c+d-h,textAnchor:x,verticalAnchor:p},N):i==="insideBottomRight"?pt({x:l+u-b,y:c+d-h,textAnchor:w,verticalAnchor:p},N):_o(i)&&(G(i.x)||la(i.x))&&(G(i.y)||la(i.y))?pt({x:l+Yt(i.x,u),y:c+Yt(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):pt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},dY=function(t){return"cx"in t&&G(t.cx)};function St(e){var t=e.offset,r=t===void 0?5:t,n=tY(e,QQ),s=pt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||ce(l)&&ce(c)&&!O.isValidElement(u)&&!oe(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(oe(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=iY(s);var v=dY(i),y=se(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lY(s,p,y);var b=v?cY(s):uY(s);return E.createElement(Ea,vc({className:fe("recharts-label",f)},y,b,{breakAll:h}),p)}St.displayName="Label";var ZO=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,y=t.width,b=t.height,w=t.clockWise,x=t.labelViewBox;if(x)return x;if(G(y)&&G(b)){if(G(f)&&G(h))return{x:f,y:h,width:y,height:b};if(G(p)&&G(v))return{x:p,y:v,width:y,height:b}}return G(f)&&G(h)?{x:f,y:h,width:0,height:0}:G(r)&&G(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},fY=function(t,r){return t?t===!0?E.createElement(St,{key:"label-implicit",viewBox:r}):vt(t)?E.createElement(St,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===St?O.cloneElement(t,{key:"label-implicit",viewBox:r}):E.createElement(St,{key:"label-implicit",content:t,viewBox:r}):oe(t)?E.createElement(St,{key:"label-implicit",content:t,viewBox:r}):_o(t)?E.createElement(St,vc({viewBox:r},t,{key:"label-implicit"})):null:null},hY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=ZO(t),o=jr(s,St).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=fY(t.label,r||i);return[l].concat(YQ(o))};St.parseViewBox=ZO;St.renderCallByParent=hY;function pY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mY=pY;const gY=Ee(mY);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var xY=["valueAccessor"],vY=["data","dataKey","clockWise","id","textBreakAll"];function yY(e){return NY(e)||jY(e)||wY(e)||bY()}function bY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(e,t){if(e){if(typeof e=="string")return pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pg(e,t)}}function jY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NY(e){if(Array.isArray(e))return pg(e)}function pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=AY(e,"string");return yc(t)=="symbol"?t:t+""}function AY(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fj(e,t){if(e==null)return{};var r=OY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PY=function(t){return Array.isArray(t.value)?gY(t.value):t.value};function zn(e){var t=e.valueAccessor,r=t===void 0?PY:t,n=Fj(e,xY),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Fj(n,vY);return!s||!s.length?null:E.createElement(je,{className:"recharts-label-list"},s.map(function(d,f){var h=ce(i)?r(d,f):gt(d&&d.payload,i),p=ce(l)?{}:{id:"".concat(l,"-").concat(f)};return E.createElement(St,ff({},se(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:St.parseViewBox(ce(o)?d:Lj(Lj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}zn.displayName="LabelList";function kY(e,t){return e?e===!0?E.createElement(zn,{key:"labelList-implicit",data:t}):E.isValidElement(e)||oe(e)?E.createElement(zn,{key:"labelList-implicit",data:t,content:e}):_o(e)?E.createElement(zn,ff({data:t},e,{key:"labelList-implicit"})):null:null}function EY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=jr(n,zn).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=kY(e.label,t);return[i].concat(yY(s))}zn.renderCallByParent=EY;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=$Y(e,"string");return bc(t)=="symbol"?t:t+""}function $Y(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IY=function(t,r){var n=Qt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Du=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/df,h=u?i:i+o*f,p=qe(r,n,d,h),v=qe(r,n,s,h),y=u?i-o*f:i,b=qe(r,n,d*Math.cos(f*df),y);return{center:p,circleTangency:v,lineTangency:b,theta:f}},JO=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=IY(o,l),u=o+c,d=qe(r,n,i,o),f=qe(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=qe(r,n,s,o),v=qe(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},MY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Qt(d-u),h=Du({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,y=h.theta,b=Du({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=b.circleTangency,x=b.lineTangency,m=b.theta,_=c?Math.abs(u-d):Math.abs(u-d)-y-m;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):JO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var g="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var j=Du({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=j.circleTangency,S=j.lineTangency,A=j.theta,P=Du({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=P.circleTangency,C=P.lineTangency,M=P.theta,R=c?Math.abs(u-d):Math.abs(u-d)-A-M;if(R<0&&o===0)return"".concat(g,"L").concat(r,",").concat(n,"Z");g+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else g+="L".concat(r,",").concat(n,"Z");return g},DY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eP=function(t){var r=Bj(Bj({},DY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=fe("recharts-sector",h),v=o-i,y=Yt(l,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=MY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=JO({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),E.createElement("path",mg({},se(r,!0),{className:p,d:b,role:"img"}))};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return t=LY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=FY(e,"string");return wc(t)=="symbol"?t:t+""}function FY(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qj={curveBasisClosed:RR,curveBasisOpen:LR,curveBasis:DR,curveBumpX:jR,curveBumpY:NR,curveLinearClosed:FR,curveLinear:Ph,curveMonotoneX:UR,curveMonotoneY:BR,curveNatural:zR,curveStep:WR,curveStepAfter:HR,curveStepBefore:qR},Ru=function(t){return t.x===+t.x&&t.y===+t.y},tl=function(t){return t.x},rl=function(t){return t.y},UY=function(t,r){if(oe(t))return t;var n="curve".concat(Ah(t));return(n==="curveMonotone"||n==="curveBump")&&r?qj["".concat(n).concat(r==="vertical"?"Y":"X")]:qj[n]||Ph},BY=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=UY(n,l),f=u?i.filter(function(y){return Ru(y)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(y){return Ru(y)}):o,v=f.map(function(y,b){return Wj(Wj({},y),{},{base:p[b]})});return l==="vertical"?h=Ou().y(rl).x1(tl).x0(function(y){return y.base.x}):h=Ou().x(tl).y1(rl).y0(function(y){return y.base.y}),h.defined(Ru).curve(d),h(v)}return l==="vertical"&&G(o)?h=Ou().y(rl).x1(tl).x0(o):G(o)?h=Ou().x(tl).y1(rl).y0(o):h=G4().x(tl).y(rl),h.defined(Ru).curve(d),h(f)},hf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?BY(t):s;return O.createElement("path",gg({},se(t,!1),Dd(t),{className:fe("recharts-curve",r),d:o,ref:i}))},tP={exports:{}},zY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WY=zY,qY=WY;function rP(){}function nP(){}nP.resetWarningCache=rP;var HY=function(){function e(n,s,i,o,l,c){if(c!==qY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nP,resetWarningCache:rP};return r.PropTypes=r,r};tP.exports=HY();var KY=tP.exports;const _e=Ee(KY);var VY=Object.getOwnPropertyNames,GY=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty;function Hj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Lu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Kj(e){return VY(e).concat(GY(e))}var YY=Object.hasOwn||function(e,t){return QY.call(e,t)};function za(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var XY="__v",ZY="__o",JY="_owner",Vj=Object.getOwnPropertyDescriptor,Gj=Object.keys;function eX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tX(e,t){return za(e.getTime(),t.getTime())}function rX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function nX(e,t){return e===t}function Qj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var sX=za;function aX(e,t,r){var n=Gj(e),s=n.length;if(Gj(t).length!==s)return!1;for(;s-- >0;)if(!sP(e,t,r,n[s]))return!1;return!0}function nl(e,t,r){var n=Kj(e),s=n.length;if(Kj(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!sP(e,t,r,i)||(o=Vj(e,i),l=Vj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function iX(e,t){return za(e.valueOf(),t.valueOf())}function oX(e,t){return e.source===t.source&&e.flags===t.flags}function Yj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function lX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function cX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sP(e,t,r,n){return(n===JY||n===ZY||n===XY)&&(e.$$typeof||t.$$typeof)?!0:YY(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var uX="[object Arguments]",dX="[object Boolean]",fX="[object Date]",hX="[object Error]",pX="[object Map]",mX="[object Number]",gX="[object Object]",xX="[object RegExp]",vX="[object Set]",yX="[object String]",bX="[object URL]",wX=Array.isArray,Xj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Zj=Object.assign,jX=Object.prototype.toString.call.bind(Object.prototype.toString);function NX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;var w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?o(v,y,b):w==="function"?s(v,y,b):!1;var x=v.constructor;if(x!==y.constructor)return!1;if(x===Object)return l(v,y,b);if(wX(v))return t(v,y,b);if(Xj!=null&&Xj(v))return f(v,y,b);if(x===Date)return r(v,y,b);if(x===RegExp)return u(v,y,b);if(x===Map)return i(v,y,b);if(x===Set)return d(v,y,b);var m=jX(v);return m===fX?r(v,y,b):m===xX?u(v,y,b):m===pX?i(v,y,b):m===vX?d(v,y,b):m===gX?typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b):m===bX?h(v,y,b):m===hX?n(v,y,b):m===uX?l(v,y,b):m===dX||m===mX||m===yX?c(v,y,b):!1}}function SX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?nl:eX,areDatesEqual:tX,areErrorsEqual:rX,areFunctionsEqual:nX,areMapsEqual:n?Hj(Qj,nl):Qj,areNumbersEqual:sX,areObjectsEqual:n?nl:aX,arePrimitiveWrappersEqual:iX,areRegExpsEqual:oX,areSetsEqual:n?Hj(Yj,nl):Yj,areTypedArraysEqual:n?nl:lX,areUrlsEqual:cX};if(r&&(s=Zj({},s,r(s))),t){var i=Lu(s.areArraysEqual),o=Lu(s.areMapsEqual),l=Lu(s.areObjectsEqual),c=Lu(s.areSetsEqual);s=Zj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function _X(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function AX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var OX=qs();qs({strict:!0});qs({circular:!0});qs({circular:!0,strict:!0});qs({createInternalComparator:function(){return za}});qs({strict:!0,createInternalComparator:function(){return za}});qs({circular:!0,createInternalComparator:function(){return za}});qs({circular:!0,createInternalComparator:function(){return za},strict:!0});function qs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=SX(e),c=NX(l),u=n?n(c):_X(c);return AX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function PX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Jj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):PX(s)};requestAnimationFrame(n)}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function kX(e){return $X(e)||TX(e)||CX(e)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $X(e){if(Array.isArray(e))return e}function IX(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=kX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Jj(s.bind(null,u),c);return}s(c),Jj(s.bind(null,u));return}xg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){aP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aP(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=DX(e,"string");return jc(t)==="symbol"?t:String(t)}function DX(e,t){if(jc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},LX=function(t){return t},FX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Al=function(t,r){return Object.keys(r).reduce(function(n,s){return rN(rN({},n),{},aP({},s,t(s,r[s])))},{})},nN=function(t,r,n){return t.map(function(s){return"".concat(FX(s)," ").concat(r,"ms ").concat(n)}).join(",")};function UX(e,t){return WX(e)||zX(e,t)||iP(e,t)||BX()}function BX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WX(e){if(Array.isArray(e))return e}function qX(e){return VX(e)||KX(e)||iP(e)||HX()}function HX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(e,t){if(e){if(typeof e=="string")return vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vg(e,t)}}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return vg(e)}function vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pf=1e-4,oP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},sN=function(t,r){return function(n){var s=oP(t,r);return lP(s,n)}},GX=function(t,r){return function(n){var s=oP(t,r),i=[].concat(qX(s.map(function(o,l){return o*l}).slice(1)),[0]);return lP(i,n)}},aN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=UX(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=sN(s,o),h=sN(i,l),p=GX(s,o),v=function(w){return w>1?1:w<0?0:w},y=function(w){for(var x=w>1?1:w,m=x,_=0;_<8;++_){var g=f(m)-x,j=p(m);if(Math.abs(g-x)<pf||j<pf)return h(m);m=v(m-g/j)}return h(m)};return y.isStepper=!1,y},QX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*i,y=h+(p-v)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<pf&&Math.abs(y)<pf?[f,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},YX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aN(s);case"spring":return QX();default:if(s.split("(")[0]==="cubic-bezier")return aN(s)}return typeof s=="function"?s:null};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function iN(e){return JX(e)||ZX(e)||cP(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JX(e){if(Array.isArray(e))return bg(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yg(e,t,r){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return Nc(t)==="symbol"?t:String(t)}function tZ(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e,t){return aZ(e)||sZ(e,t)||cP(e,t)||nZ()}function nZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cP(e,t){if(e){if(typeof e=="string")return bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(e,t)}}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function aZ(e){if(Array.isArray(e))return e}var mf=function(t,r,n){return t+(r-t)*n},wg=function(t){var r=t.from,n=t.to;return r!==n},iZ=function e(t,r,n){var s=Al(function(i,o){if(wg(o)){var l=t(o.from,o.to,o.velocity),c=rZ(l,2),u=c[0],d=c[1];return kt(kt({},o),{},{from:u,velocity:d})}return o},r);return n<1?Al(function(i,o){return wg(o)?kt(kt({},o),{},{velocity:mf(o.velocity,s[i].velocity,n),from:mf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const oZ=function(e,t,r,n,s){var i=RX(e,t),o=i.reduce(function(b,w){return kt(kt({},b),{},yg({},w,[e[w],t[w]]))},{}),l=i.reduce(function(b,w){return kt(kt({},b),{},yg({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Al(function(w,x){return x.from},l)},p=function(){return!Object.values(l).filter(wg).length},v=function(w){u||(u=w);var x=w-u,m=x/r.dt;l=iZ(r,l,m),s(kt(kt(kt({},e),t),h())),u=w,p()||(c=requestAnimationFrame(f))},y=function(w){d||(d=w);var x=(w-d)/n,m=Al(function(g,j){return mf.apply(void 0,iN(j).concat([r(x)]))},o);if(s(kt(kt(kt({},e),t),m)),x<1)c=requestAnimationFrame(f);else{var _=Al(function(g,j){return mf.apply(void 0,iN(j).concat([r(1)]))},o);s(kt(kt(kt({},e),t),_))}};return f=r.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}var lZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cZ(e,t){if(e==null)return{};var r=uZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function dm(e){return pZ(e)||hZ(e)||fZ(e)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){if(e){if(typeof e=="string")return jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jg(e,t)}}function hZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pZ(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dl(e,t,r){return t=uP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function xZ(e,t,r){return t&&gZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uP(e){var t=vZ(e,"string");return Xi(t)==="symbol"?t:String(t)}function vZ(e,t){if(Xi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ng(e,t)}function bZ(e){var t=wZ();return function(){var n=gf(e),s;if(t){var i=gf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Sg(this,s)}}function Sg(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _g(e)}function _g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}var wn=function(e){yZ(r,e);var t=bZ(r);function r(n,s){var i;mZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_g(i)),i.changeStyle=i.changeStyle.bind(_g(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Sg(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Sg(i);i.state={style:c?dl({},c,u):u}}else i.state={style:{}};return i}return xZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?dl({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(OX(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:s.to;if(this.state&&h){var b={style:c?dl({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(b)}this.runAnimation(Vr(Vr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=oZ(o,l,YX(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,b,w){if(w===0)return y;var x=b.duration,m=b.easing,_=m===void 0?"ease":m,g=b.style,j=b.properties,N=b.onAnimationEnd,S=w>0?o[w-1]:b,A=j||Object.keys(g);if(typeof _=="function"||_==="spring")return[].concat(dm(y),[i.runJSAnimation.bind(i,{from:S.style,to:g,duration:x,easing:_}),x]);var P=nN(A,x,_),k=Vr(Vr(Vr({},S.style),g),{},{transition:P});return[].concat(dm(y),[k,x,N]).filter(LX)};return this.manager.start([c].concat(dm(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=IX());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var y=l?dl({},l,c):c,b=nN(Object.keys(y),o,u);v.start([d,i,Vr(Vr({},y),{},{transition:b}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=cZ(s,lZ),u=O.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var v=p.props,y=v.style,b=y===void 0?{}:y,w=v.className,x=O.cloneElement(p,Vr(Vr({},c),{},{style:Vr(Vr({},b),d),className:w}));return x};return u===1?f(O.Children.only(i)):E.createElement("div",null,O.Children.map(i,function(h){return f(h)}))}}]),r}(O.PureComponent);wn.displayName="Animate";wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wn.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function jZ(e,t){return AZ(e)||_Z(e,t)||SZ(e,t)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Z(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function AZ(e){if(Array.isArray(e))return e}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=kZ(e,"string");return Sc(t)=="symbol"?t:t+""}function kZ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fN=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+s,`
            L `).concat(t+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},EZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},CZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ly=function(t){var r=dN(dN({},CZ),t),n=O.useRef(),s=O.useState(-1),i=jZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,y=r.animationDuration,b=r.animationBegin,w=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var m=fe("recharts-rectangle",p);return x?E.createElement(wn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:x},function(_){var g=_.width,j=_.height,N=_.x,S=_.y;return E.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:v},E.createElement("path",xf({},se(r,!0),{className:m,d:fN(N,S,g,j,h),ref:n})))}):E.createElement("path",xf({},se(r,!0),{className:m,d:fN(c,u,d,f,h)}))},TZ=["points","className","baseLinePoints","connectNulls"];function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function $Z(e,t){if(e==null)return{};var r=IZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hN(e){return LZ(e)||RZ(e)||DZ(e)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}}function RZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LZ(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pN=function(t){return t&&t.x===+t.x&&t.y===+t.y},FZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){pN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),pN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ol=function(t,r){var n=FZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(hN(i),hN(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},UZ=function(t,r,n){var s=Ol(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Ol(r.reverse(),n).slice(1))},BZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=$Z(t,TZ);if(!r||!r.length)return null;var l=fe("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=UZ(r,s,i);return E.createElement("g",{className:l},E.createElement("path",vi({},se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?E.createElement("path",vi({},se(o,!0),{fill:"none",d:Ol(r,i)})):null,c?E.createElement("path",vi({},se(o,!0),{fill:"none",d:Ol(s,i)})):null)}var d=Ol(r,i);return E.createElement("path",vi({},se(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}var qh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=fe("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",Og({},se(t,!1),Dd(t),{className:o,cx:r,cy:n,r:s})):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var zZ=["x","y","top","left","width","height","className"];function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=KZ(e,"string");return _c(t)=="symbol"?t:t+""}function KZ(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VZ(e,t){if(e==null)return{};var r=GZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QZ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},YZ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,y=VZ(t,zZ),b=WZ({x:n,y:i,top:l,left:u,width:f,height:p},y);return!G(n)||!G(i)||!G(f)||!G(p)||!G(l)||!G(u)?null:E.createElement("path",Pg({},se(b,!0),{className:fe("recharts-cross",v),d:QZ(n,i,f,p,l,u)}))},XZ=Fh,ZZ=jO,JZ=Nn;function eJ(e,t){return e&&e.length?XZ(e,JZ(t),ZZ):void 0}var tJ=eJ;const rJ=Ee(tJ);var nJ=Fh,sJ=Nn,aJ=NO;function iJ(e,t){return e&&e.length?nJ(e,sJ(t),aJ):void 0}var oJ=iJ;const lJ=Ee(oJ);var cJ=["cx","cy","angle","ticks","axisLine"],uJ=["ticks","tick","angle","tickFormatter","stroke"];function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xN(e,t){if(e==null)return{};var r=dJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function hJ(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pJ(e,t,r){return t=vf(t),mJ(e,dP()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function mJ(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(e)}function gJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function xJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kg(e,t)}function Hh(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=vJ(e,"string");return Zi(t)=="symbol"?t:t+""}function vJ(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kh=function(e){function t(){return fJ(this,t),pJ(this,t,arguments)}return xJ(t,e),hJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return qe(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=rJ(l,function(d){return d.coordinate||0}),u=lJ(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=xN(n,cJ),d=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=qe(s,i,d[0],o),h=qe(s,i,d[1],o),p=Gs(Gs(Gs({},se(u,!1)),{},{fill:"none"},se(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return E.createElement("line",Pl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=xN(s,uJ),f=this.getTickTextAnchor(),h=se(d,!1),p=se(o,!1),v=i.map(function(y,b){var w=n.getTickValueCoord(y),x=Gs(Gs(Gs(Gs({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},w),{},{payload:y});return E.createElement(je,Pl({className:fe("recharts-polar-radius-axis-tick",XO(o)),key:"tick-".concat(y.coordinate)},ka(n.props,y,b)),t.renderTickItem(o,x,c?c(y.value,b):y.value))});return E.createElement(je,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:E.createElement(je,{className:fe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return E.isValidElement(n)?o=E.cloneElement(n,s):oe(n)?o=n(s):o=E.createElement(Ea,Pl({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);Hh(Kh,"displayName","PolarRadiusAxis");Hh(Kh,"axisType","radiusAxis");Hh(Kh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pP(n.key),n)}}function bJ(e,t,r){return t&&bN(e.prototype,t),r&&bN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wJ(e,t,r){return t=yf(t),jJ(e,hP()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function jJ(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NJ(e)}function NJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function SJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Eg(e,t)}function Vh(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=_J(e,"string");return Ji(t)=="symbol"?t:t+""}function _J(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AJ=Math.PI/180,wN=1e-5,Gh=function(e){function t(){return yJ(this,t),wJ(this,t,arguments)}return SJ(t,e),bJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=qe(i,o,l,n.coordinate),h=qe(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*AJ),o;return i>wN?o=s==="outer"?"start":"end":i<-wN?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Qs(Qs({},se(this.props,!1)),{},{fill:"none"},se(l,!1));if(c==="circle")return E.createElement(qh,sa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return qe(s,i,o,h.coordinate)});return E.createElement(BZ,sa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=se(this.props,!1),f=se(o,!1),h=Qs(Qs({},d),{},{fill:"none"},se(l,!1)),p=i.map(function(v,y){var b=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),x=Qs(Qs(Qs({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:b.x2,y:b.y2});return E.createElement(je,sa({className:fe("recharts-polar-angle-axis-tick",XO(o)),key:"tick-".concat(v.coordinate)},ka(n.props,v,y)),l&&E.createElement("line",sa({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,x,c?c(v.value,y):v.value))});return E.createElement(je,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:E.createElement(je,{className:fe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return E.isValidElement(n)?o=E.cloneElement(n,s):oe(n)?o=n(s):o=E.createElement(Ea,sa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);Vh(Gh,"displayName","PolarAngleAxis");Vh(Gh,"axisType","angleAxis");Vh(Gh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var OJ=vA,PJ=OJ(Object.getPrototypeOf,Object),kJ=PJ,EJ=Jn,CJ=kJ,TJ=es,$J="[object Object]",IJ=Function.prototype,MJ=Object.prototype,mP=IJ.toString,DJ=MJ.hasOwnProperty,RJ=mP.call(Object);function LJ(e){if(!TJ(e)||EJ(e)!=$J)return!1;var t=CJ(e);if(t===null)return!0;var r=DJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mP.call(r)==RJ}var FJ=LJ;const UJ=Ee(FJ);var BJ=Jn,zJ=es,WJ="[object Boolean]";function qJ(e){return e===!0||e===!1||zJ(e)&&BJ(e)==WJ}var HJ=qJ;const KJ=Ee(HJ);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function VJ(e,t){return XJ(e)||YJ(e,t)||QJ(e,t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function XJ(e){if(Array.isArray(e))return e}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=eee(e,"string");return Ac(t)=="symbol"?t:t+""}function eee(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _N=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},tee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ree=function(t){var r=SN(SN({},tee),t),n=O.useRef(),s=O.useState(-1),i=VJ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&l(m)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,y=r.animationDuration,b=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=fe("recharts-trapezoid",p);return w?E.createElement(wn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:w},function(m){var _=m.upperWidth,g=m.lowerWidth,j=m.height,N=m.x,S=m.y;return E.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},E.createElement("path",bf({},se(r,!0),{className:x,d:_N(N,S,_,g,j),ref:n})))}):E.createElement("g",null,E.createElement("path",bf({},se(r,!0),{className:x,d:_N(c,u,d,f,h)})))},nee=["option","shapeType","propTransformer","activeClassName","isActive"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function see(e,t){if(e==null)return{};var r=aee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iee(e,t,r){return t=oee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return Oc(t)=="symbol"?t:t+""}function lee(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cee(e,t){return wf(wf({},t),e)}function uee(e,t){return e==="symbols"}function ON(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(ly,r);case"trapezoid":return E.createElement(ree,r);case"sector":return E.createElement(eP,r);case"symbols":if(uee(t))return E.createElement(Ov,r);break;default:return null}}function dee(e){return O.isValidElement(e)?e.props:e}function gP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?cee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=see(e,nee),u;if(O.isValidElement(t))u=O.cloneElement(t,wf(wf({},c),dee(t)));else if(oe(t))u=t(c);else if(UJ(t)&&!KJ(t)){var d=s(t,c);u=E.createElement(ON,{shapeType:r,elementProps:d})}else{var f=c;u=E.createElement(ON,{shapeType:r,elementProps:f})}return l?E.createElement(je,{className:o},u):u}function Qh(e,t){return t!=null&&"trapezoids"in e.props}function Yh(e,t){return t!=null&&"sectors"in e.props}function Pc(e,t){return t!=null&&"points"in e.props}function fee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function hee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function mee(e,t){var r;return Qh(e,t)?r=fee:Yh(e,t)?r=hee:Pc(e,t)&&(r=pee),r}function gee(e,t){var r;return Qh(e,t)?r="trapezoids":Yh(e,t)?r="sectors":Pc(e,t)&&(r="points"),r}function xee(e,t){if(Qh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pc(e,t)?t.payload:{}}function vee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=gee(r,t),i=xee(r,t),o=n.filter(function(c,u){var d=eu(i,c),f=r.props[s].filter(function(v){var y=mee(r,t);return y(v,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var td;function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){Ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vP(n.key),n)}}function bee(e,t,r){return t&&kN(e.prototype,t),r&&kN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wee(e,t,r){return t=jf(t),jee(e,xP()?Reflect.construct(t,r||[],jf(e).constructor):t.apply(e,r))}function jee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nee(e)}function Nee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xP=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(e)}function See(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cg(e,t)}function Ir(e,t,r){return t=vP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vP(e){var t=_ee(e,"string");return eo(t)=="symbol"?t:t+""}function _ee(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=function(e){function t(r){var n;return yee(this,t),n=wee(this,t,[r]),Ir(n,"pieRef",null),Ir(n,"sectorRefs",[]),Ir(n,"id",ko("recharts-pie-")),Ir(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),oe(s)&&s()}),Ir(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),oe(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return See(t,e),bee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=se(this.props,!1),f=se(o,!1),h=se(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(y,b){var w=(y.startAngle+y.endAngle)/2,x=qe(y.cx,y.cy,y.outerRadius+p,w),m=Fe(Fe(Fe(Fe({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(x.x,y.cx)},x),_=Fe(Fe(Fe(Fe({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[qe(y.cx,y.cy,y.outerRadius,w),x]}),g=c;return ce(c)&&ce(u)?g="value":ce(c)&&(g=u),E.createElement(je,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,m,gt(y,g)))});return E.createElement(je,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,v=Fe(Fe({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return E.createElement(je,yi({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ka(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),E.createElement(gP,yi({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return E.createElement(wn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],w=i&&i[0],x=w.startAngle;return i.forEach(function(m,_){var g=h&&h[_],j=_>0?wr(m,"paddingAngle",0):0;if(g){var N=xr(g.endAngle-g.startAngle,m.endAngle-m.startAngle),S=Fe(Fe({},m),{},{startAngle:x+j,endAngle:x+N(y)+j});b.push(S),x=S.endAngle}else{var A=m.endAngle,P=m.startAngle,k=xr(0,A-P),C=k(y),M=Fe(Fe({},m),{},{startAngle:x+j,endAngle:x+C+j});b.push(M),x=M.endAngle}}),E.createElement(je,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!eu(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!G(u)||!G(d)||!G(f)||!G(h))return null;var y=fe("recharts-pie",l);return E.createElement(je,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),St.renderCallByParent(this.props,null,!1),(!p||v)&&zn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(E.isValidElement(n))return E.cloneElement(n,s);if(oe(n))return n(s);var o=fe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return E.createElement(hf,yi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(E.isValidElement(n))return E.cloneElement(n,s);var o=i;if(oe(n)&&(o=n(s),E.isValidElement(o)))return o;var l=fe("recharts-pie-label-text",typeof n!="boolean"&&!oe(n)?n.className:"");return E.createElement(Ea,yi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);td=Pr;Ir(Pr,"displayName","Pie");Ir(Pr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ir(Pr,"parseDeltaAngle",function(e,t){var r=Qt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ir(Pr,"getRealPieData",function(e){var t=e.data,r=e.children,n=se(e,!1),s=jr(r,Bs);return t&&t.length?t.map(function(i,o){return Fe(Fe(Fe({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Fe(Fe({},n),i.props)}):[]});Ir(Pr,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=YO(s,i),l=n+Yt(e.cx,s,s/2),c=r+Yt(e.cy,i,i/2),u=Yt(e.innerRadius,o,0),d=Yt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ir(Pr,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fe(Fe({},t.type.defaultProps),t.props):t.props,s=td.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=td.parseCoordinateOfPie(n,r),y=td.parseDeltaAngle(o,l),b=Math.abs(y),w=u;ce(u)&&ce(f)?(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ce(u)&&(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var x=s.filter(function(S){return gt(S,w,0)!==0}).length,m=(b>=360?x:x-1)*c,_=b-x*p-m,g=s.reduce(function(S,A){var P=gt(A,w,0);return S+(G(P)?P:0)},0),j;if(g>0){var N;j=s.map(function(S,A){var P=gt(S,w,0),k=gt(S,d,A),C=(G(P)?P:0)/g,M;A?M=N.endAngle+Qt(y)*c*(P!==0?1:0):M=o;var R=M+Qt(y)*((P!==0?p:0)+C*_),I=(M+R)/2,U=(v.innerRadius+v.outerRadius)/2,W=[{name:k,value:P,payload:S,dataKey:w,type:h}],T=qe(v.cx,v.cy,U,I);return N=Fe(Fe(Fe({percent:C,cornerRadius:i,name:k,tooltipPayload:W,midAngle:I,middleRadius:U,tooltipPosition:T},S),v),{},{value:gt(S,w),startAngle:M,endAngle:R,payload:S,paddingAngle:Qt(y)*c}),N})}return Fe(Fe({},v),{},{sectors:j,data:s})});var Aee=Math.ceil,Oee=Math.max;function Pee(e,t,r,n){for(var s=-1,i=Oee(Aee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var kee=Pee,Eee=RA,EN=1/0,Cee=17976931348623157e292;function Tee(e){if(!e)return e===0?e:0;if(e=Eee(e),e===EN||e===-EN){var t=e<0?-1:1;return t*Cee}return e===e?e:0}var yP=Tee,$ee=kee,Iee=Th,fm=yP;function Mee(e){return function(t,r,n){return n&&typeof n!="number"&&Iee(t,r,n)&&(r=n=void 0),t=fm(t),r===void 0?(r=t,t=0):r=fm(r),n=n===void 0?t<r?1:-1:fm(n),$ee(t,r,n,e)}}var Dee=Mee,Ree=Dee,Lee=Ree(),Fee=Lee;const Nf=Ee(Fee);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bP(e,t,r){return t=Uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return kc(t)=="symbol"?t:t+""}function Bee(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=["Webkit","Moz","O","ms"],Wee=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=zee.reduce(function(i,o){return TN(TN({},i),{},bP({},o+n,r))},{});return s[t]=r,s};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jP(n.key),n)}}function Hee(e,t,r){return t&&IN(e.prototype,t),r&&IN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kee(e,t,r){return t=_f(t),Vee(e,wP()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function Vee(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function Qee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tg(e,t)}function pr(e,t,r){return t=jP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jP(e){var t=Yee(e,"string");return to(t)=="symbol"?t:t+""}function Yee(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Sl().domain(Nf(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},MN=function(t){return t.changedTouches&&!!t.changedTouches.length},ro=function(e){function t(r){var n;return qee(this,t),n=Kee(this,t,[r]),pr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),pr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),pr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),pr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pr(n,"handleSlideDragStart",function(s){var i=MN(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Qee(t,e),Hee(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=gt(i[n],l,n);return oe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var b=this.getIndex({startX:o+y,endX:l+y});(b.startIndex!==h||b.endIndex!==p)&&v&&v(b),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=MN(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,w={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),w[o]=u+x;var m=this.getIndex(w),_=m.startIndex,g=m.endIndex,j=function(){var S=b.length-1;return o==="startX"&&(l>c?_%y===0:g%y===0)||l<c&&g===S||o==="endX"&&(l>c?g%y===0:_%y===0)||l>c&&g===S};this.setState(pr(pr({},o,u+x),"brushMoveStartX",n.pageX),function(){v&&j()&&v(m)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(pr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return E.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?E.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,y=c.startIndex,b=c.endIndex,w=Math.max(n,this.props.x),x=hm(hm({},se(this.props,!1)),{},{x:w,y:u,width:d,height:f}),m=p||"Min value: ".concat((i=v[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return E.createElement(je,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(g){["ArrowLeft","ArrowRight"].includes(g.key)&&(g.preventDefault(),g.stopPropagation(),l.handleTravellerMoveKeyboard(g.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return E.createElement(je,{className:"recharts-brush-texts"},E.createElement(Ea,Sf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(s)),E.createElement(Ea,Sf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!G(l)||!G(c)||!G(u)||!G(d)||u<=0||d<=0)return null;var m=fe("recharts-brush",i),_=E.Children.count(o)===1,g=Wee("userSelect","none");return E.createElement(je,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:g},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||w||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),E.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return E.isValidElement(n)?i=E.cloneElement(n,s):oe(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return hm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Xee({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);pr(ro,"displayName","Brush");pr(ro,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zee=Iv;function Jee(e,t){var r;return Zee(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var ete=Jee,tte=uA,rte=Nn,nte=ete,ste=fr,ate=Th;function ite(e,t,r){var n=ste(e)?tte:nte;return r&&ate(e,t,r)&&(t=void 0),n(e,rte(t))}var ote=ite;const lte=Ee(ote);var yn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},DN=TA;function cte(e,t,r){t=="__proto__"&&DN?DN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ute=cte,dte=ute,fte=EA,hte=Nn;function pte(e,t){var r={};return t=hte(t),fte(e,function(n,s,i){dte(r,s,t(n,s,i))}),r}var mte=pte;const gte=Ee(mte);function xte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var vte=xte,yte=Iv;function bte(e,t){var r=!0;return yte(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var wte=bte,jte=vte,Nte=wte,Ste=Nn,_te=fr,Ate=Th;function Ote(e,t,r){var n=_te(e)?jte:Nte;return r&&Ate(e,t,r)&&(t=void 0),n(e,Ste(t))}var Pte=Ote;const NP=Ee(Pte);var kte=["x","y"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ete(e,t,r){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=Tte(e,"string");return Ec(t)=="symbol"?t:t+""}function Tte(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $te(e,t){if(e==null)return{};var r=Ite(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mte(e,t){var r=e.x,n=e.y,s=$te(e,kte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return sl(sl(sl(sl(sl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function LN(e){return E.createElement(gP,$g({shapeType:"rectangle",propTransformer:Mte,activeClassName:"recharts-active-bar"},e))}var Dte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=G(n)||oD(n);return i?t(n,s):(i||Ta(),r)}},Rte=["value","background"],SP;function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Lte(e,t){if(e==null)return{};var r=Fte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(this,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function Bte(e,t,r){return t&&UN(e.prototype,t),r&&UN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zte(e,t,r){return t=Of(t),Wte(e,_P()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Wte(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(e)}function qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function Hte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ig(e,t)}function ws(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=Kte(e,"string");return no(t)=="symbol"?t:t+""}function Kte(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ot=function(e){function t(){var r;Ute(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=zte(this,t,[].concat(s)),ws(r,"state",{isAnimationFinished:!1}),ws(r,"id",ko("recharts-bar-")),ws(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ws(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Hte(t,e),Bte(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=se(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,y=ct(ct(ct({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return E.createElement(je,Af({className:"recharts-bar-rectangle"},ka(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),E.createElement(LN,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return E.createElement(wn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,y=i.map(function(b,w){var x=h&&h[w];if(x){var m=xr(x.x,b.x),_=xr(x.y,b.y),g=xr(x.width,b.width),j=xr(x.height,b.height);return ct(ct({},b),{},{x:m(v),y:_(v),width:g(v),height:j(v)})}if(o==="horizontal"){var N=xr(0,b.height),S=N(v);return ct(ct({},b),{},{y:b.y+b.height-S,height:S})}var A=xr(0,b.width),P=A(v);return ct(ct({},b),{},{width:P})});return E.createElement(je,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!eu(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=se(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Lte(u,Rte);if(!f)return null;var p=ct(ct(ct(ct(ct({},h),{},{fill:"#eee"},f),c),ka(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return E.createElement(LN,Af({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=jr(d,tu);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,w){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:gt(b,w)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return E.createElement(je,v,f.map(function(y){return E.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,y=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,w=fe("recharts-bar",o),x=l&&l.allowDataOverflow,m=c&&c.allowDataOverflow,_=x||m,g=ce(y)?this.id:y;return E.createElement(je,{className:w},x||m?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(g)},E.createElement("rect",{x:x?u:u-f/2,y:m?d:d-h/2,width:x?f:f*2,height:m?h:h*2}))):null,E.createElement(je,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(g,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,g),(!p||b)&&zn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);SP=Ot;ws(Ot,"displayName","Bar");ws(Ot,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ws(Ot,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=AQ(n,r);if(!p)return null;var v=t.layout,y=r.type.defaultProps,b=y!==void 0?ct(ct({},y),r.props):r.props,w=b.dataKey,x=b.children,m=b.minPointSize,_=v==="horizontal"?o:i,g=u?_.scale.domain():null,j=$Q({numericAxis:_}),N=jr(x,Bs),S=f.map(function(A,P){var k,C,M,R,I,U;u?k=OQ(u[d+P],g):(k=gt(A,w),Array.isArray(k)||(k=[j,k]));var W=Dte(m,SP.defaultProps.minPointSize)(k[1],P);if(v==="horizontal"){var T,L=[o.scale(k[0]),o.scale(k[1])],$=L[0],q=L[1];C=kj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),M=(T=q??$)!==null&&T!==void 0?T:void 0,R=p.size;var V=$-q;if(I=Number.isNaN(V)?0:V,U={x:C,y:o.y,width:R,height:o.height},Math.abs(W)>0&&Math.abs(I)<Math.abs(W)){var ee=Qt(I||W)*(Math.abs(W)-Math.abs(I));M-=ee,I+=ee}}else{var ge=[i.scale(k[0]),i.scale(k[1])],Te=ge[0],He=ge[1];if(C=Te,M=kj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),R=He-Te,I=p.size,U={x:i.x,y:M,width:i.width,height:I},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var It=Qt(R||W)*(Math.abs(W)-Math.abs(R));R+=It}}return ct(ct(ct({},A),{},{x:C,y:M,width:R,height:I,value:u?k:k[1],payload:A,background:U},N&&N[P]&&N[P].props),{},{tooltipPayload:[GO(r,A)],tooltipPosition:{x:C+R/2,y:M+I/2}})});return ct({data:S,layout:v},h)});function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OP(n.key),n)}}function Gte(e,t,r){return t&&BN(e.prototype,t),r&&BN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e,t,r){return t=OP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=Qte(e,"string");return Cc(t)=="symbol"?t:t+""}function Qte(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!gr(u,Ot);return d.reduce(function(p,v){var y=r[v],b=y.orientation,w=y.domain,x=y.padding,m=x===void 0?{}:x,_=y.mirror,g=y.reversed,j="".concat(b).concat(_?"Mirror":""),N,S,A,P,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var C=w[1]-w[0],M=1/0,R=y.categoricalDomain.sort(uD);if(R.forEach(function(ge,Te){Te>0&&(M=Math.min((ge||0)-(R[Te-1]||0),M))}),Number.isFinite(M)){var I=M/C,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(N=I*U/2),y.padding==="no-gap"){var W=Yt(t.barCategoryGap,I*U),T=I*U/2;N=T-W-(T-W)/U*W}}}s==="xAxis"?S=[n.left+(m.left||0)+(N||0),n.left+n.width-(m.right||0)-(N||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0)+(N||0),n.top+n.height-(m.bottom||0)-(N||0)]:S=y.range,g&&(S=[S[1],S[0]]);var L=qO(y,i,h),$=L.scale,q=L.realScaleType;$.domain(w).range(S),HO($);var V=KO($,Zr(Zr({},y),{},{realScaleType:q}));s==="xAxis"?(k=b==="top"&&!_||b==="bottom"&&_,A=n.left,P=f[j]-k*y.height):s==="yAxis"&&(k=b==="left"&&!_||b==="right"&&_,A=f[j]-k*y.width,P=n.top);var ee=Zr(Zr(Zr({},y),V),{},{realScaleType:q,x:A,y:P,scale:$,width:s==="xAxis"?n.width:y.width,height:s==="yAxis"?n.height:y.height});return ee.bandSize=uf(ee,V),!y.hide&&s==="xAxis"?f[j]+=(k?-1:1)*ee.height:y.hide||(f[j]+=(k?-1:1)*ee.width),Zr(Zr({},p),{},Xh({},v,ee))},{})},kP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Yte=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return kP({x:r,y:n},{x:s,y:i})},EP=function(){function e(t){Vte(this,e),this.scale=t}return Gte(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Xh(EP,"EPS",1e-4);var cy=function(t){var r=Object.keys(t).reduce(function(n,s){return Zr(Zr({},n),{},Xh({},s,EP.create(t[s])))},{});return Zr(Zr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return gte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return NP(s,function(i,o){return r[o].isInRange(i)})}})};function Xte(e){return(e%180+180)%180}var Zte=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xte(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Jte=Nn,ere=Qc,tre=Eh;function rre(e){return function(t,r,n){var s=Object(t);if(!ere(t)){var i=Jte(r);t=tre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var nre=rre,sre=yP;function are(e){var t=sre(e),r=t%1;return t===t?r?t-r:t:0}var ire=are,ore=SA,lre=Nn,cre=ire,ure=Math.max;function dre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:cre(r);return s<0&&(s=ure(n+s,0)),ore(e,lre(t),s)}var fre=dre,hre=nre,pre=fre,mre=hre(pre),gre=mre;const xre=Ee(gre);var vre=dM(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uy=O.createContext(void 0),dy=O.createContext(void 0),CP=O.createContext(void 0),TP=O.createContext({}),$P=O.createContext(void 0),IP=O.createContext(0),MP=O.createContext(0),WN=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=vre(i);return E.createElement(uy.Provider,{value:n},E.createElement(dy.Provider,{value:s},E.createElement(TP.Provider,{value:i},E.createElement(CP.Provider,{value:d},E.createElement($P.Provider,{value:o},E.createElement(IP.Provider,{value:u},E.createElement(MP.Provider,{value:c},l)))))))},yre=function(){return O.useContext($P)},DP=function(t){var r=O.useContext(uy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},bre=function(){var t=O.useContext(uy);return ms(t)},wre=function(){var t=O.useContext(dy),r=xre(t,function(n){return NP(n.domain,Number.isFinite)});return r||ms(t)},RP=function(t){var r=O.useContext(dy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},jre=function(){var t=O.useContext(CP);return t},Nre=function(){return O.useContext(TP)},fy=function(){return O.useContext(MP)},hy=function(){return O.useContext(IP)};function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Sre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function Are(e,t,r){return t&&_re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ore(e,t,r){return t=Pf(t),Pre(e,LP()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function Pre(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(e)}function kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function Ere(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mg(e,t)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function py(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=Cre(e,"string");return so(t)=="symbol"?t:t+""}function Cre(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){return Dre(e)||Mre(e,t)||Ire(e,t)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Dre(e){if(Array.isArray(e))return e}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}var Rre=function(t,r){var n;return E.isValidElement(t)?n=E.cloneElement(t,r):oe(t)?n=t(r):n=E.createElement("line",Dg({},r,{className:"recharts-reference-line-line"})),n},Lre=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,y=t.y.apply(v,{position:o});if(yn(u,"discard")&&!t.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return c==="left"?b.reverse():b}if(r){var w=u.x,x=t.x.apply(w,{position:o});if(yn(u,"discard")&&!t.x.isInRange(x))return null;var m=[{x,y:f+p},{x,y:f}];return l==="top"?m.reverse():m}if(s){var _=u.segment,g=_.map(function(j){return t.apply(j,{position:o})});return yn(u,"discard")&&lte(g,function(j){return!t.isInRange(j)})?null:g}return null};function Fre(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=yre(),d=DP(s),f=RP(i),h=jre();if(!u||!h)return null;an(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cy({x:d.scale,y:f.scale}),v=vt(t),y=vt(r),b=n&&n.length===2,w=Lre(p,v,y,b,h,e.position,d.orientation,f.orientation,e);if(!w)return null;var x=Tre(w,2),m=x[0],_=m.x,g=m.y,j=x[1],N=j.x,S=j.y,A=yn(e,"hidden")?"url(#".concat(u,")"):void 0,P=HN(HN({clipPath:A},se(e,!0)),{},{x1:_,y1:g,x2:N,y2:S});return E.createElement(je,{className:fe("recharts-reference-line",l)},Rre(o,P),St.renderCallByParent(e,Yte({x1:_,y1:g,x2:N,y2:S})))}var my=function(e){function t(){return Sre(this,t),Ore(this,t,arguments)}return Ere(t,e),Are(t,[{key:"render",value:function(){return E.createElement(Fre,this.props)}}])}(E.Component);py(my,"displayName","ReferenceLine");py(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ure(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function zre(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wre(e,t,r){return t=kf(t),qre(e,UP()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function qre(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hre(e)}function Hre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function Kre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lg(e,t)}function Zh(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=Vre(e,"string");return ao(t)=="symbol"?t:t+""}function Vre(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=cy({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return yn(t,"discard")&&!o.isInRange(l)?null:l},Jh=function(e){function t(){return Ure(this,t),Wre(this,t,arguments)}return Kre(t,e),zre(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=vt(s),d=vt(i);if(an(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Gre(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,y=v.shape,b=v.className,w=yn(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=GN(GN({clipPath:w},se(this.props,!0)),{},{cx:h,cy:p});return E.createElement(je,{className:fe("recharts-reference-dot",b)},t.renderDot(y,x),St.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(E.Component);Zh(Jh,"displayName","ReferenceDot");Zh(Jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zh(Jh,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):oe(e)?r=e(t):r=E.createElement(qh,Rg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function Xre(e,t,r){return t&&Yre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zre(e,t,r){return t=Ef(t),Jre(e,zP()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(e)}function ene(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function tne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ug(e,t)}function ep(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=rne(e,"string");return io(t)=="symbol"?t:t+""}function rne(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=cy({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:kP(p,v)},tp=function(e){function t(){return Qre(this,t),Zre(this,t,arguments)}return tne(t,e),Xre(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;an(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vt(s),h=vt(i),p=vt(o),v=vt(l),y=this.props.shape;if(!f&&!h&&!p&&!v&&!y)return null;var b=nne(f,h,p,v,this.props);if(!b&&!y)return null;var w=yn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return E.createElement(je,{className:fe("recharts-reference-area",c)},t.renderRect(y,YN(YN({clipPath:w},se(this.props,!0)),b)),St.renderCallByParent(this.props,b))}}])}(E.Component);ep(tp,"displayName","ReferenceArea");ep(tp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ep(tp,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):oe(e)?r=e(t):r=E.createElement(ly,Fg({},t,{className:"recharts-reference-area-rect"})),r});function qP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function sne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Zte(n,r)}function ane(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Cf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function ine(e,t){return qP(e,t+1)}function one(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:qP(n,u)};var y=c,b,w=function(){return b===void 0&&(b=r(v,y)),b},x=v.coordinate,m=c===0||Cf(e,x,w,d,l);m||(c=0,d=o,u+=1),m&&(d=x+e*(w()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return t=cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return Tc(t)=="symbol"?t:t+""}function une(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,y=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var b=e*(p.coordinate+e*y()/2-c);i[h]=p=Ut(Ut({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[h]=p=Ut(Ut({},p),{},{tickCoord:p.coordinate});var w=Cf(e,p.tickCoord,y,l,c);w&&(c=p.tickCoord-e*(y()/2+s),i[h]=Ut(Ut({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function fne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Ut(Ut({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Cf(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Ut(Ut({},d),{},{isShow:!0}))}for(var v=i?l-1:l,y=function(x){var m=o[x],_,g=function(){return _===void 0&&(_=r(m,x)),_};if(x===0){var j=e*(m.coordinate-e*g()/2-c);o[x]=m=Ut(Ut({},m),{},{tickCoord:j<0?m.coordinate-j*e:m.coordinate})}else o[x]=m=Ut(Ut({},m),{},{tickCoord:m.coordinate});var N=Cf(e,m.tickCoord,g,c,u);N&&(c=m.tickCoord+e*(g()/2+s),o[x]=Ut(Ut({},m),{},{isShow:!0}))},b=0;b<v;b++)y(b);return o}function gy(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(G(c)||xn.isSsr)return ine(s,typeof c=="number"&&G(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Nl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(m,_){var g=oe(u)?u(m.value,_):m.value;return p==="width"?sne(Nl(g,{fontSize:t,letterSpacing:r}),v,f):Nl(g,{fontSize:t,letterSpacing:r})[p]},b=s.length>=2?Qt(s[1].coordinate-s[0].coordinate):1,w=ane(i,b,p);return c==="equidistantPreserveStart"?one(b,w,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=fne(b,w,y,s,o,c==="preserveStartEnd"):h=dne(b,w,y,s,o),h.filter(function(x){return x.isShow}))}var hne=["viewBox"],pne=["viewBox"],mne=["ticks"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t){if(e==null)return{};var r=gne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function vne(e,t,r){return t&&JN(e.prototype,t),r&&JN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e,t,r){return t=Tf(t),bne(e,HP()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function bne(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(e)}function wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bg(e,t)}function xy(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=Nne(e,"string");return oo(t)=="symbol"?t:t+""}function Nne(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Do=function(e){function t(r){var n;return xne(this,t),n=yne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return jne(t,e),vne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=pm(n,hne),l=this.props,c=l.viewBox,u=pm(l,pne);return!ki(i,c)||!ki(o,u)||!ki(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,v,y,b,w,x,m=f?-1:1,_=n.tickSize||d,g=G(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,b=o+ +!f*c,y=b-m*_,x=y-m*h,w=g;break;case"left":y=b=n.coordinate,v=i+ +!f*l,p=v-m*_,w=p-m*h,x=g;break;case"right":y=b=n.coordinate,v=i+ +f*l,p=v+m*_,w=p+m*h,x=g;break;default:p=v=n.coordinate,b=o+ +f*c,y=b+m*_,x=y+m*h,w=g;break}return{line:{x1:p,y1:y,x2:v,y2:b},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ht(ht(ht({},se(this.props,!1)),se(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ht(ht({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ht(ht({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return E.createElement("line",bi({},f,{className:fe("recharts-cartesian-axis-line",wr(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=gy(ht(ht({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=se(this.props,!1),w=se(d,!1),x=ht(ht({},b),{},{fill:"none"},se(c,!1)),m=p.map(function(_,g){var j=o.getTickLineCoord(_),N=j.line,S=j.tick,A=ht(ht(ht(ht({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},w),S),{},{index:g,payload:_,visibleTicksCount:p.length,tickFormatter:f});return E.createElement(je,bi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ka(o.props,_,g)),c&&E.createElement("line",bi({},x,N,{className:fe("recharts-cartesian-axis-tick-line",wr(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(oe(f)?f(_.value,g):_.value).concat(h||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=pm(f,mne),v=h;return oe(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:E.createElement(je,{className:fe("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=fe(s.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(n)?o=E.cloneElement(n,ht(ht({},s),{},{className:l})):oe(n)?o=n(ht(ht({},s),{},{className:l})):o=E.createElement(Ea,bi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);xy(Do,"displayName","CartesianAxis");xy(Do,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sne=["x1","y1","x2","y2","key"],_ne=["offset"];function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return t=One(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=Pne(e,"string");return $a(t)=="symbol"?t:t+""}function Pne(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},da.apply(this,arguments)}function tS(e,t){if(e==null)return{};var r=kne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ene=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return E.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VP(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(oe(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=tS(t,Sne),u=se(c,!1);u.offset;var d=tS(u,_ne);r=E.createElement("line",da({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Cne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=zt(zt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return VP(s,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Tne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=zt(zt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return VP(s,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $ne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?s+o-h:d[p+1]-h;if(y<=0)return null;var b=p%t.length;return E.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ine(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?i+l-h:d[p+1]-h;if(y<=0)return null;var b=p%n.length;return E.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:c,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Mne=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return WO(gy(zt(zt(zt({},Do.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Dne=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return WO(gy(zt(zt(zt({},Do.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ei={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _r(e){var t,r,n,s,i,o,l=fy(),c=hy(),u=Nre(),d=zt(zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ei.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ei.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ei.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ei.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ei.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ei.verticalFill,x:G(e.x)?e.x:u.left,y:G(e.y)?e.y:u.top,width:G(e.width)?e.width:u.width,height:G(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,w=d.verticalValues,x=bre(),m=wre();if(!G(p)||p<=0||!G(v)||v<=0||!G(f)||f!==+f||!G(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Mne,g=d.horizontalCoordinatesGenerator||Dne,j=d.horizontalPoints,N=d.verticalPoints;if((!j||!j.length)&&oe(g)){var S=b&&b.length,A=g({yAxis:m?zt(zt({},m),{},{ticks:S?b:m.ticks}):void 0,width:l,height:c,offset:u},S?!0:y);an(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($a(A),"]")),Array.isArray(A)&&(j=A)}if((!N||!N.length)&&oe(_)){var P=w&&w.length,k=_({xAxis:x?zt(zt({},x),{},{ticks:P?w:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:y);an(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($a(k),"]")),Array.isArray(k)&&(N=k)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Ene,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(Cne,da({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:m})),E.createElement(Tne,da({},d,{offset:u,verticalPoints:N,xAxis:x,yAxis:m})),E.createElement($ne,da({},d,{horizontalPoints:j})),E.createElement(Ine,da({},d,{verticalPoints:N})))}_r.displayName="CartesianGrid";var Rne=["type","layout","connectNulls","ref"],Lne=["key"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function rS(e,t){if(e==null)return{};var r=Fne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ti(e){return Wne(e)||zne(e)||Bne(e)||Une()}function Une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function zne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wne(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function Hne(e,t,r){return t&&sS(e.prototype,t),r&&sS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kne(e,t,r){return t=$f(t),Vne(e,GP()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function Vne(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(e)}function Gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function Qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wg(e,t)}function Jr(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=Yne(e,"string");return lo(t)=="symbol"?t:t+""}function Yne(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var er=function(e){function t(){var r;qne(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Kne(this,t,[].concat(s)),Jr(r,"state",{isAnimationFinished:!0,totalLength:0}),Jr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Jr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,x){return w+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>f){p=[].concat(ti(c.slice(0,v)),[f-y]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(ti(t.repeat(c,d)),ti(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),Jr(r,"id",ko("recharts-line-")),Jr(r,"pathRef",function(o){r.mainCurve=o}),Jr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qne(t,e),Hne(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=jr(d,tu);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:gt(y.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return E.createElement(je,p,f.map(function(v){return E.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=se(this.props,!1),h=se(c,!0),p=u.map(function(y,b){var w=hr(hr(hr({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,w)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return E.createElement(je,kl({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=rS(l,Rne),h=hr(hr(hr({},se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return E.createElement(hf,kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,y=o.width,b=o.height,w=this.state,x=w.prevPoints,m=w.totalLength;return E.createElement(wn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var g=_.t;if(x){var j=x.length/l.length,N=l.map(function(C,M){var R=Math.floor(M*j);if(x[R]){var I=x[R],U=xr(I.x,C.x),W=xr(I.y,C.y);return hr(hr({},C),{},{x:U(g),y:W(g)})}if(v){var T=xr(y*2,C.x),L=xr(b/2,C.y);return hr(hr({},C),{},{x:T(g),y:L(g)})}return hr(hr({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(N,n,s)}var S=xr(0,m),A=S(g),P;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});P=i.getStrokeDasharray(A,m,k)}else P=i.generateSimpleStrokeDasharray(m,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!eu(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,v=s.height,y=s.isAnimationActive,b=s.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,x=l.length===1,m=fe("recharts-line",c),_=u&&u.allowDataOverflow,g=d&&d.allowDataOverflow,j=_||g,N=ce(b)?this.id:b,S=(n=se(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,P=A===void 0?3:A,k=S.strokeWidth,C=k===void 0?2:k,M=yD(o)?o:{},R=M.clipDot,I=R===void 0?!0:R,U=P*2+C;return E.createElement(je,{className:m},_||g?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(N)},E.createElement("rect",{x:_?h:h-p/2,y:g?f:f-v/2,width:_?p:p*2,height:g?v:v*2})),!I&&E.createElement("clipPath",{id:"clipPath-dots-".concat(N)},E.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:v+U}))):null,!x&&this.renderCurve(j,N),this.renderErrorBar(j,N),(x||o)&&this.renderDots(j,I,N),(!y||w)&&zn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ti(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ti(o),ti(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(E.isValidElement(n))i=E.cloneElement(n,s);else if(oe(n))i=n(s);else{var o=s.key,l=rS(s,Lne),c=fe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=E.createElement(qh,kl({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Jr(er,"displayName","Line");Jr(er,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jr(er,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var v=gt(h,o);return d==="horizontal"?{x:Pj({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:ce(v)?null:n.scale(v),value:v,payload:h}:{x:ce(v)?null:r.scale(v),y:Pj({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return hr({points:f,layout:d},u)});function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZP(n.key),n)}}function Jne(e,t,r){return t&&Zne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ese(e,t,r){return t=If(t),tse(e,YP()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function tse(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(e)}function rse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qg(e,t)}function XP(e,t,r){return t=ZP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=sse(e,"string");return co(t)=="symbol"?t:t+""}function sse(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function ase(e){var t=e.xAxisId,r=fy(),n=hy(),s=DP(t);return s==null?null:O.createElement(Do,Hg({},s,{className:fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ln(o,!0)}}))}var Kt=function(e){function t(){return Xne(this,t),ese(this,t,arguments)}return nse(t,e),Jne(t,[{key:"render",value:function(){return O.createElement(ase,this.props)}}])}(O.Component);XP(Kt,"displayName","XAxis");XP(Kt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ose(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t6(n.key),n)}}function lse(e,t,r){return t&&ose(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cse(e,t,r){return t=Mf(t),use(e,JP()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function use(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JP=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kg(e,t)}function e6(e,t,r){return t=t6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=hse(e,"string");return uo(t)=="symbol"?t:t+""}function hse(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}var pse=function(t){var r=t.yAxisId,n=fy(),s=hy(),i=RP(r);return i==null?null:O.createElement(Do,Vg({},i,{className:fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Ln(l,!0)}}))},Vt=function(e){function t(){return ise(this,t),cse(this,t,arguments)}return fse(t,e),lse(t,[{key:"render",value:function(){return O.createElement(pse,this.props)}}])}(O.Component);e6(Vt,"displayName","YAxis");e6(Vt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aS(e){return vse(e)||xse(e)||gse(e)||mse()}function mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function xse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vse(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qg=function(t,r,n,s,i){var o=jr(t,my),l=jr(t,Jh),c=[].concat(aS(o),aS(l)),u=jr(t,tp),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(y,b){if(b.props[d]===n&&yn(b.props,"extendDomain")&&G(b.props[f])){var w=b.props[f];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===n&&yn(b.props,"extendDomain")&&G(b.props[p])&&G(b.props[v])){var w=b.props[p],x=b.props[v];return[Math.min(y[0],w,x),Math.max(y[1],w,x)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,b){return G(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},r6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,x,m;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(m=1,x=new Array(w-1);m<w;m++)x[m-1]=arguments[m];b.fn.apply(b.context,x)}else{var _=b.length,g;for(m=0;m<_;m++)switch(b[m].once&&this.removeListener(u,b[m].fn,void 0,!0),w){case 1:b[m].fn.call(b[m].context);break;case 2:b[m].fn.call(b[m].context,d);break;case 3:b[m].fn.call(b[m].context,d,f);break;case 4:b[m].fn.call(b[m].context,d,f,h);break;default:if(!x)for(g=1,x=new Array(w-1);g<w;g++)x[g-1]=arguments[g];b[m].fn.apply(b[m].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var y=0,b=[],w=v.length;y<w;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(r6);var yse=r6.exports;const bse=Ee(yse);var mm=new bse,gm="recharts.syncMouseEvents";function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function wse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n6(n.key),n)}}function Nse(e,t,r){return t&&jse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xm(e,t,r){return t=n6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=Sse(e,"string");return $c(t)=="symbol"?t:t+""}function Sse(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _se=function(){function e(){wse(this,e),xm(this,"activeIndex",0),xm(this,"coordinateList",[]),xm(this,"layout","horizontal")}return Nse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ase(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&G(n)&&G(s))return!0}return!1}function Ose(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=qe(t,r,n,s),l=qe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Pse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=qe(l,c,u,f),p=qe(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return s6(t);return[{x:n,y:s},{x:i,y:o}]}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kse(e,t,r){return t=Ese(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Cse(e,"string");return Ic(t)=="symbol"?t:t+""}function Cse(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,y=hf;if(h==="ScatterChart")v=o,y=YZ;else if(h==="BarChart")v=Ose(f,o,c,d),y=ly;else if(f==="radial"){var b=s6(o),w=b.cx,x=b.cy,m=b.radius,_=b.startAngle,g=b.endAngle;v={cx:w,cy:x,startAngle:_,endAngle:g,innerRadius:m,outerRadius:m},y=eP}else v={points:Pse(f,o,c)},y=hf;var j=Fu(Fu(Fu(Fu({stroke:"#ccc",pointerEvents:"none"},c),v),se(p,!1)),{},{payload:l,payloadIndex:u,className:fe("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,j):O.createElement(y,j)}var $se=["item"],Ise=["children","className","width","height","style","compact","title","desc"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function oS(e,t){return Rse(e)||Dse(e,t)||i6(e,t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rse(e){if(Array.isArray(e))return e}function lS(e,t){if(e==null)return{};var r=Lse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Use(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o6(n.key),n)}}function Bse(e,t,r){return t&&Use(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zse(e,t,r){return t=Df(t),Wse(e,a6()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function Wse(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(e)}function qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yg(e,t)}function ho(e){return Gse(e)||Vse(e)||i6(e)||Kse()}function Kse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6(e,t){if(e){if(typeof e=="string")return Xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xg(e,t)}}function Vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gse(e){if(Array.isArray(e))return Xg(e)}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ae(e,t,r){return t=o6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e){var t=Qse(e,"string");return fo(t)=="symbol"?t:t+""}function Qse(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yse={xAxis:["bottom","top"],yAxis:["left","right"]},Xse={width:"100%",height:"100%"},l6={x:0,y:0};function Uu(e){return e}var Zse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Jse=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),qe(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),qe(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return l6},rp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ho(l),ho(u)):l},[]);return o.length>0?o:t&&t.length&&G(s)&&G(i)?t.slice(s,i+1):[]};function c6(e){return e==="number"?[0,"auto"]:void 0}var Zg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=rp(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Md(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(ho(c),[GO(u,h)]):c},[])},uS=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Zse(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=bQ(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Zg(t,r,d,f),p=Jse(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},eae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=zO(d,i);return n.reduce(function(v,y){var b,w=y.type.defaultProps!==void 0?B(B({},y.type.defaultProps),y.props):y.props,x=w.type,m=w.dataKey,_=w.allowDataOverflow,g=w.allowDuplicatedCategory,j=w.scale,N=w.ticks,S=w.includeHidden,A=w[o];if(v[A])return v;var P=rp(t.data,{graphicalItems:s.filter(function(V){var ee,ge=o in V.props?V.props[o]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[o];return ge===A}),dataStartIndex:c,dataEndIndex:u}),k=P.length,C,M,R;Ase(w.domain,_,x)&&(C=fg(w.domain,null,_),p&&(x==="number"||j!=="auto")&&(R=_l(P,m,"category")));var I=c6(x);if(!C||C.length===0){var U,W=(U=w.domain)!==null&&U!==void 0?U:I;if(m){if(C=_l(P,m,x),x==="category"&&p){var T=cD(C);g&&T?(M=C,C=Nf(0,k)):g||(C=Tj(W,C,y).reduce(function(V,ee){return V.indexOf(ee)>=0?V:[].concat(ho(V),[ee])},[]))}else if(x==="category")g?C=C.filter(function(V){return V!==""&&!ce(V)}):C=Tj(W,C,y).reduce(function(V,ee){return V.indexOf(ee)>=0||ee===""||ce(ee)?V:[].concat(ho(V),[ee])},[]);else if(x==="number"){var L=_Q(P,s.filter(function(V){var ee,ge,Te=o in V.props?V.props[o]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[o],He="hide"in V.props?V.props.hide:(ge=V.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return Te===A&&(S||!He)}),m,i,d);L&&(C=L)}p&&(x==="number"||j!=="auto")&&(R=_l(P,m,"category"))}else p?C=Nf(0,k):l&&l[A]&&l[A].hasStack&&x==="number"?C=h==="expand"?[0,1]:VO(l[A].stackGroups,c,u):C=BO(P,s.filter(function(V){var ee=o in V.props?V.props[o]:V.type.defaultProps[o],ge="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return ee===A&&(S||!ge)}),x,d,!0);if(x==="number")C=Qg(f,C,A,i,N),W&&(C=fg(W,C,_));else if(x==="category"&&W){var $=W,q=C.every(function(V){return $.indexOf(V)>=0});q&&(C=$)}}return B(B({},v),{},ae({},A,B(B({},w),{},{axisType:i,domain:C,categoricalDomain:R,duplicateDomain:M,originalDomain:(b=w.domain)!==null&&b!==void 0?b:I,isCategorical:p,layout:d})))},{})},tae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=rp(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=zO(d,i),y=-1;return n.reduce(function(b,w){var x=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,m=x[o],_=c6("number");if(!b[m]){y++;var g;return v?g=Nf(0,p):l&&l[m]&&l[m].hasStack?(g=VO(l[m].stackGroups,c,u),g=Qg(f,g,m,i)):(g=fg(_,BO(h,n.filter(function(j){var N,S,A=o in j.props?j.props[o]:(N=j.type.defaultProps)===null||N===void 0?void 0:N[o],P="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===m&&!P}),"number",d),s.defaultProps.allowDataOverflow),g=Qg(f,g,m,i)),B(B({},b),{},ae({},m,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:wr(Yse,"".concat(i,".").concat(y%2),null),domain:g,originalDomain:_,isCategorical:v,layout:d})))}return b},{})},rae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=jr(d,i),p={};return h&&h.length?p=eae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=tae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},nae=function(t){var r=ms(t),n=Ln(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Mv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uf(r,n)}},dS=function(t){var r=t.children,n=t.defaultShowTooltip,s=gr(r,ro),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Un(r&&r.type);return n&&n.indexOf("Bar")>=0})},fS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=gr(f,ro),v=gr(f,Ei),y=Object.keys(c).reduce(function(g,j){var N=c[j],S=N.orientation;return!N.mirror&&!N.hide?B(B({},g),{},ae({},S,g[S]+N.width)):g},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(g,j){var N=o[j],S=N.orientation;return!N.mirror&&!N.hide?B(B({},g),{},ae({},S,wr(g,"".concat(S))+N.height)):g},{top:h.top||0,bottom:h.bottom||0}),w=B(B({},b),y),x=w.bottom;p&&(w.bottom+=p.props.height||ro.defaultProps.height),v&&r&&(w=NQ(w,s,n,r));var m=u-w.left-w.right,_=d-w.top-w.bottom;return B(B({brushBottom:x},w),{},{width:Math.max(m,0),height:Math.max(_,0)})},iae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},vy=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(w,x){var m=x.graphicalItems,_=x.stackGroups,g=x.offset,j=x.updateId,N=x.dataStartIndex,S=x.dataEndIndex,A=w.barSize,P=w.layout,k=w.barGap,C=w.barCategoryGap,M=w.maxBarSize,R=fS(P),I=R.numericAxisName,U=R.cateAxisName,W=sae(m),T=[];return m.forEach(function(L,$){var q=rp(w.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:S}),V=L.type.defaultProps!==void 0?B(B({},L.type.defaultProps),L.props):L.props,ee=V.dataKey,ge=V.maxBarSize,Te=V["".concat(I,"Id")],He=V["".concat(U,"Id")],It={},bt=c.reduce(function(Mt,D){var X=x["".concat(D.axisType,"Map")],me=V["".concat(D.axisType,"Id")];X&&X[me]||D.axisType==="zAxis"||Ta();var Dt=X[me];return B(B({},Mt),{},ae(ae({},D.axisType,Dt),"".concat(D.axisType,"Ticks"),Ln(Dt)))},It),Y=bt[U],ne=bt["".concat(U,"Ticks")],ue=_&&_[Te]&&_[Te].hasStack&&IQ(L,_[Te].stackGroups),H=Un(L.type).indexOf("Bar")>=0,Ie=uf(Y,ne),pe=[],Me=W&&wQ({barSize:A,stackGroups:_,totalSize:iae(bt,U)});if(H){var ye,Q,le=ce(ge)?M:ge,be=(ye=(Q=uf(Y,ne,!0))!==null&&Q!==void 0?Q:le)!==null&&ye!==void 0?ye:0;pe=jQ({barGap:k,barCategoryGap:C,bandSize:be!==Ie?be:Ie,sizeList:Me[He],maxBarSize:le}),be!==Ie&&(pe=pe.map(function(Mt){return B(B({},Mt),{},{position:B(B({},Mt.position),{},{offset:Mt.position.offset-be/2})})}))}var ft=L&&L.type&&L.type.getComposedData;ft&&T.push({props:B(B({},ft(B(B({},bt),{},{displayedData:q,props:w,dataKey:ee,item:L,bandSize:Ie,barPosition:pe,offset:g,stackedData:ue,layout:P,dataStartIndex:N,dataEndIndex:S}))),{},ae(ae(ae({key:L.key||"item-".concat($)},I,bt[I]),U,bt[U]),"animationId",j)),childIndex:jD(L,w.children),item:L})}),T},p=function(w,x){var m=w.props,_=w.dataStartIndex,g=w.dataEndIndex,j=w.updateId;if(!_1({props:m}))return null;var N=m.children,S=m.layout,A=m.stackOffset,P=m.data,k=m.reverseStackOrder,C=fS(S),M=C.numericAxisName,R=C.cateAxisName,I=jr(N,n),U=TQ(P,I,"".concat(M,"Id"),"".concat(R,"Id"),A,k),W=c.reduce(function(V,ee){var ge="".concat(ee.axisType,"Map");return B(B({},V),{},ae({},ge,rae(m,B(B({},ee),{},{graphicalItems:I,stackGroups:ee.axisType===M&&U,dataStartIndex:_,dataEndIndex:g}))))},{}),T=aae(B(B({},W),{},{props:m,graphicalItems:I}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(V){W[V]=d(m,W[V],T,V.replace("Map",""),r)});var L=W["".concat(R,"Map")],$=nae(L),q=h(m,B(B({},W),{},{dataStartIndex:_,dataEndIndex:g,updateId:j,graphicalItems:I,stackGroups:U,offset:T}));return B(B({formattedGraphicalItems:q,graphicalItems:I,offset:T,stackGroups:U},$),W)},v=function(b){function w(x){var m,_,g;return Fse(this,w),g=zse(this,w,[x]),ae(g,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ae(g,"accessibilityManager",new _se),ae(g,"handleLegendBBoxUpdate",function(j){if(j){var N=g.state,S=N.dataStartIndex,A=N.dataEndIndex,P=N.updateId;g.setState(B({legendBBox:j},p({props:g.props,dataStartIndex:S,dataEndIndex:A,updateId:P},B(B({},g.state),{},{legendBBox:j}))))}}),ae(g,"handleReceiveSyncEvent",function(j,N,S){if(g.props.syncId===j){if(S===g.eventEmitterSymbol&&typeof g.props.syncMethod!="function")return;g.applySyncEvent(N)}}),ae(g,"handleBrushChange",function(j){var N=j.startIndex,S=j.endIndex;if(N!==g.state.dataStartIndex||S!==g.state.dataEndIndex){var A=g.state.updateId;g.setState(function(){return B({dataStartIndex:N,dataEndIndex:S},p({props:g.props,dataStartIndex:N,dataEndIndex:S,updateId:A},g.state))}),g.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),ae(g,"handleMouseEnter",function(j){var N=g.getMouseInfo(j);if(N){var S=B(B({},N),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseEnter;oe(A)&&A(S,j)}}),ae(g,"triggeredAfterMouseMove",function(j){var N=g.getMouseInfo(j),S=N?B(B({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseMove;oe(A)&&A(S,j)}),ae(g,"handleItemMouseEnter",function(j){g.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ae(g,"handleItemMouseLeave",function(){g.setState(function(){return{isTooltipActive:!1}})}),ae(g,"handleMouseMove",function(j){j.persist(),g.throttleTriggeredAfterMouseMove(j)}),ae(g,"handleMouseLeave",function(j){g.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};g.setState(N),g.triggerSyncEvent(N);var S=g.props.onMouseLeave;oe(S)&&S(N,j)}),ae(g,"handleOuterEvent",function(j){var N=wD(j),S=wr(g.props,"".concat(N));if(N&&oe(S)){var A,P;/.*touch.*/i.test(N)?P=g.getMouseInfo(j.changedTouches[0]):P=g.getMouseInfo(j),S((A=P)!==null&&A!==void 0?A:{},j)}}),ae(g,"handleClick",function(j){var N=g.getMouseInfo(j);if(N){var S=B(B({},N),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onClick;oe(A)&&A(S,j)}}),ae(g,"handleMouseDown",function(j){var N=g.props.onMouseDown;if(oe(N)){var S=g.getMouseInfo(j);N(S,j)}}),ae(g,"handleMouseUp",function(j){var N=g.props.onMouseUp;if(oe(N)){var S=g.getMouseInfo(j);N(S,j)}}),ae(g,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ae(g,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.handleMouseDown(j.changedTouches[0])}),ae(g,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.handleMouseUp(j.changedTouches[0])}),ae(g,"handleDoubleClick",function(j){var N=g.props.onDoubleClick;if(oe(N)){var S=g.getMouseInfo(j);N(S,j)}}),ae(g,"handleContextMenu",function(j){var N=g.props.onContextMenu;if(oe(N)){var S=g.getMouseInfo(j);N(S,j)}}),ae(g,"triggerSyncEvent",function(j){g.props.syncId!==void 0&&mm.emit(gm,g.props.syncId,j,g.eventEmitterSymbol)}),ae(g,"applySyncEvent",function(j){var N=g.props,S=N.layout,A=N.syncMethod,P=g.state.updateId,k=j.dataStartIndex,C=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)g.setState(B({dataStartIndex:k,dataEndIndex:C},p({props:g.props,dataStartIndex:k,dataEndIndex:C,updateId:P},g.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,R=j.chartY,I=j.activeTooltipIndex,U=g.state,W=U.offset,T=U.tooltipTicks;if(!W)return;if(typeof A=="function")I=A(T,j);else if(A==="value"){I=-1;for(var L=0;L<T.length;L++)if(T[L].value===j.activeLabel){I=L;break}}var $=B(B({},W),{},{x:W.left,y:W.top}),q=Math.min(M,$.x+$.width),V=Math.min(R,$.y+$.height),ee=T[I]&&T[I].value,ge=Zg(g.state,g.props.data,I),Te=T[I]?{x:S==="horizontal"?T[I].coordinate:q,y:S==="horizontal"?V:T[I].coordinate}:l6;g.setState(B(B({},j),{},{activeLabel:ee,activeCoordinate:Te,activePayload:ge,activeTooltipIndex:I}))}else g.setState(j)}),ae(g,"renderCursor",function(j){var N,S=g.state,A=S.isTooltipActive,P=S.activeCoordinate,k=S.activePayload,C=S.offset,M=S.activeTooltipIndex,R=S.tooltipAxisBandSize,I=g.getTooltipEventType(),U=(N=j.props.active)!==null&&N!==void 0?N:A,W=g.props.layout,T=j.key||"_recharts-cursor";return E.createElement(Tse,{key:T,activeCoordinate:P,activePayload:k,activeTooltipIndex:M,chartName:r,element:j,isActive:U,layout:W,offset:C,tooltipAxisBandSize:R,tooltipEventType:I})}),ae(g,"renderPolarAxis",function(j,N,S){var A=wr(j,"type.axisType"),P=wr(g.state,"".concat(A,"Map")),k=j.type.defaultProps,C=k!==void 0?B(B({},k),j.props):j.props,M=P&&P[C["".concat(A,"Id")]];return O.cloneElement(j,B(B({},M),{},{className:fe(A,M.className),key:j.key||"".concat(N,"-").concat(S),ticks:Ln(M,!0)}))}),ae(g,"renderPolarGrid",function(j){var N=j.props,S=N.radialLines,A=N.polarAngles,P=N.polarRadius,k=g.state,C=k.radiusAxisMap,M=k.angleAxisMap,R=ms(C),I=ms(M),U=I.cx,W=I.cy,T=I.innerRadius,L=I.outerRadius;return O.cloneElement(j,{polarAngles:Array.isArray(A)?A:Ln(I,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(P)?P:Ln(R,!0).map(function($){return $.coordinate}),cx:U,cy:W,innerRadius:T,outerRadius:L,key:j.key||"polar-grid",radialLines:S})}),ae(g,"renderLegend",function(){var j=g.state.formattedGraphicalItems,N=g.props,S=N.children,A=N.width,P=N.height,k=g.props.margin||{},C=A-(k.left||0)-(k.right||0),M=FO({children:S,formattedGraphicalItems:j,legendWidth:C,legendContent:u});if(!M)return null;var R=M.item,I=lS(M,$se);return O.cloneElement(R,B(B({},I),{},{chartWidth:A,chartHeight:P,margin:k,onBBoxUpdate:g.handleLegendBBoxUpdate}))}),ae(g,"renderTooltip",function(){var j,N=g.props,S=N.children,A=N.accessibilityLayer,P=gr(S,Be);if(!P)return null;var k=g.state,C=k.isTooltipActive,M=k.activeCoordinate,R=k.activePayload,I=k.activeLabel,U=k.offset,W=(j=P.props.active)!==null&&j!==void 0?j:C;return O.cloneElement(P,{viewBox:B(B({},U),{},{x:U.left,y:U.top}),active:W,label:I,payload:W?R:[],coordinate:M,accessibilityLayer:A})}),ae(g,"renderBrush",function(j){var N=g.props,S=N.margin,A=N.data,P=g.state,k=P.offset,C=P.dataStartIndex,M=P.dataEndIndex,R=P.updateId;return O.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Mu(g.handleBrushChange,j.props.onChange),data:A,x:G(j.props.x)?j.props.x:k.left,y:G(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(S.bottom||0),width:G(j.props.width)?j.props.width:k.width,startIndex:C,endIndex:M,updateId:"brush-".concat(R)})}),ae(g,"renderReferenceElement",function(j,N,S){if(!j)return null;var A=g,P=A.clipPathId,k=g.state,C=k.xAxisMap,M=k.yAxisMap,R=k.offset,I=j.type.defaultProps||{},U=j.props,W=U.xAxisId,T=W===void 0?I.xAxisId:W,L=U.yAxisId,$=L===void 0?I.yAxisId:L;return O.cloneElement(j,{key:j.key||"".concat(N,"-").concat(S),xAxis:C[T],yAxis:M[$],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:P})}),ae(g,"renderActivePoints",function(j){var N=j.item,S=j.activePoint,A=j.basePoint,P=j.childIndex,k=j.isRange,C=[],M=N.props.key,R=N.item.type.defaultProps!==void 0?B(B({},N.item.type.defaultProps),N.item.props):N.item.props,I=R.activeDot,U=R.dataKey,W=B(B({index:P,dataKey:U,cx:S.x,cy:S.y,r:4,fill:oy(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},se(I,!1)),Dd(I));return C.push(w.renderActiveDot(I,W,"".concat(M,"-activePoint-").concat(P))),A?C.push(w.renderActiveDot(I,B(B({},W),{},{cx:A.x,cy:A.y}),"".concat(M,"-basePoint-").concat(P))):k&&C.push(null),C}),ae(g,"renderGraphicChild",function(j,N,S){var A=g.filterFormatItem(j,N,S);if(!A)return null;var P=g.getTooltipEventType(),k=g.state,C=k.isTooltipActive,M=k.tooltipAxis,R=k.activeTooltipIndex,I=k.activeLabel,U=g.props.children,W=gr(U,Be),T=A.props,L=T.points,$=T.isRange,q=T.baseLine,V=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,ee=V.activeDot,ge=V.hide,Te=V.activeBar,He=V.activeShape,It=!!(!ge&&C&&W&&(ee||Te||He)),bt={};P!=="axis"&&W&&W.props.trigger==="click"?bt={onClick:Mu(g.handleItemMouseEnter,j.props.onClick)}:P!=="axis"&&(bt={onMouseLeave:Mu(g.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Mu(g.handleItemMouseEnter,j.props.onMouseEnter)});var Y=O.cloneElement(j,B(B({},A.props),bt));function ne(D){return typeof M.dataKey=="function"?M.dataKey(D.payload):null}if(It)if(R>=0){var ue,H;if(M.dataKey&&!M.allowDuplicatedCategory){var Ie=typeof M.dataKey=="function"?ne:"payload.".concat(M.dataKey.toString());ue=Md(L,Ie,I),H=$&&q&&Md(q,Ie,I)}else ue=L==null?void 0:L[R],H=$&&q&&q[R];if(He||Te){var pe=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[O.cloneElement(j,B(B(B({},A.props),bt),{},{activeIndex:pe})),null,null]}if(!ce(ue))return[Y].concat(ho(g.renderActivePoints({item:A,activePoint:ue,basePoint:H,childIndex:R,isRange:$})))}else{var Me,ye=(Me=g.getItemByXY(g.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:Y},Q=ye.graphicalItem,le=Q.item,be=le===void 0?j:le,ft=Q.childIndex,Mt=B(B(B({},A.props),bt),{},{activeIndex:ft});return[O.cloneElement(be,Mt),null,null]}return $?[Y,null,null]:[Y,null]}),ae(g,"renderCustomized",function(j,N,S){return O.cloneElement(j,B(B({key:"recharts-customized-".concat(S)},g.props),g.state))}),ae(g,"renderMap",{CartesianGrid:{handler:Uu,once:!0},ReferenceArea:{handler:g.renderReferenceElement},ReferenceLine:{handler:Uu},ReferenceDot:{handler:g.renderReferenceElement},XAxis:{handler:Uu},YAxis:{handler:Uu},Brush:{handler:g.renderBrush,once:!0},Bar:{handler:g.renderGraphicChild},Line:{handler:g.renderGraphicChild},Area:{handler:g.renderGraphicChild},Radar:{handler:g.renderGraphicChild},RadialBar:{handler:g.renderGraphicChild},Scatter:{handler:g.renderGraphicChild},Pie:{handler:g.renderGraphicChild},Funnel:{handler:g.renderGraphicChild},Tooltip:{handler:g.renderCursor,once:!0},PolarGrid:{handler:g.renderPolarGrid,once:!0},PolarAngleAxis:{handler:g.renderPolarAxis},PolarRadiusAxis:{handler:g.renderPolarAxis},Customized:{handler:g.renderCustomized}}),g.clipPathId="".concat((m=x.id)!==null&&m!==void 0?m:ko("recharts"),"-clip"),g.throttleTriggeredAfterMouseMove=LA(g.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),g.state={},g}return Hse(w,b),Bse(w,[{key:"componentDidMount",value:function(){var m,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,_=m.children,g=m.data,j=m.height,N=m.layout,S=gr(_,Be);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=Zg(this.state,g,A,P),C=this.state.tooltipTicks[A].coordinate,M=(this.state.offset.top+j)/2,R=N==="horizontal",I=R?{x:C,y:M}:{y:C,x:M},U=this.state.formattedGraphicalItems.find(function(T){var L=T.item;return L.type.name==="Scatter"});U&&(I=B(B({},I),U.props.points[A].tooltipPosition),k=U.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:k,activeCoordinate:I};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var g,j;this.accessibilityManager.setDetails({offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(m){O0([gr(m.children,Be)],[gr(this.props.children,Be)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=gr(this.props.children,Be);if(m&&typeof m.props.shared=="boolean"){var _=m.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var _=this.container,g=_.getBoundingClientRect(),j=Gq(g),N={chartX:Math.round(m.pageX-j.left),chartY:Math.round(m.pageY-j.top)},S=g.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,S);if(!A)return null;var P=this.state,k=P.xAxisMap,C=P.yAxisMap,M=this.getTooltipEventType(),R=uS(this.state,this.props.data,this.props.layout,A);if(M!=="axis"&&k&&C){var I=ms(k).scale,U=ms(C).scale,W=I&&I.invert?I.invert(N.chartX):null,T=U&&U.invert?U.invert(N.chartY):null;return B(B({},N),{},{xValue:W,yValue:T},R)}return R?B(B({},N),R):null}},{key:"inRange",value:function(m,_){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=m/g,S=_/g;if(j==="horizontal"||j==="vertical"){var A=this.state.offset,P=N>=A.left&&N<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return P?{x:N,y:S}:null}var k=this.state,C=k.angleAxisMap,M=k.radiusAxisMap;if(C&&M){var R=ms(C);return Mj({x:N,y:S},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,_=this.getTooltipEventType(),g=gr(m,Be),j={};g&&_==="axis"&&(g.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Dd(this.props,this.handleOuterEvent);return B(B({},N),j)}},{key:"addListener",value:function(){mm.on(gm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mm.removeListener(gm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,_,g){for(var j=this.state.formattedGraphicalItems,N=0,S=j.length;N<S;N++){var A=j[N];if(A.item===m||A.props.key===m.key||_===Un(A.item.type)&&g===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,_=this.state.offset,g=_.left,j=_.top,N=_.height,S=_.width;return E.createElement("defs",null,E.createElement("clipPath",{id:m},E.createElement("rect",{x:g,y:j,height:N,width:S})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(_,g){var j=oS(g,2),N=j[0],S=j[1];return B(B({},_),{},ae({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(_,g){var j=oS(g,2),N=j[0],S=j[1];return B(B({},_),{},ae({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(m){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(m){var _=this.state,g=_.formattedGraphicalItems,j=_.activeItem;if(g&&g.length)for(var N=0,S=g.length;N<S;N++){var A=g[N],P=A.props,k=A.item,C=k.type.defaultProps!==void 0?B(B({},k.type.defaultProps),k.props):k.props,M=Un(k.type);if(M==="Bar"){var R=(P.data||[]).find(function(T){return EZ(m,T)});if(R)return{graphicalItem:A,payload:R}}else if(M==="RadialBar"){var I=(P.data||[]).find(function(T){return Mj(m,T)});if(I)return{graphicalItem:A,payload:I}}else if(Qh(A,j)||Yh(A,j)||Pc(A,j)){var U=vee({graphicalItem:A,activeTooltipItem:j,itemData:C.data}),W=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:W}),payload:Pc(A,j)?C.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var m=this;if(!_1(this))return null;var _=this.props,g=_.children,j=_.className,N=_.width,S=_.height,A=_.style,P=_.compact,k=_.title,C=_.desc,M=lS(_,Ise),R=se(M,!1);if(P)return E.createElement(WN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(k0,wi({},R,{width:N,height:S,title:k,desc:C}),this.renderClipPath(),O1(g,this.renderMap)));if(this.props.accessibilityLayer){var I,U;R.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,R.role=(U=this.props.role)!==null&&U!==void 0?U:"application",R.onKeyDown=function(T){m.accessibilityManager.keyboardEvent(T)},R.onFocus=function(){m.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return E.createElement(WN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",wi({className:fe("recharts-wrapper",j),style:B({position:"relative",cursor:"default",width:N,height:S},A)},W,{ref:function(L){m.container=L}}),E.createElement(k0,wi({},R,{width:N,height:S,title:k,desc:C,style:Xse}),this.renderClipPath(),O1(g,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ae(v,"displayName",r),ae(v,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ae(v,"getDerivedStateFromProps",function(b,w){var x=b.dataKey,m=b.data,_=b.children,g=b.width,j=b.height,N=b.layout,S=b.stackOffset,A=b.margin,P=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var C=dS(b);return B(B(B({},C),{},{updateId:0},p(B(B({props:b},C),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:m,prevWidth:g,prevHeight:j,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(x!==w.prevDataKey||m!==w.prevData||g!==w.prevWidth||j!==w.prevHeight||N!==w.prevLayout||S!==w.prevStackOffset||!ki(A,w.prevMargin)){var M=dS(b),R={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},I=B(B({},uS(w,m,N)),{},{updateId:w.updateId+1}),U=B(B(B({},M),R),I);return B(B(B({},U),p(B({props:b},U),w)),{},{prevDataKey:x,prevData:m,prevWidth:g,prevHeight:j,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(!O0(_,w.prevChildren)){var W,T,L,$,q=gr(_,ro),V=q&&(W=(T=q.props)===null||T===void 0?void 0:T.startIndex)!==null&&W!==void 0?W:P,ee=q&&(L=($=q.props)===null||$===void 0?void 0:$.endIndex)!==null&&L!==void 0?L:k,ge=V!==P||ee!==k,Te=!ce(m),He=Te&&!ge?w.updateId:w.updateId+1;return B(B({updateId:He},p(B(B({props:b},w),{},{updateId:He,dataStartIndex:V,dataEndIndex:ee}),w)),{},{prevChildren:_,dataStartIndex:V,dataEndIndex:ee})}return null}),ae(v,"renderActiveDot",function(b,w,x){var m;return O.isValidElement(b)?m=O.cloneElement(b,w):oe(b)?m=b(w):m=E.createElement(qh,w),E.createElement(je,{className:"recharts-active-dot",key:x},m)});var y=O.forwardRef(function(w,x){return E.createElement(v,wi({},w,{ref:x}))});return y.displayName=v.displayName,y},ru=vy({chartName:"LineChart",GraphicalChild:er,axisComponents:[{axisType:"xAxis",AxisComp:Kt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:PP}),Wa=vy({chartName:"BarChart",GraphicalChild:Ot,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:PP}),nu=vy({chartName:"PieChart",GraphicalChild:Pr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gh},{axisType:"radiusAxis",AxisComp:Kh}],formatAxisMap:qQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function hS({title:e,data:t}){return a.jsxs(F,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function oae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await g5.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your survey platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(Au,{title:"Total Users",value:e.totalUsers,icon:a.jsx(Lr,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx(Au,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Ht,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx(Au,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Br,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx(Au,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Se,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(hS,{title:"Performance by Role",data:e.performanceByRole}),a.jsx(P$,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(hS,{title:"Performance by Survey",data:e.performanceBySurvey})})]})}):a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Ae({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(N$,{className:"w-5 h-5"})})]}),n]})]})})}function lae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{d()},[c]);const d=async()=>{try{i(!0);const p=await x5.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},f=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Hc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ja,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Lr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Se,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:e.zonePerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"zoneName"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(p,v)=>[v==="passRate"?`${p}%`:p,v==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(nu,{children:[a.jsx(Pr,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:v})=>`${p}: ${v}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,v)=>a.jsx(Bs,{fill:h[v%h.length]},`cell-${v}`))}),a.jsx(Be,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>f(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx(No,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:v+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:v+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:e.monthlyTrends,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"month"}),a.jsx(Vt,{}),a.jsx(Be,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Ae,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function cae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{v()},[h]);const v=async()=>{try{l(!0);const x=await v5.getDashboardData(h);x.success&&x.data&&t(x.data)}catch(x){console.error("Failed to fetch RO dashboard data:",x)}finally{l(!1)}},y=x=>{n(x),u(!0)},b=x=>{i(x),f(!0)},w=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(x=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},x))})})})}):e?a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Hc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Oa,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Lr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Se,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:e.districtPerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"districtName"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(x,m)=>[m==="passRate"?`${x}%`:x,m==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(nu,{children:[a.jsx(Pr,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:x,percentage:m})=>`${x}: ${m}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((x,m)=>a.jsx(Bs,{fill:w[m%w.length]},`cell-${m}`))}),a.jsx(Be,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(x=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>y(x),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:x.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:x.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",x.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},x.districtId))})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(x=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",x.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[x.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>b(x),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})})})]},x.supervisorId))})]})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:e.monthlyTrends,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"month"}),a.jsx(Vt,{}),a.jsx(Be,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Ae,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(Ae,{isOpen:d,onClose:()=>f(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(x=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x.totalCertificates," certificates"]})]})]})},x.id))})]})]})})]})}):a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function uae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{v()},[h]);const v=async()=>{try{l(!0);const m=await av.getDashboardData(h);m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch supervisor dashboard data:",m)}finally{l(!1)}},y=m=>{n(m),u(!0)},b=m=>{i(m),f(!0)},w=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(m=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},m))})})})}):e?a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ht,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Se,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(m=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Pe(m.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[m.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[m.pendingEnumerators,"/",m.totalEnumerators," pending"]})]})]},m.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:e.teamPerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"teamName"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(m,_)=>[_==="passRate"?`${m}%`:m,_==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(nu,{children:[a.jsx(Pr,{data:[{name:"Completed",value:e.enumeratorStatus.filter(m=>m.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(m=>m.overallProgress>0&&m.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(m=>m.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:_})=>`${m}: ${_}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(m=>a.jsx(Bs,{fill:x[m%x.length]},`cell-${m}`))}),a.jsx(Be,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(m=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>y(m),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.passRate>=80?"bg-green-100 text-green-800":m.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",m.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},m.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ie,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.surveys.filter(_=>_.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(m),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,3).map(_=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(_.status)}`,children:[_.surveyTitle,": ",_.status.replace("_"," ")]},_.surveyId)),m.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-3," more"]})]})]},m.id))})]}),a.jsx(Ae,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]})},m.id))})]})]})}),a.jsx(Ae,{isOpen:d,onClose:()=>f(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Pe(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Pe(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]})]})})]})}):a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function dae(){const e=yo(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,d]=O.useState(!1),[f,h]=O.useState("overview"),[p,v]=O.useState(""),[y,b]=O.useState("all");O.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const N=await qc.getDashboardData();N.success&&N.data&&r(N.data)}catch(N){console.error("Failed to fetch enumerator dashboard data:",N)}finally{o(!1)}},x=async N=>{try{d(!0);const S=t==null?void 0:t.availableTests.find(k=>k.surveyId===N);if(!S||!S.isEligible||S.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await Tn.createTestSession(N);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:N,startTime:A.data.startTime,sessionData:A.data}})}catch(S){console.error("Failed to start test:",S),alert(`Failed to start test: ${S instanceof Error?S.message:"Please try again."}`)}finally{d(!1),c(!1)}},m=N=>{s(N),c(!0)},_=N=>N.isEligible?N.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",g=N=>{if(!N.isEligible)return"Not Eligible";if(N.attemptsLeft===0)return"No Attempts Left";const S=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return S<=0?"Overdue":S<=3?`${S} days left`:"Available"},j=(t==null?void 0:t.availableTests.filter(N=>{const S=N.title.toLowerCase().includes(p.toLowerCase())||N.description.toLowerCase().includes(p.toLowerCase());if(y==="all")return S;const A=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(y){case"urgent":return S&&A<=3&&A>0;case"available":return S&&N.isEligible&&N.attemptsLeft>0;case"overdue":return S&&A<=0;default:return S}}))||[];return i?a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(N=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},N))})})})}):t?a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Jl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ht,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Se,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:t.completedTests.map((N,S)=>({attempt:S+1,score:N.score,name:N.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"attempt"}),a.jsx(Vt,{domain:[0,100]}),a.jsx(Be,{formatter:N=>[`${N}%`,"Score"]}),a.jsx(er,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(N=>N.daysLeft<=7).length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(N=>N.daysLeft<=7).map(N=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:N.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Pe(N.targetDate)]}),a.jsx("p",{className:`font-medium ${N.isOverdue?"text-red-600":"text-orange-600"}`,children:N.isOverdue?"OVERDUE":`${N.daysLeft} days left`})]})]},N.surveyId))})]}),a.jsxs(F,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Jl,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(No,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),f==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(N=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${N.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Pe(N.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${N.isPassed?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]},N.resultId))})]})]})}),f==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search tests...",value:p,onChange:N=>v(N.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:y,onChange:N=>b(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:j.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:N.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Pe(N.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Cs(N.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[N.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Br,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",N.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${_(N)}`,children:g(N)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.attemptsLeft,"/",N.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(N),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>x(N.surveyId),disabled:!N.isEligible||N.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===N.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},N.surveyId))})]}),f==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${N.score>=70?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${N.isPassed?"text-green-600":"text-red-600"}`,children:N.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:N.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Pe(N.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[N.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Se,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(z,{variant:"secondary",size:"sm",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},N.resultId))}),f==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(N=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Se,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:N.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",N.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Pe(N.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${N.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})]}),a.jsxs(z,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},N.id))})]}),a.jsx(Ae,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Cs(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Pe(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{x(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Oe,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function fae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[d]);const v=async()=>{try{i(!0);const g=await av.getDashboardData(d);g.success&&g.data&&t(g.data.teamPerformance)}catch(g){console.error("Failed to fetch team results:",g)}finally{i(!1)}},y=g=>{n(g),l(!0)},b=g=>g>=90?"excellent":g>=80?"good":g>=60?"average":"poor",w=g=>{switch(g){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=e.filter(g=>{const j=g.teamName.toLowerCase().includes(c.toLowerCase()),N=b(g.passRate);return j&&(h==="all"||N===h)}),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],_={totalTeams:e.length,totalMembers:e.reduce((g,j)=>g+j.totalMembers,0),averagePassRate:e.reduce((g,j)=>g+j.passRate,0)/e.length||0,averageScore:e.reduce((g,j)=>g+j.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((g,j)=>g.passRate>j.passRate?g:j,e[0]),lowPerformingTeam:e.reduce((g,j)=>g.passRate<j.passRate?g:j,e[0])};return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:d,onChange:g=>f(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Lr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[_.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Se,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:e,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"teamName"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(g,j)=>[j==="passRate"?`${g}%`:g,j==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(nu,{children:[a.jsx(Pr,{data:[{name:"Excellent (90%+)",value:e.filter(g=>g.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(g=>g.passRate>=80&&g.passRate<90).length},{name:"Average (60-79%)",value:e.filter(g=>g.passRate>=60&&g.passRate<80).length},{name:"Poor (<60%)",value:e.filter(g=>g.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:g,value:j})=>`${g}: ${j}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(g=>a.jsx(Bs,{fill:m[g%m.length]},`cell-${g}`))}),a.jsx(Be,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx(No,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,j)=>j.passRate-g.passRate).slice(0,3).map((g,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:j+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,j)=>g.passRate-j.passRate).slice(0,3).map((g,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:j+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(ie,{placeholder:"Search teams...",value:c,onChange:g=>u(g.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(F,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:x.map(g=>{const j=b(g.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Lr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",g.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${ys(g.passRate)}`,children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${ys(g.averageScore)}`,children:[g.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w(j)}`,children:j.charAt(0).toUpperCase()+j.slice(1)})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>y(g),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(g.completedTests/g.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.completedTests/g.totalMembers*100}%`}})})]})]},g.teamId)})})]}),a.jsx(Ae,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:g.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:g.surveys.filter(j=>j.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.surveys.length>0?Math.max(...g.surveys.map(j=>j.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},g.id))})]})]})})]})})}function hae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const g=await av.getDashboardData("30");g.success&&g.data&&t(g.data.enumeratorStatus)}catch(g){console.error("Failed to fetch enumerators:",g)}finally{i(!1)}},y=g=>{n(g),l(!0)},b=g=>{switch(g){case"completed":return a.jsx(it,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Id,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(dr,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},w=g=>{switch(g){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=g=>{const j=g.surveys.length,N=g.surveys.filter(P=>P.status==="completed").length,S=g.surveys.filter(P=>P.status==="failed").length,A=g.surveys.filter(P=>P.status==="expired").length;return N===j?"excellent":S>0||A>0?"needs_attention":N>j/2?"good":"poor"},m=e.filter(g=>{const j=g.user.name.toLowerCase().includes(c.toLowerCase())||g.user.email.toLowerCase().includes(c.toLowerCase()),N=x(g),S=d==="all"||N===d;let A=!0;if(h!=="all")switch(h){case"completed":A=g.overallProgress===100;break;case"in_progress":A=g.overallProgress>0&&g.overallProgress<100;break;case"not_started":A=g.overallProgress===0;break}return j&&S&&A}),_={totalEnumerators:e.length,completedAll:e.filter(g=>g.overallProgress===100).length,inProgress:e.filter(g=>g.overallProgress>0&&g.overallProgress<100).length,notStarted:e.filter(g=>g.overallProgress===0).length,averageProgress:e.reduce((g,j)=>g+j.overallProgress,0)/e.length||0,totalCertificates:e.reduce((g,j)=>g+j.totalCertificates,0)};return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ms,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Jt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(dr,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Br,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Se,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:e.map(g=>({name:g.user.name.split(" ")[0],progress:g.overallProgress,certificates:g.totalCertificates})),children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:(g,j)=>[j==="progress"?`${g}%`:g,j==="progress"?"Progress":"Certificates"]}),a.jsx(Ot,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Ot,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search enumerators...",value:c,onChange:g=>u(g.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:d,onChange:g=>f(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:m.map(g=>{const j=x(g),N=g.surveys.filter(A=>A.status==="completed").length,S=g.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(p$,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.email})]}),g.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(x$,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.phoneNumber})]}),g.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",g.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N,"/",S]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j==="excellent"?"bg-green-100 text-green-800":j==="good"?"bg-blue-100 text-blue-800":j==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:j==="excellent"?"Excellent":j==="good"?"Good":j==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>y(g),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[b(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),g.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",g.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Sr(g.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",g.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",g.surveys.length>0?(g.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/g.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},g.id)})})}),a.jsx(Ae,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(g=>g.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((g,j)=>g+(j.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[b(g.status),a.jsx("h5",{className:"font-medium text-gray-900",children:g.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(g.status)}`,children:g.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[g.attempts,"/",g.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.bestScore?`${g.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Pe(g.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:g.lastAttempt?Pe(g.lastAttempt):"Never"})]})]}),g.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},g.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function pae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState({name:"",email:"",roleId:"",jurisdiction:""});O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const w=await Up.getUsers();t(w.data||[])}catch(w){console.error("Failed to fetch users:",w),t([])}finally{n(!1)}},p=async()=>{try{const w=await Up.createUser(d);w.success&&w.data&&(t([...e,w.data]),l(!1),y())}catch(w){console.error("Failed to create user:",w)}},v=async w=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await Up.deleteUser(w)).success&&t(e.filter(m=>m.id!==w))}catch(x){console.error("Failed to delete user:",x)}},y=()=>{f({name:"",email:"",roleId:"",jurisdiction:""}),u(null)},b=e.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())||w.email.toLowerCase().includes(s.toLowerCase())||w.role.name.toLowerCase().includes(s.toLowerCase()));return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(z,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search users...",value:s,onChange:w=>i(w.target.value),className:"pl-10"})]})}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:b.map(w=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.name}),a.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:w.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${w.isActive?"text-green-600":"text-red-600"}`,children:[w.isActive?a.jsx(Oa,{className:"w-4 h-4"}):a.jsx(w$,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:w.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Sr(w.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>v(w.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(uh,{className:"w-4 h-4"})})]})})]},w.id))})]})})]}),a.jsx(Ae,{isOpen:o,onClose:()=>{l(!1),y()},title:"Create New User",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{label:"Name",value:d.name,onChange:w=>f({...d,name:w.target.value}),placeholder:"Enter user name"}),a.jsx(ie,{label:"Email",type:"email",value:d.email,onChange:w=>f({...d,email:w.target.value}),placeholder:"Enter email address"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:d.roleId,onChange:w=>f({...d,roleId:w.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select role"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440001",children:"Admin"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440002",children:"Supervisor"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440003",children:"RO User"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440004",children:"ZO User"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440005",children:"Enumerator"})]})]}),a.jsx(ie,{label:"Jurisdiction",value:d.jurisdiction,onChange:w=>f({...d,jurisdiction:w.target.value}),placeholder:"Enter jurisdiction (optional)"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),y()},children:"Cancel"}),a.jsx(z,{onClick:p,children:"Create User"})]})]})})]})})}function mae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[h,p]=O.useState(null),[v,y]=O.useState({name:"",description:""});O.useEffect(()=>{b(),w()},[]);const b=async()=>{try{i(!0);const S=await na.getRoles();t(S.data||[])}catch(S){console.error("Failed to fetch roles:",S),t([])}finally{i(!1)}},w=async()=>{try{const S=await na.getPermissions();n(S.data)}catch(S){console.error("Failed to fetch permissions:",S)}},x=async()=>{try{const S=await na.createRole(v);S.success&&S.data&&(t([...e,S.data]),u(!1),j())}catch(S){console.error("Failed to create role:",S)}},m=async()=>{if(h)try{const S=await na.updateRole(h.id,v);S.success&&S.data&&(t(e.map(A=>A.id===h.id?S.data:A)),f(!1),j())}catch(S){console.error("Failed to update role:",S)}},_=async S=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await na.deleteRole(S)).success&&t(e.filter(P=>P.id!==S))}catch(A){console.error("Failed to delete role:",A)}},g=S=>{p(S),y({name:S.name,description:S.description}),f(!0)},j=()=>{y({name:"",description:""}),p(null)},N=e.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((S,A)=>(S[A.module]||(S[A.module]=[]),S[A.module].push(A),S),{}),a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(z,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search roles...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(S=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Sa,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",S.level," | Users: ",S.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[S.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Kc,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",S.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Sr(S.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Sr(S.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>g(S),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(S.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(uh,{className:"w-4 h-4"})})]})]})]},S.id))})]}),a.jsx(Ae,{isOpen:c,onClose:()=>{u(!1),j()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Role Name",value:v.name,onChange:S=>y({...v,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:v.description,onChange:S=>y({...v,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),j()},children:"Cancel"}),a.jsx(z,{onClick:x,children:"Create Role"})]})]})}),a.jsx(Ae,{isOpen:d,onClose:()=>{f(!1),j()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Role Name",value:v.name,onChange:S=>y({...v,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:v.description,onChange:S=>y({...v,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{f(!1),j()},children:"Cancel"}),a.jsx(z,{onClick:m,children:"Update Role"})]})]})})]})})}function gae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,p]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3});O.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const N=await Cn.getSurveys();t(N.data||[])}catch(N){console.error("Failed to fetch surveys:",N),t([])}finally{n(!1)}},y=async()=>{try{const N=await Cn.createSurvey({...h,targetDate:new Date(h.targetDate)});N.success&&N.data&&(t([...e,N.data]),l(!1),g())}catch(N){console.error("Failed to create survey:",N)}},b=async()=>{if(d)try{const N=await Cn.updateSurvey(d.id,{...h,targetDate:new Date(h.targetDate)});N.success&&N.data&&(t(e.map(S=>S.id===d.id?N.data:S)),u(!1),g())}catch(N){console.error("Failed to update survey:",N)}},w=async(N,S)=>{if(S.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{(await Cn.deleteSurvey(N)).success&&t(e.filter(P=>P.id!==N))}catch(A){console.error("Failed to delete survey:",A)}},x=async(N,S)=>{S.stopPropagation();const A=e.find(P=>P.id===N);if(A)try{const P=await Cn.updateSurvey(N,{...A,isActive:!A.isActive});P.success&&P.data&&t(e.map(k=>k.id===N?{...k,isActive:!k.isActive}:k))}catch(P){console.error("Failed to toggle survey status:",P)}},m=async(N,S)=>{S.stopPropagation();try{const A={title:`${N.title} (Copy)`,description:N.description,targetDate:N.targetDate,duration:N.duration,totalQuestions:N.totalQuestions,passingScore:N.passingScore,maxAttempts:N.maxAttempts},P=await Cn.createSurvey(A);P.success&&P.data&&t([...e,P.data])}catch(A){console.error("Failed to duplicate survey:",A)}},_=(N,S)=>{S.stopPropagation();const A=new Date(N.targetDate),P=isNaN(A.getTime())?"":A.toISOString().split("T")[0];f(N),p({title:N.title,description:N.description,targetDate:P,duration:N.duration,totalQuestions:N.totalQuestions,passingScore:N.passingScore,maxAttempts:N.maxAttempts}),u(!0)},g=()=>{p({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3}),f(null)},j=e.filter(N=>N.title.toLowerCase().includes(s.toLowerCase())||N.description.toLowerCase().includes(s.toLowerCase()));return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Survey Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(z,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search surveys...",value:s,onChange:N=>i(N.target.value),className:"pl-10"})]})}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:j.map(N=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:N.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:N.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Cs(N.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Pe(N.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[N.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:S=>_(N,S),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:S=>m(N,S),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(l$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:S=>x(N.id,S),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${N.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:N.isActive?"Deactivate Survey":"Activate Survey",children:N.isActive?a.jsx(b$,{className:"w-4 h-4"}):a.jsx(y$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:S=>{S.stopPropagation(),console.log("View details for survey:",N.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:S=>w(N.id,S),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx(uh,{className:"w-4 h-4"})})]})})]},N.id))})]})}),j.length===0&&!r&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:s?"No surveys match your search criteria.":"Get started by creating your first survey."}),!s&&a.jsxs(z,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(Ae,{isOpen:o,onClose:()=>{l(!1),g()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{label:"Survey Title",value:h.title,onChange:N=>p({...h,title:N.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:h.description,onChange:N=>p({...h,description:N.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Target Date",type:"date",value:h.targetDate,onChange:N=>p({...h,targetDate:N.target.value})}),a.jsx(ie,{label:"Duration (minutes)",type:"number",value:h.duration,onChange:N=>p({...h,duration:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(ie,{label:"Total Questions",type:"number",value:h.totalQuestions,onChange:N=>p({...h,totalQuestions:parseInt(N.target.value)}),min:"1"}),a.jsx(ie,{label:"Passing Score (%)",type:"number",value:h.passingScore,onChange:N=>p({...h,passingScore:parseInt(N.target.value)}),min:"1",max:"100"}),a.jsx(ie,{label:"Max Attempts",type:"number",value:h.maxAttempts,onChange:N=>p({...h,maxAttempts:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:y,children:"Create Survey"})]})]})}),a.jsx(Ae,{isOpen:c,onClose:()=>{u(!1),g()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{label:"Survey Title",value:h.title,onChange:N=>p({...h,title:N.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:h.description,onChange:N=>p({...h,description:N.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Target Date",type:"date",value:h.targetDate,onChange:N=>p({...h,targetDate:N.target.value})}),a.jsx(ie,{label:"Duration (minutes)",type:"number",value:h.duration,onChange:N=>p({...h,duration:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(ie,{label:"Total Questions",type:"number",value:h.totalQuestions,onChange:N=>p({...h,totalQuestions:parseInt(N.target.value)}),min:"1"}),a.jsx(ie,{label:"Passing Score (%)",type:"number",value:h.passingScore,onChange:N=>p({...h,passingScore:parseInt(N.target.value)}),min:"1",max:"100"}),a.jsx(ie,{label:"Max Attempts",type:"number",value:h.maxAttempts,onChange:N=>p({...h,maxAttempts:parseInt(N.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:b,children:"Update Survey"})]})]})})]})})}function xae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(null),[c,u]=O.useState(null),[d,f]=O.useState(null),[h,p]=O.useState(!0),[v,y]=O.useState(!1),[b,w]=O.useState(!1),[x,m]=O.useState(""),[_,g]=O.useState(!1),[j,N]=O.useState(!1),[S,A]=O.useState(!1),[P,k]=O.useState(!1),[C,M]=O.useState(!1),[R,I]=O.useState(null),[U,W]=O.useState(!1),[T,L]=O.useState({title:"",description:"",questionsCount:10,order:1}),[$,q]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]});O.useEffect(()=>{V()},[]),O.useEffect(()=>{o?ee(o.id):(n([]),u(null),i([]))},[o]),O.useEffect(()=>{c?ge(o.id,c.id):i([])},[c]);const V=async()=>{try{p(!0);const D=await Cn.getSurveys();t(D.data)}catch(D){console.error("Failed to fetch surveys:",D)}finally{p(!1)}},ee=async D=>{try{y(!0);const X=await Cn.getSurveySections(D);n(X.data)}catch(X){console.error("Failed to fetch sections:",X)}finally{y(!1)}},ge=async(D,X)=>{try{w(!0);const me=await _u.getQuestions(D,X);i(me.data)}catch(me){console.error("Failed to fetch questions:",me)}finally{w(!1)}},Te=D=>{l(D),u(null),i([])},He=D=>{u(D)},It=async()=>{try{const D=await _u.downloadTemplate(),X=URL.createObjectURL(D),me=document.createElement("a");me.href=X,me.download="question_template_with_survey_sections.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(X)}catch(D){console.error("Failed to download template:",D)}},bt=async()=>{if(R)try{W(!0);const D=await _u.uploadQuestions(o.id,R);if(D.success){const X=D.data;let me=`Upload completed!

`;me+=` Questions added: ${X.questionsAdded}
`,X.questionsSkipped>0&&(me+=` Questions skipped: ${X.questionsSkipped}
`),X.errors.length>0&&(me+=`
Errors encountered:
${X.errors.slice(0,5).join(`
`)}`,X.errors.length>5&&(me+=`
... and ${X.errors.length-5} more errors`)),alert(me),g(!1),I(null),o&&ee(o.id),c&&ge(o.id,c.id)}}catch(D){console.error("Failed to upload questions:",D)}finally{W(!1)}},Y=()=>{L({title:"",description:"",questionsCount:10,order:r.length+1})},ne=()=>{q({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]}),f(null)},ue=async()=>{if(o)try{const D=await Cn.createSection(o.id,T);D.success&&D.data&&(n([...r,D.data]),N(!1),Y())}catch(D){console.error("Failed to create section:",D)}},H=()=>{ne(),A(!0)},Ie=D=>{f(D),q({text:D.text,type:D.type,complexity:D.complexity,points:D.points,explanation:D.explanation||"",options:D.options.map(X=>X.text),correctAnswers:D.options.map((X,me)=>X.isCorrect?me:-1).filter(X=>X!==-1)}),k(!0)},pe=D=>{f(D),M(!0)},Me=async()=>{if(c){console.log("Adding question to section:",c.id),console.log("Question form data:",$);try{const D={sectionId:c.id,text:$.text,type:$.type,complexity:$.complexity,points:$.points,explanation:$.explanation,options:$.options.map((me,Dt)=>({text:me,isCorrect:$.correctAnswers.includes(Dt)})),order:s.length+1};console.log("Calling API to create question:",D);const X=await _u.createQuestion(D);console.log("API response:",X),X.success&&X.data?(i([...s,X.data]),A(!1),ne(),alert(`Question added successfully! ${X.message}`)):(console.error("Failed to create question:",X.message),alert(`Failed to create question: ${X.message}`))}catch(D){console.error("Failed to create question:",D),alert(`Failed to create question: ${D instanceof Error?D.message:"Unknown error"}. Please try again.`)}}},ye=async()=>{if(d)try{const D={text:$.text,type:$.type,complexity:$.complexity,points:$.points,explanation:$.explanation,options:$.options.map((me,Dt)=>({text:me,isCorrect:$.correctAnswers.includes(Dt),order:Dt+1}))},X={...d,...D,options:D.options.map((me,Dt)=>{var yy;return{id:((yy=d.options[Dt])==null?void 0:yy.id)||`opt_${Dt}`,text:me.text,isCorrect:me.isCorrect}})};i(s.map(me=>me.id===d.id?X:me)),k(!1),ne()}catch(D){console.error("Failed to update question:",D)}},Q=async D=>{if(window.confirm("Are you sure you want to delete this question?"))try{i(s.filter(X=>X.id!==D))}catch(X){console.error("Failed to delete question:",X)}},le=D=>{if($.type==="single_choice")q({...$,correctAnswers:[D]});else{const X=$.correctAnswers.includes(D)?$.correctAnswers.filter(me=>me!==D):[...$.correctAnswers,D];q({...$,correctAnswers:X})}},be=(e||[]).filter(D=>D.title.toLowerCase().includes(x.toLowerCase())),ft=D=>{switch(D){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Mt=D=>{switch(D){case"single_choice":return"bg-blue-100 text-blue-800";case"multiple_choice":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys and assessments"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:It,className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs(z,{onClick:()=>g(!0),disabled:!o,className:"flex items-center space-x-2",children:[a.jsx(N4,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Questions"})]})]})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search surveys...",value:x,onChange:D=>m(D.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," surveys"]})]}),a.jsx("div",{className:"h-[500px] overflow-y-auto space-y-2",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading surveys..."})]}):be.map(D=>a.jsxs("div",{onClick:()=>Te(D),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(o==null?void 0:o.id)===D.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:D.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:D.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[D.totalQuestions," questions"]}),a.jsx("span",{children:Pe(D.targetDate)})]})]},D.id))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?`Sections - ${o.title}`:"Sections"}),o&&a.jsxs(z,{size:"sm",onClick:()=>{Y(),N(!0)},className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]})]}),a.jsx("div",{className:"h-[calc(100%-80px)] overflow-y-auto space-y-2",children:o?v?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading sections..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(lv,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"No sections found"}),a.jsxs(z,{size:"sm",onClick:()=>{L({title:"",description:"",questionsCount:10,order:1}),N(!0)},className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Section"})]})]}):r.map(D=>a.jsxs("div",{onClick:()=>He(D),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(c==null?void 0:c.id)===D.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:D.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:D.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[D.questionsCount," questions"]}),a.jsxs("span",{children:["Order: ",D.order]})]})]},D.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Select a survey to view sections"})]})})]})]}),c&&a.jsxs(F,{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions - ",c.title]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," questions in this section"]})]}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]}),b?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Br,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Questions Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your assessment by adding questions to this section."}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50",children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Complexity"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Points"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Options"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(D=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:D.text}),D.explanation&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:["Explanation: ",D.explanation]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Mt(D.type)}`,children:D.type==="single_choice"?"Single":"Multiple"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ft(D.complexity)}`,children:D.complexity.charAt(0).toUpperCase()+D.complexity.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-gray-900",children:D.points})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[D.options.slice(0,2).map((X,me)=>a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:[String.fromCharCode(65+me),":"]}),a.jsx("span",{className:`${X.isCorrect?"text-green-600 font-medium":"text-gray-700"}`,children:X.text.length>30?`${X.text.substring(0,30)}...`:X.text}),X.isCorrect&&a.jsx(it,{className:"w-3 h-3 text-green-600"})]},me)),D.options.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",D.options.length-2," more"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-900",children:D.order})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>pe(D),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ie(D),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Q(D.id),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx(uh,{className:"w-4 h-4"})})]})})]},D.id))})]})})})]}),a.jsx(Ae,{isOpen:_,onClose:()=>{g(!1),I(null)},title:"Upload Questions",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Upload Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Download the template first to see the required format"}),a.jsx("li",{children:" Include Survey ID, Survey Title, Section ID, Section Title for proper mapping"}),a.jsx("li",{children:" Questions will be automatically assigned to the correct surveys and sections"}),a.jsx("li",{children:" Supported file format: CSV only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:D=>{var X;return I(((X=D.target.files)==null?void 0:X[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),R&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Selected file:"})," ",R.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",(R.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{g(!1),I(null)},children:"Cancel"}),a.jsx(z,{onClick:bt,disabled:!R||U,loading:U,children:"Upload Questions"})]})]})}),a.jsx(Ae,{isOpen:j,onClose:()=>{N(!1),Y()},title:"Add New Section",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{label:"Section Title",value:T.title,onChange:D=>L({...T,title:D.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:D=>L({...T,description:D.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Questions Count",type:"number",value:T.questionsCount,onChange:D=>L({...T,questionsCount:parseInt(D.target.value)}),min:"1"}),a.jsx(ie,{label:"Section Order",type:"number",value:T.order,onChange:D=>L({...T,order:parseInt(D.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{N(!1),Y()},children:"Cancel"}),a.jsx(z,{onClick:ue,children:"Add Section"})]})]})}),a.jsx(Ae,{isOpen:S,onClose:()=>{A(!1),ne()},title:`Add Question to ${c==null?void 0:c.title}`,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:$.text,onChange:D=>q({...$,text:D.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:$.type,onChange:D=>q({...$,type:D.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:$.complexity,onChange:D=>q({...$,complexity:D.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(ie,{label:"Points",type:"number",value:$.points,onChange:D=>q({...$,points:parseInt(D.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",$.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:$.options.map((D,X)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:$.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:$.correctAnswers.includes(X),onChange:()=>le(X),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:$.correctAnswers.includes(X),onChange:()=>le(X),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+X),":"]}),a.jsx(ie,{value:D,onChange:me=>{const Dt=[...$.options];Dt[X]=me.target.value,q({...$,options:Dt})},placeholder:`Option ${String.fromCharCode(65+X)}`,className:"flex-1"})]},X))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:$.explanation,onChange:D=>q({...$,explanation:D.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{A(!1),ne()},children:"Cancel"}),a.jsx(z,{onClick:Me,disabled:!$.text.trim()||$.correctAnswers.length===0,children:"Add Question"})]})]})}),a.jsx(Ae,{isOpen:P,onClose:()=>{k(!1),ne()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:$.text,onChange:D=>q({...$,text:D.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:$.type,onChange:D=>q({...$,type:D.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:$.complexity,onChange:D=>q({...$,complexity:D.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(ie,{label:"Points",type:"number",value:$.points,onChange:D=>q({...$,points:parseInt(D.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",$.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:$.options.map((D,X)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:$.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:$.correctAnswers.includes(X),onChange:()=>le(X),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:$.correctAnswers.includes(X),onChange:()=>le(X),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+X),":"]}),a.jsx(ie,{value:D,onChange:me=>{const Dt=[...$.options];Dt[X]=me.target.value,q({...$,options:Dt})},placeholder:`Option ${String.fromCharCode(65+X)}`,className:"flex-1"})]},X))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:$.explanation,onChange:D=>q({...$,explanation:D.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{k(!1),ne()},children:"Cancel"}),a.jsx(z,{onClick:ye,disabled:!$.text.trim()||$.correctAnswers.length===0,children:"Update Question"})]})]})}),a.jsx(Ae,{isOpen:C,onClose:()=>{M(!1),f(null)},title:"Question Details",size:"lg",children:d&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Question"}),a.jsx("p",{className:"text-gray-700",children:d.text})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Type"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Mt(d.type)}`,children:d.type==="single_choice"?"Single Choice":"Multiple Choice"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Complexity"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ft(d.complexity)}`,children:d.complexity.charAt(0).toUpperCase()+d.complexity.slice(1)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Points"}),a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:d.points})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options"}),a.jsx("div",{className:"space-y-2",children:d.options.map((D,X)=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${D.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsxs("span",{className:"font-medium text-gray-700 w-8",children:[String.fromCharCode(65+X),":"]}),a.jsx("span",{className:`flex-1 ${D.isCorrect?"text-green-800 font-medium":"text-gray-700"}`,children:D.text}),D.isCorrect&&a.jsx(it,{className:"w-5 h-5 text-green-600"})]},X))})]}),d.explanation&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Explanation"}),a.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:d.explanation})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{M(!1),f(null)},children:"Close"}),a.jsxs(z,{onClick:()=>{M(!1),Ie(d)},className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Question"})]})]})]})})]})})}function vae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[d,f]=O.useState(!1),[h,p]=O.useState(!1),[v,y]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{b(),w()},[v]);const b=async()=>{try{i(!0);const j=await Bp.getResults(v);t(j.data)}catch(j){console.error("Failed to fetch results:",j)}finally{i(!1)}},w=async()=>{try{const j=await Bp.getAnalytics(v);n(j.data)}catch(j){console.error("Failed to fetch analytics:",j)}},x=async()=>{try{const j=await Bp.exportResults(v),N=new Blob([j.data],{type:"text/csv"}),S=URL.createObjectURL(N),A=document.createElement("a");A.href=S,A.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(S)}catch(j){console.error("Failed to export results:",j)}},m=j=>{u(j),f(!0)},_=e.filter(j=>j.user.name.toLowerCase().includes(o.toLowerCase())||j.survey.title.toLowerCase().includes(o.toLowerCase())||j.user.email.toLowerCase().includes(o.toLowerCase())),g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(z,{onClick:x,className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Br,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Se,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Cs(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Jt,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(Wa,{data:r.performanceByRole,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(Be,{formatter:j=>[`${j}%`,"Pass Rate"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Survey"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(nu,{children:[a.jsx(Pr,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percentage:N})=>`${j}: ${N}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((j,N)=>a.jsx(Bs,{fill:g[N%g.length]},`cell-${N}`))}),a.jsx(Be,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:r.timeSeriesData,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"date"}),a.jsx(Vt,{}),a.jsx(Be,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx(No,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((j,N)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:N+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[j.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.passRate.toFixed(1),"% pass rate"]})]})]},j.userId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((j,N)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:N+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[j.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.passRate.toFixed(1),"% pass rate"]})]})]},j.userId))})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search results...",value:o,onChange:j=>l(j.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(j=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:j.user.email})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:j.user.role.name})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${ys(j.score)}`,children:[j.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",j.correctAnswers,"/",j.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[j.attemptNumber,"/",j.survey.maxAttempts]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Cs(Math.floor(j.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Sr(j.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(j),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})}),j.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Se,{className:"w-4 h-4"})})]})})]},j.id))})]})})]}),a.jsx(Ae,{isOpen:d,onClose:()=>f(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",c.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",c.user.jurisdiction||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",c.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",c.survey.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",Cs(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Sr(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(j=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:j.sectionTitle}),a.jsxs("span",{className:`font-bold ${ys(j.score)}`,children:[j.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[j.correctAnswers,"/",j.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${j.score}%`}})})]})]},j.sectionId))})]})]})}),a.jsx(Ae,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ie,{label:"Start Date",type:"date",value:v.dateRange.start.toISOString().split("T")[0],onChange:j=>y({...v,dateRange:{...v.dateRange,start:new Date(j.target.value)}})}),a.jsx(ie,{label:"End Date",type:"date",value:v.dateRange.end.toISOString().split("T")[0],onChange:j=>y({...v,dateRange:{...v.dateRange,end:new Date(j.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:()=>{p(!1),b(),w()},children:"Apply Filters"})]})]})})]})})}function yae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[d,f]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await y5.getEnumeratorStatus();t(x.data)}catch(x){console.error("Failed to fetch enumerator status:",x)}finally{n(!1)}},p=x=>{switch(x){case"completed":return a.jsx(it,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Id,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(dr,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},v=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},y=x=>{const m=x.surveys.length,_=x.surveys.filter(N=>N.status==="completed").length,g=x.surveys.filter(N=>N.status==="failed").length,j=x.surveys.filter(N=>N.status==="expired").length;return _===m?"excellent":g>0||j>0?"needs_attention":_>m/2?"good":"poor"},b=x=>{l(x),u(!0)},w=e.filter(x=>{const m=x.user.name.toLowerCase().includes(s.toLowerCase())||x.user.email.toLowerCase().includes(s.toLowerCase());if(d==="all")return m;const _=y(x);return m&&_===d});return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enumerator Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all enumerators"})]})}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search enumerators...",value:s,onChange:x=>i(x.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:d,onChange:x=>f(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ms,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(x=>y(x)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(x=>y(x)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(dr,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((x,m)=>x+m.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Se,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:w.map(x=>{const m=y(x),_=x.surveys.filter(j=>j.status==="completed").length,g=x.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[_,"/",g]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m==="excellent"?"bg-green-100 text-green-800":m==="good"?"bg-blue-100 text-blue-800":m==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:m==="excellent"?"Excellent":m==="good"?"Good":m==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(x),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.surveys.slice(0,3).map(j=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(j.status),a.jsx("span",{className:"text-sm text-gray-600",children:j.surveyTitle})]},j.surveyId)),x.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",x.surveys.length-3," more"]})]})]},x.id)})})}),a.jsx(Ae,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(x.status),a.jsx("h5",{className:"font-medium text-gray-900",children:x.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(x.status)}`,children:x.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[x.attempts,"/",x.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.bestScore?`${x.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Pe(x.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:x.lastAttempt?Pe(x.lastAttempt):"Never"})]})]}),x.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},x.surveyId))})]})]})})]})})}function bae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[d,f]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const S=await Ju.getCertificates();t(S.data)}catch(S){console.error("Failed to fetch certificates:",S)}finally{n(!1)}},y=async S=>{try{const A=await Ju.downloadCertificate(S),P=new Blob([A.data],{type:"application/pdf"}),k=URL.createObjectURL(P),C=document.createElement("a");C.href=k,C.download=`certificate_${S}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k),t(e.map(M=>M.id===S?{...M,downloadCount:M.downloadCount+1}:M))}catch(A){console.error("Failed to download certificate:",A)}},b=async S=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await Ju.revokeCertificate(S)).success&&t(e.map(P=>P.id===S?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},w=S=>{l(S),u(!0)},x=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=e.filter(S=>{const A=S.user.name.toLowerCase().includes(s.toLowerCase())||S.survey.title.toLowerCase().includes(s.toLowerCase())||S.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=d==="all"||S.status===d;let k=!0;if(h!=="all"){const C=new Date,M=new Date(S.issuedAt);switch(h){case"today":k=M.toDateString()===C.toDateString();break;case"week":const R=new Date(C.getTime()-7*24*60*60*1e3);k=M>=R;break;case"month":const I=new Date(C.getTime()-30*24*60*60*1e3);k=M>=I;break}}return A&&P&&k}),_=e.length,g=e.filter(S=>S.status==="active").length,j=e.filter(S=>S.status==="revoked").length,N=e.reduce((S,A)=>S+A.downloadCount,0);return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(z,{onClick:v,className:"flex items-center space-x-2",children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Se,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ht,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:j})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ed,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(_t,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search certificates...",value:s,onChange:S=>i(S.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:d,onChange:S=>f(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Se,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",S.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Pe(S.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Sr(S.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>w(S),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(S.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:S.status==="revoked",children:a.jsx(_t,{className:"w-4 h-4"})}),S.status==="active"&&a.jsx("button",{onClick:()=>b(S.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(ed,{className:"w-4 h-4"})})]})})]},S.id))})]})})}),a.jsx(Ae,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Se,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Pe(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Sr(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Pe(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(z,{onClick:()=>y(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function wae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const m=await o1.getSettings();m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch settings:",m)}finally{n(!1)}},p=async()=>{if(s)try{(await o1.updateSetting(s.id,c)).success&&(t(e.map(_=>_.id===s.id?{..._,value:c,updatedAt:new Date}:_)),l(!1),i(null),u(""),f(!0))}catch(m){console.error("Failed to update setting:",m)}},v=m=>{i(m),u(m.value),l(!0)},y=m=>{switch(m.toLowerCase()){case"general":return a.jsx(u$,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(Jt,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(Sa,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Kc,{className:"w-5 h-5 text-gray-600"})}},b=e.reduce((m,_)=>(m[_.category]||(m[_.category]=[]),m[_.category].push(_),m),{}),w=m=>{switch(m.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:m.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:m.value}}),a.jsx("span",{className:"font-mono text-sm",children:m.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:m.value});default:return a.jsx("span",{className:"text-sm font-medium",children:m.value})}},x=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(ie,{type:"number",value:c,onChange:_=>u(_.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{type:"color",value:c,onChange:_=>u(_.target.value),className:"h-12"}),a.jsx(ie,{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(ie,{type:"email",value:c,onChange:_=>u(_.target.value),placeholder:"Enter email address"});case"url":return a.jsx(ie,{type:"url",value:c,onChange:_=>u(_.target.value),placeholder:"Enter URL"});case"select":const m=s.options||[];return a.jsx("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:m.map(_=>a.jsx("option",{value:_,children:_},_))});case"json":return a.jsx("textarea",{value:c,onChange:_=>u(_.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(ie,{value:c,onChange:_=>u(_.target.value),placeholder:"Enter value"})}};return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[d&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(z,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(b).map(([m,_])=>a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[y(m),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[m," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:_.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:g.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${g.type==="boolean"?"bg-green-100 text-green-700":g.type==="number"?"bg-blue-100 text-blue-700":g.type==="color"?"bg-purple-100 text-purple-700":g.type==="email"?"bg-teal-100 text-teal-700":g.type==="url"?"bg-indigo-100 text-indigo-700":g.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:g.type}),!g.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),a.jsx("div",{className:"mt-2",children:w(g)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Sr(g.updatedAt),g.updatedBy&&` by ${g.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:g.isEditable?a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(g),className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},g.id))})]},m))}),a.jsx(Ae,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:w(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),x()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(z,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function jae(){const e=yo(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,d]=O.useState(!1),[f,h]=O.useState(""),[p,v]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0);const j=await qc.getDashboardData();j.success&&j.data&&r(j.data.availableTests)}catch(j){console.error("Failed to fetch available tests:",j)}finally{o(!1)}},b=async j=>{try{d(!0);const N=t.find(P=>P.surveyId===j);if(!N||!N.isEligible||N.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const S=await Tn.createTestSession(j);if(!S.success||!S.data)throw new Error(S.message||"Failed to create test session");const A=S.data.id;e(`/test/${A}`,{state:{surveyId:j,startTime:S.data.startTime,sessionData:S.data}})}catch(N){console.error("Failed to start test:",N),alert(`Failed to start test: ${N instanceof Error?N.message:"Please try again."}`)}finally{d(!1),c(!1)}},w=j=>{s(j),c(!0)},x=j=>j.isEligible?j.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=j=>{if(!j.isEligible)return"Not Eligible";if(j.attemptsLeft===0)return"No Attempts Left";const N=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return N<=0?"Overdue":N<=3?`${N} days left`:"Available"},_=t.filter(j=>{const N=j.title.toLowerCase().includes(f.toLowerCase())||j.description.toLowerCase().includes(f.toLowerCase());if(p==="all")return N;const S=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return N&&S<=3&&S>0;case"available":return N&&j.isEligible&&j.attemptsLeft>0;case"overdue":return N&&S<=0;default:return N}}),g=t.filter(j=>{const N=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/864e5);return N<=3&&N>0});return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Jl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ht,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(j=>j.isEligible&&j.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:g.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(dr,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(j=>Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Jt,{className:"w-6 h-6 text-red-600"})})]})})]}),g.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(j=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:j.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Pe(j.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(z,{onClick:()=>b(j.surveyId),disabled:!j.isEligible||j.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(pa,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},j.surveyId))})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search tests...",value:f,onChange:j=>h(j.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:j=>v(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(F,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:_.map(j=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:j.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Pe(j.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Cs(j.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[j.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Br,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",j.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x(j)}`,children:m(j)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.attemptsLeft,"/",j.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>w(j),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>b(j.surveyId),disabled:!j.isEligible||j.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===j.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},j.surveyId))})}),a.jsx(Ae,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Cs(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Pe(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{b(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Nae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState("all"),[h,p]=O.useState(!1),[v,y]=O.useState(""),[b,w]=O.useState(!1);O.useEffect(()=>{var P;x();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(y(A.message),p(!0),A.showCertificate&&w(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),w(!1)},5e3))},[]);const x=async()=>{try{i(!0);const A=await qc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},m=A=>{n(A),l(!0)},_=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return d==="all"?P:d==="passed"?P&&A.isPassed:d==="failed"?P&&!A.isPassed:P}),g=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const j=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,N=e.filter(A=>A.certificateId).length,S=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(bs,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[j.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(it,{className:"w-5 h-5"}),a.jsx("span",{children:v})]})}),b&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Aa,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(z,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:S,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"attempt"}),a.jsx(Vt,{domain:[0,100]}),a.jsx(Be,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(er,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:d,onChange:A=>f(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):_.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:_.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(it,{className:"w-5 h-5 text-green-600"}):a.jsx(Id,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Se,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${ys(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Pe(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${ys(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(z,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(Ae,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${ys(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Id,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Pe(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${ys(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Se,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Se,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Se,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function Sae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var w;d();const b=((w=window.history.state)==null?void 0:w.usr)||window.history.state;b!=null&&b.newCertificate&&(setTimeout(()=>{d()},1e3),window.history.replaceState({},document.title))},[]);const d=async()=>{try{i(!0);const b=await qc.getDashboardData();b.success&&b.data&&t(b.data.certificates)}catch(b){console.error("Failed to fetch certificates:",b)}finally{i(!1)}},f=async b=>{try{const x=(await Ju.downloadCertificate(b)).data,m=URL.createObjectURL(x),_=document.createElement("a");_.href=m;const g=e.find(N=>N.id===b),j=g?`${g.certificateNumber}_${g.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${b}.pdf`;_.download=j,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(m),t(e.map(N=>N.id===b?{...N,downloadCount:N.downloadCount+1}:N))}catch(w){console.error("Failed to download certificate:",w),alert("Failed to download certificate. Please try again.")}},h=b=>{n(b),l(!0)},p=e.filter(b=>b.survey.title.toLowerCase().includes(c.toLowerCase())||b.certificateNumber.toLowerCase().includes(c.toLowerCase())),v=e.filter(b=>b.status==="active").length,y=e.reduce((b,w)=>b+w.downloadCount,0);return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:v})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:y})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(_t,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ie,{placeholder:"Search certificates...",value:c,onChange:b=>u(b.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((b,w)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},w)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(Aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(b=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Se,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:b.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",b.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Pe(b.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${b.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",b.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{onClick:()=>h(b),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(z,{onClick:()=>f(b.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:b.status!=="active",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},b.id))}),a.jsx(Ae,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Se,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(u1,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(u1,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Pe(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Pe(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(it,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{onClick:()=>f(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(_t,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function _ae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const f=await qc.getDashboardData();f.success&&f.data&&t(f.data.upcomingTests)}catch(f){console.error("Failed to fetch test schedule:",f)}finally{n(!1)}},i=f=>f.isOverdue?"bg-red-100 text-red-800":f.daysLeft<=3?"bg-orange-100 text-orange-800":f.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=f=>f.isOverdue?a.jsx(dr,{className:"w-4 h-4"}):f.daysLeft<=3?a.jsx(Jt,{className:"w-4 h-4"}):a.jsx(it,{className:"w-4 h-4"}),l=f=>f.isOverdue?"Overdue":f.daysLeft===0?"Due Today":f.daysLeft===1?"Due Tomorrow":`${f.daysLeft} days left`,c=e.filter(f=>f.daysLeft<=3||f.isOverdue),u=e.filter(f=>f.daysLeft<=7&&f.daysLeft>3),d=e.filter(f=>f.daysLeft>7);return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(uv,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(dr,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Jt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:d.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(it,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(dr,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(f=>a.jsxs(F,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(f)}`,children:[o(f),a.jsx("span",{className:"ml-1",children:l(f)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Pe(f.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},f.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(f=>a.jsxs(F,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(f)}`,children:[o(f),a.jsx("span",{className:"ml-1",children:l(f)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Pe(f.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},f.surveyId))})]}),d.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(it,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(f=>a.jsxs(F,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(f)}`,children:[o(f),a.jsx("span",{className:"ml-1",children:l(f)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Pe(f.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(We,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},f.surveyId))})]})]})]})})}function Aae(){const{sessionId:e}=fC(),t=yo(),r=Da(),[n,s]=O.useState(null),[i,o]=O.useState([]),[l,c]=O.useState(0),[u,d]=O.useState({}),[f,h]=O.useState(0),[p,v]=O.useState(!0),[y,b]=O.useState(!1),[w,x]=O.useState(!1),[m,_]=O.useState(!1),[g,j]=O.useState(!1),[N,S]=O.useState(new Set),[A,P]=O.useState(navigator.onLine),[k,C]=O.useState(null),[M,R]=O.useState(null),[I,U]=O.useState(!1),[W,T]=O.useState(null),L=3e4;O.useEffect(()=>{const Q=()=>{P(!0),Tn.syncOfflineData()},le=()=>{P(!1),n&&!I&&f>0&&(U(!0),T(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",Q),window.addEventListener("offline",le),()=>{window.removeEventListener("online",Q),window.removeEventListener("offline",le)}},[n,I,f,W]);const $=O.useCallback(async()=>{if(!(!n||I))try{R("saving"),await Tn.updateSession(n.id,{currentQuestionIndex:l,timeRemaining:f,answers:Object.keys(u).map(Q=>({questionId:Q,selectedOptions:u[Q],isCorrect:!1,timeSpent:0,answered:!0}))}),C(new Date),R("saved"),setTimeout(()=>R(null),2e3)}catch(Q){console.error("Auto-save failed:",Q),R("error"),setTimeout(()=>R(null),3e3)}},[n,l,f,u,I]);O.useEffect(()=>{if(!n||I)return;const Q=setInterval($,L);return()=>clearInterval(Q)},[$,n,I]),O.useEffect(()=>{if(n&&Object.keys(u).length>0&&!I){const Q=setTimeout($,2e3);return()=>clearTimeout(Q)}},[u,$,n,I]),O.useEffect(()=>{var Q;e&&(console.log("Loading test session with ID:",e),(Q=r.state)!=null&&Q.sessionData?(console.log("Using session data from navigation state"),s(r.state.sessionData),h(r.state.sessionData.timeRemaining),q()):(console.log("Loading session from API"),V()))},[e]),O.useEffect(()=>{if(f>0&&!I&&A){const Q=setInterval(()=>{h(le=>{const be=le-1;return be<=0?(Y(),0):(be===300&&!m&&_(!0),be)})},1e3);return()=>clearInterval(Q)}},[f,m,I,A]);const q=async()=>{try{v(!0),console.log("Loading questions for session:",e);const Q=await Tn.getQuestionsForSession(e);if(Q.success&&Q.data)console.log("Questions loaded successfully:",Q.data.length),o(Q.data);else throw new Error("Failed to load questions")}catch(Q){console.error("Failed to load questions:",Q),alert("Failed to load test questions. Please try again.")}finally{v(!1)}},V=async()=>{var Q;try{if(v(!0),console.log("Loading test session for ID:",e),(Q=r.state)!=null&&Q.surveyId){const le=r.state.surveyId,be=r.state.startTime||new Date().toISOString(),ft={id:e,userId:"5",surveyId:le,startTime:new Date(be),timeRemaining:35*60,currentQuestionIndex:0,answers:[],status:"in_progress",attemptNumber:1};s(ft),h(ft.timeRemaining),await q()}else throw new Error("No session data available")}catch(le){console.error("Failed to load test session:",le),alert("Failed to load test session. Redirecting to available tests."),t("/available-tests")}finally{v(!1)}},ee=async(Q,le,be)=>{if(I)return;const ft={...u};if(be){const Mt=ft[Q]||[];ft[Q]=Mt.includes(le)?Mt.filter(D=>D!==le):[...Mt,le]}else ft[Q]=[le];d(ft);try{await Tn.saveAnswer(n.id,Q,ft[Q])}catch(Mt){console.error("Failed to save answer:",Mt)}},ge=()=>{I||l<i.length-1&&c(Q=>Q+1)},Te=()=>{I||l>0&&c(Q=>Q-1)},He=Q=>{I||c(Q)},It=Q=>{I||S(le=>{const be=new Set(le);return be.has(Q)?be.delete(Q):be.add(Q),be})},bt=async()=>{var Q,le;try{b(!0);const be=await Tn.submitTest(e);be.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:be.data,showCertificate:((Q=be.data)==null?void 0:Q.isPassed)&&((le=be.data)==null?void 0:le.certificateId)}})}catch(be){console.error("Failed to submit test:",be),alert("Failed to submit test. Please try again.")}finally{b(!1),x(!1)}},Y=async()=>{try{await Tn.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(Q){console.error("Failed to auto-submit test:",Q)}},ne=()=>{j(!1),U(!1)},ue=()=>{c(0),d({}),S(new Set),h(35*60),j(!1),U(!1)},H=Q=>{const le=i[Q];if(!le)return"unanswered";const be=u[le.id]&&u[le.id].length>0,ft=N.has(Q);return ft&&be?"flagged-answered":ft?"flagged":be?"answered":"unanswered"},Ie=Q=>{switch(Q){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},pe=i.filter(Q=>u[Q.id]&&u[Q.id].length>0).length,Me=i.length-pe;if(p)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test..."})]})});if(!n||i.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(F,{className:"max-w-md w-full text-center",children:[a.jsx(dr,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(z,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const ye=i[l];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",n.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:A?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(j$,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Wp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[M==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),M==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx($d,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),M==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(dr,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),k&&!M&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",k.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[t$(f),I&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[l+1," / ",i.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:pe})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:Me})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:N.size})]})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:i.map((Q,le)=>{const be=H(le);return a.jsx("button",{onClick:()=>He(le),disabled:I,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${le===l?"ring-2 ring-blue-500 ring-offset-2":""} ${Ie(be)} ${I?"opacity-50 cursor-not-allowed":""}`,children:le+1},le)})}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:$,disabled:I,children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),I&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(F,{className:"max-w-4xl mx-auto",children:I?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(g$,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(Wp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",l+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${ye.complexity==="easy"?"bg-green-100 text-green-800":ye.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ye.complexity.charAt(0).toUpperCase()+ye.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[ye.points," point",ye.points!==1?"s":""]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>It(l),className:`flex items-center space-x-2 ${N.has(l)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(c$,{className:"w-4 h-4"}),a.jsx("span",{children:N.has(l)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:ye.text}),a.jsx("div",{className:"space-y-3",children:ye.options.map(Q=>{var le;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:ye.type==="multiple_choice"?"checkbox":"radio",name:`question-${ye.id}`,value:Q.id,checked:((le=u[ye.id])==null?void 0:le.includes(Q.id))||!1,onChange:()=>ee(ye.id,Q.id,ye.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:I}),a.jsx("span",{className:"text-gray-900",children:Q.text})]},Q.id)})}),ye.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(z,{variant:"secondary",onClick:Te,disabled:l===0||I,className:"flex items-center space-x-2",children:[a.jsx(j4,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{variant:"secondary",onClick:()=>x(!0),disabled:I,className:"flex items-center space-x-2",children:[a.jsx(it,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),l<i.length-1?a.jsxs(z,{onClick:ge,disabled:I,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(i$,{className:"w-4 h-4"})]}):a.jsxs(z,{onClick:()=>x(!0),disabled:I,className:"flex items-center space-x-2",children:[a.jsx(it,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),!A&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(Wp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(Ae,{isOpen:g,onClose:ne,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(v$,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(z,{variant:"secondary",onClick:ue,children:"Start Fresh"}),a.jsx(z,{onClick:ne,children:"Resume Session"})]})]})}),a.jsx(Ae,{isOpen:m,onClose:()=>_(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jt,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(z,{onClick:()=>_(!1),children:"Continue Test"})]})}),a.jsx(Ae,{isOpen:w,onClose:()=>x(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(dr,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:i.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:pe})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:Me})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:N.size})]})]})]}),Me>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",Me," unanswered question",Me!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>x(!1),children:"Continue Test"}),a.jsxs(z,{onClick:bt,loading:y,className:"flex items-center space-x-2",children:[a.jsx(it,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const al=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Oae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState([]),[h,p]=O.useState(""),[v,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const S=await na.getRoles();t(S.data)}catch(S){console.error("Failed to fetch roles:",S)}finally{i(!1)}},w=S=>{n(S),f(S.menuAccess||[]),l(!0)},x=async()=>{if(r)try{u(!0),(await na.updateRoleMenuAccess(r.id,d)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:d}:A)),l(!1),n(null),f([]))}catch(S){console.error("Failed to update menu access:",S)}finally{u(!1)}},m=S=>{f(A=>A.includes(S)?A.filter(P=>P!==S):[...A,S])},_=S=>{const A=al.filter(P=>P.level>=S).map(P=>P.path);f(P=>{const k=[...P];return A.forEach(C=>{k.includes(C)||k.push(C)}),k})},j=al.filter(S=>{const A=S.label.toLowerCase().includes(h.toLowerCase())||S.path.toLowerCase().includes(h.toLowerCase()),P=v==="all"||S.category===v;return A&&P}).reduce((S,A)=>(S[A.category]||(S[A.category]=[]),S[A.category].push(A),S),{}),N=[...new Set(al.map(S=>S.category))];return a.jsx(Oe,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((S,A)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(S=>{var A,P,k;return a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${S.level===1?"bg-red-100":S.level===2?"bg-purple-100":S.level===3?"bg-indigo-100":S.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(Sa,{className:`w-5 h-5 ${S.level===1?"text-red-600":S.level===2?"text-purple-600":S.level===3?"text-indigo-600":S.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",S.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=S.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:S.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(S.menuAccess||[]).slice(0,2).map(C=>{const M=al.find(R=>R.path===C);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(M==null?void 0:M.label)||C},C)}),(((P=S.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((k=S.menuAccess)==null?void 0:k.length)||0)-2," more"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>w(S),className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},S.id)})}),a.jsx(Ae,{isOpen:o,onClose:()=>{l(!1),n(null),f([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Sa,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",d.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>_(r.level),className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>f([]),className:"flex items-center space-x-2",children:[a.jsx(m$,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(ie,{placeholder:"Search menus...",value:h,onChange:S=>p(S.target.value),className:"w-48"})}),a.jsxs("select",{value:v,onChange:S=>y(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),N.map(S=>a.jsx("option",{value:S,children:S},S))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(j).map(([S,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(k=>k.path);f(k=>[...new Set([...k,...P])])},className:"text-xs",children:"Select All"}),a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(k=>k.path);f(k=>k.filter(C=>!P.includes(C)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const k=d.includes(P.path),C=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${k?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:k,onChange:()=>m(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),C&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),k&&a.jsx(it,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},S))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:N.map(S=>{const A=al.filter(k=>k.category===S),P=d.filter(k=>A.some(C=>C.path===k)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:S})]},S)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),n(null),f([])},children:"Cancel"}),a.jsxs(z,{onClick:x,loading:c,className:"flex items-center space-x-2",children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function Pae(){const e=yo(),{user:t}=La(),r=()=>{e(-1)},n=()=>{if(!t){e("/login");return}switch(t.role.name.toLowerCase()){case"admin":e("/dashboard");break;case"zo user":e("/zo-dashboard");break;case"ro user":e("/ro-dashboard");break;case"supervisor":e("/supervisor-dashboard");break;case"enumerator":e("/enumerator-dashboard");break;default:e("/dashboard")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(F,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Sa,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(f$,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(z,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(j4,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function ot({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=La();if(!i||!s)return a.jsx(Ql,{to:"/login",replace:!0});const o=s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(Ql,{to:n,replace:!0})}function kae(){const{user:e}=La(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(Ql,{to:t(),replace:!0})}function Eae(){return a.jsxs(D2,{children:[a.jsx(Le,{path:"/dashboard",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(oae,{})})}),a.jsx(Le,{path:"/users",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(pae,{})})}),a.jsx(Le,{path:"/roles",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(mae,{})})}),a.jsx(Le,{path:"/role-menu-management",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(Oae,{})})}),a.jsx(Le,{path:"/surveys",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(gae,{})})}),a.jsx(Le,{path:"/questions",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(xae,{})})}),a.jsx(Le,{path:"/settings",element:a.jsx(ot,{requiredRoles:["Admin"],children:a.jsx(wae,{})})}),a.jsx(Le,{path:"/zo-dashboard",element:a.jsx(ot,{requiredRoles:["ZO User"],children:a.jsx(lae,{})})}),a.jsx(Le,{path:"/ro-dashboard",element:a.jsx(ot,{requiredRoles:["RO User"],children:a.jsx(cae,{})})}),a.jsx(Le,{path:"/supervisor-dashboard",element:a.jsx(ot,{requiredRoles:["Supervisor"],children:a.jsx(uae,{})})}),a.jsx(Le,{path:"/team-results",element:a.jsx(ot,{requiredRoles:["Supervisor"],children:a.jsx(fae,{})})}),a.jsx(Le,{path:"/my-enumerators",element:a.jsx(ot,{requiredRoles:["Supervisor"],children:a.jsx(hae,{})})}),a.jsx(Le,{path:"/enumerator-dashboard",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(dae,{})})}),a.jsx(Le,{path:"/available-tests",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(jae,{})})}),a.jsx(Le,{path:"/my-results",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(Nae,{})})}),a.jsx(Le,{path:"/my-certificates",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(Sae,{})})}),a.jsx(Le,{path:"/test-schedule",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(_ae,{})})}),a.jsx(Le,{path:"/test/:sessionId",element:a.jsx(ot,{requiredRoles:["Enumerator"],children:a.jsx(Aae,{})})}),a.jsx(Le,{path:"/results",element:a.jsx(ot,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(vae,{})})}),a.jsx(Le,{path:"/enumerator-status",element:a.jsx(ot,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(yae,{})})}),a.jsx(Le,{path:"/certificates",element:a.jsx(ot,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(bae,{})})}),a.jsx(Le,{path:"/unauthorized",element:a.jsx(Pae,{})}),a.jsx(Le,{path:"/",element:a.jsx(kae,{})})]})}function Cae({children:e}){const{isAuthenticated:t,isLoading:r}=La();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Ql,{to:"/login",replace:!0})}function Tae(){return a.jsx(IC,{children:a.jsx(b5,{children:a.jsx(j5,{children:a.jsxs(D2,{children:[a.jsx(Le,{path:"/login",element:a.jsx(S$,{})}),a.jsx(Le,{path:"/*",element:a.jsx(Cae,{children:a.jsx(Eae,{})})})]})})})})}A2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(Tae,{})}));
