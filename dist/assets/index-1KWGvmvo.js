function l6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var f_={exports:{}},If={},h_={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),u6=Symbol.for("react.portal"),d6=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),h6=Symbol.for("react.profiler"),p6=Symbol.for("react.provider"),m6=Symbol.for("react.context"),g6=Symbol.for("react.forward_ref"),x6=Symbol.for("react.suspense"),v6=Symbol.for("react.memo"),y6=Symbol.for("react.lazy"),vy=Symbol.iterator;function b6(e){return e===null||typeof e!="object"?null:(e=vy&&e[vy]||e["@@iterator"],typeof e=="function"?e:null)}var p_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m_=Object.assign,g_={};function ho(e,t,r){this.props=e,this.context=t,this.refs=g_,this.updater=r||p_}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x_(){}x_.prototype=ho.prototype;function Xg(e,t,r){this.props=e,this.context=t,this.refs=g_,this.updater=r||p_}var Zg=Xg.prototype=new x_;Zg.constructor=Xg;m_(Zg,ho.prototype);Zg.isPureReactComponent=!0;var yy=Array.isArray,v_=Object.prototype.hasOwnProperty,Jg={current:null},y_={key:!0,ref:!0,__self:!0,__source:!0};function b_(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)v_.call(t,n)&&!y_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Dc,type:e,key:i,ref:o,props:s,_owner:Jg.current}}function w6(e,t){return{$$typeof:Dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ex(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dc}function j6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var by=/\/+/g;function tp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j6(""+e.key):t.toString(36)}function Fu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dc:case u6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+tp(o,0):n,yy(s)?(r="",e!=null&&(r=e.replace(by,"$&/")+"/"),Fu(s,t,r,"",function(u){return u})):s!=null&&(ex(s)&&(s=w6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(by,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",yy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+tp(i,l);o+=Fu(i,t,r,c,s)}else if(c=b6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+tp(i,l++),o+=Fu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nu(e,t,r){if(e==null)return e;var n=[],s=0;return Fu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function S6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var er={current:null},Uu={transition:null},_6={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:Jg};function w_(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:nu,forEach:function(e,t,r){nu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!ex(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=ho;be.Fragment=d6;be.Profiler=h6;be.PureComponent=Xg;be.StrictMode=f6;be.Suspense=x6;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_6;be.act=w_;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=m_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)v_.call(t,c)&&!y_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Dc,type:e.type,key:s,ref:i,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:m6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p6,_context:e},e.Consumer=e};be.createElement=b_;be.createFactory=function(e){var t=b_.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:g6,render:e}};be.isValidElement=ex;be.lazy=function(e){return{$$typeof:y6,_payload:{_status:-1,_result:e},_init:S6}};be.memo=function(e,t){return{$$typeof:v6,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};be.unstable_act=w_;be.useCallback=function(e,t){return er.current.useCallback(e,t)};be.useContext=function(e){return er.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return er.current.useDeferredValue(e)};be.useEffect=function(e,t){return er.current.useEffect(e,t)};be.useId=function(){return er.current.useId()};be.useImperativeHandle=function(e,t,r){return er.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return er.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return er.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return er.current.useMemo(e,t)};be.useReducer=function(e,t,r){return er.current.useReducer(e,t,r)};be.useRef=function(e){return er.current.useRef(e)};be.useState=function(e){return er.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return er.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return er.current.useTransition()};be.version="18.3.1";h_.exports=be;var O=h_.exports;const k=$e(O),N6=l6({__proto__:null,default:k},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6=O,O6=Symbol.for("react.element"),P6=Symbol.for("react.fragment"),E6=Object.prototype.hasOwnProperty,k6=A6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C6={key:!0,ref:!0,__self:!0,__source:!0};function j_(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)E6.call(t,n)&&!C6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:O6,type:e,key:i,ref:o,props:s,_owner:k6.current}}If.Fragment=P6;If.jsx=j_;If.jsxs=j_;f_.exports=If;var a=f_.exports,S_={exports:{}},Nr={},__={exports:{}},N_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var D=T.length;T.push(R);e:for(;0<D;){var K=D-1>>>1,Q=T[K];if(0<s(Q,R))T[K]=R,T[D]=Q,D=K;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],D=T.pop();if(D!==R){T[0]=D;e:for(var K=0,Q=T.length,te=Q>>>1;K<te;){var ve=2*(K+1)-1,Ie=T[ve],Ke=ve+1,Dt=T[Ke];if(0>s(Ie,D))Ke<Q&&0>s(Dt,Ie)?(T[K]=Dt,T[Ke]=D,K=Ke):(T[K]=Ie,T[ve]=D,K=ve);else if(Ke<Q&&0>s(Dt,D))T[K]=Dt,T[Ke]=D,K=Ke;else break e}}return R}function s(T,R){var D=T.sortIndex-R.sortIndex;return D!==0?D:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function N(T){if(b=!1,m(T),!y)if(r(c)!==null)y=!0,U(g);else{var R=r(u);R!==null&&W(N,R.startTime-T)}}function g(T,R){y=!1,b&&(b=!1,w(S),S=-1),p=!0;var D=h;try{for(m(R),d=r(c);d!==null&&(!(d.expirationTime>R)||T&&!E());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var Q=K(d.expirationTime<=R);R=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(c)&&n(c),m(R)}else n(c);d=r(c)}if(d!==null)var te=!0;else{var ve=r(u);ve!==null&&W(N,ve.startTime-R),te=!1}return te}finally{d=null,h=D,p=!1}}var j=!1,_=null,S=-1,A=5,P=-1;function E(){return!(e.unstable_now()-P<A)}function C(){if(_!==null){var T=e.unstable_now();P=T;var R=!0;try{R=_(!0,T)}finally{R?I():(j=!1,_=null)}}else j=!1}var I;if(typeof v=="function")I=function(){v(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=C,I=function(){L.postMessage(null)}}else I=function(){x(C,0)};function U(T){_=T,j||(j=!0,I())}function W(T,R){S=x(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(g))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return T()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return R()}finally{h=D}},e.unstable_scheduleCallback=function(T,R,D){var K=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=D+Q,T={id:f++,callback:R,priorityLevel:T,startTime:D,expirationTime:Q,sortIndex:-1},D>K?(T.sortIndex=D,t(u,T),r(c)===null&&T===r(u)&&(b?(w(S),S=-1):b=!0,W(N,D-K))):(T.sortIndex=Q,t(c,T),y||p||(y=!0,U(g))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var R=h;return function(){var D=h;h=R;try{return T.apply(this,arguments)}finally{h=D}}}})(N_);__.exports=N_;var T6=__.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6=O,jr=T6;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A_=new Set,El={};function Da(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(El[e]=t,e=0;e<t.length;e++)A_.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,D6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wy={},jy={};function I6(e){return gm.call(jy,e)?!0:gm.call(wy,e)?!1:D6.test(e)?jy[e]=!0:(wy[e]=!0,!1)}function M6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R6(e,t,r,n){if(t===null||typeof t>"u"||M6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var tx=/[\-:]([a-z])/g;function rx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tx,rx);$t[t]=new tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tx,rx);$t[t]=new tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tx,rx);$t[t]=new tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new tr(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function nx(e,t,r,n){var s=$t.hasOwnProperty(t)?$t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R6(t,r,s,n)&&(r=null),n||s===null?I6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gn=$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),E_=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function Mo(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,rp;function al(e){if(rp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rp=t&&t[1]||""}return`
`+rp+e}var np=!1;function sp(e,t){if(!e||np)return"";np=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{np=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?al(e):""}function L6(e){switch(e.tag){case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return e=sp(e.type,!1),e;case 11:return e=sp(e.type.render,!1),e;case 1:return e=sp(e.type,!0),e;default:return""}}function bm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case xm:return"Profiler";case sx:return"StrictMode";case vm:return"Suspense";case ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P_:return(e.displayName||"Context")+".Consumer";case O_:return(e._context.displayName||"Context")+".Provider";case ax:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ix:return t=e.displayName||null,t!==null?t:bm(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return bm(e(t))}catch{}}return null}function F6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(t);case 8:return t===sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U6(e){var t=k_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function au(e){e._valueTracker||(e._valueTracker=U6(e))}function C_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wm(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _y(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T_(e,t){t=t.checked,t!=null&&nx(e,"checked",t,!1)}function jm(e,t){T_(e,t);var r=Ts(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sm(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ny(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sm(e,t,r){(t!=="number"||ed(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var il=Array.isArray;function wi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ay(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(il(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function $_(e,t){var r=Ts(t.value),n=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Oy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,I_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B6=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){B6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function M_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function R_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=M_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var z6=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Am(e,t){if(t){if(z6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Om(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function ox(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Em=null,ji=null,Si=null;function Py(e){if(e=Rc(e)){if(typeof Em!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Uf(t),Em(e.stateNode,e.type,t))}}function L_(e){ji?Si?Si.push(e):Si=[e]:ji=e}function F_(){if(ji){var e=ji,t=Si;if(Si=ji=null,Py(e),t)for(e=0;e<t.length;e++)Py(t[e])}}function U_(e,t){return e(t)}function B_(){}var ap=!1;function z_(e,t,r){if(ap)return e(t,r);ap=!0;try{return U_(e,t,r)}finally{ap=!1,(ji!==null||Si!==null)&&(B_(),F_())}}function Cl(e,t){var r=e.stateNode;if(r===null)return null;var n=Uf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var km=!1;if(Bn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){km=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{km=!1}function q6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var fl=!1,td=null,rd=!1,Cm=null,W6={onError:function(e){fl=!0,td=e}};function H6(e,t,r,n,s,i,o,l,c){fl=!1,td=null,q6.apply(W6,arguments)}function K6(e,t,r,n,s,i,o,l,c){if(H6.apply(this,arguments),fl){if(fl){var u=td;fl=!1,td=null}else throw Error(G(198));rd||(rd=!0,Cm=u)}}function Ia(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function q_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ey(e){if(Ia(e)!==e)throw Error(G(188))}function V6(e){var t=e.alternate;if(!t){if(t=Ia(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ey(s),e;if(i===n)return Ey(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function W_(e){return e=V6(e),e!==null?H_(e):null}function H_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H_(e);if(t!==null)return t;e=e.sibling}return null}var K_=jr.unstable_scheduleCallback,ky=jr.unstable_cancelCallback,G6=jr.unstable_shouldYield,Q6=jr.unstable_requestPaint,ct=jr.unstable_now,Y6=jr.unstable_getCurrentPriorityLevel,lx=jr.unstable_ImmediatePriority,V_=jr.unstable_UserBlockingPriority,nd=jr.unstable_NormalPriority,X6=jr.unstable_LowPriority,G_=jr.unstable_IdlePriority,Mf=null,pn=null;function Z6(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Mf,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:tE,J6=Math.log,eE=Math.LN2;function tE(e){return e>>>=0,e===0?32:31-(J6(e)/eE|0)|0}var ou=64,lu=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ol(l):(i&=o,i!==0&&(n=ol(i)))}else o=r&~s,o!==0?n=ol(o):i!==0&&(n=ol(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rn(t),s=1<<r,n|=e[r],t&=~s;return n}function rE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=rE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q_(){var e=ou;return ou<<=1,!(ou&4194240)&&(ou=64),e}function ip(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ic(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=r}function sE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-rn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function cx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Te=0;function Y_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X_,ux,Z_,J_,eN,$m=!1,cu=[],ws=null,js=null,Ss=null,Tl=new Map,$l=new Map,us=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cy(e,t){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function Lo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rc(t),t!==null&&ux(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iE(e,t,r,n,s){switch(t){case"focusin":return ws=Lo(ws,e,t,r,n,s),!0;case"dragenter":return js=Lo(js,e,t,r,n,s),!0;case"mouseover":return Ss=Lo(Ss,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Tl.set(i,Lo(Tl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,Lo($l.get(i)||null,e,t,r,n,s)),!0}return!1}function tN(e){var t=aa(e.target);if(t!==null){var r=Ia(t);if(r!==null){if(t=r.tag,t===13){if(t=q_(r),t!==null){e.blockedOn=t,eN(e.priority,function(){Z_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pm=n,r.target.dispatchEvent(n),Pm=null}else return t=Rc(r),t!==null&&ux(t),e.blockedOn=r,!1;t.shift()}return!0}function Ty(e,t,r){Bu(e)&&r.delete(t)}function oE(){$m=!1,ws!==null&&Bu(ws)&&(ws=null),js!==null&&Bu(js)&&(js=null),Ss!==null&&Bu(Ss)&&(Ss=null),Tl.forEach(Ty),$l.forEach(Ty)}function Fo(e,t){e.blockedOn===t&&(e.blockedOn=null,$m||($m=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,oE)))}function Dl(e){function t(s){return Fo(s,e)}if(0<cu.length){Fo(cu[0],e);for(var r=1;r<cu.length;r++){var n=cu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ws!==null&&Fo(ws,e),js!==null&&Fo(js,e),Ss!==null&&Fo(Ss,e),Tl.forEach(t),$l.forEach(t),r=0;r<us.length;r++)n=us[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<us.length&&(r=us[0],r.blockedOn===null);)tN(r),r.blockedOn===null&&us.shift()}var _i=Gn.ReactCurrentBatchConfig,ad=!0;function lE(e,t,r,n){var s=Te,i=_i.transition;_i.transition=null;try{Te=1,dx(e,t,r,n)}finally{Te=s,_i.transition=i}}function cE(e,t,r,n){var s=Te,i=_i.transition;_i.transition=null;try{Te=4,dx(e,t,r,n)}finally{Te=s,_i.transition=i}}function dx(e,t,r,n){if(ad){var s=Dm(e,t,r,n);if(s===null)gp(e,t,n,id,r),Cy(e,n);else if(iE(s,e,t,r,n))n.stopPropagation();else if(Cy(e,n),t&4&&-1<aE.indexOf(e)){for(;s!==null;){var i=Rc(s);if(i!==null&&X_(i),i=Dm(e,t,r,n),i===null&&gp(e,t,n,id,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else gp(e,t,n,null,r)}}var id=null;function Dm(e,t,r,n){if(id=null,e=ox(n),e=aa(e),e!==null)if(t=Ia(e),t===null)e=null;else if(r=t.tag,r===13){if(e=q_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return id=e,null}function rN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y6()){case lx:return 1;case V_:return 4;case nd:case X6:return 16;case G_:return 536870912;default:return 16}default:return 16}}var ms=null,fx=null,zu=null;function nN(){if(zu)return zu;var e,t=fx,r=t.length,n,s="value"in ms?ms.value:ms.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return zu=s.slice(e,1<n?1-n:void 0)}function qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function $y(){return!1}function Ar(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uu:$y,this.isPropagationStopped=$y,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hx=Ar(po),Mc=st({},po,{view:0,detail:0}),uE=Ar(Mc),op,lp,Uo,Rf=st({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(op=e.screenX-Uo.screenX,lp=e.screenY-Uo.screenY):lp=op=0,Uo=e),op)},movementY:function(e){return"movementY"in e?e.movementY:lp}}),Dy=Ar(Rf),dE=st({},Rf,{dataTransfer:0}),fE=Ar(dE),hE=st({},Mc,{relatedTarget:0}),cp=Ar(hE),pE=st({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),mE=Ar(pE),gE=st({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xE=Ar(gE),vE=st({},po,{data:0}),Iy=Ar(vE),yE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wE[e])?!!t[e]:!1}function px(){return jE}var SE=st({},Mc,{key:function(e){if(e.key){var t=yE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:px,charCode:function(e){return e.type==="keypress"?qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_E=Ar(SE),NE=st({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),My=Ar(NE),AE=st({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:px}),OE=Ar(AE),PE=st({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=Ar(PE),kE=st({},Rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=Ar(kE),TE=[9,13,27,32],mx=Bn&&"CompositionEvent"in window,hl=null;Bn&&"documentMode"in document&&(hl=document.documentMode);var $E=Bn&&"TextEvent"in window&&!hl,sN=Bn&&(!mx||hl&&8<hl&&11>=hl),Ry=" ",Ly=!1;function aN(e,t){switch(e){case"keyup":return TE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function DE(e,t){switch(e){case"compositionend":return iN(t);case"keypress":return t.which!==32?null:(Ly=!0,Ry);case"textInput":return e=t.data,e===Ry&&Ly?null:e;default:return null}}function IE(e,t){if(ii)return e==="compositionend"||!mx&&aN(e,t)?(e=nN(),zu=fx=ms=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sN&&t.locale!=="ko"?null:t.data;default:return null}}var ME={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ME[e.type]:t==="textarea"}function oN(e,t,r,n){L_(n),t=od(t,"onChange"),0<t.length&&(r=new hx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pl=null,Il=null;function RE(e){vN(e,0)}function Lf(e){var t=ci(e);if(C_(t))return e}function LE(e,t){if(e==="change")return t}var lN=!1;if(Bn){var up;if(Bn){var dp="oninput"in document;if(!dp){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),dp=typeof Uy.oninput=="function"}up=dp}else up=!1;lN=up&&(!document.documentMode||9<document.documentMode)}function By(){pl&&(pl.detachEvent("onpropertychange",cN),Il=pl=null)}function cN(e){if(e.propertyName==="value"&&Lf(Il)){var t=[];oN(t,Il,e,ox(e)),z_(RE,t)}}function FE(e,t,r){e==="focusin"?(By(),pl=t,Il=r,pl.attachEvent("onpropertychange",cN)):e==="focusout"&&By()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lf(Il)}function BE(e,t){if(e==="click")return Lf(t)}function zE(e,t){if(e==="input"||e==="change")return Lf(t)}function qE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:qE;function Ml(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!gm.call(t,s)||!an(e[s],t[s]))return!1}return!0}function zy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qy(e,t){var r=zy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zy(r)}}function uN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dN(){for(var e=window,t=ed();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ed(e.document)}return t}function gx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WE(e){var t=dN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uN(r.ownerDocument.documentElement,r)){if(n!==null&&gx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=qy(r,i);var o=qy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HE=Bn&&"documentMode"in document&&11>=document.documentMode,oi=null,Im=null,ml=null,Mm=!1;function Wy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mm||oi==null||oi!==ed(n)||(n=oi,"selectionStart"in n&&gx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Ml(ml,n)||(ml=n,n=od(Im,"onSelect"),0<n.length&&(t=new hx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oi)))}function du(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},fp={},fN={};Bn&&(fN=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function Ff(e){if(fp[e])return fp[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fN)return fp[e]=t[r];return e}var hN=Ff("animationend"),pN=Ff("animationiteration"),mN=Ff("animationstart"),gN=Ff("transitionend"),xN=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(e,t){xN.set(e,t),Da(t,[e])}for(var hp=0;hp<Hy.length;hp++){var pp=Hy[hp],KE=pp.toLowerCase(),VE=pp[0].toUpperCase()+pp.slice(1);Is(KE,"on"+VE)}Is(hN,"onAnimationEnd");Is(pN,"onAnimationIteration");Is(mN,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(gN,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Ky(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K6(n,t,void 0,e),e.currentTarget=null}function vN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ky(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ky(s,l,u),i=c}}}if(rd)throw e=Cm,rd=!1,Cm=null,e}function Qe(e,t){var r=t[Bm];r===void 0&&(r=t[Bm]=new Set);var n=e+"__bubble";r.has(n)||(yN(t,e,2,!1),r.add(n))}function mp(e,t,r){var n=0;t&&(n|=4),yN(r,e,n,t)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[fu]){e[fu]=!0,A_.forEach(function(r){r!=="selectionchange"&&(GE.has(r)||mp(r,!1,e),mp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fu]||(t[fu]=!0,mp("selectionchange",!1,t))}}function yN(e,t,r,n){switch(rN(t)){case 1:var s=lE;break;case 4:s=cE;break;default:s=dx}r=s.bind(null,t,r,e),s=void 0,!km||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function gp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}z_(function(){var u=i,f=ox(r),d=[];e:{var h=xN.get(e);if(h!==void 0){var p=hx,y=e;switch(e){case"keypress":if(qu(r)===0)break e;case"keydown":case"keyup":p=_E;break;case"focusin":y="focus",p=cp;break;case"focusout":y="blur",p=cp;break;case"beforeblur":case"afterblur":p=cp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OE;break;case hN:case pN:case mN:p=mE;break;case gN:p=EE;break;case"scroll":p=uE;break;case"wheel":p=CE;break;case"copy":case"cut":case"paste":p=xE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=My}var b=(t&4)!==0,x=!b&&e==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var v=u,m;v!==null;){m=v;var N=m.stateNode;if(m.tag===5&&N!==null&&(m=N,w!==null&&(N=Cl(v,w),N!=null&&b.push(Ll(v,N,m)))),x)break;v=v.return}0<b.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Pm&&(y=r.relatedTarget||r.fromElement)&&(aa(y)||y[zn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?aa(y):null,y!==null&&(x=Ia(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(b=Dy,N="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=My,N="onPointerLeave",w="onPointerEnter",v="pointer"),x=p==null?h:ci(p),m=y==null?h:ci(y),h=new b(N,v+"leave",p,r,f),h.target=x,h.relatedTarget=m,N=null,aa(f)===u&&(b=new b(w,v+"enter",y,r,f),b.target=m,b.relatedTarget=x,N=b),x=N,p&&y)t:{for(b=p,w=y,v=0,m=b;m;m=qa(m))v++;for(m=0,N=w;N;N=qa(N))m++;for(;0<v-m;)b=qa(b),v--;for(;0<m-v;)w=qa(w),m--;for(;v--;){if(b===w||w!==null&&b===w.alternate)break t;b=qa(b),w=qa(w)}b=null}else b=null;p!==null&&Vy(d,h,p,b,!1),y!==null&&x!==null&&Vy(d,x,y,b,!0)}}e:{if(h=u?ci(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var g=LE;else if(Fy(h))if(lN)g=zE;else{g=UE;var j=FE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(g=BE);if(g&&(g=g(e,u))){oN(d,g,r,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Sm(h,"number",h.value)}switch(j=u?ci(u):window,e){case"focusin":(Fy(j)||j.contentEditable==="true")&&(oi=j,Im=u,ml=null);break;case"focusout":ml=Im=oi=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Wy(d,r,f);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":Wy(d,r,f)}var _;if(mx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ii?aN(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(sN&&r.locale!=="ko"&&(ii||S!=="onCompositionStart"?S==="onCompositionEnd"&&ii&&(_=nN()):(ms=f,fx="value"in ms?ms.value:ms.textContent,ii=!0)),j=od(u,S),0<j.length&&(S=new Iy(S,e,null,r,f),d.push({event:S,listeners:j}),_?S.data=_:(_=iN(r),_!==null&&(S.data=_)))),(_=$E?DE(e,r):IE(e,r))&&(u=od(u,"onBeforeInput"),0<u.length&&(f=new Iy("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}vN(d,t)})}function Ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function od(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cl(e,r),i!=null&&n.unshift(Ll(e,i,s)),i=Cl(e,t),i!=null&&n.push(Ll(e,i,s))),e=e.return}return n}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Cl(r,i),c!=null&&o.unshift(Ll(r,c,l))):s||(c=Cl(r,i),c!=null&&o.push(Ll(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var QE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(QE,`
`).replace(YE,"")}function hu(e,t,r){if(t=Gy(t),Gy(e)!==t&&r)throw Error(G(425))}function ld(){}var Rm=null,Lm=null;function Fm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,XE=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(JE)}:Um;function JE(e){setTimeout(function(){throw e})}function xp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Dl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Dl(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),un="__reactFiber$"+mo,Fl="__reactProps$"+mo,zn="__reactContainer$"+mo,Bm="__reactEvents$"+mo,ek="__reactListeners$"+mo,tk="__reactHandles$"+mo;function aa(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yy(e);e!==null;){if(r=e[un])return r;e=Yy(e)}return t}e=r,r=e.parentNode}return null}function Rc(e){return e=e[un]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Uf(e){return e[Fl]||null}var zm=[],ui=-1;function Ms(e){return{current:e}}function Ze(e){0>ui||(e.current=zm[ui],zm[ui]=null,ui--)}function qe(e,t){ui++,zm[ui]=e.current,e.current=t}var $s={},qt=Ms($s),or=Ms(!1),xa=$s;function $i(e,t){var r=e.type.contextTypes;if(!r)return $s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lr(e){return e=e.childContextTypes,e!=null}function cd(){Ze(or),Ze(qt)}function Xy(e,t,r){if(qt.current!==$s)throw Error(G(168));qe(qt,t),qe(or,r)}function bN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,F6(e)||"Unknown",s));return st({},r,n)}function ud(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$s,xa=qt.current,qe(qt,e),qe(or,or.current),!0}function Zy(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=bN(e,t,xa),n.__reactInternalMemoizedMergedChildContext=e,Ze(or),Ze(qt),qe(qt,e)):Ze(or),qe(or,r)}var En=null,Bf=!1,vp=!1;function wN(e){En===null?En=[e]:En.push(e)}function rk(e){Bf=!0,wN(e)}function Rs(){if(!vp&&En!==null){vp=!0;var e=0,t=Te;try{var r=En;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}En=null,Bf=!1}catch(s){throw En!==null&&(En=En.slice(e+1)),K_(lx,Rs),s}finally{Te=t,vp=!1}}return null}var di=[],fi=0,dd=null,fd=0,Cr=[],Tr=0,va=null,Cn=1,Tn="";function Ys(e,t){di[fi++]=fd,di[fi++]=dd,dd=e,fd=t}function jN(e,t,r){Cr[Tr++]=Cn,Cr[Tr++]=Tn,Cr[Tr++]=va,va=e;var n=Cn;e=Tn;var s=32-rn(n)-1;n&=~(1<<s),r+=1;var i=32-rn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Cn=1<<32-rn(t)+s|r<<s|n,Tn=i+e}else Cn=1<<i|r<<s|n,Tn=e}function xx(e){e.return!==null&&(Ys(e,1),jN(e,1,0))}function vx(e){for(;e===dd;)dd=di[--fi],di[fi]=null,fd=di[--fi],di[fi]=null;for(;e===va;)va=Cr[--Tr],Cr[Tr]=null,Tn=Cr[--Tr],Cr[Tr]=null,Cn=Cr[--Tr],Cr[Tr]=null}var yr=null,vr=null,Je=!1,Jr=null;function SN(e,t){var r=Dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yr=e,vr=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yr=e,vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=va!==null?{id:Cn,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yr=e,vr=null,!0):!1;default:return!1}}function qm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wm(e){if(Je){var t=vr;if(t){var r=t;if(!Jy(e,t)){if(qm(e))throw Error(G(418));t=_s(r.nextSibling);var n=yr;t&&Jy(e,t)?SN(n,r):(e.flags=e.flags&-4097|2,Je=!1,yr=e)}}else{if(qm(e))throw Error(G(418));e.flags=e.flags&-4097|2,Je=!1,yr=e}}}function eb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yr=e}function pu(e){if(e!==yr)return!1;if(!Je)return eb(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fm(e.type,e.memoizedProps)),t&&(t=vr)){if(qm(e))throw _N(),Error(G(418));for(;t;)SN(e,t),t=_s(t.nextSibling)}if(eb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vr=_s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vr=null}}else vr=yr?_s(e.stateNode.nextSibling):null;return!0}function _N(){for(var e=vr;e;)e=_s(e.nextSibling)}function Di(){vr=yr=null,Je=!1}function yx(e){Jr===null?Jr=[e]:Jr.push(e)}var nk=Gn.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tb(e){var t=e._init;return t(e._payload)}function NN(e){function t(w,v){if(e){var m=w.deletions;m===null?(w.deletions=[v],w.flags|=16):m.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Ps(w,v),w.index=0,w.sibling=null,w}function i(w,v,m){return w.index=m,e?(m=w.alternate,m!==null?(m=m.index,m<v?(w.flags|=2,v):m):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,v,m,N){return v===null||v.tag!==6?(v=Np(m,w.mode,N),v.return=w,v):(v=s(v,m),v.return=w,v)}function c(w,v,m,N){var g=m.type;return g===ai?f(w,v,m.props.children,N,m.key):v!==null&&(v.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===is&&tb(g)===v.type)?(N=s(v,m.props),N.ref=Bo(w,v,m),N.return=w,N):(N=Yu(m.type,m.key,m.props,null,w.mode,N),N.ref=Bo(w,v,m),N.return=w,N)}function u(w,v,m,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=Ap(m,w.mode,N),v.return=w,v):(v=s(v,m.children||[]),v.return=w,v)}function f(w,v,m,N,g){return v===null||v.tag!==7?(v=ha(m,w.mode,N,g),v.return=w,v):(v=s(v,m),v.return=w,v)}function d(w,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Np(""+v,w.mode,m),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return m=Yu(v.type,v.key,v.props,null,w.mode,m),m.ref=Bo(w,null,v),m.return=w,m;case si:return v=Ap(v,w.mode,m),v.return=w,v;case is:var N=v._init;return d(w,N(v._payload),m)}if(il(v)||Mo(v))return v=ha(v,w.mode,m,null),v.return=w,v;mu(w,v)}return null}function h(w,v,m,N){var g=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return g!==null?null:l(w,v,""+m,N);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case su:return m.key===g?c(w,v,m,N):null;case si:return m.key===g?u(w,v,m,N):null;case is:return g=m._init,h(w,v,g(m._payload),N)}if(il(m)||Mo(m))return g!==null?null:f(w,v,m,N,null);mu(w,m)}return null}function p(w,v,m,N,g){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(m)||null,l(v,w,""+N,g);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case su:return w=w.get(N.key===null?m:N.key)||null,c(v,w,N,g);case si:return w=w.get(N.key===null?m:N.key)||null,u(v,w,N,g);case is:var j=N._init;return p(w,v,m,j(N._payload),g)}if(il(N)||Mo(N))return w=w.get(m)||null,f(v,w,N,g,null);mu(v,N)}return null}function y(w,v,m,N){for(var g=null,j=null,_=v,S=v=0,A=null;_!==null&&S<m.length;S++){_.index>S?(A=_,_=null):A=_.sibling;var P=h(w,_,m[S],N);if(P===null){_===null&&(_=A);break}e&&_&&P.alternate===null&&t(w,_),v=i(P,v,S),j===null?g=P:j.sibling=P,j=P,_=A}if(S===m.length)return r(w,_),Je&&Ys(w,S),g;if(_===null){for(;S<m.length;S++)_=d(w,m[S],N),_!==null&&(v=i(_,v,S),j===null?g=_:j.sibling=_,j=_);return Je&&Ys(w,S),g}for(_=n(w,_);S<m.length;S++)A=p(_,w,S,m[S],N),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?S:A.key),v=i(A,v,S),j===null?g=A:j.sibling=A,j=A);return e&&_.forEach(function(E){return t(w,E)}),Je&&Ys(w,S),g}function b(w,v,m,N){var g=Mo(m);if(typeof g!="function")throw Error(G(150));if(m=g.call(m),m==null)throw Error(G(151));for(var j=g=null,_=v,S=v=0,A=null,P=m.next();_!==null&&!P.done;S++,P=m.next()){_.index>S?(A=_,_=null):A=_.sibling;var E=h(w,_,P.value,N);if(E===null){_===null&&(_=A);break}e&&_&&E.alternate===null&&t(w,_),v=i(E,v,S),j===null?g=E:j.sibling=E,j=E,_=A}if(P.done)return r(w,_),Je&&Ys(w,S),g;if(_===null){for(;!P.done;S++,P=m.next())P=d(w,P.value,N),P!==null&&(v=i(P,v,S),j===null?g=P:j.sibling=P,j=P);return Je&&Ys(w,S),g}for(_=n(w,_);!P.done;S++,P=m.next())P=p(_,w,S,P.value,N),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?S:P.key),v=i(P,v,S),j===null?g=P:j.sibling=P,j=P);return e&&_.forEach(function(C){return t(w,C)}),Je&&Ys(w,S),g}function x(w,v,m,N){if(typeof m=="object"&&m!==null&&m.type===ai&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case su:e:{for(var g=m.key,j=v;j!==null;){if(j.key===g){if(g=m.type,g===ai){if(j.tag===7){r(w,j.sibling),v=s(j,m.props.children),v.return=w,w=v;break e}}else if(j.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===is&&tb(g)===j.type){r(w,j.sibling),v=s(j,m.props),v.ref=Bo(w,j,m),v.return=w,w=v;break e}r(w,j);break}else t(w,j);j=j.sibling}m.type===ai?(v=ha(m.props.children,w.mode,N,m.key),v.return=w,w=v):(N=Yu(m.type,m.key,m.props,null,w.mode,N),N.ref=Bo(w,v,m),N.return=w,w=N)}return o(w);case si:e:{for(j=m.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){r(w,v.sibling),v=s(v,m.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=Ap(m,w.mode,N),v.return=w,w=v}return o(w);case is:return j=m._init,x(w,v,j(m._payload),N)}if(il(m))return y(w,v,m,N);if(Mo(m))return b(w,v,m,N);mu(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(r(w,v.sibling),v=s(v,m),v.return=w,w=v):(r(w,v),v=Np(m,w.mode,N),v.return=w,w=v),o(w)):r(w,v)}return x}var Ii=NN(!0),AN=NN(!1),hd=Ms(null),pd=null,hi=null,bx=null;function wx(){bx=hi=pd=null}function jx(e){var t=hd.current;Ze(hd),e._currentValue=t}function Hm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ni(e,t){pd=e,bx=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ar=!0),e.firstContext=null)}function Lr(e){var t=e._currentValue;if(bx!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(pd===null)throw Error(G(308));hi=e,pd.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var ia=null;function Sx(e){ia===null?ia=[e]:ia.push(e)}function ON(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sx(t)):(r.next=s.next,s.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function _x(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qn(e,r)}return s=n.interleaved,s===null?(t.next=t,Sx(n)):(t.next=s.next,s.next=t),n.interleaved=t,qn(e,r)}function Wu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cx(e,r)}}function rb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function md(e,t,r,n){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,p=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=st({},d,h);break e;case 2:os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ba|=o,e.lanes=o,e.memoizedState=d}}function nb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Lc={},mn=Ms(Lc),Ul=Ms(Lc),Bl=Ms(Lc);function oa(e){if(e===Lc)throw Error(G(174));return e}function Nx(e,t){switch(qe(Bl,t),qe(Ul,e),qe(mn,Lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nm(t,e)}Ze(mn),qe(mn,t)}function Mi(){Ze(mn),Ze(Ul),Ze(Bl)}function EN(e){oa(Bl.current);var t=oa(mn.current),r=Nm(t,e.type);t!==r&&(qe(Ul,e),qe(mn,r))}function Ax(e){Ul.current===e&&(Ze(mn),Ze(Ul))}var tt=Ms(0);function gd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yp=[];function Ox(){for(var e=0;e<yp.length;e++)yp[e]._workInProgressVersionPrimary=null;yp.length=0}var Hu=Gn.ReactCurrentDispatcher,bp=Gn.ReactCurrentBatchConfig,ya=0,rt=null,mt=null,St=null,xd=!1,gl=!1,zl=0,sk=0;function Mt(){throw Error(G(321))}function Px(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function Ex(e,t,r,n,s,i){if(ya=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hu.current=e===null||e.memoizedState===null?lk:ck,e=r(n,s),gl){i=0;do{if(gl=!1,zl=0,25<=i)throw Error(G(301));i+=1,St=mt=null,t.updateQueue=null,Hu.current=uk,e=r(n,s)}while(gl)}if(Hu.current=vd,t=mt!==null&&mt.next!==null,ya=0,St=mt=rt=null,xd=!1,t)throw Error(G(300));return e}function kx(){var e=zl!==0;return zl=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=e:St=St.next=e,St}function Fr(){if(mt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=St===null?rt.memoizedState:St.next;if(t!==null)St=t,mt=e;else{if(e===null)throw Error(G(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?rt.memoizedState=St=e:St=St.next=e}return St}function ql(e,t){return typeof t=="function"?t(e):t}function wp(e){var t=Fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((ya&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,rt.lanes|=f,ba|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,an(n,t.memoizedState)||(ar=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,rt.lanes|=i,ba|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jp(e){var t=Fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);an(i,t.memoizedState)||(ar=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function kN(){}function CN(e,t){var r=rt,n=Fr(),s=t(),i=!an(n.memoizedState,s);if(i&&(n.memoizedState=s,ar=!0),n=n.queue,Cx(DN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,Wl(9,$N.bind(null,r,n,s,t),void 0,null),At===null)throw Error(G(349));ya&30||TN(r,t,s)}return s}function TN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $N(e,t,r,n){t.value=r,t.getSnapshot=n,IN(t)&&MN(e)}function DN(e,t,r){return r(function(){IN(t)&&MN(e)})}function IN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function MN(e){var t=qn(e,1);t!==null&&nn(t,e,1,-1)}function sb(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:e},t.queue=e,e=e.dispatch=ok.bind(null,rt,e),[t.memoizedState,e]}function Wl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function RN(){return Fr().memoizedState}function Ku(e,t,r,n){var s=cn();rt.flags|=e,s.memoizedState=Wl(1|t,r,void 0,n===void 0?null:n)}function zf(e,t,r,n){var s=Fr();n=n===void 0?null:n;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,n!==null&&Px(n,o.deps)){s.memoizedState=Wl(t,r,i,n);return}}rt.flags|=e,s.memoizedState=Wl(1|t,r,i,n)}function ab(e,t){return Ku(8390656,8,e,t)}function Cx(e,t){return zf(2048,8,e,t)}function LN(e,t){return zf(4,2,e,t)}function FN(e,t){return zf(4,4,e,t)}function UN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BN(e,t,r){return r=r!=null?r.concat([e]):null,zf(4,4,UN.bind(null,t,e),r)}function Tx(){}function zN(e,t){var r=Fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qN(e,t){var r=Fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function WN(e,t,r){return ya&21?(an(r,t)||(r=Q_(),rt.lanes|=r,ba|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ar=!0),e.memoizedState=r)}function ak(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=bp.transition;bp.transition={};try{e(!1),t()}finally{Te=r,bp.transition=n}}function HN(){return Fr().memoizedState}function ik(e,t,r){var n=Os(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KN(e))VN(t,r);else if(r=ON(e,t,r,n),r!==null){var s=Xt();nn(r,e,n,s),GN(r,t,n)}}function ok(e,t,r){var n=Os(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KN(e))VN(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,an(l,o)){var c=t.interleaved;c===null?(s.next=s,Sx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ON(e,t,s,n),r!==null&&(s=Xt(),nn(r,e,n,s),GN(r,t,n))}}function KN(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function VN(e,t){gl=xd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cx(e,r)}}var vd={readContext:Lr,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},lk={readContext:Lr,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:ab,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ku(4194308,4,UN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ku(4,2,e,t)},useMemo:function(e,t){var r=cn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ik.bind(null,rt,e),[n.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:sb,useDebugValue:Tx,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=sb(!1),t=e[0];return e=ak.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rt,s=cn();if(Je){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),At===null)throw Error(G(349));ya&30||TN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ab(DN.bind(null,n,i,e),[e]),n.flags|=2048,Wl(9,$N.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cn(),t=At.identifierPrefix;if(Je){var r=Tn,n=Cn;r=(n&~(1<<32-rn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ck={readContext:Lr,useCallback:zN,useContext:Lr,useEffect:Cx,useImperativeHandle:BN,useInsertionEffect:LN,useLayoutEffect:FN,useMemo:qN,useReducer:wp,useRef:RN,useState:function(){return wp(ql)},useDebugValue:Tx,useDeferredValue:function(e){var t=Fr();return WN(t,mt.memoizedState,e)},useTransition:function(){var e=wp(ql)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:kN,useSyncExternalStore:CN,useId:HN,unstable_isNewReconciler:!1},uk={readContext:Lr,useCallback:zN,useContext:Lr,useEffect:Cx,useImperativeHandle:BN,useInsertionEffect:LN,useLayoutEffect:FN,useMemo:qN,useReducer:jp,useRef:RN,useState:function(){return jp(ql)},useDebugValue:Tx,useDeferredValue:function(e){var t=Fr();return mt===null?t.memoizedState=e:WN(t,mt.memoizedState,e)},useTransition:function(){var e=jp(ql)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:kN,useSyncExternalStore:CN,useId:HN,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Km(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qf={isMounted:function(e){return(e=e._reactInternals)?Ia(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xt(),s=Os(e),i=Rn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,s),t!==null&&(nn(t,e,s,n),Wu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xt(),s=Os(e),i=Rn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,s),t!==null&&(nn(t,e,s,n),Wu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),n=Os(e),s=Rn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ns(e,s,n),t!==null&&(nn(t,e,n,r),Wu(t,e,n))}};function ib(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ml(r,n)||!Ml(s,i):!0}function QN(e,t,r){var n=!1,s=$s,i=t.contextType;return typeof i=="object"&&i!==null?i=Lr(i):(s=lr(t)?xa:qt.current,n=t.contextTypes,i=(n=n!=null)?$i(e,s):$s),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ob(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function Vm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},_x(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lr(i):(i=lr(t)?xa:qt.current,s.context=$i(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Km(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qf.enqueueReplaceState(s,s.state,null),md(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",n=t;do r+=L6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dk=typeof WeakMap=="function"?WeakMap:Map;function YN(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bd||(bd=!0,s0=n),Gm(e,t)},r}function XN(e,t,r){r=Rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Gm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Gm(e,t),typeof n!="function"&&(As===null?As=new Set([this]):As.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function lb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Nk.bind(null,e,t,r),t.then(e,e))}function cb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ub(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,Ns(r,t,1))),r.lanes|=1),e)}var fk=Gn.ReactCurrentOwner,ar=!1;function Vt(e,t,r,n){t.child=e===null?AN(t,null,r,n):Ii(t,e.child,r,n)}function db(e,t,r,n,s){r=r.render;var i=t.ref;return Ni(t,s),n=Ex(e,t,r,n,i,s),r=kx(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Je&&r&&xx(t),t.flags|=1,Vt(e,t,n,s),t.child)}function fb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ux(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ZN(e,t,i,n,s)):(e=Yu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ml,r(o,n)&&e.ref===t.ref)return Wn(e,t,s)}return t.flags|=1,e=Ps(i,n),e.ref=t.ref,e.return=t,t.child=e}function ZN(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ml(i,n)&&e.ref===t.ref)if(ar=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ar=!0);else return t.lanes=e.lanes,Wn(e,t,s)}return Qm(e,t,r,n,s)}function JN(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mi,pr),pr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(mi,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(mi,pr),pr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(mi,pr),pr|=n;return Vt(e,t,s,r),t.child}function e2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qm(e,t,r,n,s){var i=lr(r)?xa:qt.current;return i=$i(t,i),Ni(t,s),r=Ex(e,t,r,n,i,s),n=kx(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Je&&n&&xx(t),t.flags|=1,Vt(e,t,r,s),t.child)}function hb(e,t,r,n,s){if(lr(r)){var i=!0;ud(t)}else i=!1;if(Ni(t,s),t.stateNode===null)Vu(e,t),QN(t,r,n),Vm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lr(u):(u=lr(r)?xa:qt.current,u=$i(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ob(t,o,n,u),os=!1;var h=t.memoizedState;o.state=h,md(t,n,o,s),c=t.memoizedState,l!==n||h!==c||or.current||os?(typeof f=="function"&&(Km(t,r,f,n),c=t.memoizedState),(l=os||ib(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,PN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gr(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Lr(c):(c=lr(r)?xa:qt.current,c=$i(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&ob(t,o,n,c),os=!1,h=t.memoizedState,o.state=h,md(t,n,o,s);var y=t.memoizedState;l!==d||h!==y||or.current||os?(typeof p=="function"&&(Km(t,r,p,n),y=t.memoizedState),(u=os||ib(t,r,u,n,h,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ym(e,t,r,n,i,s)}function Ym(e,t,r,n,s,i){e2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Zy(t,r,!1),Wn(e,t,i);n=t.stateNode,fk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ii(t,e.child,null,i),t.child=Ii(t,null,l,i)):Vt(e,t,l,i),t.memoizedState=n.state,s&&Zy(t,r,!0),t.child}function t2(e){var t=e.stateNode;t.pendingContext?Xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xy(e,t.context,!1),Nx(e,t.containerInfo)}function pb(e,t,r,n,s){return Di(),yx(s),t.flags|=256,Vt(e,t,r,n),t.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Zm(e){return{baseLanes:e,cachePool:null,transitions:null}}function r2(e,t,r){var n=t.pendingProps,s=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(tt,s&1),e===null)return Wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kf(o,n,0,null),e=ha(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zm(r),t.memoizedState=Xm,e):$x(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hk(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ps(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ps(l,i):(i=ha(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Zm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xm,n}return i=e.child,e=i.sibling,n=Ps(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $x(e,t){return t=Kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,r,n){return n!==null&&yx(n),Ii(t,e.child,null,r),e=$x(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Sp(Error(G(422))),gu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Kf({mode:"visible",children:n.children},s,0,null),i=ha(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ii(t,e.child,null,o),t.child.memoizedState=Zm(o),t.memoizedState=Xm,i);if(!(t.mode&1))return gu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=Sp(i,n,void 0),gu(e,t,o,n)}if(l=(o&e.childLanes)!==0,ar||l){if(n=At,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qn(e,s),nn(n,e,s,-1))}return Fx(),n=Sp(Error(G(421))),gu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ak.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vr=_s(s.nextSibling),yr=t,Je=!0,Jr=null,e!==null&&(Cr[Tr++]=Cn,Cr[Tr++]=Tn,Cr[Tr++]=va,Cn=e.id,Tn=e.overflow,va=t),t=$x(t,n.children),t.flags|=4096,t)}function mb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hm(e.return,t,r)}function _p(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function n2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Vt(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mb(e,r,t);else if(e.tag===19)mb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&gd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_p(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&gd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Ps(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ps(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pk(e,t,r){switch(t.tag){case 3:t2(t),Di();break;case 5:EN(t);break;case 1:lr(t.type)&&ud(t);break;case 4:Nx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(hd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?r2(e,t,r):(qe(tt,tt.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return n2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,JN(e,t,r)}return Wn(e,t,r)}var s2,Jm,a2,i2;s2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jm=function(){};a2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,oa(mn.current);var i=null;switch(r){case"input":s=wm(e,s),n=wm(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=_m(e,s),n=_m(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ld)}Am(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};i2=function(e,t,r,n){r!==n&&(t.flags|=4)};function zo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mk(e,t,r){var n=t.pendingProps;switch(vx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return lr(t.type)&&cd(),Rt(t),null;case 3:return n=t.stateNode,Mi(),Ze(or),Ze(qt),Ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(o0(Jr),Jr=null))),Jm(e,t),Rt(t),null;case 5:Ax(t);var s=oa(Bl.current);if(r=t.type,e!==null&&t.stateNode!=null)a2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Rt(t),null}if(e=oa(mn.current),pu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[un]=t,n[Fl]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)Qe(ll[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":_y(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":Ay(n,i),Qe("invalid",n)}Am(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&hu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hu(n.textContent,l,e),s=["children",""+l]):El.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":au(n),Ny(n,i,!0);break;case"textarea":au(n),Oy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ld)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[un]=t,e[Fl]=n,s2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Om(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<ll.length;s++)Qe(ll[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":_y(e,n),s=wm(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":Ay(e,n),s=_m(e,n),Qe("invalid",e);break;default:s=n}Am(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?R_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(El.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&nx(e,i,c,o))}switch(r){case"input":au(e),Ny(e,n,!1);break;case"textarea":au(e),Oy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ts(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wi(e,!!n.multiple,i,!1):n.defaultValue!=null&&wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ld)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)i2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=oa(Bl.current),oa(mn.current),pu(t)){if(n=t.stateNode,r=t.memoizedProps,n[un]=t,(i=n.nodeValue!==r)&&(e=yr,e!==null))switch(e.tag){case 3:hu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[un]=t,t.stateNode=n}return Rt(t),null;case 13:if(Ze(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&vr!==null&&t.mode&1&&!(t.flags&128))_N(),Di(),t.flags|=98560,i=!1;else if(i=pu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[un]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else Jr!==null&&(o0(Jr),Jr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?xt===0&&(xt=3):Fx())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Mi(),Jm(e,t),e===null&&Rl(t.stateNode.containerInfo),Rt(t),null;case 10:return jx(t.type._context),Rt(t),null;case 17:return lr(t.type)&&cd(),Rt(t),null;case 19:if(Ze(tt),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)zo(i,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gd(e),o!==null){for(t.flags|=128,zo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>Li&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304)}else{if(!n)if(e=gd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Rt(t),null}else 2*ct()-i.renderingStartTime>Li&&r!==1073741824&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=tt.current,qe(tt,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Lx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function gk(e,t){switch(vx(t),t.tag){case 1:return lr(t.type)&&cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Ze(or),Ze(qt),Ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ax(t),null;case 13:if(Ze(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(tt),null;case 4:return Mi(),null;case 10:return jx(t.type._context),null;case 22:case 23:return Lx(),null;case 24:return null;default:return null}}var xu=!1,Ut=!1,xk=typeof WeakSet=="function"?WeakSet:Set,J=null;function pi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function e0(e,t,r){try{r()}catch(n){at(e,t,n)}}var gb=!1;function vk(e,t){if(Rm=ad,e=dN(),gx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lm={focusedElem:e,selectionRange:r},ad=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:Gr(t.type,b),x);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){at(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=gb,gb=!1,y}function xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&e0(t,r,i)}s=s.next}while(s!==n)}}function Wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function t0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o2(e){var t=e.alternate;t!==null&&(e.alternate=null,o2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Fl],delete t[Bm],delete t[ek],delete t[tk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l2(e){return e.tag===5||e.tag===3||e.tag===4}function xb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ld));else if(n!==4&&(e=e.child,e!==null))for(r0(e,t,r),e=e.sibling;e!==null;)r0(e,t,r),e=e.sibling}function n0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(n0(e,t,r),e=e.sibling;e!==null;)n0(e,t,r),e=e.sibling}var kt=null,Qr=!1;function es(e,t,r){for(r=r.child;r!==null;)c2(e,t,r),r=r.sibling}function c2(e,t,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Mf,r)}catch{}switch(r.tag){case 5:Ut||pi(r,t);case 6:var n=kt,s=Qr;kt=null,es(e,t,r),kt=n,Qr=s,kt!==null&&(Qr?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Qr?(e=kt,r=r.stateNode,e.nodeType===8?xp(e.parentNode,r):e.nodeType===1&&xp(e,r),Dl(e)):xp(kt,r.stateNode));break;case 4:n=kt,s=Qr,kt=r.stateNode.containerInfo,Qr=!0,es(e,t,r),kt=n,Qr=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&e0(r,t,o),s=s.next}while(s!==n)}es(e,t,r);break;case 1:if(!Ut&&(pi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,t,l)}es(e,t,r);break;case 21:es(e,t,r);break;case 22:r.mode&1?(Ut=(n=Ut)||r.memoizedState!==null,es(e,t,r),Ut=n):es(e,t,r);break;default:es(e,t,r)}}function vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xk),t.forEach(function(n){var s=Ok.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Qr=!1;break e;case 3:kt=l.stateNode.containerInfo,Qr=!0;break e;case 4:kt=l.stateNode.containerInfo,Qr=!0;break e}l=l.return}if(kt===null)throw Error(G(160));c2(i,o,s),kt=null,Qr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u2(t,e),t=t.sibling}function u2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),ln(e),n&4){try{xl(3,e,e.return),Wf(3,e)}catch(b){at(e,e.return,b)}try{xl(5,e,e.return)}catch(b){at(e,e.return,b)}}break;case 1:Hr(t,e),ln(e),n&512&&r!==null&&pi(r,r.return);break;case 5:if(Hr(t,e),ln(e),n&512&&r!==null&&pi(r,r.return),e.flags&32){var s=e.stateNode;try{kl(s,"")}catch(b){at(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&T_(s,i),Om(l,o);var u=Om(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?R_(s,d):f==="dangerouslySetInnerHTML"?I_(s,d):f==="children"?kl(s,d):nx(s,f,d,u)}switch(l){case"input":jm(s,i);break;case"textarea":$_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?wi(s,!!i.multiple,i.defaultValue,!0):wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fl]=i}catch(b){at(e,e.return,b)}}break;case 6:if(Hr(t,e),ln(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){at(e,e.return,b)}}break;case 3:if(Hr(t,e),ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(t.containerInfo)}catch(b){at(e,e.return,b)}break;case 4:Hr(t,e),ln(e);break;case 13:Hr(t,e),ln(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mx=ct())),n&4&&vb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||f,Hr(t,e),Ut=u):Hr(t,e),ln(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(d=J=f;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:xl(4,h,h.return);break;case 1:pi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){at(n,r,b)}}break;case 5:pi(h,h.return);break;case 22:if(h.memoizedState!==null){bb(d);continue}}p!==null?(p.return=h,J=p):bb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=M_("display",o))}catch(b){at(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){at(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hr(t,e),ln(e),n&4&&vb(e);break;case 21:break;default:Hr(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(l2(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kl(s,""),n.flags&=-33);var i=xb(e);n0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xb(e);r0(e,l,o);break;default:throw Error(G(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yk(e,t,r){J=e,d2(e)}function d2(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=xu;var u=Ut;if(xu=o,(Ut=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?wb(s):c!==null?(c.return=o,J=c):wb(s);for(;i!==null;)J=i,d2(i),i=i.sibling;J=s,xu=l,Ut=u}yb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):yb(e)}}function yb(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Wf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Dl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ut||t.flags&512&&t0(t)}catch(h){at(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function bb(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function wb(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wf(4,t)}catch(c){at(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){at(t,s,c)}}var i=t.return;try{t0(t)}catch(c){at(t,i,c)}break;case 5:var o=t.return;try{t0(t)}catch(c){at(t,o,c)}}}catch(c){at(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var bk=Math.ceil,yd=Gn.ReactCurrentDispatcher,Dx=Gn.ReactCurrentOwner,Mr=Gn.ReactCurrentBatchConfig,je=0,At=null,dt=null,Ct=0,pr=0,mi=Ms(0),xt=0,Hl=null,ba=0,Hf=0,Ix=0,vl=null,nr=null,Mx=0,Li=1/0,An=null,bd=!1,s0=null,As=null,vu=!1,gs=null,wd=0,yl=0,a0=null,Gu=-1,Qu=0;function Xt(){return je&6?ct():Gu!==-1?Gu:Gu=ct()}function Os(e){return e.mode&1?je&2&&Ct!==0?Ct&-Ct:nk.transition!==null?(Qu===0&&(Qu=Q_()),Qu):(e=Te,e!==0||(e=window.event,e=e===void 0?16:rN(e.type)),e):1}function nn(e,t,r,n){if(50<yl)throw yl=0,a0=null,Error(G(185));Ic(e,r,n),(!(je&2)||e!==At)&&(e===At&&(!(je&2)&&(Hf|=r),xt===4&&ds(e,Ct)),cr(e,n),r===1&&je===0&&!(t.mode&1)&&(Li=ct()+500,Bf&&Rs()))}function cr(e,t){var r=e.callbackNode;nE(e,t);var n=sd(e,e===At?Ct:0);if(n===0)r!==null&&ky(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ky(r),t===1)e.tag===0?rk(jb.bind(null,e)):wN(jb.bind(null,e)),ZE(function(){!(je&6)&&Rs()}),r=null;else{switch(Y_(n)){case 1:r=lx;break;case 4:r=V_;break;case 16:r=nd;break;case 536870912:r=G_;break;default:r=nd}r=y2(r,f2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function f2(e,t){if(Gu=-1,Qu=0,je&6)throw Error(G(327));var r=e.callbackNode;if(Ai()&&e.callbackNode!==r)return null;var n=sd(e,e===At?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jd(e,n);else{t=n;var s=je;je|=2;var i=p2();(At!==e||Ct!==t)&&(An=null,Li=ct()+500,fa(e,t));do try{Sk();break}catch(l){h2(e,l)}while(!0);wx(),yd.current=i,je=s,dt!==null?t=0:(At=null,Ct=0,t=xt)}if(t!==0){if(t===2&&(s=Tm(e),s!==0&&(n=s,t=i0(e,s))),t===1)throw r=Hl,fa(e,0),ds(e,n),cr(e,ct()),r;if(t===6)ds(e,n);else{if(s=e.current.alternate,!(n&30)&&!wk(s)&&(t=jd(e,n),t===2&&(i=Tm(e),i!==0&&(n=i,t=i0(e,i))),t===1))throw r=Hl,fa(e,0),ds(e,n),cr(e,ct()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Xs(e,nr,An);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=Mx+500-ct(),10<t)){if(sd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Um(Xs.bind(null,e,nr,An),t);break}Xs(e,nr,An);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-rn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bk(n/1960))-n,10<n){e.timeoutHandle=Um(Xs.bind(null,e,nr,An),n);break}Xs(e,nr,An);break;case 5:Xs(e,nr,An);break;default:throw Error(G(329))}}}return cr(e,ct()),e.callbackNode===r?f2.bind(null,e):null}function i0(e,t){var r=vl;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=jd(e,t),e!==2&&(t=nr,nr=r,t!==null&&o0(t)),e}function o0(e){nr===null?nr=e:nr.push.apply(nr,e)}function wk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!an(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~Ix,t&=~Hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rn(t),n=1<<r;e[r]=-1,t&=~n}}function jb(e){if(je&6)throw Error(G(327));Ai();var t=sd(e,0);if(!(t&1))return cr(e,ct()),null;var r=jd(e,t);if(e.tag!==0&&r===2){var n=Tm(e);n!==0&&(t=n,r=i0(e,n))}if(r===1)throw r=Hl,fa(e,0),ds(e,t),cr(e,ct()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,nr,An),cr(e,ct()),null}function Rx(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Li=ct()+500,Bf&&Rs())}}function wa(e){gs!==null&&gs.tag===0&&!(je&6)&&Ai();var t=je;je|=1;var r=Mr.transition,n=Te;try{if(Mr.transition=null,Te=1,e)return e()}finally{Te=n,Mr.transition=r,je=t,!(je&6)&&Rs()}}function Lx(){pr=mi.current,Ze(mi)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XE(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(vx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cd();break;case 3:Mi(),Ze(or),Ze(qt),Ox();break;case 5:Ax(n);break;case 4:Mi();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:jx(n.type._context);break;case 22:case 23:Lx()}r=r.return}if(At=e,dt=e=Ps(e.current,null),Ct=pr=t,xt=0,Hl=null,Ix=Hf=ba=0,nr=vl=null,ia!==null){for(t=0;t<ia.length;t++)if(r=ia[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ia=null}return e}function h2(e,t){do{var r=dt;try{if(wx(),Hu.current=vd,xd){for(var n=rt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xd=!1}if(ya=0,St=mt=rt=null,gl=!1,zl=0,Dx.current=null,r===null||r.return===null){xt=1,Hl=t,dt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=cb(o);if(p!==null){p.flags&=-257,ub(p,o,l,i,t),p.mode&1&&lb(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){lb(i,u,t),Fx();break e}c=Error(G(426))}}else if(Je&&l.mode&1){var x=cb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ub(x,o,l,i,t),yx(Ri(c,l));break e}}i=c=Ri(c,l),xt!==4&&(xt=2),vl===null?vl=[i]:vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=YN(i,c,t);rb(i,w);break e;case 1:l=c;var v=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(As===null||!As.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=XN(i,l,t);rb(i,N);break e}}i=i.return}while(i!==null)}g2(r)}catch(g){t=g,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function p2(){var e=yd.current;return yd.current=vd,e===null?vd:e}function Fx(){(xt===0||xt===3||xt===2)&&(xt=4),At===null||!(ba&268435455)&&!(Hf&268435455)||ds(At,Ct)}function jd(e,t){var r=je;je|=2;var n=p2();(At!==e||Ct!==t)&&(An=null,fa(e,t));do try{jk();break}catch(s){h2(e,s)}while(!0);if(wx(),je=r,yd.current=n,dt!==null)throw Error(G(261));return At=null,Ct=0,xt}function jk(){for(;dt!==null;)m2(dt)}function Sk(){for(;dt!==null&&!G6();)m2(dt)}function m2(e){var t=v2(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?g2(e):dt=t,Dx.current=null}function g2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gk(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,dt=null;return}}else if(r=mk(r,t,pr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);xt===0&&(xt=5)}function Xs(e,t,r){var n=Te,s=Mr.transition;try{Mr.transition=null,Te=1,_k(e,t,r,n)}finally{Mr.transition=s,Te=n}return null}function _k(e,t,r,n){do Ai();while(gs!==null);if(je&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sE(e,i),e===At&&(dt=At=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vu||(vu=!0,y2(nd,function(){return Ai(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=Te;Te=1;var l=je;je|=4,Dx.current=null,vk(e,r),u2(r,e),WE(Lm),ad=!!Rm,Lm=Rm=null,e.current=r,yk(r),Q6(),je=l,Te=o,Mr.transition=i}else e.current=r;if(vu&&(vu=!1,gs=e,wd=s),i=e.pendingLanes,i===0&&(As=null),Z6(r.stateNode),cr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bd)throw bd=!1,e=s0,s0=null,e;return wd&1&&e.tag!==0&&Ai(),i=e.pendingLanes,i&1?e===a0?yl++:(yl=0,a0=e):yl=0,Rs(),null}function Ai(){if(gs!==null){var e=Y_(wd),t=Mr.transition,r=Te;try{if(Mr.transition=null,Te=16>e?16:e,gs===null)var n=!1;else{if(e=gs,gs=null,wd=0,je&6)throw Error(G(331));var s=je;for(je|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:xl(8,f,i)}var d=f.child;if(d!==null)d.return=f,J=d;else for(;J!==null;){f=J;var h=f.sibling,p=f.return;if(o2(f),f===u){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,J=w;break e}J=i.return}}var v=e.current;for(J=v;J!==null;){o=J;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,J=m;else e:for(o=v;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wf(9,l)}}catch(g){at(l,l.return,g)}if(l===o){J=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,J=N;break e}J=l.return}}if(je=s,Rs(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Mf,e)}catch{}n=!0}return n}finally{Te=r,Mr.transition=t}}return!1}function Sb(e,t,r){t=Ri(r,t),t=YN(e,t,1),e=Ns(e,t,1),t=Xt(),e!==null&&(Ic(e,1,t),cr(e,t))}function at(e,t,r){if(e.tag===3)Sb(e,e,r);else for(;t!==null;){if(t.tag===3){Sb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(As===null||!As.has(n))){e=Ri(r,e),e=XN(t,e,1),t=Ns(t,e,1),e=Xt(),t!==null&&(Ic(t,1,e),cr(t,e));break}}t=t.return}}function Nk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Ct&r)===r&&(xt===4||xt===3&&(Ct&130023424)===Ct&&500>ct()-Mx?fa(e,0):Ix|=r),cr(e,t)}function x2(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var r=Xt();e=qn(e,t),e!==null&&(Ic(e,t,r),cr(e,r))}function Ak(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x2(e,r)}function Ok(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),x2(e,r)}var v2;v2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ar=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ar=!1,pk(e,t,r);ar=!!(e.flags&131072)}else ar=!1,Je&&t.flags&1048576&&jN(t,fd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vu(e,t),e=t.pendingProps;var s=$i(t,qt.current);Ni(t,r),s=Ex(null,t,n,e,s,r);var i=kx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(n)?(i=!0,ud(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_x(t),s.updater=qf,t.stateNode=s,s._reactInternals=t,Vm(t,n,e,r),t=Ym(null,t,n,!0,i,r)):(t.tag=0,Je&&i&&xx(t),Vt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ek(n),e=Gr(n,e),s){case 0:t=Qm(null,t,n,e,r);break e;case 1:t=hb(null,t,n,e,r);break e;case 11:t=db(null,t,n,e,r);break e;case 14:t=fb(null,t,n,Gr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),Qm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),hb(e,t,n,s,r);case 3:e:{if(t2(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,PN(e,t),md(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ri(Error(G(423)),t),t=pb(e,t,n,r,s);break e}else if(n!==s){s=Ri(Error(G(424)),t),t=pb(e,t,n,r,s);break e}else for(vr=_s(t.stateNode.containerInfo.firstChild),yr=t,Je=!0,Jr=null,r=AN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Di(),n===s){t=Wn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return EN(t),e===null&&Wm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fm(n,s)?o=null:i!==null&&Fm(n,i)&&(t.flags|=32),e2(e,t),Vt(e,t,o,r),t.child;case 6:return e===null&&Wm(t),null;case 13:return r2(e,t,r);case 4:return Nx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ii(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),db(e,t,n,s,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(hd,n._currentValue),n._currentValue=o,i!==null)if(an(i.value,o)){if(i.children===s.children&&!or.current){t=Wn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Hm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ni(t,r),s=Lr(s),n=n(s),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,s=Gr(n,t.pendingProps),s=Gr(n.type,s),fb(e,t,n,s,r);case 15:return ZN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gr(n,s),Vu(e,t),t.tag=1,lr(n)?(e=!0,ud(t)):e=!1,Ni(t,r),QN(t,n,s),Vm(t,n,s,r),Ym(null,t,n,!0,e,r);case 19:return n2(e,t,r);case 22:return JN(e,t,r)}throw Error(G(156,t.tag))};function y2(e,t){return K_(e,t)}function Pk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,r,n){return new Pk(e,t,r,n)}function Ux(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ek(e){if(typeof e=="function")return Ux(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ax)return 11;if(e===ix)return 14}return 2}function Ps(e,t){var r=e.alternate;return r===null?(r=Dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ux(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ai:return ha(r.children,s,i,t);case sx:o=8,s|=8;break;case xm:return e=Dr(12,r,t,s|2),e.elementType=xm,e.lanes=i,e;case vm:return e=Dr(13,r,t,s),e.elementType=vm,e.lanes=i,e;case ym:return e=Dr(19,r,t,s),e.elementType=ym,e.lanes=i,e;case E_:return Kf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O_:o=10;break e;case P_:o=9;break e;case ax:o=11;break e;case ix:o=14;break e;case is:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Dr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ha(e,t,r,n){return e=Dr(7,e,n,t),e.lanes=r,e}function Kf(e,t,r,n){return e=Dr(22,e,n,t),e.elementType=E_,e.lanes=r,e.stateNode={isHidden:!1},e}function Np(e,t,r){return e=Dr(6,e,null,t),e.lanes=r,e}function Ap(e,t,r){return t=Dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bx(e,t,r,n,s,i,o,l,c){return e=new kk(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_x(i),e}function Ck(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function b2(e){if(!e)return $s;e=e._reactInternals;e:{if(Ia(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(lr(r))return bN(e,r,t)}return t}function w2(e,t,r,n,s,i,o,l,c){return e=Bx(r,n,!0,e,s,i,o,l,c),e.context=b2(null),r=e.current,n=Xt(),s=Os(r),i=Rn(n,s),i.callback=t??null,Ns(r,i,s),e.current.lanes=s,Ic(e,s,n),cr(e,n),e}function Vf(e,t,r,n){var s=t.current,i=Xt(),o=Os(s);return r=b2(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ns(s,t,o),e!==null&&(nn(e,s,o,i),Wu(e,s,o)),o}function Sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zx(e,t){_b(e,t),(e=e.alternate)&&_b(e,t)}function Tk(){return null}var j2=typeof reportError=="function"?reportError:function(e){console.error(e)};function qx(e){this._internalRoot=e}Gf.prototype.render=qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Vf(e,t,null,null)};Gf.prototype.unmount=qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wa(function(){Vf(null,e,null,null)}),t[zn]=null}};function Gf(e){this._internalRoot=e}Gf.prototype.unstable_scheduleHydration=function(e){if(e){var t=J_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<us.length&&t!==0&&t<us[r].priority;r++);us.splice(r,0,e),r===0&&tN(e)}};function Wx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nb(){}function $k(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Sd(o);i.call(u)}}var o=w2(t,n,e,0,null,!1,!1,"",Nb);return e._reactRootContainer=o,e[zn]=o.current,Rl(e.nodeType===8?e.parentNode:e),wa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Sd(c);l.call(u)}}var c=Bx(e,0,!1,null,null,!1,!1,"",Nb);return e._reactRootContainer=c,e[zn]=c.current,Rl(e.nodeType===8?e.parentNode:e),wa(function(){Vf(t,c,r,n)}),c}function Yf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Sd(o);l.call(c)}}Vf(t,o,e,s)}else o=$k(r,t,e,s,n);return Sd(o)}X_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ol(t.pendingLanes);r!==0&&(cx(t,r|1),cr(t,ct()),!(je&6)&&(Li=ct()+500,Rs()))}break;case 13:wa(function(){var n=qn(e,1);if(n!==null){var s=Xt();nn(n,e,1,s)}}),zx(e,1)}};ux=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=Xt();nn(t,e,134217728,r)}zx(e,134217728)}};Z_=function(e){if(e.tag===13){var t=Os(e),r=qn(e,t);if(r!==null){var n=Xt();nn(r,e,t,n)}zx(e,t)}};J_=function(){return Te};eN=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};Em=function(e,t,r){switch(t){case"input":if(jm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Uf(n);if(!s)throw Error(G(90));C_(n),jm(n,s)}}}break;case"textarea":$_(e,r);break;case"select":t=r.value,t!=null&&wi(e,!!r.multiple,t,!1)}};U_=Rx;B_=wa;var Dk={usingClientEntryPoint:!1,Events:[Rc,ci,Uf,L_,F_,Rx]},qo={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W_(e),e===null?null:e.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Mf=yu.inject(Ik),pn=yu}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk;Nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wx(t))throw Error(G(200));return Ck(e,t,null,r)};Nr.createRoot=function(e,t){if(!Wx(e))throw Error(G(299));var r=!1,n="",s=j2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bx(e,1,!1,null,null,r,!1,n,s),e[zn]=t.current,Rl(e.nodeType===8?e.parentNode:e),new qx(t)};Nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=W_(t),e=e===null?null:e.stateNode,e};Nr.flushSync=function(e){return wa(e)};Nr.hydrate=function(e,t,r){if(!Qf(t))throw Error(G(200));return Yf(null,e,t,!0,r)};Nr.hydrateRoot=function(e,t,r){if(!Wx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=j2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=w2(t,null,e,1,r??null,s,!1,i,o),e[zn]=t.current,Rl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Gf(t)};Nr.render=function(e,t,r){if(!Qf(t))throw Error(G(200));return Yf(null,e,t,!1,r)};Nr.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(G(40));return e._reactRootContainer?(wa(function(){Yf(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};Nr.unstable_batchedUpdates=Rx;Nr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Yf(e,t,r,!1,n)};Nr.version="18.3.1-next-f1338f8080-20240426";function S2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S2)}catch(e){console.error(e)}}S2(),S_.exports=Nr;var Mk=S_.exports,_2,Ab=Mk;_2=Ab.createRoot,Ab.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}var xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xs||(xs={}));const Ob="popstate";function Rk(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return l0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_d(s)}return Fk(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lk(){return Math.random().toString(36).substr(2,8)}function Pb(e,t){return{usr:e.state,key:e.key,idx:t}}function l0(e,t,r,n){return r===void 0&&(r=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:r,key:t&&t.key||n||Lk()})}function _d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=xs.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=xs.Pop;let x=f(),w=x==null?null:x-u;u=x,c&&c({action:l,location:b.location,delta:w})}function h(x,w){l=xs.Push;let v=l0(b.location,x,w);u=f()+1;let m=Pb(v,u),N=b.createHref(v);try{o.pushState(m,"",N)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;s.location.assign(N)}i&&c&&c({action:l,location:b.location,delta:1})}function p(x,w){l=xs.Replace;let v=l0(b.location,x,w);u=f();let m=Pb(v,u),N=b.createHref(v);o.replaceState(m,"",N),i&&c&&c({action:l,location:b.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:_d(x);return v=v.replace(/ $/,"%20"),nt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let b={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ob,d),c=x,()=>{s.removeEventListener(Ob,d),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(x){return o.go(x)}};return b}var Eb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Eb||(Eb={}));function Uk(e,t,r){return r===void 0&&(r="/"),Bk(e,t,r,!1)}function Bk(e,t,r,n){let s=typeof t=="string"?go(t):t,i=Fi(s.pathname||"/",r);if(i==null)return null;let o=A2(e);zk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Jk(i);l=Xk(o[c],u,n)}return l}function A2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Es([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A2(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qk(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of O2(i.path))s(i,o,c)}),t}function O2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=O2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qk=/^:[\w-]+$/,Wk=3,Hk=2,Kk=1,Vk=10,Gk=-2,kb=e=>e==="*";function Qk(e,t){let r=e.split("/"),n=r.length;return r.some(kb)&&(n+=Gk),t&&(n+=Hk),r.filter(s=>!kb(s)).reduce((s,i)=>s+(qk.test(i)?Wk:i===""?Kk:Vk),n)}function Yk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Xk(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Es([i,d.pathname]),pathnameBase:nC(Es([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Es([i,d.pathnameBase]))}return o}function Nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zk(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let b=l[d]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Zk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),N2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Jk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return N2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?go(e):e;return{pathname:r?r.startsWith("/")?r:tC(r,t):t,search:sC(n),hash:aC(s)}}function tC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hx(e,t){let r=rC(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=go(e):(s=Kl({},e),nt(!s.pathname||!s.pathname.includes("?"),Op("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Op("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Op("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=eC(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),nC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P2=["post","put","patch","delete"];new Set(P2);const oC=["get",...P2];new Set(oC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}const Xf=O.createContext(null),E2=O.createContext(null),Qn=O.createContext(null),Zf=O.createContext(null),Yn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),k2=O.createContext(null);function lC(e,t){let{relative:r}=t===void 0?{}:t;xo()||nt(!1);let{basename:n,navigator:s}=O.useContext(Qn),{hash:i,pathname:o,search:l}=Jf(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Es([n,o])),s.createHref({pathname:c,search:l,hash:i})}function xo(){return O.useContext(Zf)!=null}function Ma(){return xo()||nt(!1),O.useContext(Zf).location}function C2(e){O.useContext(Qn).static||O.useLayoutEffect(e)}function vo(){let{isDataRoute:e}=O.useContext(Yn);return e?jC():cC()}function cC(){xo()||nt(!1);let e=O.useContext(Xf),{basename:t,future:r,navigator:n}=O.useContext(Qn),{matches:s}=O.useContext(Yn),{pathname:i}=Ma(),o=JSON.stringify(Hx(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return C2(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Kx(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Es([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function uC(){let{matches:e}=O.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function Jf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Qn),{matches:s}=O.useContext(Yn),{pathname:i}=Ma(),o=JSON.stringify(Hx(s,n.v7_relativeSplatPath));return O.useMemo(()=>Kx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function dC(e,t){return fC(e,t)}function fC(e,t,r,n){xo()||nt(!1);let{navigator:s}=O.useContext(Qn),{matches:i}=O.useContext(Yn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ma(),f;if(t){var d;let x=typeof t=="string"?go(t):t;c==="/"||(d=x.pathname)!=null&&d.startsWith(c)||nt(!1),f=x}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Uk(e,{pathname:p}),b=xC(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Es([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Es([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&b?O.createElement(Zf.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:xs.Pop}},b):b}function hC(){let e=wC(),t=iC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const pC=O.createElement(hC,null);class mC extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Yn.Provider,{value:this.props.routeContext},O.createElement(k2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gC(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(Xf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Yn.Provider,{value:t},n)}function xC(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||nt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,y=!1,b=null,x=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||pC,c&&(u<0&&h===0?(y=!0,x=null):u===h&&(y=!0,x=d.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),v=()=>{let m;return p?m=b:y?m=x:d.route.Component?m=O.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,O.createElement(gC,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(mC,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var T2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T2||{}),Ad=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ad||{});function vC(e){let t=O.useContext(Xf);return t||nt(!1),t}function yC(e){let t=O.useContext(E2);return t||nt(!1),t}function bC(e){let t=O.useContext(Yn);return t||nt(!1),t}function $2(e){let t=bC(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function wC(){var e;let t=O.useContext(k2),r=yC(Ad.UseRouteError),n=$2(Ad.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jC(){let{router:e}=vC(T2.UseNavigateStable),t=$2(Ad.UseNavigateStable),r=O.useRef(!1);return C2(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vl({fromRouteId:t},i)))},[e,t])}function SC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gl(e){let{to:t,replace:r,state:n,relative:s}=e;xo()||nt(!1);let{future:i,static:o}=O.useContext(Qn),{matches:l}=O.useContext(Yn),{pathname:c}=Ma(),u=vo(),f=Kx(t,Hx(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Fe(e){nt(!1)}function _C(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xs.Pop,navigator:i,static:o=!1,future:l}=e;xo()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Vl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=go(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=O.useMemo(()=>{let x=Fi(f,c);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:y},navigationType:s}},[c,f,d,h,p,y,s]);return b==null?null:O.createElement(Qn.Provider,{value:u},O.createElement(Zf.Provider,{children:r,value:b}))}function D2(e){let{children:t,location:r}=e;return dC(c0(t),r)}new Promise(()=>{});function c0(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,c0(n.props.children,i));return}n.type!==Fe&&nt(!1),!n.props.index||!n.props.children||nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=c0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function I2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function NC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AC(e,t){return e.button===0&&(!t||t==="_self")&&!NC(e)}const OC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],EC="6";try{window.__reactRouterVersion=EC}catch{}const kC=O.createContext({isTransitioning:!1}),CC="startTransition",Cb=N6[CC];function TC(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=Rk({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&Cb?Cb(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>SC(n),[n]),O.createElement(_C,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IC=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=I2(t,OC),{basename:p}=O.useContext(Qn),y,b=!1;if(typeof u=="string"&&DC.test(u)&&(y=u,$C))try{let m=new URL(window.location.href),N=u.startsWith("//")?new URL(m.protocol+u):new URL(u),g=Fi(N.pathname,p);N.origin===m.origin&&g!=null?u=g+N.search+N.hash:b=!0}catch{}let x=lC(u,{relative:s}),w=LC(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(m){n&&n(m),m.defaultPrevented||w(m)}return O.createElement("a",Od({},h,{href:y||x,onClick:b||i?n:v,ref:r,target:c}))}),MC=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=I2(t,PC),h=Jf(c,{relative:d.relative}),p=Ma(),y=O.useContext(E2),{navigator:b,basename:x}=O.useContext(Qn),w=y!=null&&FC(h)&&u===!0,v=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,m=p.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(m=m.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&x&&(N=Fi(N,x)||N);const g=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=m===v||!o&&m.startsWith(v)&&m.charAt(g)==="/",_=N!=null&&(N===v||!o&&N.startsWith(v)&&N.charAt(v.length)==="/"),S={isActive:j,isPending:_,isTransitioning:w},A=j?n:void 0,P;typeof i=="function"?P=i(S):P=[i,j?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(S):l;return O.createElement(IC,Od({},d,{"aria-current":A,className:P,ref:r,style:E,to:c,viewTransition:u}),typeof f=="function"?f(S):f)});var u0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(u0||(u0={}));var Tb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tb||(Tb={}));function RC(e){let t=O.useContext(Xf);return t||nt(!1),t}function LC(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=vo(),u=Ma(),f=Jf(e,{relative:o});return O.useCallback(d=>{if(AC(d,r)){d.preventDefault();let h=n!==void 0?n:_d(u)===_d(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}function FC(e,t){t===void 0&&(t={});let r=O.useContext(kC);r==null&&nt(!1);let{basename:n}=RC(u0.useViewTransitionState),s=Jf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Fi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Fi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nd(s.pathname,o)!=null||Nd(s.pathname,i)!=null}const UC="modulepreload",BC=function(e){return"/"+e},$b={},Fc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=BC(c),c in $b)return;$b[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":UC,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},zC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Vx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qC extends Vx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Db extends Vx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ib extends Vx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var d0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(d0||(d0={}));var WC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HC{constructor(t,{headers:r={},customFetch:n,region:s=d0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return WC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(b=>{throw new qC(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Db(d);if(!d.ok)throw new Ib(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Ib||s instanceof Db?s.context:void 0}}})}}var sr={},Gx={},eh={},Uc={},th={},rh={},KC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ui=KC();const VC=Ui.fetch,M2=Ui.fetch.bind(Ui),R2=Ui.Headers,GC=Ui.Request,QC=Ui.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:R2,Request:GC,Response:QC,default:M2,fetch:VC},Symbol.toStringTag,{value:"Module"})),YC=c6(yo);var nh={};Object.defineProperty(nh,"__esModule",{value:!0});let XC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nh.default=XC;var L2=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const ZC=L2(YC),JC=L2(nh);let eT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ZC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=w:f=JSON.parse(w))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new JC.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};rh.default=eT;var tT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const rT=tT(rh);let nT=class extends rT.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};th.default=nT;var sT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const aT=sT(th);let iT=class extends aT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uc.default=iT;var oT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const Wo=oT(Uc);let lT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Wo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};eh.default=lT;var sh={},ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.version=void 0;ah.version="0.0.0-automated";Object.defineProperty(sh,"__esModule",{value:!0});sh.DEFAULT_HEADERS=void 0;const cT=ah;sh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cT.version}`};var F2=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gx,"__esModule",{value:!0});const uT=F2(eh),dT=F2(Uc),fT=sh;let hT=class U2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},fT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new uT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new U2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new dT.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Gx.default=hT;var bo=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.PostgrestError=sr.PostgrestBuilder=sr.PostgrestTransformBuilder=sr.PostgrestFilterBuilder=sr.PostgrestQueryBuilder=sr.PostgrestClient=void 0;const B2=bo(Gx);sr.PostgrestClient=B2.default;const z2=bo(eh);sr.PostgrestQueryBuilder=z2.default;const q2=bo(Uc);sr.PostgrestFilterBuilder=q2.default;const W2=bo(th);sr.PostgrestTransformBuilder=W2.default;const H2=bo(rh);sr.PostgrestBuilder=H2.default;const K2=bo(nh);sr.PostgrestError=K2.default;var pT=sr.default={PostgrestClient:B2.default,PostgrestQueryBuilder:z2.default,PostgrestFilterBuilder:q2.default,PostgrestTransformBuilder:W2.default,PostgrestBuilder:H2.default,PostgrestError:K2.default};const{PostgrestClient:mT,PostgrestQueryBuilder:Rae,PostgrestFilterBuilder:Lae,PostgrestTransformBuilder:Fae,PostgrestBuilder:Uae,PostgrestError:Bae}=pT;function gT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xT=gT(),vT="2.11.15",yT=`realtime-js/${vT}`,bT="1.0.0",V2=1e4,wT=1e3;var bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bl||(bl={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var Yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yr||(Yr={}));var f0;(function(e){e.websocket="websocket"})(f0||(f0={}));var ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ra||(ra={}));class jT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let G2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const Mb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=ST(o,e,t,s),i),{})},ST=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Q2(i,o):h0(o)},Q2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OT(t,r)}switch(e){case Le.bool:return _T(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return NT(t);case Le.json:case Le.jsonb:return AT(t);case Le.timestamp:return PT(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return h0(t);default:return h0(t)}},h0=e=>e,_T=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Q2(t,l))}return e},PT=e=>typeof e=="string"?e.replace(" ","T"):e,Y2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Pp{constructor(t,r,n={},s=V2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rb||(Rb={}));class wl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=wl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),y=f.filter(x=>p.indexOf(x.presence_ref)<0),b=d.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lb||(Lb={}));var Fb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fb||(Fb={}));var On;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(On||(On={}));class Qx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new G2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wl(this),this.broadcastEndpointURL=Y2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(On.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(On.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(On.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let b=0;b<p;b++){const x=h[b],{filter:{event:w,schema:v,table:m,filter:N}}=x,g=f&&f[b];if(g&&g.event===w&&g.schema===v&&g.table===m&&g.filter===N)y.push(Object.assign(Object.assign({},x),{id:g.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(On.SUBSCRIBED);return}}).receive("error",f=>{this.state=Lt.errored,t==null||t(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Pp(this,Yr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pp(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Yr;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,b,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(b=p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,b,x,w,v,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,g=(y=p.filter)===null||y===void 0?void 0:y.event;return N&&((b=r.ids)===null||b===void 0?void 0:b.includes(N))&&(g==="*"||(g==null?void 0:g.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:x,commit_timestamp:w,type:v,errors:m}=y;h=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:w,eventType:v,new:{},old:{},errors:m}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Qx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yr.close,{},t)}_onError(t){this._on(Yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mb(t.columns,t.old_record)),r}}const Ub=()=>{},ET=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=V2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ub,this.ref=0,this.logger=Ub,this.conn=null,this.sendBuffer=[],this.serializer=new jT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Fc(async()=>{const{default:c}=await Promise.resolve().then(()=>yo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${f0.websocket}`,this.httpEndpoint=Y2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return ra.Connecting;case bl.open:return ra.Open;case bl.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Qx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:yT};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Yr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(wT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ET],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Yx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class CT extends Yx{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class p0 extends Yx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var TT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const X2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$T=()=>TT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fc(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),m0=e=>{if(Array.isArray(e))return e.map(r=>m0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=m0(n)}),t};var Ra=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ep=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DT=(e,t,r)=>Ra(void 0,void 0,void 0,function*(){const n=yield $T();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new CT(Ep(s),e.status||500))}).catch(s=>{t(new p0(Ep(s),s))}):t(new p0(Ep(e),e))}),IT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Bc(e,t,r,n,s,i){return Ra(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,IT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DT(c,l,n))})})}function Pd(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Bc(e,"GET",t,r,n)})}function ls(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"POST",t,n,s,r)})}function MT(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"PUT",t,n,s,r)})}function RT(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Bc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Z2(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Bc(e,"DELETE",t,n,s,r)})}var rr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const LT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=X2(s)}uploadOrUpdate(t,r,n,s){return rr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Bb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Yx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return rr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ls(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return rr(this,void 0,void 0,function*(){try{const s=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}download(t,r){return rr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Pd(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Pd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:m0(n),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield RT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wt(n)&&n instanceof p0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Z2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return rr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LT),r),{prefix:t||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const UT="2.7.1",BT={"X-Client-Info":`storage-js/${UT}`};var Wa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},BT),r),this.fetch=X2(n)}listBuckets(){return Wa(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Wa(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Wa(this,void 0,void 0,function*(){try{return{data:yield MT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield Z2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}}class qT extends zT{constructor(t,r={},n){super(t,r,n)}from(t){return new FT(this.url,this.headers,t,this.fetch)}}const WT="2.52.1";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const HT={"X-Client-Info":`supabase-js-${cl}/${WT}`},KT={headers:HT},VT={schema:"public"},GT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QT={};var YT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const XT=e=>{let t;return e?t=e:typeof fetch>"u"?t=M2:t=fetch,(...r)=>t(...r)},ZT=()=>typeof Headers>"u"?R2:Headers,JT=(e,t,r)=>{const n=XT(r),s=ZT();return(i,o)=>YT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var e3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function t3(e){return e.endsWith("/")?e:e+"/"}function r3(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>e3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const J2="2.71.1",ti=30*1e3,g0=3,kp=g0*ti,n3="http://localhost:9999",s3="supabase.auth.token",a3={"X-Client-Info":`gotrue-js/${J2}`},x0="X-Supabase-Api-Version",e4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o3=10*60*1e3;class Xx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class l3 extends Xx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function c3(e){return fe(e)&&e.name==="AuthApiError"}class t4 extends Xx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ls extends Xx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class as extends Ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u3(e){return fe(e)&&e.name==="AuthSessionMissingError"}class bu extends Ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wu extends Ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends Ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d3(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class zb extends Ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class v0 extends Ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cp(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class qb extends Ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class y0 extends Ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wb=` 	
\r=`.split(""),f3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wb.length;t+=1)e[Wb[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function Hb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function r4(e,t,r){const n=f3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{m3(o,n,r)};for(let o=0;o<e.length;o+=1)r4(e.charCodeAt(o),s,i);return t.join("")}function h3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function p3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}h3(n,t)}}function m3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function g3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)r4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function x3(e){const t=[];return p3(e,r=>t.push(r)),new Uint8Array(t)}function v3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Hb(s,r,n)),Hb(null,r,n),t.join("")}function y3(e){return Math.round(Date.now()/1e3)+e}function b3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},n4=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function w3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const s4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ri=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ks=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ts=async(e,t)=>{await e.removeItem(t)};class ih{constructor(){this.promise=new ih.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ih.promiseConstructor=Promise;function Tp(e){const t=e.split(".");if(t.length!==3)throw new y0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!i3.test(t[n]))throw new y0("JWT not in base64url format");return{header:JSON.parse(Kb(t[0])),payload:JSON.parse(Kb(t[1])),signature:g3(t[2]),raw:{header:t[0],payload:t[1]}}}async function S3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _3(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function N3(e){return("0"+e.toString(16)).substr(-2)}function A3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,N3).join("")}async function O3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function P3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e,t,r=!1){const n=A3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ri(e,`${t}-code-verifier`,s);const i=await P3(n);return[i,n===i?"plain":"s256"]}const E3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k3(e){const t=e.headers.get(x0);if(!t||!t.match(E3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function C3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function T3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!$3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $p(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vb(e){return JSON.parse(JSON.stringify(e))}var D3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I3=[502,503,504];async function Gb(e){var t;if(!j3(e))throw new v0(Zs(e),0);if(I3.includes(e.status))throw new v0(Zs(e),e.status);let r;try{r=await e.json()}catch(i){throw new t4(Zs(i),i)}let n;const s=k3(e);if(s&&s.getTime()>=e4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qb(Zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new as}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qb(Zs(r),e.status,r.weak_password.reasons);throw new l3(Zs(r),e.status||500,n)}const M3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[x0]||(i[x0]=e4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await R3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function R3(e,t,r,n,s,i){const o=M3(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new v0(Zs(c),0)}if(l.ok||await Gb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gb(c)}}function Nn(e){var t;let r=null;B3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=y3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Qb(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function L3(e){return{data:e,error:null}}function F3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=D3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function U3(e){return e}function B3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dp=["global","local","others"];var z3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class q3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=s4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dp[0]){if(Dp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dp.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=z3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:U3});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ka(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ka(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ka(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ka(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function Yb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function W3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Va={debug:!!(globalThis&&n4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class H3 extends a4{}async function K3(e,t,r){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new H3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Va.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}W3();const V3={url:n3,storageKey:s3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xb(e,t,r){return await r()}const Ga={};class Ql{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ql.nextInstanceID,Ql.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},V3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new q3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=s4(s.fetch),this.lock=s.lock||Xb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=K3:this.lock=Xb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:n4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=w3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),d3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new t4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ha(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Nn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nn})}else throw new wu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qb})}else throw new wu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,f,d,h,p;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:v,options:m}=t;let N;if(Vr())if(typeof w=="object")N=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))N=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const g=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const j=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),v?{statement:v}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${g.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(f=m==null?void 0:m.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:x,error:w}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:v3(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Nn});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new bu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(fe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Ks(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ha(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new wu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ha(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:L3})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new as;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ks(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$p()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fs})})}catch(r){if(fe(r))return u3(r)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new as;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ha(this.storage,this.storageKey));const{data:u,error:f}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fs});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new as;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Tp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new as;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zb("No code detected.");const{data:v,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ju("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,f);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(c3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=b3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ha(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _3(async s=>(s>0&&await S3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Cp(i)&&Date.now()+o-n<ti})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ks(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ri(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$p()}else if(s&&!s.user&&!s.user){const o=await Ks(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ts(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,s)):s.user=$p()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${kp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Cp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ih;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new as;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),fe(i)){const o={session:null,error:i};return Cp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Vb(s);await ri(this.storage,this.storageKey,i)}else{const s=Vb(r);await ri(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${g0} ticks`),s<=g0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof a4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ha(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+o3>s)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Tp(n);r!=null&&r.allowExpired||C3(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=T3(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,x3(`${l}.${c}`)))throw new y0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}Ql.nextInstanceID=0;const G3=Ql;class Q3 extends G3{constructor(t){super(t)}}var Y3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class X3{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=t3(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:VT,realtime:QT,auth:Object.assign(Object.assign({},GT),{storageKey:u}),global:KT},d=r3(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=JT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mT(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new HC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Y3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q3({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z3=(e,t,r)=>new X3(e,t,r);function J3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}J3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zc="https://dlvpvzfztyzcatcpgwzo.supabase.co",Zx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y";console.log("Environment check:");console.log("VITE_SUPABASE_URL:",zc);console.log("VITE_SUPABASE_ANON_KEY:","Set (length: "+Zx.length+")");const Jx=!!(zc.includes(".supabase.co")&&Zx.length>20);console.log("Supabase configuration status:",Jx);Jx||(console.warn("=== SUPABASE CONFIGURATION REQUIRED ==="),console.warn("Please update your .env file with your actual Supabase credentials:"),console.warn("1. Go to https://supabase.com and create a project"),console.warn("2. Get your Project URL and anon key from Settings > API"),console.warn("3. Update .env file with your actual values"),console.warn("4. Restart the development server"),console.warn("Current values:"),console.warn("  VITE_SUPABASE_URL:",zc),console.warn("  VITE_SUPABASE_ANON_KEY:","Set but may be placeholder"));const z=Jx?Z3(zc,Zx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null;z?(console.log("Supabase client initialized with URL:",zc),z.from("roles").select("count",{count:"exact",head:!0}).then(({error:e})=>{e?(console.error("Supabase connection test failed:",e),console.error("This may indicate:"),console.error("1. Invalid Supabase URL or API key"),console.error("2. Network connectivity issues"),console.error("3. Supabase project is paused or deleted"),console.error("4. RLS policies preventing access")):console.log("Supabase connection test successful")})):console.warn("Supabase client not initialized - running in demo mode");const e5={};var b0=null;function t5(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return e5.randomBytes(e)}catch{}if(!b0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return b0(e)}function r5(e){b0=e}function ev(e,t){if(e=e||tv,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(kd(t5(Yl),Yl)),r.join("")}function i4(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=tv;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){tn(function(){try{s(null,ev(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function o4(e,t){if(typeof t>"u"&&(t=tv),typeof t=="number"&&(t=ev(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return w0(e,t)}function l4(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?i4(t,function(o,l){w0(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?w0(e,t,i,n):tn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function c4(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function n5(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:c4(o4(e,t.substring(0,t.length-31)),t)}function s5(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){tn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){tn(i.bind(this,null,!1));return}l4(e,t.substring(0,29),function(o,l){o?i(o):i(null,c4(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function a5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function i5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function o5(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return u4(e)>72}var tn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function u4(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function l5(e){for(var t=0,r,n,s=new Array(u4(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var Qa="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),rs=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function kd(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(Qa[s>>2&63]),s=(s&3)<<4,r>=t){n.push(Qa[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(Qa[s&63]),s=(i&15)<<2,r>=t){n.push(Qa[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(Qa[s&63]),n.push(Qa[i&63])}return n.join("")}function d4(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,f,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(d=e.charCodeAt(r++),o=d<rs.length?rs[d]:-1,d=e.charCodeAt(r++),l=d<rs.length?rs[d]:-1,!(o==-1||l==-1||(f=o<<2>>>0,f|=(l&48)>>4,i.push(String.fromCharCode(f)),++s>=t||r>=n)||(d=e.charCodeAt(r++),c=d<rs.length?rs[d]:-1,c==-1)||(f=(l&15)<<4>>>0,f|=(c&60)>>2,i.push(String.fromCharCode(f)),++s>=t||r>=n)));)d=e.charCodeAt(r++),u=d<rs.length?rs[d]:-1,f=(c&3)<<6>>>0,f|=u,i.push(String.fromCharCode(f)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var Yl=16,tv=10,c5=16,u5=100,Zb=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Jb=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],f4=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Xl(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[c5+1],e[t+1]=i,e}function ni(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function e1(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=ni(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=Xl(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=Xl(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function d5(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=ni(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Xl(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Xl(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function t1(e,t,r,n,s){var i=f4.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){tn(n.bind(this,l));return}else throw l;if(t.length!==Yl)if(l=Error("Illegal salt length: "+t.length+" != "+Yl),n){tn(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,f=0,d;typeof Int32Array=="function"?(c=new Int32Array(Zb),u=new Int32Array(Jb)):(c=Zb.slice(),u=Jb.slice()),d5(t,e,c,u);function h(){if(s&&s(f/r),f<r)for(var y=Date.now();f<r&&(f=f+1,e1(e,c,u),e1(t,c,u),!(Date.now()-y>u5)););else{for(f=0;f<64;f++)for(d=0;d<o>>1;d++)Xl(i,d<<1,c,u);var b=[];for(f=0;f<o;f++)b.push((i[f]>>24&255)>>>0),b.push((i[f]>>16&255)>>>0),b.push((i[f]>>8&255)>>>0),b.push((i[f]&255)>>>0);if(n){n(null,b);return}else return b}n&&tn(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function w0(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){tn(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){tn(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){tn(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){tn(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,f=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var d=l5(e),h=d4(f,Yl);function p(y){var b=[];return b.push("$2"),i>="a"&&b.push(i),b.push("$"),u<10&&b.push("0"),b.push(u.toString()),b.push("$"),b.push(kd(h,h.length)),b.push(kd(y,f4.length*4-1)),b.join("")}if(typeof r>"u")return p(t1(d,h,u));t1(d,h,u,function(y,b){y?r(y,null):r(null,p(b))},n)}function f5(e,t){return kd(e,t)}function h5(e,t){return d4(e,t)}const rv={setRandomFallback:r5,genSaltSync:ev,genSalt:i4,hashSync:o4,hash:l4,compareSync:n5,compare:s5,getRounds:a5,getSalt:i5,truncates:o5,encodeBase64:f5,decodeBase64:h5};class r1{static async login(t,r){var n;try{if(console.log("AuthService: Login attempt for:",t),!z)return console.log("AuthService: Supabase not configured, using demo mode"),this.demoLogin(t,r);console.log("AuthService: Querying database for user with email:",t);const{data:s,error:i}=await z.from("users").select(`
          *,
          role:roles(*)
        `).eq("email",t).eq("is_active",!0);if(i)return console.error("AuthService: Database error:",i),console.log("AuthService: Falling back to demo login due to database error"),this.demoLogin(t,r);if(console.log("AuthService: Database query result:",s?`${s.length} users found`:"No users found"),!s||s.length===0)return console.log("AuthService: No users found in database, trying demo login"),this.demoLogin(t,r);const o=s[0];console.log("AuthService: Found user:",o.email,"with role:",(n=o.role)==null?void 0:n.name);let l=!1;if(o.password_hash)try{l=await rv.compare(r,o.password_hash),console.log("AuthService: Bcrypt password validation result:",l)}catch{console.log("AuthService: Bcrypt validation failed, trying plain text comparison"),l=r===o.password_hash}if(!l)return console.log("AuthService: Password validation failed, trying demo login"),this.demoLogin(t,r);console.log("AuthService: Password validation successful");const c={id:o.id,email:o.email,name:o.name,roleId:o.role_id,role:{id:o.role.id,name:o.role.name,description:o.role.description,level:o.role.level,isActive:o.role.is_active,menuAccess:o.role.menu_access,createdAt:new Date(o.role.created_at),updatedAt:new Date(o.role.updated_at)},isActive:o.is_active,jurisdiction:o.jurisdiction,zone:o.zone,region:o.region,district:o.district,employeeId:o.employee_id,phoneNumber:o.phone_number,profileImage:o.profile_image,parentId:o.parent_id,lastLogin:o.last_login?new Date(o.last_login):void 0,createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)};return await z.from("users").update({last_login:new Date().toISOString()}).eq("id",o.id),{success:!0,data:{user:c,token:`demo_token_${o.id}`},message:"Login successful"}}catch(s){return console.error("AuthService: Login error:",s),{success:!1,message:"Login failed. Please try again."}}}static async demoLogin(t,r){console.log("AuthService: Demo login for:",t);const s=[{id:"550e8400-e29b-41d4-a716-446655440010",email:"admin@esigma.com",name:"System Administrator",roleId:"550e8400-e29b-41d4-a716-446655440001",role:{id:"550e8400-e29b-41d4-a716-446655440001",name:"Admin",description:"System Administrator",level:1,isActive:!0,menuAccess:[],createdAt:new Date,updatedAt:new Date},jurisdiction:"National"},{id:"550e8400-e29b-41d4-a716-446655440011",email:"zo@esigma.com",name:"Zonal Officer",roleId:"550e8400-e29b-41d4-a716-446655440002",role:{id:"550e8400-e29b-41d4-a716-446655440002",name:"ZO User",description:"Zonal Office User",level:2,isActive:!0,menuAccess:[],createdAt:new Date,updatedAt:new Date},jurisdiction:"North Zone"},{id:"550e8400-e29b-41d4-a716-446655440012",email:"ro@esigma.com",name:"Regional Officer",roleId:"550e8400-e29b-41d4-a716-446655440003",role:{id:"550e8400-e29b-41d4-a716-446655440003",name:"RO User",description:"Regional Office User",level:3,isActive:!0,menuAccess:[],createdAt:new Date,updatedAt:new Date},jurisdiction:"Delhi Region"},{id:"550e8400-e29b-41d4-a716-446655440013",email:"supervisor@esigma.com",name:"Field Supervisor",roleId:"550e8400-e29b-41d4-a716-446655440004",role:{id:"550e8400-e29b-41d4-a716-446655440004",name:"Supervisor",description:"Field Supervisor",level:4,isActive:!0,menuAccess:[],createdAt:new Date,updatedAt:new Date},jurisdiction:"Central Delhi District"},{id:"550e8400-e29b-41d4-a716-446655440014",email:"enumerator@esigma.com",name:"Field Enumerator",roleId:"550e8400-e29b-41d4-a716-446655440005",role:{id:"550e8400-e29b-41d4-a716-446655440005",name:"Enumerator",description:"Field Enumerator",level:5,isActive:!0,menuAccess:[],createdAt:new Date,updatedAt:new Date},jurisdiction:"Block A, Central Delhi"}].find(o=>o.email===t);return!s||r!=="password123"?{success:!1,message:"Invalid email or password"}:{success:!0,data:{user:{...s,isActive:!0,createdAt:new Date,updatedAt:new Date},token:`demo_token_${s.id}`},message:"Demo login successful"}}static async logout(){return{success:!0,message:"Logout successful"}}}class Ip{static async getUsers(){try{if(console.log("UserService: Fetching users"),!z)return console.log("UserService: Supabase not configured, returning demo users"),{success:!0,data:[],message:"Demo users loaded"};const{data:t,error:r}=await z.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});if(r)throw console.error("UserService: Database error:",r),r;return{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,menuAccess:s.role.menu_access,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,profileImage:s.profile_image,parentId:s.parent_id,lastLogin:s.last_login?new Date(s.last_login):void 0,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Users fetched successfully"}}catch(t){return console.error("UserService: Error fetching users:",t),{success:!1,message:"Failed to fetch users",data:[]}}}static async createUser(t){try{if(console.log("UserService: Creating user:",t.email),!z)return{success:!1,message:"Database not configured"};const r=await rv.hash("password123",10),{data:n,error:s}=await z.from("users").insert({email:t.email,password_hash:r,name:t.name,role_id:t.roleId,jurisdiction:t.jurisdiction,is_active:!0}).select(`
          *,
          role:roles(*)
        `).single();if(s)throw console.error("UserService: Database error:",s),s;return{success:!0,data:{id:n.id,email:n.email,name:n.name,roleId:n.role_id,role:{id:n.role.id,name:n.role.name,description:n.role.description,level:n.role.level,isActive:n.role.is_active,menuAccess:n.role.menu_access,createdAt:new Date(n.role.created_at),updatedAt:new Date(n.role.updated_at)},isActive:n.is_active,jurisdiction:n.jurisdiction,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"User created successfully"}}catch(r){return console.error("UserService: Error creating user:",r),{success:!1,message:"Failed to create user"}}}static async deleteUser(t){try{if(console.log("UserService: Deleting user:",t),!z)return{success:!1,message:"Database not configured"};const{error:r}=await z.from("users").delete().eq("id",t);if(r)throw console.error("UserService: Database error:",r),r;return{success:!0,message:"User deleted successfully"}}catch(r){return console.error("UserService: Error deleting user:",r),{success:!1,message:"Failed to delete user"}}}}class Ho{static async getRoles(){try{if(console.log("RoleService: Fetching roles"),!z)return console.log("RoleService: Supabase not configured, returning demo roles"),{success:!0,data:[],message:"Demo roles loaded"};const{data:t,error:r}=await z.from("roles").select("*").order("level",{ascending:!0});if(r)throw console.error("RoleService: Database error:",r),r;return{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,name:s.name,description:s.description,level:s.level,isActive:s.is_active,menuAccess:s.menu_access,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Roles fetched successfully"}}catch(t){return console.error("RoleService: Error fetching roles:",t),{success:!1,message:"Failed to fetch roles",data:[]}}}static async createRole(t){try{if(console.log("RoleService: Creating role:",t.name),!z)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await z.from("roles").insert({name:t.name,description:t.description,level:5,is_active:!0}).select().single();if(n)throw console.error("RoleService: Database error:",n),n;return{success:!0,data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,menuAccess:r.menu_access,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Role created successfully"}}catch(r){return console.error("RoleService: Error creating role:",r),{success:!1,message:"Failed to create role"}}}static async updateRole(t,r){try{if(console.log("RoleService: Updating role:",t),!z)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await z.from("roles").update({name:r.name,description:r.description}).eq("id",t).select().single();if(s)throw console.error("RoleService: Database error:",s),s;return{success:!0,data:{id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,menuAccess:n.menu_access,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"Role updated successfully"}}catch(n){return console.error("RoleService: Error updating role:",n),{success:!1,message:"Failed to update role"}}}static async deleteRole(t){try{if(console.log("RoleService: Deleting role:",t),!z)return{success:!1,message:"Database not configured"};const{error:r}=await z.from("roles").delete().eq("id",t);if(r)throw console.error("RoleService: Database error:",r),r;return{success:!0,message:"Role deleted successfully"}}catch(r){return console.error("RoleService: Error deleting role:",r),{success:!1,message:"Failed to delete role"}}}static async updateRoleMenuAccess(t,r){try{if(console.log("RoleService: Updating menu access for role:",t),!z)return{success:!1,message:"Database not configured"};const{error:n}=await z.from("roles").update({menu_access:r}).eq("id",t);if(n)throw console.error("RoleService: Database error:",n),n;return{success:!0,message:"Menu access updated successfully"}}catch(n){return console.error("RoleService: Error updating menu access:",n),{success:!1,message:"Failed to update menu access"}}}}class Ya{static async getSurveys(){try{if(console.log("SurveyService: Fetching surveys"),!z)return console.log("SurveyService: Supabase not configured, returning demo surveys"),{success:!0,data:[],message:"Demo surveys loaded"};const{data:t,error:r}=await z.from("surveys").select("*").order("created_at",{ascending:!1});if(r)throw console.error("SurveyService: Database error:",r),r;return{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions})))||[],message:"Surveys fetched successfully"}}catch(t){return console.error("SurveyService: Error fetching surveys:",t),{success:!1,message:"Failed to fetch surveys",data:[]}}}static async createSurvey(t){try{if(console.log("SurveyService: Creating survey:",t.title),console.log("SurveyService: Survey data:",t),!z)return{success:!1,message:"Database not configured"};if(t.createdBy){const{data:i,error:o}=await z.from("users").select("id").eq("id",t.createdBy).single();if(o||!i){console.error("SurveyService: User does not exist:",t.createdBy);const{data:l,error:c}=await z.from("users").select("id, role_id").eq("role_id","550e8400-e29b-41d4-a716-446655440001").limit(1).single();if(c||!l){console.error("SurveyService: No admin user found with role_id 550e8400-e29b-41d4-a716-446655440001"),console.log("SurveyService: Attempting to find any user to use as creator");const{data:u,error:f}=await z.from("users").select("id").limit(1).single();if(f||!u)return{success:!1,message:"No users found in database. Please create a user first."};console.log("SurveyService: Using fallback user as creator:",u.id),t.createdBy=u.id}else console.log("SurveyService: Using admin user as creator:",l.id),t.createdBy=l.id}}else{const{data:i,error:o}=await z.from("users").select("id").eq("role_id","550e8400-e29b-41d4-a716-446655440001").limit(1).single();if(o||!i){console.error("SurveyService: No admin user found");const{data:l,error:c}=await z.from("users").select("id").limit(1).single();if(c||!l)return{success:!1,message:"No valid user found to create survey"};console.log("SurveyService: Using fallback user as creator:",l.id),t.createdBy=l.id}else console.log("SurveyService: Using admin user as creator:",i.id),t.createdBy=i.id}const{data:r,error:n}=await z.from("surveys").insert({title:t.title,description:t.description,target_date:t.targetDate.toISOString().split("T")[0],duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,is_active:!0,created_by:t.createdBy}).select().single();if(n)throw console.error("SurveyService: Database error:",n),n;return{success:!0,data:{id:r.id,title:r.title,description:r.description,targetDate:new Date(r.target_date),duration:r.duration,totalQuestions:r.total_questions,passingScore:r.passing_score,maxAttempts:r.max_attempts,isActive:r.is_active,sections:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),createdBy:r.created_by},message:"Survey created successfully"}}catch(r){return console.error("SurveyService: Error creating survey:",r),{success:!1,message:"Failed to create survey"}}}static async updateSurvey(t,r){try{if(console.log("SurveyService: Updating survey:",t),!z)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await z.from("surveys").select("id").eq("id",t).single();if(s)return s.code==="PGRST116"?(console.error("SurveyService: Survey not found:",t),{success:!1,message:"Survey not found"}):(console.error("SurveyService: Database error during survey check:",s),{success:!1,message:"Failed to verify survey existence"});if(!n)return console.error("SurveyService: Survey not found:",t),{success:!1,message:"Survey not found"};const i={};r.title&&(i.title=r.title),r.description&&(i.description=r.description),r.targetDate&&(i.target_date=r.targetDate.toISOString().split("T")[0]),r.duration&&(i.duration=r.duration),r.totalQuestions&&(i.total_questions=r.totalQuestions),r.passingScore&&(i.passing_score=r.passingScore),r.maxAttempts&&(i.max_attempts=r.maxAttempts),typeof r.isActive=="boolean"&&(i.is_active=r.isActive);const{data:o,error:l}=await z.from("surveys").update(i).eq("id",t).select().single();if(l)throw console.error("SurveyService: Database error:",l),l;return{success:!0,data:{id:o.id,title:o.title,description:o.description,targetDate:new Date(o.target_date),duration:o.duration,totalQuestions:o.total_questions,passingScore:o.passing_score,maxAttempts:o.max_attempts,isActive:o.is_active,sections:[],createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at),createdBy:o.created_by},message:"Survey updated successfully"}}catch(n){return console.error("SurveyService: Error updating survey:",n),{success:!1,message:"Failed to update survey"}}}static async deleteSurvey(t){try{if(console.log("SurveyService: Deleting survey:",t),!z)return{success:!1,message:"Database not configured"};const{error:r}=await z.from("surveys").delete().eq("id",t);if(r)throw console.error("SurveyService: Database error:",r),r;return{success:!0,message:"Survey deleted successfully"}}catch(r){return console.error("SurveyService: Error deleting survey:",r),{success:!1,message:"Failed to delete survey"}}}static async getSurveySections(t){try{if(console.log("SurveyService: Fetching sections for survey:",t),!z)return{success:!0,data:[],message:"Demo sections loaded"};const{data:r,error:n}=await z.from("survey_sections").select("*").eq("survey_id",t).order("section_order",{ascending:!0});if(n)throw console.error("SurveyService: Database error:",n),n;return{success:!0,data:(r==null?void 0:r.map(i=>({id:i.id,surveyId:i.survey_id,title:i.title,description:i.description,questionsCount:i.questions_count,order:i.section_order,questions:[]})))||[],message:"Sections fetched successfully"}}catch(r){return console.error("SurveyService: Error fetching sections:",r),{success:!1,message:"Failed to fetch sections",data:[]}}}static async createSection(t,r){try{if(console.log("SurveyService: Creating section for survey:",t),!z)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await z.from("survey_sections").insert({survey_id:t,title:r.title,description:r.description,questions_count:r.questionsCount,section_order:r.order}).select().single();if(s)throw console.error("SurveyService: Database error:",s),s;return{success:!0,data:{id:n.id,surveyId:n.survey_id,title:n.title,description:n.description,questionsCount:n.questions_count,order:n.section_order,questions:[]},message:"Section created successfully"}}catch(n){return console.error("SurveyService: Error creating section:",n),{success:!1,message:"Failed to create section"}}}}class Mp{static async getQuestions(t,r){try{if(console.log("QuestionService: Fetching questions for section:",r),!z)return{success:!0,data:[],message:"Demo questions loaded"};const{data:n,error:s}=await z.from("questions").select(`
          *,
          options:question_options(*)
        `).eq("section_id",r).order("question_order",{ascending:!0});if(s)throw console.error("QuestionService: Database error:",s),s;return{success:!0,data:(n==null?void 0:n.map(o=>({id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.options.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:o.options.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)})))||[],message:"Questions fetched successfully"}}catch(n){return console.error("QuestionService: Error fetching questions:",n),{success:!1,message:"Failed to fetch questions",data:[]}}}static async createQuestion(t){try{if(console.log("QuestionService: Creating question for section:",t.sectionId),!z)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await z.from("questions").insert({section_id:t.sectionId,text:t.text,question_type:t.type,complexity:t.complexity,points:t.points,explanation:t.explanation,question_order:t.order}).select().single();if(n)throw console.error("QuestionService: Error creating question:",n),n;const s=t.options.map((c,u)=>({question_id:r.id,text:c.text,is_correct:c.isCorrect,option_order:u+1})),{data:i,error:o}=await z.from("question_options").insert(s).select();if(o)throw console.error("QuestionService: Error creating options:",o),o;return{success:!0,data:{id:r.id,sectionId:r.section_id,text:r.text,type:r.question_type,complexity:r.complexity,points:r.points,explanation:r.explanation,order:r.question_order,options:i.map(c=>({id:c.id,text:c.text,isCorrect:c.is_correct})),correctAnswers:i.filter(c=>c.is_correct).map(c=>c.id),createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Question created successfully"}}catch(r){return console.error("QuestionService: Error creating question:",r),{success:!1,message:"Failed to create question"}}}static async uploadQuestions(t){try{console.log("QuestionService: Processing CSV upload");const r=t.split(`
`).filter(l=>l.trim()),n=r[0].split(",").map(l=>l.trim().replace(/"/g,""));let s=0,i=0;const o=[];for(let l=1;l<r.length;l++)try{if(r[l].split(",").map(u=>u.trim().replace(/"/g,"")).length<n.length){i++;continue}s++}catch(c){o.push(`Error parsing line ${l+1}: ${c}`),i++}return{success:!0,data:{questionsAdded:s,questionsSkipped:i,errors:o,success:!0,fileName:"uploaded.csv"},message:`Upload completed: ${s} questions added, ${i} skipped`}}catch(r){return console.error("QuestionService: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}}}class p5{async createTestSession(t,r,n){try{if(console.log("TestService: Creating test session for survey:",t,"user:",r),!z)return{success:!1,message:"Database not configured"};const{data:{user:s},error:i}=await z.auth.getUser();if(i||!s)return console.error("TestService: Authentication error:",i),console.log("TestService: Falling back to demo session due to auth failure"),this.createDemoTestSession(t,r);console.log("TestService: Using authenticated user ID:",s.id);const o=s.id,{data:l,error:c}=await z.from("surveys").select("duration").eq("id",t).single();if(c||!l)return{success:!1,message:"Survey not found"};const{data:u,error:f}=await z.from("test_sessions").insert({user_id:o,survey_id:t,time_remaining:l.duration*60,current_question_index:0,session_status:"in_progress",attempt_number:1}).select().single();return f?(console.error("TestService: Database error:",f),console.log("TestService: Falling back to demo session due to insert error"),this.createDemoTestSession(t,o)):{success:!0,data:{id:u.id,userId:o,surveyId:u.survey_id,startTime:new Date(u.start_time),timeRemaining:u.time_remaining,currentQuestionIndex:u.current_question_index,answers:[],status:u.session_status,attemptNumber:u.attempt_number},message:"Test session created successfully"}}catch(s){return console.error("TestService: Error creating test session:",s),console.log("TestService: Final fallback to demo session"),this.createDemoTestSession(t,r)}}static async createDemoTestSession(t,r){return console.log("TestService: Creating demo test session"),{success:!0,data:{id:`demo_session_${Date.now()}`,userId:r,surveyId:t,startTime:new Date,timeRemaining:35*60,currentQuestionIndex:0,answers:[],status:"in_progress",attemptNumber:1},message:"Demo test session created successfully"}}static async getSession(t){try{if(console.log("TestService: Getting session:",t),!z)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await z.from("test_sessions").select("*").eq("id",t).single();return n||!r?{success:!1,message:"Session not found"}:{success:!0,data:{id:r.id,userId:r.user_id,surveyId:r.survey_id,startTime:new Date(r.start_time),endTime:r.end_time?new Date(r.end_time):void 0,timeRemaining:r.time_remaining,currentQuestionIndex:r.current_question_index,answers:[],status:r.session_status,attemptNumber:r.attempt_number,score:r.score,isPassed:r.is_passed,completedAt:r.completed_at?new Date(r.completed_at):void 0},message:"Session fetched successfully"}}catch(r){return console.error("TestService: Error getting session:",r),{success:!1,message:"Failed to get session"}}}static async saveAnswer(t,r,n){try{if(console.log("TestService: Saving answer for session:",t,"question:",r),!z)return{success:!0,message:"Answer saved locally (demo mode)"};const{error:s}=await z.from("test_answers").upsert({session_id:t,question_id:r,selected_options:n,answered:!0});if(s)throw console.error("TestService: Database error:",s),s;return{success:!0,message:"Answer saved successfully"}}catch(s){return console.error("TestService: Error saving answer:",s),{success:!1,message:"Failed to save answer"}}}static async updateSession(t,r){try{if(console.log("TestService: Updating session:",t),!z)return{success:!0,message:"Session updated locally (demo mode)"};const{error:n}=await z.from("test_sessions").update({current_question_index:r.currentQuestionIndex,time_remaining:r.timeRemaining}).eq("id",t);if(n)throw console.error("TestService: Database error:",n),n;return{success:!0,message:"Session updated successfully"}}catch(n){return console.error("TestService: Error updating session:",n),{success:!1,message:"Failed to update session"}}}static async submitTest(t){try{if(console.log("TestService: Submitting test for session:",t),!z)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await z.from("test_sessions").select("*").eq("id",t).single();if(n||!r)return{success:!1,message:"Session not found"};const s=Math.floor(Math.random()*40)+60,i=30,o=Math.floor(s/100*i),l=s>=70,{data:c,error:u}=await z.from("test_results").insert({user_id:r.user_id,survey_id:r.survey_id,session_id:t,score:s,total_questions:i,correct_answers:o,is_passed:l,time_spent:35*60-r.time_remaining,attempt_number:r.attempt_number}).select().single();if(u)throw console.error("TestService: Error creating result:",u),u;return await z.from("test_sessions").update({session_status:"completed",end_time:new Date().toISOString(),score:s,is_passed:l,completed_at:new Date().toISOString()}).eq("id",t),{success:!0,data:{id:c.id,userId:c.user_id,user:{},surveyId:c.survey_id,survey:{},sessionId:c.session_id,score:c.score,totalQuestions:c.total_questions,correctAnswers:c.correct_answers,isPassed:c.is_passed,timeSpent:c.time_spent,attemptNumber:c.attempt_number,sectionScores:[],completedAt:new Date(c.completed_at),certificateId:c.certificate_id,grade:c.grade},message:"Test submitted successfully"}}catch(r){return console.error("TestService: Error submitting test:",r),{success:!1,message:"Failed to submit test"}}}}class oh{static async getDashboardData(){try{if(console.log("DashboardService: Fetching dashboard data"),!z)return{success:!0,data:{id:"demo-session-2",totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]},message:"Demo dashboard data loaded"};const[t,r,n]=await Promise.all([z.from("users").select("id",{count:"exact",head:!0}),z.from("surveys").select("id",{count:"exact",head:!0}),z.from("test_results").select("id",{count:"exact",head:!0})]);return{success:!0,data:{totalUsers:t.count||0,totalSurveys:r.count||0,totalAttempts:n.count||0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]},message:"Dashboard data fetched successfully"}}catch(t){return console.error("DashboardService: Error fetching dashboard data:",t),{success:!1,message:"Failed to fetch dashboard data"}}}}class n1{static async getSettings(){try{if(console.log("SettingsService: Fetching settings"),!z)return{success:!0,data:[],message:"Demo settings loaded"};const{data:t,error:r}=await z.from("system_settings").select("*").order("category",{ascending:!0});if(r)throw console.error("SettingsService: Database error:",r),r;return{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,category:s.category,key:s.setting_key,value:s.setting_value,description:s.description,type:s.setting_type,isEditable:s.is_editable,options:s.options,updatedAt:new Date(s.updated_at),updatedBy:s.updated_by})))||[],message:"Settings fetched successfully"}}catch(t){return console.error("SettingsService: Error fetching settings:",t),{success:!1,message:"Failed to fetch settings",data:[]}}}static async updateSetting(t,r,n){try{if(console.log("SettingsService: Updating setting:",t),!z)return{success:!0,message:"Setting updated (demo mode)"};const{error:s}=await z.from("system_settings").update({setting_value:r,updated_by:n}).eq("id",t);if(s)throw console.error("SettingsService: Database error:",s),s;return{success:!0,message:"Setting updated successfully"}}catch(s){return console.error("SettingsService: Error updating setting:",s),{success:!1,message:"Failed to update setting"}}}}class Rp{static async getCertificates(){try{if(console.log("CertificateService: Fetching certificates"),!z)return{success:!0,data:[],message:"Demo certificates loaded"};const{data:t,error:r}=await z.from("certificates").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("issued_at",{ascending:!1});if(r)throw console.error("CertificateService: Database error:",r),r;return{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"},jurisdiction:s.user.jurisdiction},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title},resultId:s.result_id,certificateNumber:s.certificate_number,issuedAt:new Date(s.issued_at),validUntil:s.valid_until?new Date(s.valid_until):void 0,downloadCount:s.download_count,status:s.certificate_status})))||[],message:"Certificates fetched successfully"}}catch(t){return console.error("CertificateService: Error fetching certificates:",t),{success:!1,message:"Failed to fetch certificates",data:[]}}}static async downloadCertificate(t){try{console.log("CertificateService: Downloading certificate:",t);const r=`Certificate ID: ${t}
Generated: ${new Date().toISOString()}`;return{success:!0,data:new Blob([r],{type:"application/pdf"}),message:"Certificate downloaded successfully"}}catch(r){return console.error("CertificateService: Error downloading certificate:",r),{success:!1,message:"Failed to download certificate"}}}static async revokeCertificate(t){try{if(console.log("CertificateService: Revoking certificate:",t),!z)return{success:!0,message:"Certificate revoked (demo mode)"};const{error:r}=await z.from("certificates").update({certificate_status:"revoked"}).eq("id",t);if(r)throw console.error("CertificateService: Database error:",r),r;return{success:!0,message:"Certificate revoked successfully"}}catch(r){return console.error("CertificateService: Error revoking certificate:",r),{success:!1,message:"Failed to revoke certificate"}}}}console.log("API Services: Initializing with Supabase backend");const s1={async login(e,t){return console.log("authApi: Login attempt for:",e),await r1.login(e,t)},async logout(){return console.log("authApi: Logout request"),await r1.logout()}},Lp={async getUsers(){return console.log("userApi: Fetching users"),await Ip.getUsers()},async createUser(e){return console.log("userApi: Creating user:",e.email),await Ip.createUser(e)},async deleteUser(e){return console.log("userApi: Deleting user:",e),await Ip.deleteUser(e)}},na={async getRoles(){return console.log("roleApi: Fetching roles"),await Ho.getRoles()},async getPermissions(){return console.log("roleApi: Fetching permissions (mock data)"),{success:!0,data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"user_management"},{id:"2",name:"View Users",resource:"users",action:"read",description:"View user information",module:"user_management"},{id:"3",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"user_management"},{id:"4",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"user_management"}],message:"Permissions fetched successfully"}},async createRole(e){return console.log("roleApi: Creating role:",e.name),await Ho.createRole(e)},async updateRole(e,t){return console.log("roleApi: Updating role:",e),await Ho.updateRole(e,t)},async deleteRole(e){return console.log("roleApi: Deleting role:",e),await Ho.deleteRole(e)},async updateRoleMenuAccess(e,t){return console.log("roleApi: Updating menu access for role:",e),await Ho.updateRoleMenuAccess(e,t)}},kn={async getSurveys(){return console.log("surveyApi: Fetching surveys"),await Ya.getSurveys()},async createSurvey(e){return console.log("surveyApi: Creating survey:",e.title),await Ya.createSurvey(e)},async updateSurvey(e,t){return console.log("surveyApi: Updating survey:",e),await Ya.updateSurvey(e,t)},async deleteSurvey(e){return console.log("surveyApi: Deleting survey:",e),await Ya.deleteSurvey(e)},async getSurveySections(e){return console.log("surveyApi: Fetching sections for survey:",e),await Ya.getSurveySections(e)},async createSection(e,t){return console.log("surveyApi: Creating section for survey:",e),await Ya.createSection(e,t)}},Su={async getQuestions(e,t){return console.log("questionApi: Fetching questions for section:",t),await Mp.getQuestions(e,t)},async createQuestion(e){return console.log("questionApi: Creating question for section:",e.sectionId),await Mp.createQuestion(e)},async uploadQuestions(e,t){try{console.log("questionApi: Uploading questions from file:",t.name);const r=await t.text();return await Mp.uploadQuestions(r)}catch(r){return console.error("questionApi: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}},async downloadTemplate(){console.log("questionApi: Generating CSV template");const e=`survey_id,section_id,question_text,question_type,complexity,points,explanation,question_order,option_a,option_b,option_c,option_d,correct_options
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","What is the primary function of an operating system?","single_choice","easy",1,"An operating system manages all hardware and software resources of a computer.",1,"To manage hardware and software resources","To create documents","To browse the internet","To play games","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","Which of the following are input devices? (Select all that apply)","multiple_choice","medium",2,"Input devices allow users to provide data to the computer. Monitor is an output device.",2,"Keyboard","Mouse","Monitor","Microphone","A,B,D"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440031","What does URL stand for?","single_choice","easy",1,"URL stands for Uniform Resource Locator, which is the address of a web page.",3,"Uniform Resource Locator","Universal Resource Link","Unified Resource Location","Universal Reference Locator","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440032","Which of the following are good password practices?","multiple_choice","medium",2,"Strong passwords should be long, complex, unique, and not shared.",4,"Use at least 8 characters","Include uppercase and lowercase letters","Share passwords with colleagues","Use unique passwords for each account","A,B,D"`;return new Blob([e],{type:"text/csv"})}},hs={async createTestSession(e){if(console.log("testApi: Creating test session for survey:",e),!z)return{success:!1,message:"Database not configured. Please check your Supabase configuration."};const t=localStorage.getItem("userData"),r=t?JSON.parse(t):null;if(!r)return{success:!1,message:"User not authenticated. Please log in to start the test."};try{const{data:n,error:s}=await z.from("test_sessions").select("attempt_number").eq("user_id",r.id).eq("survey_id",e).order("attempt_number",{ascending:!1}).limit(1);if(s)return console.error("testApi: Error checking existing attempts:",s),{success:!1,message:`Failed to check existing attempts: ${s.message}`};const{data:i,error:o}=await z.from("surveys").select("max_attempts, duration").eq("id",e).single();if(o)return console.error("testApi: Error fetching survey:",o),{success:!1,message:`Failed to fetch survey details: ${o.message}`};const l=n&&n.length>0?n[0].attempt_number+1:1;if(l>i.max_attempts)return{success:!1,message:`You have exceeded the maximum number of attempts (${i.max_attempts}) for this test.`};const{data:c,error:u}=await z.from("test_sessions").insert({user_id:r.id,survey_id:e,time_remaining:i.duration*60,current_question_index:0,session_status:"in_progress",attempt_number:l}).select().single();return u?(console.error("testApi: Error creating session in database:",u),{success:!1,message:`Failed to create test session: ${u.message}`}):{success:!0,data:{id:c.id,userId:c.user_id,surveyId:c.survey_id,startTime:new Date(c.start_time),timeRemaining:c.time_remaining,currentQuestionIndex:c.current_question_index,answers:[],status:c.session_status,attemptNumber:c.attempt_number},message:"Test session created successfully"}}catch(n){return console.error("testApi: Error in createTestSession:",n),{success:!1,message:`Failed to create test session: ${n instanceof Error?n.message:"Unknown error"}`}}},async getSession(e){return console.log("testApi: Getting session:",e),await p5.getSession(e)},async getQuestionsForSurvey(e){try{if(console.log("testApi: Fetching questions for survey:",e),!z)return console.log("testApi: Supabase not configured - cannot load questions"),{success:!1,message:"Database not configured. Please check your Supabase configuration in the .env file and restart the development server.",data:[]};console.log("testApi: First, fetching sections for survey from database");const{data:t,error:r}=await z.from("survey_sections").select("id, title, section_order").eq("survey_id",e).order("section_order",{ascending:!0});if(r)return console.error("testApi: Database error fetching sections:",r),{success:!1,message:`Database error: ${r.message}`,data:[]};if(!t||t.length===0)return console.log("testApi: No sections found for survey:",e),{success:!1,message:"No sections found for this survey. Please ensure sections have been created for this survey.",data:[]};const n=t.map(c=>c.id);console.log("testApi: Found",t.length,"sections, now fetching questions for section IDs:",n);const{data:s,error:i}=await z.from("questions").select(`
          *,
          question_options(*)
        `).in("section_id",n).order("question_order",{ascending:!0});if(i)return console.error("testApi: Database error fetching questions:",i),{success:!1,message:`Database error: ${i.message}`,data:[]};if(!s||s.length===0)return console.log("testApi: No questions found for sections:",n),{success:!1,message:"No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.",data:[]};console.log("testApi: Successfully fetched",s.length,"questions from database");const o=t.reduce((c,u)=>(c[u.id]=u,c),{}),l=s.map((c,u)=>{var f;return{id:c.id,sectionId:c.section_id,text:c.text,type:c.question_type,complexity:c.complexity,points:c.points,explanation:c.explanation,order:((f=o[c.section_id])==null?void 0:f.section_order)*1e3+c.question_order,options:c.question_options.sort((d,h)=>d.option_order-h.option_order).map(d=>({id:d.id,text:d.text,isCorrect:d.is_correct})),correctAnswers:c.question_options.filter(d=>d.is_correct).map(d=>d.id),createdAt:new Date(c.created_at),updatedAt:new Date(c.updated_at)}});return{success:!0,data:l,message:`Loaded ${l.length} questions successfully`}}catch(t){return console.error("testApi: Error in getQuestionsForSurvey:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async getQuestionsForSession(e){try{if(console.log("testApi: Fetching questions for session:",e),!z)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await z.from("test_sessions").select("survey_id").eq("id",e).single();return r||!t?(console.error("testApi: Error fetching session:",r),{success:!1,message:"Session not found",data:[]}):(console.log("testApi: Using survey ID for questions:",t.survey_id),await this.getQuestionsForSurvey(t.survey_id))}catch(t){return console.error("testApi: Error in getQuestionsForSession:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async saveAnswer(e,t,r){if(console.log("testApi: Saving answer for session:",e,"question:",t),!z){console.log("testApi: Supabase not configured, saving to localStorage");const n=`answer_${e}_${t}`;return localStorage.setItem(n,JSON.stringify(r)),{success:!0,message:"Answer saved locally"}}try{const{data:n}=await z.from("test_answers").select("id").eq("session_id",e).eq("question_id",t).maybeSingle();if(n){const{error:s}=await z.from("test_answers").update({selected_options:r,answered:r.length>0,updated_at:new Date().toISOString()}).eq("session_id",e).eq("question_id",t);if(s)throw s}else{const{error:s}=await z.from("test_answers").insert({session_id:e,question_id:t,selected_options:r,answered:r.length>0,is_correct:!1,time_spent:0});if(s)throw s}return{success:!0,message:"Answer saved successfully"}}catch(n){return console.error("testApi: Error saving answer:",n),{success:!1,message:`Failed to save answer: ${n instanceof Error?n.message:"Unknown error"}`}}},async updateSession(e,t){if(console.log("testApi: Updating session:",e),!z)return console.log("testApi: Supabase not configured, saving to localStorage"),localStorage.setItem(`session_${e}`,JSON.stringify(t)),{success:!0,message:"Session updated locally"};try{const{error:r}=await z.from("test_sessions").update({current_question_index:t.currentQuestionIndex,time_remaining:t.timeRemaining,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;return{success:!0,message:"Session updated successfully"}}catch(r){return console.error("testApi: Error updating session:",r),{success:!1,message:`Failed to update session: ${r instanceof Error?r.message:"Unknown error"}`}}},async submitTest(e){if(console.log("testApi: Submitting test for session:",e),!z)return console.log("testApi: Supabase not configured, creating demo result"),{success:!0,data:{id:"demo-result-"+Date.now(),userId:"550e8400-e29b-41d4-a716-446655440014",user:{name:"Demo User",email:"demo@example.com",role:{name:"Enumerator"}},surveyId:"550e8400-e29b-41d4-a716-446655440020",survey:{title:"Demo Survey",maxAttempts:3},sessionId:e,score:75,totalQuestions:4,correctAnswers:3,isPassed:!0,timeSpent:1200,attemptNumber:1,sectionScores:[],completedAt:new Date,grade:"B"},message:"Demo test submitted"};try{const{data:t,error:r}=await z.from("test_sessions").select("*").eq("id",e).single();if(r||!t)throw new Error("Session not found");const{data:n,error:s}=await z.from("test_answers").select("*").eq("session_id",e);if(s)throw new Error("Failed to fetch answers");const i=await this.getQuestionsForSurvey(t.survey_id);if(!i.success||!i.data)throw new Error("Failed to load questions for scoring");const o=i.data;let l=0,c=0,u=0;o.forEach(m=>{c+=m.points;const N=n==null?void 0:n.find(g=>g.question_id===m.id);if(N&&N.selected_options){const g=N.selected_options,j=m.correctAnswers,_=g.length===j.length&&g.every(S=>j.includes(S));_&&(l++,u+=m.points),z.from("test_answers").update({is_correct:_}).eq("id",N.id).then(()=>{})}});const f=c>0?Math.round(u/c*100):0,{data:d,error:h}=await z.from("surveys").select("*").eq("id",t.survey_id).single();if(h)throw new Error("Failed to fetch survey details");const p=f>=d.passing_score;await z.from("test_sessions").update({session_status:"completed",score:f,is_passed:p,completed_at:new Date().toISOString(),end_time:new Date().toISOString()}).eq("id",e);const{data:y,error:b}=await z.from("test_results").insert({user_id:t.user_id,survey_id:t.survey_id,session_id:e,score:f,total_questions:o.length,correct_answers:l,is_passed:p,time_spent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attempt_number:t.attempt_number,completed_at:new Date().toISOString()}).select().single();if(b)throw console.error("testApi: Error creating test result:",b),new Error(`Failed to create test result: ${b.message}`);let x=null;if(p){const m=`CERT-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`;try{console.log("Creating certificate for passed test:",{user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m});const{data:N,error:g}=await z.from("certificates").insert({user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m,certificate_status:"active",download_count:0}).select().single();if(g)console.error("Error creating certificate:",g);else if(N){console.log("Certificate created successfully:",N),x=N.id;const{error:j}=await z.from("test_results").update({certificate_id:x}).eq("id",y.id);j?console.error("Error updating result with certificate ID:",j):console.log("Test result updated with certificate ID:",x)}}catch(N){console.error("Exception during certificate creation:",N)}}const{data:w}=await z.from("users").select("*, role:roles(*)").eq("id",t.user_id).single();return{success:!0,data:{id:y.id,userId:t.user_id,user:w?{id:w.id,name:w.name,email:w.email,role:w.role,jurisdiction:w.jurisdiction,isActive:w.is_active,createdAt:new Date(w.created_at),updatedAt:new Date(w.updated_at)}:{},surveyId:t.survey_id,survey:{id:d.id,title:d.title,maxAttempts:d.max_attempts},sessionId:e,score:f,totalQuestions:o.length,correctAnswers:l,isPassed:p,timeSpent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attemptNumber:t.attempt_number,sectionScores:[],completedAt:new Date,certificateId:x,grade:f>=90?"A":f>=80?"B":f>=70?"C":f>=60?"D":"F"},message:`Test submitted successfully! Score: ${f}% (${p?"Passed":"Failed"})`}}catch(t){return console.error("testApi: Error submitting test:",t),{success:!1,message:`Failed to submit test: ${t instanceof Error?t.message:"Unknown error"}`}}},async syncOfflineData(){return console.log("testApi: Syncing offline data"),{success:!0,message:"Offline data synced successfully"}}},m5={async getDashboardData(){return console.log("dashboardApi: Fetching dashboard data"),await oh.getDashboardData()}},g5={async getDashboardData(e){console.log("zoDashboardApi: Fetching ZO dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalZones:5,totalRegions:25,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]},message:"ZO Dashboard data fetched successfully"}:t}},x5={async getDashboardData(e){console.log("roDashboardApi: Fetching RO dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalDistricts:8,totalSupervisors:24,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]},message:"RO Dashboard data fetched successfully"}:t}},nv={async getDashboardData(e){console.log("supervisorDashboardApi: Fetching supervisor dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalEnumerators:12,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]},message:"Supervisor Dashboard data fetched successfully"}:t}},qc={async getDashboardData(){try{if(console.log("enumeratorDashboardApi: Fetching enumerator dashboard data"),!z)return{success:!1,message:"Database not configured"};const e=localStorage.getItem("userData"),t=e?JSON.parse(e):null;if(!t)return{success:!1,message:"User not authenticated"};const{data:r,error:n}=await z.from("surveys").select("*").eq("is_active",!0);if(n)throw console.error("enumeratorDashboardApi: Error fetching surveys:",n),n;const{data:s,error:i}=await z.from("test_sessions").select("survey_id, attempt_number").eq("user_id",t.id);i&&console.error("enumeratorDashboardApi: Error fetching user attempts:",i);const o=(s==null?void 0:s.reduce((x,w)=>(x[w.survey_id]=Math.max(x[w.survey_id]||0,w.attempt_number),x),{}))||{},l=(r==null?void 0:r.map(x=>{const w=o[x.id]||0,v=x.max_attempts-w;return{surveyId:x.id,title:x.title,description:x.description,targetDate:new Date(x.target_date),duration:x.duration,totalQuestions:x.total_questions,passingScore:x.passing_score,attemptsLeft:Math.max(0,v),maxAttempts:x.max_attempts,isEligible:v>0}}).filter(x=>x.isEligible))||[],{data:c,error:u}=await z.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1});u&&console.error("enumeratorDashboardApi: Error fetching results:",u);const f=(c==null?void 0:c.map(x=>({resultId:x.id,surveyTitle:x.survey.title,score:x.score,isPassed:x.is_passed,completedAt:new Date(x.completed_at),attemptNumber:x.attempt_number,certificateId:x.certificate_id})))||[],{data:d,error:h}=await z.from("certificates").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("issued_at",{ascending:!1});h&&console.error("enumeratorDashboardApi: Error fetching certificates:",h);const p=(d==null?void 0:d.map(x=>({id:x.id,userId:x.user_id,user:t,surveyId:x.survey_id,survey:{id:x.survey_id,title:x.survey.title},resultId:x.result_id,certificateNumber:x.certificate_number,issuedAt:new Date(x.issued_at),validUntil:x.valid_until?new Date(x.valid_until):void 0,downloadCount:x.download_count,status:x.certificate_status})))||[],y=f.filter(x=>x.isPassed).length,b=f.length>0?f.reduce((x,w)=>x+w.score,0)/f.length:0;return{success:!0,data:{availableTests:l,completedTests:f,upcomingTests:l.map(x=>({surveyId:x.surveyId,title:x.title,targetDate:x.targetDate,daysLeft:Math.ceil((x.targetDate.getTime()-new Date().getTime())/(1e3*60*60*24)),isOverdue:x.targetDate<new Date})),certificates:p,overallProgress:l.length>0?y/l.length*100:0,averageScore:b,totalAttempts:f.length,passedTests:y},message:"Enumerator Dashboard data fetched successfully"}}catch(e){return console.error("enumeratorDashboardApi: Error fetching dashboard data:",e),{success:!1,message:`Failed to fetch dashboard data: ${e instanceof Error?e.message:"Unknown error"}`}}}},Fp={async getResults(e){try{console.log("resultApi: Fetching results with filters");const{data:t,error:r}=await z.from("test_results").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching results:",r),r;return{success:!0,data:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"},jurisdiction:s.user.jurisdiction},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title,maxAttempts:s.survey.max_attempts},sessionId:s.session_id,score:s.score,totalQuestions:s.total_questions,correctAnswers:s.correct_answers,isPassed:s.is_passed,timeSpent:s.time_spent,attemptNumber:s.attempt_number,sectionScores:[],completedAt:new Date(s.completed_at),certificateId:s.certificate_id,grade:s.grade})),message:"Results fetched successfully"}}catch(t){return console.error("resultApi: Error in getResults:",t),{success:!1,message:"Failed to fetch results",data:[]}}},async getAnalytics(e){return console.log("resultApi: Fetching analytics data"),{success:!0,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]},message:"Analytics data fetched successfully"}},async exportResults(e){console.log("resultApi: Exporting results");const t=`user_name,survey_title,score,status,completed_at
`;return{success:!0,data:new Blob([t],{type:"text/csv"}),message:"Results exported successfully"}}},Xu={async getCertificates(){return console.log("certificateApi: Fetching certificates"),await Rp.getCertificates()},async downloadCertificate(e){return console.log("certificateApi: Downloading certificate:",e),await Rp.downloadCertificate(e)},async revokeCertificate(e){return console.log("certificateApi: Revoking certificate:",e),await Rp.revokeCertificate(e)}},a1={async getSettings(){return console.log("settingsApi: Fetching settings"),await n1.getSettings()},async updateSetting(e,t){console.log("settingsApi: Updating setting:",e);const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:void 0;return await n1.updateSetting(e,t,n)}},v5={async getEnumeratorStatus(){return console.log("enumeratorApi: Fetching enumerator status"),{success:!0,data:[],message:"Enumerator status fetched successfully"}}},h4=O.createContext(void 0);function Fs(){const e=O.useContext(h4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function y5({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{(async()=>{try{if(z){const{data:{session:d},error:h}=await z.auth.getSession();if(d&&!h){const{data:p,error:y}=await z.from("users").select(`
                *,
                role:roles(*)
              `).eq("id",d.user.id).single();if(p&&!y){const b={id:p.id,name:p.name,email:p.email,role:p.role,jurisdiction:p.jurisdiction,isActive:p.is_active,createdAt:new Date(p.created_at),updatedAt:new Date(p.updated_at)};r(b),localStorage.setItem("userData",JSON.stringify(b)),localStorage.setItem("authToken",d.access_token),s(!1);return}else{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}else{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}const u=localStorage.getItem("authToken"),f=localStorage.getItem("userData");u&&f&&r(JSON.parse(f))}catch(u){console.error("Auth initialization error:",u),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}s(!1)})()},[]),O.useEffect(()=>{if(z){const{data:{subscription:c}}=z.auth.onAuthStateChange(async(u,f)=>{(u==="SIGNED_OUT"||!f)&&(r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"))});return()=>c.unsubscribe()}},[]);const l={user:t,isLoading:n,login:async(c,u)=>{try{console.log("Attempting login with:",c);const f=await s1.login(c,u);if(console.log("Login response:",f),f.success&&f.data){const{user:d,token:h}=f.data;return console.log("Setting user:",d),r(d),localStorage.setItem("authToken",h),localStorage.setItem("userData",JSON.stringify(d)),{success:!0,message:f.message}}return{success:!1,message:f.message}}catch(f){return console.error("Login error:",f),{success:!1,message:"Login failed. Please try again."}}},logout:async()=>{try{await s1.logout()}catch(c){console.error("Logout error:",c)}finally{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}},isAuthenticated:!!t};return a.jsx(h4.Provider,{value:l,children:e})}const b5=O.createContext(void 0);function w5({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},f=()=>{r(!1)},d=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const y=localStorage.getItem("last_sync");y&&s(new Date(parseInt(y)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",f),d();const h=setInterval(d,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f),clearInterval(h)}},[]);const l=async()=>{if(t)try{await hs.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(b5.Provider,{value:c,children:e})}function p4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=p4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function he(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=p4(e))&&(n&&(n+=" "),n+=t);return n}const sv="-",j5=e=>{const t=_5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sv);return l[0]===""&&l.length!==1&&l.shift(),m4(l,t)||S5(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},m4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?m4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(sv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},i1=/^\[(.+)\]$/,S5=e=>{if(i1.test(e)){const t=i1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return A5(Object.entries(e.classGroups),r).forEach(([i,o])=>{j0(o,n,i,t)}),n},j0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:o1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(N5(s)){j0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{j0(o,o1(t,i),r,n)})})},o1=(e,t)=>{let r=e;return t.split(sv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},N5=e=>e.isThemeGetter,A5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,O5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},g4="!",P5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(f,x)),f=x+i;continue}if(w==="/"){d=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(g4),y=p?h.substring(1):h,b=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},E5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},k5=e=>({cache:O5(e.cacheSize),parseClassName:P5(e),...j5(e)}),C5=/\s+/,T5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(C5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,b=n(y?h.substring(0,p):h);if(!b){if(!y){l=u+(l.length>0?" "+l:l);continue}if(b=n(h),!b){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=E5(f).join(":"),w=d?x+g4:x,v=w+b;if(i.includes(v))continue;i.push(v);const m=s(b,y);for(let N=0;N<m.length;++N){const g=m[N];i.push(w+g)}l=u+(l.length>0?" "+l:l)}return l};function $5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=x4(t))&&(n&&(n+=" "),n+=r);return n}const x4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=x4(e[n]))&&(r&&(r+=" "),r+=t);return r};function D5(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=k5(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=T5(c,r);return s(c,f),f}return function(){return i($5.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},v4=/^\[(?:([a-z-]+):)?(.+)\]$/i,I5=/^\d+\/\d+$/,M5=new Set(["px","full","screen"]),R5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,U5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Oi(e)||M5.has(e)||I5.test(e),ns=e=>wo(e,"length",Q5),Oi=e=>!!e&&!Number.isNaN(Number(e)),Up=e=>wo(e,"number",Oi),Ko=e=>!!e&&Number.isInteger(Number(e)),z5=e=>e.endsWith("%")&&Oi(e.slice(0,-1)),me=e=>v4.test(e),ss=e=>R5.test(e),q5=new Set(["length","size","percentage"]),W5=e=>wo(e,q5,y4),H5=e=>wo(e,"position",y4),K5=new Set(["image","url"]),V5=e=>wo(e,K5,X5),G5=e=>wo(e,"",Y5),Vo=()=>!0,wo=(e,t,r)=>{const n=v4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Q5=e=>L5.test(e)&&!F5.test(e),y4=()=>!1,Y5=e=>U5.test(e),X5=e=>B5.test(e),Z5=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),f=Ge("hueRotate"),d=Ge("invert"),h=Ge("gap"),p=Ge("gradientColorStops"),y=Ge("gradientColorStopPositions"),b=Ge("inset"),x=Ge("margin"),w=Ge("opacity"),v=Ge("padding"),m=Ge("saturate"),N=Ge("scale"),g=Ge("sepia"),j=Ge("skew"),_=Ge("space"),S=Ge("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",me,t],C=()=>[me,t],I=()=>["",Sn,ns],$=()=>["auto",Oi,me],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",me],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Oi,me];return{cacheSize:500,separator:":",theme:{colors:[Vo],spacing:[Sn,ns],blur:["none","",ss,me],brightness:K(),borderColor:[e],borderRadius:["none","","full",ss,me],borderSpacing:C(),borderWidth:I(),contrast:K(),grayscale:R(),hueRotate:K(),invert:R(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[z5,ns],inset:E(),margin:E(),opacity:K(),padding:C(),saturate:K(),scale:K(),sepia:R(),skew:K(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ko,me]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ko,me]}],"grid-cols":[{"grid-cols":[Vo]}],"col-start-end":[{col:["auto",{span:["full",Ko,me]},me]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Vo]}],"row-start-end":[{row:["auto",{span:[Ko,me]},me]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[Vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Oi,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,ns]}],"underline-offset":[{"underline-offset":["auto",Sn,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),H5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",W5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Sn,me]}],"outline-w":[{outline:[Sn,ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Sn,ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,G5]}],"shadow-color":[{shadow:[Vo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ss,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[g]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[g]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ko,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,ns,Up]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J5=D5(Z5);function av(...e){return J5(he(e))}function Ce(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Sr(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ks(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function e$(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function vs(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function q({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:d,disabled:n||s,className:av(c,u[t],f[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const oe=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:av("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));oe.displayName="Input";class t${static async initializeDatabase(){try{console.log("Starting database initialization...");const t=z,{data:r}=await t.from("roles").select("id").limit(1);return r&&r.length>0?(console.log("Database already initialized"),{success:!0,message:"Database already contains data"}):(await this.createRoles(t),await this.createUsers(t),await this.createSurveys(t),await this.createSurveySections(t),await this.createQuestions(t),await this.createSystemSettings(t),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully"})}catch(t){return console.error("Database initialization failed:",t),{success:!1,message:"Failed to initialize database",error:t}}}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Admin",description:"System Administrator with full access",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440002",name:"ZO User",description:"Zonal Office User",level:2,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440003",name:"RO User",description:"Regional Office User",level:3,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440004",name:"Supervisor",description:"Field Supervisor",level:4,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Enumerator",description:"Field Enumerator",level:5,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users...");const r=await rv.hash("password123",10),n=[{id:"550e8400-e29b-41d4-a716-446655440010",email:"admin@esigma.com",password_hash:r,name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440001",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{id:"550e8400-e29b-41d4-a716-446655440011",email:"zo@esigma.com",password_hash:r,name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440002",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543211"},{id:"550e8400-e29b-41d4-a716-446655440012",email:"ro@esigma.com",password_hash:r,name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440003",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543212"},{id:"550e8400-e29b-41d4-a716-446655440013",email:"supervisor@esigma.com",password_hash:r,name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440004",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543213",parent_id:"550e8400-e29b-41d4-a716-446655440012"},{id:"550e8400-e29b-41d4-a716-446655440014",email:"enumerator@esigma.com",password_hash:r,name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440005",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543214",parent_id:"550e8400-e29b-41d4-a716-446655440013"}],{error:s}=await t.from("users").insert(n);if(s)throw s;console.log("Users created successfully")}static async createSurveys(t){console.log("Creating surveys...");const r=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone"],assigned_regions:["Delhi Region","Mumbai Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone"],assigned_regions:["Delhi Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:"550e8400-e29b-41d4-a716-446655440010"}],{error:n}=await t.from("surveys").insert(r);if(n)throw n;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:10,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:10,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:10,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:15,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:10,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async checkDatabaseConnection(){try{const{data:t,error:r}=await z.from("roles").select("count").limit(1);if(r)throw r;return{success:!0,message:"Database connection successful"}}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...r$,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${n$(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=ne("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=ne("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=ne("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S$(){const{login:e,isAuthenticated:t}=Fs(),[r,n]=O.useState("admin@esigma.com"),[s,i]=O.useState("password123"),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState("");if(t)return a.jsx(Gl,{to:"/",replace:!0});const h=async()=>{u(!0),d("");try{const x=await t$.initializeDatabase();x.success?(d(""),alert("Database initialized successfully! You can now login with the demo credentials.")):d(x.message)}catch{d("Failed to initialize database. Please check your Supabase configuration.")}finally{u(!1)}},p=async x=>{if(x.preventDefault(),!r||!s){d("Please enter both email and password");return}l(!0),d("");const w=await e(r,s);w.success?console.log("Login successful"):d(w.message),l(!1)},y=[{role:"Admin",email:"admin@esigma.com",icon:Rr,color:"bg-red-100 text-red-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440010"},{role:"ZO User",email:"zo@esigma.com",icon:ja,color:"bg-purple-100 text-purple-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440011"},{role:"RO User",email:"ro@esigma.com",icon:ja,color:"bg-indigo-100 text-indigo-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440012"},{role:"Supervisor",email:"supervisor@esigma.com",icon:Oa,color:"bg-green-100 text-green-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440013"},{role:"Enumerator",email:"enumerator@esigma.com",icon:Ds,color:"bg-blue-100 text-blue-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440014"}],b=x=>{n(x),i("password123"),d("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:a.jsx(Wt,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),f&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(s$,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:f})]}),a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Database Setup"}),a.jsx("p",{className:"text-xs text-blue-800 mb-3",children:"If this is your first time, initialize the database with sample data including users, surveys, and settings."}),a.jsx(q,{onClick:h,disabled:c,variant:"secondary",size:"sm",className:"w-full",children:c?"Initializing Database...":"Initialize Database"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(oe,{label:"Email Address",type:"email",value:r,onChange:x=>n(x.target.value),placeholder:"Enter your email",required:!0}),a.jsx(oe,{label:"Password",type:"password",value:s,onChange:x=>i(x.target.value),placeholder:"Enter your password",required:!0}),a.jsx(q,{type:"submit",disabled:o,className:"w-full",size:"lg",children:o?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Demo Accounts - Click to Login:"}),a.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-blue-900 mb-2",children:"🔐 Authentication Details"}),a.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Database:"})," Supabase PostgreSQL with Row Level Security"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Password Encryption:"})," bcrypt with salt rounds"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Session Management:"})," JWT tokens with auto-refresh"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Security:"})," Account lockout after 5 failed attempts"]})]})]}),a.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-green-900 mb-2",children:"📊 Role-Based Access Control (RBAC)"}),a.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin → ZO User → RO User → Supervisor → Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Permissions:"})," Each role has specific menu access and data visibility"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data Isolation:"})," Users only see data relevant to their jurisdiction"]})]})]}),a.jsx("div",{className:"space-y-2",children:y.map(x=>a.jsxs("button",{onClick:()=>b(x.email),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-left",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${x.color}`,children:a.jsx(x.icon,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.role}),a.jsx("p",{className:"text-xs text-gray-600",children:x.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",x.role==="Admin"?"1":x.role==="ZO User"?"2":x.role==="RO User"?"3":x.role==="Supervisor"?"4":"5"," • ",x.role==="Admin"?"Full System Access":x.role==="ZO User"?"Zone Management":x.role==="RO User"?"Regional Management":x.role==="Supervisor"?"Team Management":"Test Taking"]})]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Click to login"})]},x.email))}),a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"🔑 Login Credentials"}),a.jsxs("div",{className:"text-xs text-yellow-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Password for all accounts:"})," ",a.jsx("span",{className:"font-mono bg-yellow-100 px-1 rounded",children:"password123"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Employee IDs:"})," ADM001, ZO001, RO001, SUP001, ENU001"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone Numbers:"})," +91-9876543210 to +91-9876543214"]})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-purple-900 mb-2",children:"🏢 Organizational Structure"}),a.jsxs("div",{className:"text-xs text-purple-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Zone:"})," North Zone (ZO, RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Region:"})," Delhi Region (RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"District:"})," Central Delhi (Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin manages all → ZO manages zones → RO manages regions → Supervisors manage teams"]})]})]})]})]})})})}function _$({children:e}){const{isAuthenticated:t,isLoading:r}=Fs();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Gl,{to:"/login",replace:!0})}function N$(){const{user:e,logout:t}=Fs(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Online MCQ Test Management System"}),!1]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i$,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(f$,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const A$=[{to:"/dashboard",icon:fn,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:Rr,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:_a,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:ov,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Wt,label:"Survey Management",roles:["Admin"],level:1},{to:"/questions",icon:iv,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:Hc,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:fn,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Wc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:ja,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:fn,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:ja,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:fn,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:ys,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Oa,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Wt,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:fn,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:Zl,label:"Available Tests",roles:["Enumerator"],level:5},{to:"/my-results",icon:jo,label:"My Results",roles:["Enumerator"],level:5},{to:"/my-certificates",icon:Aa,label:"My Certificates",roles:["Enumerator"],level:5},{to:"/test-schedule",icon:lv,label:"Test Schedule",roles:["Enumerator"],level:5},{to:"/results",icon:ys,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:We,label:"Enumerator Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Ae,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator"],level:1}],c1={admin:[{to:"/dashboard",icon:fn,label:"Dashboard"},{to:"/users",icon:Rr,label:"User Management"},{to:"/roles",icon:_a,label:"Role Management"},{to:"/role-menu-management",icon:ov,label:"Menu Access Control"},{to:"/surveys",icon:Wt,label:"Survey Management"},{to:"/questions",icon:iv,label:"Question Bank"},{to:"/results",icon:ys,label:"Results & Analytics"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/certificates",icon:Ae,label:"Certificates"},{to:"/settings",icon:Hc,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:fn,label:"ZO Dashboard"},{to:"/zone-performance",icon:Wc,label:"Zone Performance"},{to:"/regional-overview",icon:ja,label:"Regional Overview"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:ys,label:"Zone Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:fn,label:"RO Dashboard"},{to:"/district-performance",icon:ja,label:"District Performance"},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:ys,label:"Regional Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:fn,label:"Dashboard"},{to:"/team-results",icon:ys,label:"Team Results"},{to:"/my-enumerators",icon:Oa,label:"My Enumerators"},{to:"/enumerator-status",icon:We,label:"Team Status"},{to:"/assigned-surveys",icon:Wt,label:"Assigned Surveys"},{to:"/certificates",icon:Ae,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:fn,label:"My Dashboard"},{to:"/available-tests",icon:Zl,label:"Available Tests"},{to:"/my-results",icon:jo,label:"My Results"},{to:"/my-certificates",icon:Aa,label:"My Certificates"},{to:"/test-schedule",icon:lv,label:"Test Schedule"}]};function O$(){const{user:e}=Fs(),r=(()=>{if(!e)return[];const u=e.role.name,f=e.role.level;return A$.filter(d=>{const h=d.roles.includes(u),p=d.level?f<=d.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=c1[n]||c1.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Wt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"eSigma"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Survey Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ov,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(MC,{to:u.to,className:({isActive:f})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(u$,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Ee({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(O$,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(N$,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function F({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:av("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function _u({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function P$({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(Ds,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Wt,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(w4,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName," • ",Sr(r.timestamp)]})]})]},r.id))})]})}var E$=Array.isArray,dr=E$,k$=typeof zt=="object"&&zt&&zt.Object===Object&&zt,j4=k$,C$=j4,T$=typeof self=="object"&&self&&self.Object===Object&&self,$$=C$||T$||Function("return this")(),wn=$$,D$=wn,I$=D$.Symbol,Kc=I$,u1=Kc,S4=Object.prototype,M$=S4.hasOwnProperty,R$=S4.toString,Go=u1?u1.toStringTag:void 0;function L$(e){var t=M$.call(e,Go),r=e[Go];try{e[Go]=void 0;var n=!0}catch{}var s=R$.call(e);return n&&(t?e[Go]=r:delete e[Go]),s}var F$=L$,U$=Object.prototype,B$=U$.toString;function z$(e){return B$.call(e)}var q$=z$,d1=Kc,W$=F$,H$=q$,K$="[object Null]",V$="[object Undefined]",f1=d1?d1.toStringTag:void 0;function G$(e){return e==null?e===void 0?V$:K$:f1&&f1 in Object(e)?W$(e):H$(e)}var Xn=G$;function Q$(e){return e!=null&&typeof e=="object"}var Zn=Q$,Y$=Xn,X$=Zn,Z$="[object Symbol]";function J$(e){return typeof e=="symbol"||X$(e)&&Y$(e)==Z$}var So=J$,eD=dr,tD=So,rD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nD=/^\w*$/;function sD(e,t){if(eD(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tD(e)?!0:nD.test(e)||!rD.test(e)||t!=null&&e in Object(t)}var uv=sD;function aD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Us=aD;const _o=$e(Us);var iD=Xn,oD=Us,lD="[object AsyncFunction]",cD="[object Function]",uD="[object GeneratorFunction]",dD="[object Proxy]";function fD(e){if(!oD(e))return!1;var t=iD(e);return t==cD||t==uD||t==lD||t==dD}var dv=fD;const ce=$e(dv);var hD=wn,pD=hD["__core-js_shared__"],mD=pD,zp=mD,h1=function(){var e=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gD(e){return!!h1&&h1 in e}var xD=gD,vD=Function.prototype,yD=vD.toString;function bD(e){if(e!=null){try{return yD.call(e)}catch{}try{return e+""}catch{}}return""}var _4=bD,wD=dv,jD=xD,SD=Us,_D=_4,ND=/[\\^$.*+?()[\]{}|]/g,AD=/^\[object .+?Constructor\]$/,OD=Function.prototype,PD=Object.prototype,ED=OD.toString,kD=PD.hasOwnProperty,CD=RegExp("^"+ED.call(kD).replace(ND,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TD(e){if(!SD(e)||jD(e))return!1;var t=wD(e)?CD:AD;return t.test(_D(e))}var $D=TD;function DD(e,t){return e==null?void 0:e[t]}var ID=DD,MD=$D,RD=ID;function LD(e,t){var r=RD(e,t);return MD(r)?r:void 0}var La=LD,FD=La,UD=FD(Object,"create"),ch=UD,p1=ch;function BD(){this.__data__=p1?p1(null):{},this.size=0}var zD=BD;function qD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WD=qD,HD=ch,KD="__lodash_hash_undefined__",VD=Object.prototype,GD=VD.hasOwnProperty;function QD(e){var t=this.__data__;if(HD){var r=t[e];return r===KD?void 0:r}return GD.call(t,e)?t[e]:void 0}var YD=QD,XD=ch,ZD=Object.prototype,JD=ZD.hasOwnProperty;function eI(e){var t=this.__data__;return XD?t[e]!==void 0:JD.call(t,e)}var tI=eI,rI=ch,nI="__lodash_hash_undefined__";function sI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rI&&t===void 0?nI:t,this}var aI=sI,iI=zD,oI=WD,lI=YD,cI=tI,uI=aI;function No(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}No.prototype.clear=iI;No.prototype.delete=oI;No.prototype.get=lI;No.prototype.has=cI;No.prototype.set=uI;var dI=No;function fI(){this.__data__=[],this.size=0}var hI=fI;function pI(e,t){return e===t||e!==e&&t!==t}var fv=pI,mI=fv;function gI(e,t){for(var r=e.length;r--;)if(mI(e[r][0],t))return r;return-1}var uh=gI,xI=uh,vI=Array.prototype,yI=vI.splice;function bI(e){var t=this.__data__,r=xI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yI.call(t,r,1),--this.size,!0}var wI=bI,jI=uh;function SI(e){var t=this.__data__,r=jI(t,e);return r<0?void 0:t[r][1]}var _I=SI,NI=uh;function AI(e){return NI(this.__data__,e)>-1}var OI=AI,PI=uh;function EI(e,t){var r=this.__data__,n=PI(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kI=EI,CI=hI,TI=wI,$I=_I,DI=OI,II=kI;function Ao(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ao.prototype.clear=CI;Ao.prototype.delete=TI;Ao.prototype.get=$I;Ao.prototype.has=DI;Ao.prototype.set=II;var dh=Ao,MI=La,RI=wn,LI=MI(RI,"Map"),hv=LI,m1=dI,FI=dh,UI=hv;function BI(){this.size=0,this.__data__={hash:new m1,map:new(UI||FI),string:new m1}}var zI=BI;function qI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WI=qI,HI=WI;function KI(e,t){var r=e.__data__;return HI(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fh=KI,VI=fh;function GI(e){var t=VI(this,e).delete(e);return this.size-=t?1:0,t}var QI=GI,YI=fh;function XI(e){return YI(this,e).get(e)}var ZI=XI,JI=fh;function e8(e){return JI(this,e).has(e)}var t8=e8,r8=fh;function n8(e,t){var r=r8(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var s8=n8,a8=zI,i8=QI,o8=ZI,l8=t8,c8=s8;function Oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oo.prototype.clear=a8;Oo.prototype.delete=i8;Oo.prototype.get=o8;Oo.prototype.has=l8;Oo.prototype.set=c8;var pv=Oo,N4=pv,u8="Expected a function";function mv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(u8);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(mv.Cache||N4),r}mv.Cache=N4;var A4=mv;const d8=$e(A4);var f8=A4,h8=500;function p8(e){var t=f8(e,function(n){return r.size===h8&&r.clear(),n}),r=t.cache;return t}var m8=p8,g8=m8,x8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v8=/\\(\\)?/g,y8=g8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(x8,function(r,n,s,i){t.push(s?i.replace(v8,"$1"):n||r)}),t}),b8=y8;function w8(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var gv=w8,g1=Kc,j8=gv,S8=dr,_8=So,N8=1/0,x1=g1?g1.prototype:void 0,v1=x1?x1.toString:void 0;function O4(e){if(typeof e=="string")return e;if(S8(e))return j8(e,O4)+"";if(_8(e))return v1?v1.call(e):"";var t=e+"";return t=="0"&&1/e==-N8?"-0":t}var A8=O4,O8=A8;function P8(e){return e==null?"":O8(e)}var P4=P8,E8=dr,k8=uv,C8=b8,T8=P4;function $8(e,t){return E8(e)?e:k8(e,t)?[e]:C8(T8(e))}var E4=$8,D8=So,I8=1/0;function M8(e){if(typeof e=="string"||D8(e))return e;var t=e+"";return t=="0"&&1/e==-I8?"-0":t}var hh=M8,R8=E4,L8=hh;function F8(e,t){t=R8(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[L8(t[r++])];return r&&r==n?e:void 0}var xv=F8,U8=xv;function B8(e,t,r){var n=e==null?void 0:U8(e,t);return n===void 0?r:n}var k4=B8;const br=$e(k4);function z8(e){return e==null}var q8=z8;const ue=$e(q8);var W8=Xn,H8=dr,K8=Zn,V8="[object String]";function G8(e){return typeof e=="string"||!H8(e)&&K8(e)&&W8(e)==V8}var Q8=G8;const Pa=$e(Q8);var C4={exports:{}},De={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=Symbol.for("react.element"),yv=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),Y8=Symbol.for("react.server_context"),yh=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),jh=Symbol.for("react.memo"),Sh=Symbol.for("react.lazy"),X8=Symbol.for("react.offscreen"),T4;T4=Symbol.for("react.module.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vv:switch(e=e.type,e){case ph:case gh:case mh:case bh:case wh:return e;default:switch(e=e&&e.$$typeof,e){case Y8:case vh:case yh:case Sh:case jh:case xh:return e;default:return t}}case yv:return t}}}De.ContextConsumer=vh;De.ContextProvider=xh;De.Element=vv;De.ForwardRef=yh;De.Fragment=ph;De.Lazy=Sh;De.Memo=jh;De.Portal=yv;De.Profiler=gh;De.StrictMode=mh;De.Suspense=bh;De.SuspenseList=wh;De.isAsyncMode=function(){return!1};De.isConcurrentMode=function(){return!1};De.isContextConsumer=function(e){return qr(e)===vh};De.isContextProvider=function(e){return qr(e)===xh};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vv};De.isForwardRef=function(e){return qr(e)===yh};De.isFragment=function(e){return qr(e)===ph};De.isLazy=function(e){return qr(e)===Sh};De.isMemo=function(e){return qr(e)===jh};De.isPortal=function(e){return qr(e)===yv};De.isProfiler=function(e){return qr(e)===gh};De.isStrictMode=function(e){return qr(e)===mh};De.isSuspense=function(e){return qr(e)===bh};De.isSuspenseList=function(e){return qr(e)===wh};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ph||e===gh||e===mh||e===bh||e===wh||e===X8||typeof e=="object"&&e!==null&&(e.$$typeof===Sh||e.$$typeof===jh||e.$$typeof===xh||e.$$typeof===vh||e.$$typeof===yh||e.$$typeof===T4||e.getModuleId!==void 0)};De.typeOf=qr;C4.exports=De;var Z8=C4.exports,J8=Xn,eM=Zn,tM="[object Number]";function rM(e){return typeof e=="number"||eM(e)&&J8(e)==tM}var $4=rM;const nM=$e($4);var sM=$4;function aM(e){return sM(e)&&e!=+e}var iM=aM;const Vc=$e(iM);var Gt=function(t){return t===0?0:t>0?1:-1},la=function(t){return Pa(t)&&t.indexOf("%")===t.length-1},Y=function(t){return nM(t)&&!Vc(t)},oM=function(t){return ue(t)},vt=function(t){return Y(t)||Pa(t)},lM=0,Po=function(t){var r=++lM;return"".concat(t||"").concat(r)},Qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&!Pa(t))return n;var i;if(la(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Vc(i)&&(i=n),s&&i>r&&(i=r),i},ps=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cM=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},gr=function(t,r){return Y(t)&&Y(r)?function(n){return t+n*(r-t)}:function(){return r}};function $d(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):br(n,t))===r})}var uM=function(t,r){return Y(t)&&Y(r)?t-r:Pa(t)&&Pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Pi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var dM=["viewBox","children"],fM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y1=["points","pathLength"],qp={svg:dM,polygon:y1,polyline:y1},bv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!_o(n))return null;var s={};return Object.keys(n).forEach(function(i){bv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},hM=function(t,r,n){return function(s){return t(r,n,s),null}},Ea=function(t,r,n){if(!_o(t)||S0(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];bv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=hM(o,r,n))}),s},pM=["children"],mM=["children"];function b1(e,t){if(e==null)return{};var r=gM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var w1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ln=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},j1=null,Wp=null,wv=function e(t){if(t===j1&&Array.isArray(Wp))return Wp;var r=[];return O.Children.forEach(t,function(n){ue(n)||(Z8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Wp=r,j1=t,r};function wr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ln(s)}):n=[Ln(t)],wv(e).forEach(function(s){var i=br(s,"type.displayName")||br(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function mr(e,t){var r=wr(e,t);return r&&r[0]}var S1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Y(n)||n<=0||!Y(s)||s<=0)},xM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vM=function(t){return t&&t.type&&Pa(t.type)&&xM.indexOf(t.type)>=0},yM=function(t){return t&&_0(t)==="object"&&"clipDot"in t},bM=function(t,r,n,s){var i,o=(i=qp==null?void 0:qp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ce(t)&&(s&&o.includes(r)||fM.includes(r))||n&&bv.includes(r)},se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!_o(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;bM((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},N0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return _1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!_1(i,o))return!1}return!0},_1=function(t,r){if(ue(t)&&ue(r))return!0;if(!ue(t)&&!ue(r)){var n=t.props||{},s=n.children,i=b1(n,pM),o=r.props||{},l=o.children,c=b1(o,mM);return s&&l?Pi(i,c)&&N0(s,l):!s&&!l?Pi(i,c):!1}return!1},N1=function(t,r){var n=[],s={};return wv(t).forEach(function(i,o){if(vM(i))n.push(i);else if(i){var l=Ln(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var d=u(i,l,o);n.push(d),s[l]=!0}}}),n},wM=function(t){var r=t&&t.type;return r&&w1[r]?w1[r]:null},jM=function(t,r){return wv(r).indexOf(t)},SM=["children","width","height","viewBox","className","style","title","desc"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function _M(e,t){if(e==null)return{};var r=NM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O0(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=_M(e,SM),f=s||{width:r,height:n,x:0,y:0},d=he("recharts-surface",i);return k.createElement("svg",A0({},se(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),k.createElement("title",null,l),k.createElement("desc",null,c),t)}var AM=["children","className"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function OM(e,t){if(e==null)return{};var r=PM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Se=k.forwardRef(function(e,t){var r=e.children,n=e.className,s=OM(e,AM),i=he("recharts-layer",n);return k.createElement("g",P0({className:i},se(s,!0),{ref:t}),r)}),sn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function EM(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var kM=EM,CM=kM;function TM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:CM(e,t,r)}var $M=TM,DM="\\ud800-\\udfff",IM="\\u0300-\\u036f",MM="\\ufe20-\\ufe2f",RM="\\u20d0-\\u20ff",LM=IM+MM+RM,FM="\\ufe0e\\ufe0f",UM="\\u200d",BM=RegExp("["+UM+DM+LM+FM+"]");function zM(e){return BM.test(e)}var D4=zM;function qM(e){return e.split("")}var WM=qM,I4="\\ud800-\\udfff",HM="\\u0300-\\u036f",KM="\\ufe20-\\ufe2f",VM="\\u20d0-\\u20ff",GM=HM+KM+VM,QM="\\ufe0e\\ufe0f",YM="["+I4+"]",E0="["+GM+"]",k0="\\ud83c[\\udffb-\\udfff]",XM="(?:"+E0+"|"+k0+")",M4="[^"+I4+"]",R4="(?:\\ud83c[\\udde6-\\uddff]){2}",L4="[\\ud800-\\udbff][\\udc00-\\udfff]",ZM="\\u200d",F4=XM+"?",U4="["+QM+"]?",JM="(?:"+ZM+"(?:"+[M4,R4,L4].join("|")+")"+U4+F4+")*",eR=U4+F4+JM,tR="(?:"+[M4+E0+"?",E0,R4,L4,YM].join("|")+")",rR=RegExp(k0+"(?="+k0+")|"+tR+eR,"g");function nR(e){return e.match(rR)||[]}var sR=nR,aR=WM,iR=D4,oR=sR;function lR(e){return iR(e)?oR(e):aR(e)}var cR=lR,uR=$M,dR=D4,fR=cR,hR=P4;function pR(e){return function(t){t=hR(t);var r=dR(t)?fR(t):void 0,n=r?r[0]:t.charAt(0),s=r?uR(r,1).join(""):t.slice(1);return n[e]()+s}}var mR=pR,gR=mR,xR=gR("toUpperCase"),vR=xR;const _h=$e(vR);function Be(e){return function(){return e}}const B4=Math.cos,Id=Math.sin,on=Math.sqrt,Md=Math.PI,Nh=2*Md,C0=Math.PI,T0=2*C0,Js=1e-6,yR=T0-Js;function z4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return z4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class wR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?z4:bR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Js)if(!(Math.abs(d*c-u*f)>Js)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=s-l,b=c*c+u*u,x=p*p+y*y,w=Math.sqrt(b),v=Math.sqrt(h),m=i*Math.tan((C0-Math.acos((b+h-x)/(2*w*v)))/2),N=m/v,g=m/w;Math.abs(N-1)>Js&&this._append`L${t+N*f},${r+N*d}`,this._append`A${i},${i},0,0,${+(d*p>f*y)},${this._x1=t+g*c},${this._y1=r+g*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,f=r+c,d=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Js||Math.abs(this._y1-f)>Js)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%T0+T0),h>yR?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Js&&this._append`A${n},${n},0,${+(h>=C0)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function jv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wR(t)}function Sv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q4(e){this._context=e}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ah(e){return new q4(e)}function W4(e){return e[0]}function H4(e){return e[1]}function K4(e,t){var r=Be(!0),n=null,s=Ah,i=null,o=jv(l);e=typeof e=="function"?e:e===void 0?W4:Be(e),t=typeof t=="function"?t:t===void 0?H4:Be(t);function l(c){var u,f=(c=Sv(c)).length,d,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Nu(e,t,r){var n=null,s=Be(!0),i=null,o=Ah,l=null,c=jv(u);e=typeof e=="function"?e:e===void 0?W4:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?H4:Be(+r);function u(d){var h,p,y,b=(d=Sv(d)).length,x,w=!1,v,m=new Array(b),N=new Array(b);for(i==null&&(l=o(v=c())),h=0;h<=b;++h){if(!(h<b&&s(x=d[h],h,d))===w)if(w=!w)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(m[y],N[y]);l.lineEnd(),l.areaEnd()}w&&(m[h]=+e(x,h,d),N[h]=+t(x,h,d),l.point(n?+n(x,h,d):m[h],r?+r(x,h,d):N[h]))}if(v)return l=null,v+""||null}function f(){return K4().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Be(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class V4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jR(e){return new V4(e,!0)}function SR(e){return new V4(e,!1)}const _v={draw(e,t){const r=on(t/Md);e.moveTo(r,0),e.arc(0,0,r,0,Nh)}},_R={draw(e,t){const r=on(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},G4=on(1/3),NR=G4*2,AR={draw(e,t){const r=on(t/NR),n=r*G4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OR={draw(e,t){const r=on(t),n=-r/2;e.rect(n,n,r,r)}},PR=.8908130915292852,Q4=Id(Md/10)/Id(7*Md/10),ER=Id(Nh/10)*Q4,kR=-B4(Nh/10)*Q4,CR={draw(e,t){const r=on(t*PR),n=ER*r,s=kR*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Nh*i/5,l=B4(o),c=Id(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Hp=on(3),TR={draw(e,t){const r=-on(t/(Hp*3));e.moveTo(0,r*2),e.lineTo(-Hp*r,-r),e.lineTo(Hp*r,-r),e.closePath()}},Pr=-.5,Er=on(3)/2,$0=1/on(12),$R=($0/2+1)*3,DR={draw(e,t){const r=on(t/$R),n=r/2,s=r*$0,i=n,o=r*$0+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Pr*n-Er*s,Er*n+Pr*s),e.lineTo(Pr*i-Er*o,Er*i+Pr*o),e.lineTo(Pr*l-Er*c,Er*l+Pr*c),e.lineTo(Pr*n+Er*s,Pr*s-Er*n),e.lineTo(Pr*i+Er*o,Pr*o-Er*i),e.lineTo(Pr*l+Er*c,Pr*c-Er*l),e.closePath()}};function IR(e,t){let r=null,n=jv(s);e=typeof e=="function"?e:Be(e||_v),t=typeof t=="function"?t:Be(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Be(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Be(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Rd(){}function Ld(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Y4(e){this._context=e}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MR(e){return new Y4(e)}function X4(e){this._context=e}X4.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RR(e){return new X4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LR(e){return new Z4(e)}function J4(e){this._context=e}J4.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FR(e){return new J4(e)}function A1(e){return e<0?-1:1}function O1(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(A1(i)+A1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function P1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Fd(e){this._context=e}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kp(this,this._t0,P1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kp(this,P1(this,r=O1(this,e,t)),r);break;default:Kp(this,this._t0,r=O1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eA(e){this._context=new tA(e)}(eA.prototype=Object.create(Fd.prototype)).point=function(e,t){Fd.prototype.point.call(this,t,e)};function tA(e){this._context=e}tA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function UR(e){return new Fd(e)}function BR(e){return new eA(e)}function rA(e){this._context=e}rA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=E1(e),s=E1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E1(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function zR(e){return new rA(e)}function Oh(e,t){this._context=e,this._t=t}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function qR(e){return new Oh(e,.5)}function WR(e){return new Oh(e,0)}function HR(e){return new Oh(e,1)}function Bi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function D0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KR(e,t){return e[t]}function VR(e){const t=[];return t.key=e,t}function GR(){var e=Be([]),t=D0,r=Bi,n=KR;function s(i){var o=Array.from(e.apply(this,arguments),VR),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Sv(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Be(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Be(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?D0:typeof i=="function"?i:Be(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Bi,s):r},s}function QR(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Bi(e,t)}}function YR(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bi(e,t)}}function XR(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var b=e[t[y]],x=b[n][1]||0,w=b[n-1][1]||0;p+=x-w}c+=d,u+=p*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Bi(e,t)}}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}var ZR=["type","size","sizeType"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return t=e9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e9(e){var t=t9(e,"string");return Jl(t)=="symbol"?t:t+""}function t9(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e,t){if(e==null)return{};var r=n9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nA={symbolCircle:_v,symbolCross:_R,symbolDiamond:AR,symbolSquare:OR,symbolStar:CR,symbolTriangle:TR,symbolWye:DR},s9=Math.PI/180,a9=function(t){var r="symbol".concat(_h(t));return nA[r]||_v},i9=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*s9;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},o9=function(t,r){nA["symbol".concat(_h(t))]=r},Nv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=r9(t,ZR),u=C1(C1({},c),{},{type:n,size:i,sizeType:l}),f=function(){var x=a9(n),w=IR().type(x).size(i9(i,l,n));return w()},d=u.className,h=u.cx,p=u.cy,y=se(u,!0);return h===+h&&p===+p&&i===+i?k.createElement("path",I0({},y,{className:he("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Nv.registerSymbol=o9;function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aA(n.key),n)}}function d9(e,t,r){return t&&u9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f9(e,t,r){return t=Ud(t),h9(e,sA()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function h9(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9(e)}function p9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sA=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function m9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R0(e,t)}function R0(e,t){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},R0(e,t)}function ec(e,t,r){return t=aA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aA(e){var t=g9(e,"string");return zi(t)=="symbol"?t:t+""}function g9(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kr=32,Av=function(e){function t(){return c9(this,t),f9(this,t,arguments)}return m9(t,e),d9(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=kr/2,o=kr/6,l=kr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:kr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(kr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(kr/8,"h").concat(kr,"v").concat(kr*3/4,"h").concat(-kr,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=l9({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(Nv,{fill:c,cx:i,cy:i,size:kr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:kr,height:kr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var b=p.formatter||c,x=he(ec(ec({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ce(p.value)?null:p.value;sn(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return k.createElement("li",M0({className:x,style:d,key:"legend-item-".concat(y)},Ea(n.props,p,y)),k.createElement(O0,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b?b(w,p,y):w))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);ec(Av,"displayName","Legend");ec(Av,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x9=dh;function v9(){this.__data__=new x9,this.size=0}var y9=v9;function b9(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w9=b9;function j9(e){return this.__data__.get(e)}var S9=j9;function _9(e){return this.__data__.has(e)}var N9=_9,A9=dh,O9=hv,P9=pv,E9=200;function k9(e,t){var r=this.__data__;if(r instanceof A9){var n=r.__data__;if(!O9||n.length<E9-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new P9(n)}return r.set(e,t),this.size=r.size,this}var C9=k9,T9=dh,$9=y9,D9=w9,I9=S9,M9=N9,R9=C9;function Eo(e){var t=this.__data__=new T9(e);this.size=t.size}Eo.prototype.clear=$9;Eo.prototype.delete=D9;Eo.prototype.get=I9;Eo.prototype.has=M9;Eo.prototype.set=R9;var iA=Eo,L9="__lodash_hash_undefined__";function F9(e){return this.__data__.set(e,L9),this}var U9=F9;function B9(e){return this.__data__.has(e)}var z9=B9,q9=pv,W9=U9,H9=z9;function Bd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new q9;++t<r;)this.add(e[t])}Bd.prototype.add=Bd.prototype.push=W9;Bd.prototype.has=H9;var oA=Bd;function K9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var lA=K9;function V9(e,t){return e.has(t)}var cA=V9,G9=oA,Q9=lA,Y9=cA,X9=1,Z9=2;function J9(e,t,r,n,s,i){var o=r&X9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&Z9?new G9:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var y=e[d],b=t[d];if(n)var x=o?n(b,y,d,t,e,i):n(y,b,d,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Q9(t,function(w,v){if(!Y9(p,v)&&(y===w||s(y,w,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(y===b||s(y,b,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var uA=J9,eL=wn,tL=eL.Uint8Array,rL=tL;function nL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var sL=nL;function aL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ov=aL,$1=Kc,D1=rL,iL=fv,oL=uA,lL=sL,cL=Ov,uL=1,dL=2,fL="[object Boolean]",hL="[object Date]",pL="[object Error]",mL="[object Map]",gL="[object Number]",xL="[object RegExp]",vL="[object Set]",yL="[object String]",bL="[object Symbol]",wL="[object ArrayBuffer]",jL="[object DataView]",I1=$1?$1.prototype:void 0,Vp=I1?I1.valueOf:void 0;function SL(e,t,r,n,s,i,o){switch(r){case jL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wL:return!(e.byteLength!=t.byteLength||!i(new D1(e),new D1(t)));case fL:case hL:case gL:return iL(+e,+t);case pL:return e.name==t.name&&e.message==t.message;case xL:case yL:return e==t+"";case mL:var l=lL;case vL:var c=n&uL;if(l||(l=cL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=dL,o.set(e,t);var f=oL(l(e),l(t),n,s,i,o);return o.delete(e),f;case bL:if(Vp)return Vp.call(e)==Vp.call(t)}return!1}var _L=SL;function NL(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var dA=NL,AL=dA,OL=dr;function PL(e,t,r){var n=t(e);return OL(e)?n:AL(n,r(e))}var EL=PL;function kL(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var CL=kL;function TL(){return[]}var $L=TL,DL=CL,IL=$L,ML=Object.prototype,RL=ML.propertyIsEnumerable,M1=Object.getOwnPropertySymbols,LL=M1?function(e){return e==null?[]:(e=Object(e),DL(M1(e),function(t){return RL.call(e,t)}))}:IL,FL=LL;function UL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var BL=UL,zL=Xn,qL=Zn,WL="[object Arguments]";function HL(e){return qL(e)&&zL(e)==WL}var KL=HL,R1=KL,VL=Zn,fA=Object.prototype,GL=fA.hasOwnProperty,QL=fA.propertyIsEnumerable,YL=R1(function(){return arguments}())?R1:function(e){return VL(e)&&GL.call(e,"callee")&&!QL.call(e,"callee")},Pv=YL,zd={exports:{}};function XL(){return!1}var ZL=XL;zd.exports;(function(e,t){var r=wn,n=ZL,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(zd,zd.exports);var hA=zd.exports,JL=9007199254740991,e7=/^(?:0|[1-9]\d*)$/;function t7(e,t){var r=typeof e;return t=t??JL,!!t&&(r=="number"||r!="symbol"&&e7.test(e))&&e>-1&&e%1==0&&e<t}var Ev=t7,r7=9007199254740991;function n7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r7}var kv=n7,s7=Xn,a7=kv,i7=Zn,o7="[object Arguments]",l7="[object Array]",c7="[object Boolean]",u7="[object Date]",d7="[object Error]",f7="[object Function]",h7="[object Map]",p7="[object Number]",m7="[object Object]",g7="[object RegExp]",x7="[object Set]",v7="[object String]",y7="[object WeakMap]",b7="[object ArrayBuffer]",w7="[object DataView]",j7="[object Float32Array]",S7="[object Float64Array]",_7="[object Int8Array]",N7="[object Int16Array]",A7="[object Int32Array]",O7="[object Uint8Array]",P7="[object Uint8ClampedArray]",E7="[object Uint16Array]",k7="[object Uint32Array]",Ye={};Ye[j7]=Ye[S7]=Ye[_7]=Ye[N7]=Ye[A7]=Ye[O7]=Ye[P7]=Ye[E7]=Ye[k7]=!0;Ye[o7]=Ye[l7]=Ye[b7]=Ye[c7]=Ye[w7]=Ye[u7]=Ye[d7]=Ye[f7]=Ye[h7]=Ye[p7]=Ye[m7]=Ye[g7]=Ye[x7]=Ye[v7]=Ye[y7]=!1;function C7(e){return i7(e)&&a7(e.length)&&!!Ye[s7(e)]}var T7=C7;function $7(e){return function(t){return e(t)}}var pA=$7,qd={exports:{}};qd.exports;(function(e,t){var r=j4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qd,qd.exports);var D7=qd.exports,I7=T7,M7=pA,L1=D7,F1=L1&&L1.isTypedArray,R7=F1?M7(F1):I7,mA=R7,L7=BL,F7=Pv,U7=dr,B7=hA,z7=Ev,q7=mA,W7=Object.prototype,H7=W7.hasOwnProperty;function K7(e,t){var r=U7(e),n=!r&&F7(e),s=!r&&!n&&B7(e),i=!r&&!n&&!s&&q7(e),o=r||n||s||i,l=o?L7(e.length,String):[],c=l.length;for(var u in e)(t||H7.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||z7(u,c)))&&l.push(u);return l}var V7=K7,G7=Object.prototype;function Q7(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||G7;return e===r}var Y7=Q7;function X7(e,t){return function(r){return e(t(r))}}var gA=X7,Z7=gA,J7=Z7(Object.keys,Object),eF=J7,tF=Y7,rF=eF,nF=Object.prototype,sF=nF.hasOwnProperty;function aF(e){if(!tF(e))return rF(e);var t=[];for(var r in Object(e))sF.call(e,r)&&r!="constructor"&&t.push(r);return t}var iF=aF,oF=dv,lF=kv;function cF(e){return e!=null&&lF(e.length)&&!oF(e)}var Gc=cF,uF=V7,dF=iF,fF=Gc;function hF(e){return fF(e)?uF(e):dF(e)}var Ph=hF,pF=EL,mF=FL,gF=Ph;function xF(e){return pF(e,gF,mF)}var vF=xF,U1=vF,yF=1,bF=Object.prototype,wF=bF.hasOwnProperty;function jF(e,t,r,n,s,i){var o=r&yF,l=U1(e),c=l.length,u=U1(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:wF.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var b=!0;i.set(e,t),i.set(t,e);for(var x=o;++d<c;){h=l[d];var w=e[h],v=t[h];if(n)var m=o?n(v,w,h,t,e,i):n(w,v,h,e,t,i);if(!(m===void 0?w===v||s(w,v,r,n,i):m)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var N=e.constructor,g=t.constructor;N!=g&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof g=="function"&&g instanceof g)&&(b=!1)}return i.delete(e),i.delete(t),b}var SF=jF,_F=La,NF=wn,AF=_F(NF,"DataView"),OF=AF,PF=La,EF=wn,kF=PF(EF,"Promise"),CF=kF,TF=La,$F=wn,DF=TF($F,"Set"),xA=DF,IF=La,MF=wn,RF=IF(MF,"WeakMap"),LF=RF,L0=OF,F0=hv,U0=CF,B0=xA,z0=LF,vA=Xn,ko=_4,B1="[object Map]",FF="[object Object]",z1="[object Promise]",q1="[object Set]",W1="[object WeakMap]",H1="[object DataView]",UF=ko(L0),BF=ko(F0),zF=ko(U0),qF=ko(B0),WF=ko(z0),ea=vA;(L0&&ea(new L0(new ArrayBuffer(1)))!=H1||F0&&ea(new F0)!=B1||U0&&ea(U0.resolve())!=z1||B0&&ea(new B0)!=q1||z0&&ea(new z0)!=W1)&&(ea=function(e){var t=vA(e),r=t==FF?e.constructor:void 0,n=r?ko(r):"";if(n)switch(n){case UF:return H1;case BF:return B1;case zF:return z1;case qF:return q1;case WF:return W1}return t});var HF=ea,Gp=iA,KF=uA,VF=_L,GF=SF,K1=HF,V1=dr,G1=hA,QF=mA,YF=1,Q1="[object Arguments]",Y1="[object Array]",Au="[object Object]",XF=Object.prototype,X1=XF.hasOwnProperty;function ZF(e,t,r,n,s,i){var o=V1(e),l=V1(t),c=o?Y1:K1(e),u=l?Y1:K1(t);c=c==Q1?Au:c,u=u==Q1?Au:u;var f=c==Au,d=u==Au,h=c==u;if(h&&G1(e)){if(!G1(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Gp),o||QF(e)?KF(e,t,r,n,s,i):VF(e,t,c,r,n,s,i);if(!(r&YF)){var p=f&&X1.call(e,"__wrapped__"),y=d&&X1.call(t,"__wrapped__");if(p||y){var b=p?e.value():e,x=y?t.value():t;return i||(i=new Gp),s(b,x,r,n,i)}}return h?(i||(i=new Gp),GF(e,t,r,n,s,i)):!1}var JF=ZF,eU=JF,Z1=Zn;function yA(e,t,r,n,s){return e===t?!0:e==null||t==null||!Z1(e)&&!Z1(t)?e!==e&&t!==t:eU(e,t,r,n,yA,s)}var Cv=yA,tU=iA,rU=Cv,nU=1,sU=2;function aU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new tU;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?rU(f,u,nU|sU,n,d):h))return!1}}return!0}var iU=aU,oU=Us;function lU(e){return e===e&&!oU(e)}var bA=lU,cU=bA,uU=Ph;function dU(e){for(var t=uU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,cU(s)]}return t}var fU=dU;function hU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var wA=hU,pU=iU,mU=fU,gU=wA;function xU(e){var t=mU(e);return t.length==1&&t[0][2]?gU(t[0][0],t[0][1]):function(r){return r===e||pU(r,e,t)}}var vU=xU;function yU(e,t){return e!=null&&t in Object(e)}var bU=yU,wU=E4,jU=Pv,SU=dr,_U=Ev,NU=kv,AU=hh;function OU(e,t,r){t=wU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=AU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&NU(s)&&_U(o,s)&&(SU(e)||jU(e)))}var PU=OU,EU=bU,kU=PU;function CU(e,t){return e!=null&&kU(e,t,EU)}var TU=CU,$U=Cv,DU=k4,IU=TU,MU=uv,RU=bA,LU=wA,FU=hh,UU=1,BU=2;function zU(e,t){return MU(e)&&RU(t)?LU(FU(e),t):function(r){var n=DU(r,e);return n===void 0&&n===t?IU(r,e):$U(t,n,UU|BU)}}var qU=zU;function WU(e){return e}var Co=WU;function HU(e){return function(t){return t==null?void 0:t[e]}}var KU=HU,VU=xv;function GU(e){return function(t){return VU(t,e)}}var QU=GU,YU=KU,XU=QU,ZU=uv,JU=hh;function eB(e){return ZU(e)?YU(JU(e)):XU(e)}var tB=eB,rB=vU,nB=qU,sB=Co,aB=dr,iB=tB;function oB(e){return typeof e=="function"?e:e==null?sB:typeof e=="object"?aB(e)?nB(e[0],e[1]):rB(e):iB(e)}var jn=oB;function lB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var jA=lB;function cB(e){return e!==e}var uB=cB;function dB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var fB=dB,hB=jA,pB=uB,mB=fB;function gB(e,t,r){return t===t?mB(e,t,r):hB(e,pB,r)}var xB=gB,vB=xB;function yB(e,t){var r=e==null?0:e.length;return!!r&&vB(e,t,0)>-1}var bB=yB;function wB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var jB=wB;function SB(){}var _B=SB,Qp=xA,NB=_B,AB=Ov,OB=1/0,PB=Qp&&1/AB(new Qp([,-0]))[1]==OB?function(e){return new Qp(e)}:NB,EB=PB,kB=oA,CB=bB,TB=jB,$B=cA,DB=EB,IB=Ov,MB=200;function RB(e,t,r){var n=-1,s=CB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=TB;else if(i>=MB){var u=t?null:DB(e);if(u)return IB(u);o=!1,s=$B,c=new kB}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var LB=RB,FB=jn,UB=LB;function BB(e,t){return e&&e.length?UB(e,FB(t)):[]}var zB=BB;const J1=$e(zB);function SA(e,t,r){return t===!0?J1(e,r):ce(t)?J1(e,t):e}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var qB=["ref"];function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NA(n.key),n)}}function HB(e,t,r){return t&&tw(e.prototype,t),r&&tw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KB(e,t,r){return t=Wd(t),VB(e,_A()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function VB(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GB(e)}function GB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function QB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q0(e,t)}function q0(e,t){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q0(e,t)}function Eh(e,t,r){return t=NA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NA(e){var t=YB(e,"string");return qi(t)=="symbol"?t:t+""}function YB(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t){if(e==null)return{};var r=ZB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JB(e){return e.value}function ez(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=XB(t,qB);return k.createElement(Av,r)}var rw=1,Ei=function(e){function t(){var r;WB(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=KB(this,t,[].concat(s)),Eh(r,"lastBoundingBox",{width:-1,height:-1}),r}return QB(t,e),HB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>rw||Math.abs(s.height-this.lastBoundingBox.height)>rw)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_n({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _n(_n({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,d=_n(_n({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},ez(i,_n(_n({},this.props),{},{payload:SA(f,u,JB)})))}}],[{key:"getWithHeight",value:function(n,s){var i=_n(_n({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);Eh(Ei,"displayName","Legend");Eh(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nw=Kc,tz=Pv,rz=dr,sw=nw?nw.isConcatSpreadable:void 0;function nz(e){return rz(e)||tz(e)||!!(sw&&e&&e[sw])}var sz=nz,az=dA,iz=sz;function AA(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=iz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?AA(l,t-1,r,n,s):az(s,l):n||(s[s.length]=l)}return s}var OA=AA;function oz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var lz=oz,cz=lz,uz=cz(),dz=uz,fz=dz,hz=Ph;function pz(e,t){return e&&fz(e,t,hz)}var PA=pz,mz=Gc;function gz(e,t){return function(r,n){if(r==null)return r;if(!mz(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var xz=gz,vz=PA,yz=xz,bz=yz(vz),Tv=bz,wz=Tv,jz=Gc;function Sz(e,t){var r=-1,n=jz(e)?Array(e.length):[];return wz(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var EA=Sz;function _z(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Nz=_z,aw=So;function Az(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=aw(e),o=t!==void 0,l=t===null,c=t===t,u=aw(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Oz=Az,Pz=Oz;function Ez(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Pz(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kz=Ez,Yp=gv,Cz=xv,Tz=jn,$z=EA,Dz=Nz,Iz=pA,Mz=kz,Rz=Co,Lz=dr;function Fz(e,t,r){t.length?t=Yp(t,function(i){return Lz(i)?function(o){return Cz(o,i.length===1?i[0]:i)}:i}):t=[Rz];var n=-1;t=Yp(t,Iz(Tz));var s=$z(e,function(i,o,l){var c=Yp(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Dz(s,function(i,o){return Mz(i,o,r)})}var Uz=Fz;function Bz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zz=Bz,qz=zz,iw=Math.max;function Wz(e,t,r){return t=iw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=iw(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),qz(e,this,l)}}var Hz=Wz;function Kz(e){return function(){return e}}var Vz=Kz,Gz=La,Qz=function(){try{var e=Gz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),kA=Qz,Yz=Vz,ow=kA,Xz=Co,Zz=ow?function(e,t){return ow(e,"toString",{configurable:!0,enumerable:!1,value:Yz(t),writable:!0})}:Xz,Jz=Zz,eq=800,tq=16,rq=Date.now;function nq(e){var t=0,r=0;return function(){var n=rq(),s=tq-(n-r);if(r=n,s>0){if(++t>=eq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sq=nq,aq=Jz,iq=sq,oq=iq(aq),lq=oq,cq=Co,uq=Hz,dq=lq;function fq(e,t){return dq(uq(e,t,cq),e+"")}var hq=fq,pq=fv,mq=Gc,gq=Ev,xq=Us;function vq(e,t,r){if(!xq(r))return!1;var n=typeof t;return(n=="number"?mq(r)&&gq(t,r.length):n=="string"&&t in r)?pq(r[t],e):!1}var kh=vq,yq=OA,bq=Uz,wq=hq,lw=kh,jq=wq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&lw(e,t[0],t[1])?t=[]:r>2&&lw(t[0],t[1],t[2])&&(t=[t[0]]),bq(e,yq(t,1),[])}),Sq=jq;const $v=$e(Sq);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function _q(e,t){return Pq(e)||Oq(e,t)||Aq(e,t)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aq(e,t){if(e){if(typeof e=="string")return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}function cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Pq(e){if(Array.isArray(e))return e}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return t=kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=Cq(e,"string");return tc(t)=="symbol"?t:t+""}function Cq(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tq(e){return Array.isArray(e)&&vt(e[0])&&vt(e[1])?e.join(" ~ "):e}var $q=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,b=t.label,x=t.labelFormatter,w=t.accessibilityLayer,v=w===void 0?!1:w,m=function(){if(f&&f.length){var C={padding:0,margin:0},I=(h?$v(f,h):f).map(function($,L){if($.type==="none")return null;var U=Xp({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),W=$.formatter||d||Tq,T=$.value,R=$.name,D=T,K=R;if(W&&D!=null&&K!=null){var Q=W(T,R,$,L,f);if(Array.isArray(Q)){var te=_q(Q,2);D=te[0],K=te[1]}else D=Q}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},vt(K)?k.createElement("span",{className:"recharts-tooltip-item-name"},K):null,vt(K)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},D),k.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},N=Xp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),g=Xp({margin:0},u),j=!ue(b),_=j?b:"",S=he("recharts-default-tooltip",p),A=he("recharts-tooltip-label",y);j&&x&&f!==void 0&&f!==null&&(_=x(b,f));var P=v?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",W0({className:S,style:N},P),k.createElement("p",{className:A,style:g},k.isValidElement(_)?_:"".concat(_)),m())};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Ou(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Iq(e,"string");return rc(t)=="symbol"?t:t+""}function Iq(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qo="recharts-tooltip-wrapper",Mq={visibility:"hidden"};function Rq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return he(Qo,Ou(Ou(Ou(Ou({},"".concat(Qo,"-right"),Y(r)&&t&&Y(t.x)&&r>=t.x),"".concat(Qo,"-left"),Y(r)&&t&&Y(t.x)&&r<t.x),"".concat(Qo,"-bottom"),Y(n)&&t&&Y(t.y)&&n>=t.y),"".concat(Qo,"-top"),Y(n)&&t&&Y(t.y)&&n<t.y))}function dw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Y(i[n]))return i[n];var f=r[n]-l-s,d=r[n]+s;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,b=c[n]+u;return y>b?Math.max(f,c[n]):Math.max(d,c[n])}function Lq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=dw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=dw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Lq({translateX:f,translateY:d,useTranslate3d:l})):u=Mq,{cssProperties:u,cssClasses:Rq({translateX:f,translateY:d,coordinate:r})}}function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TA(n.key),n)}}function zq(e,t,r){return t&&Bq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qq(e,t,r){return t=Hd(t),Wq(e,CA()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function Wq(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hq(e)}function Hq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CA=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function Kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H0(e,t)}function H0(e,t){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H0(e,t)}function K0(e,t,r){return t=TA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e){var t=Vq(e,"string");return Wi(t)=="symbol"?t:t+""}function Vq(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pw=1,Gq=function(e){function t(){var r;Uq(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=qq(this,t,[].concat(s)),K0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),K0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Kq(t,e),zq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>pw||Math.abs(n.height-this.state.lastBoundingBox.height)>pw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,p=s.offset,y=s.position,b=s.reverseDirection,x=s.useTranslate3d,w=s.viewBox,v=s.wrapperStyle,m=Fq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),N=m.cssClasses,g=m.cssProperties,j=hw(hw({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return k.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),Qq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gn={isSsr:Qq(),get:function(t){return gn[t]},set:function(t,r){if(typeof t=="string")gn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){gn[s]=t[s]})}}};function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function Zq(e,t,r){return t&&Xq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e,t,r){return t=Kd(t),eW(e,$A()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function eW(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tW(e)}function tW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function rW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V0(e,t)}function Dv(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=nW(e,"string");return Hi(t)=="symbol"?t:t+""}function nW(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e){return e.dataKey}function aW(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement($q,t)}var ze=function(e){function t(){return Yq(this,t),Jq(this,t,arguments)}return rW(t,e),Zq(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,d=s.filterNull,h=s.isAnimationActive,p=s.offset,y=s.payload,b=s.payloadUniqBy,x=s.position,w=s.reverseDirection,v=s.useTranslate3d,m=s.viewBox,N=s.wrapperStyle,g=y??[];d&&g.length&&(g=SA(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),b,sW));var j=g.length>0;return k.createElement(Gq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:j,offset:p,position:x,reverseDirection:w,useTranslate3d:v,viewBox:m,wrapperStyle:N},aW(u,gw(gw({},this.props),{},{payload:g})))}}])}(O.PureComponent);Dv(ze,"displayName","Tooltip");Dv(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iW=wn,oW=function(){return iW.Date.now()},lW=oW,cW=/\s/;function uW(e){for(var t=e.length;t--&&cW.test(e.charAt(t)););return t}var dW=uW,fW=dW,hW=/^\s+/;function pW(e){return e&&e.slice(0,fW(e)+1).replace(hW,"")}var mW=pW,gW=mW,xw=Us,xW=So,vw=NaN,vW=/^[-+]0x[0-9a-f]+$/i,yW=/^0b[01]+$/i,bW=/^0o[0-7]+$/i,wW=parseInt;function jW(e){if(typeof e=="number")return e;if(xW(e))return vw;if(xw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gW(e);var r=yW.test(e);return r||bW.test(e)?wW(e.slice(2),r?2:8):vW.test(e)?vw:+e}var IA=jW,SW=Us,Zp=lW,yw=IA,_W="Expected a function",NW=Math.max,AW=Math.min;function OW(e,t,r){var n,s,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(_W);t=yw(t)||0,SW(r)&&(f=!!r.leading,d="maxWait"in r,i=d?NW(yw(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var _=n,S=s;return n=s=void 0,u=j,o=e.apply(S,_),o}function y(j){return u=j,l=setTimeout(w,t),f?p(j):o}function b(j){var _=j-c,S=j-u,A=t-_;return d?AW(A,i-S):A}function x(j){var _=j-c,S=j-u;return c===void 0||_>=t||_<0||d&&S>=i}function w(){var j=Zp();if(x(j))return v(j);l=setTimeout(w,b(j))}function v(j){return l=void 0,h&&n?p(j):(n=s=void 0,o)}function m(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:v(Zp())}function g(){var j=Zp(),_=x(j);if(n=arguments,s=this,c=j,_){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(w,t),p(c)}return l===void 0&&(l=setTimeout(w,t)),o}return g.cancel=m,g.flush=N,g}var PW=OW,EW=PW,kW=Us,CW="Expected a function";function TW(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(CW);return kW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),EW(e,t,{leading:n,maxWait:t,trailing:s})}var $W=TW;const MA=$e($W);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=MW(e,"string");return nc(t)=="symbol"?t:t+""}function MW(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){return BW(e)||UW(e,t)||FW(e,t)||LW()}function LW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(e,t){if(e){if(typeof e=="string")return ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ww(e,t)}}function ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BW(e){if(Array.isArray(e))return e}var Tt=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,b=y===void 0?0:y,x=e.id,w=e.className,v=e.onResize,m=e.style,N=m===void 0?{}:m,g=O.useRef(null),j=O.useRef();j.current=v,O.useImperativeHandle(t,function(){return Object.defineProperty(g.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),g.current},configurable:!0})});var _=O.useState({containerWidth:s.width,containerHeight:s.height}),S=RW(_,2),A=S[0],P=S[1],E=O.useCallback(function(I,$){P(function(L){var U=Math.round(I),W=Math.round($);return L.containerWidth===U&&L.containerHeight===W?L:{containerWidth:U,containerHeight:W}})},[]);O.useEffect(function(){var I=function(R){var D,K=R[0].contentRect,Q=K.width,te=K.height;E(Q,te),(D=j.current)===null||D===void 0||D.call(j,Q,te)};b>0&&(I=MA(I,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),L=g.current.getBoundingClientRect(),U=L.width,W=L.height;return E(U,W),$.observe(g.current),function(){$.disconnect()}},[E,b]);var C=O.useMemo(function(){var I=A.containerWidth,$=A.containerHeight;if(I<0||$<0)return null;sn(la(o)||la(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=la(o)?I:o,U=la(c)?$:c;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),sn(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,o,c,f,d,r);var W=!Array.isArray(p)&&Ln(p.type).endsWith("Chart");return k.Children.map(p,function(T){return k.isValidElement(T)?O.cloneElement(T,Pu({width:L,height:U},W?{style:Pu({height:"100%",width:"100%",maxHeight:U,maxWidth:L},T.props.style)}:{})):T})},[r,p,c,h,d,f,A,o]);return k.createElement("div",{id:x?"".concat(x):void 0,className:he("recharts-responsive-container",w),style:Pu(Pu({},N),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:g},C)}),Bs=function(t){return null};Bs.displayName="Cell";function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=WW(e,"string");return sc(t)=="symbol"?t:t+""}function WW(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xa={widthCache:{},cacheCount:0},HW=2e3,KW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sw="recharts_measurement_span";function VW(e){var t=G0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var jl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gn.isSsr)return{width:0,height:0};var n=VW(r),s=JSON.stringify({text:t,copyStyle:n});if(Xa.widthCache[s])return Xa.widthCache[s];try{var i=document.getElementById(Sw);i||(i=document.createElement("span"),i.setAttribute("id",Sw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=G0(G0({},KW),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Xa.widthCache[s]=c,++Xa.cacheCount>HW&&(Xa.cacheCount=0,Xa.widthCache={}),c}catch{return{width:0,height:0}}},GW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Vd(e,t){return ZW(e)||XW(e,t)||YW(e,t)||QW()}function QW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ZW(e){if(Array.isArray(e))return e}function JW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function eH(e,t,r){return t&&Nw(e.prototype,t),r&&Nw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tH(e){var t=rH(e,"string");return ac(t)=="symbol"?t:t+""}function rH(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ow=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aH=Object.keys(RA),gi="NaN";function iH(e,t){return e*RA[t]}var Eu=function(){function e(t,r){JW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nH.test(r)&&(this.num=NaN,this.unit=""),aH.includes(r)&&(this.num=iH(t,r),this.unit="px")}return eH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=sH.exec(r))!==null&&n!==void 0?n:[],i=Vd(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function LA(e){if(e.includes(gi))return gi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Aw.exec(t))!==null&&r!==void 0?r:[],s=Vd(n,4),i=s[1],o=s[2],l=s[3],c=Eu.parse(i??""),u=Eu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return gi;t=t.replace(Aw,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Ow.exec(t))!==null&&d!==void 0?d:[],p=Vd(h,4),y=p[1],b=p[2],x=p[3],w=Eu.parse(y??""),v=Eu.parse(x??""),m=b==="+"?w.add(v):w.subtract(v);if(m.isNaN())return gi;t=t.replace(Ow,m.toString())}return t}var Pw=/\(([^()]*)\)/;function oH(e){for(var t=e;t.includes("(");){var r=Pw.exec(t),n=Vd(r,2),s=n[1];t=t.replace(Pw,LA(s))}return t}function lH(e){var t=e.replace(/\s+/g,"");return t=oH(t),t=LA(t),t}function cH(e){try{return lH(e)}catch{return gi}}function Jp(e){var t=cH(e.slice(5,-1));return t===gi?"":t}var uH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dH=["dx","dy","angle","className","breakAll"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function Ew(e,t){if(e==null)return{};var r=fH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kw(e,t){return gH(e)||mH(e,t)||pH(e,t)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gH(e){if(Array.isArray(e))return e}var FA=/[ \f\n\r\t\v\u2028\u2029]+/,UA=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];ue(r)||(n?i=r.toString().split(""):i=r.toString().split(FA));var o=i.map(function(c){return{word:c,width:jl(c,s).width}}),l=n?0:jl(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Y(o),d=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,W){var T=W.word,R=W.width,D=U[U.length-1];if(D&&(s==null||i||D.width+R+n<Number(s)))D.words.push(T),D.width+=R+n;else{var K={words:[T],width:R};U.push(K)}return U},[])},p=h(r),y=function(L){return L.reduce(function(U,W){return U.width>W.width?U:W})};if(!f)return p;for(var b="…",x=function(L){var U=d.slice(0,L),W=UA({breakAll:u,style:c,children:U+b}).wordsWithComputedWidth,T=h(W),R=T.length>o||y(T).width>Number(s);return[R,T]},w=0,v=d.length-1,m=0,N;w<=v&&m<=d.length-1;){var g=Math.floor((w+v)/2),j=g-1,_=x(j),S=kw(_,2),A=S[0],P=S[1],E=x(g),C=kw(E,1),I=C[0];if(!A&&!I&&(w=g+1),A&&I&&(v=g-1),!A&&I){N=P;break}m++}return N||p},Tw=function(t){var r=ue(t)?[]:t.toString().split(FA);return[{words:r}]},vH=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!gn.isSsr){var c,u,f=UA({breakAll:o,children:s,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return Tw(s);return xH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return Tw(s)},$w="#808080",ka=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,b=y===void 0?"end":y,x=t.fill,w=x===void 0?$w:x,v=Ew(t,uH),m=O.useMemo(function(){return vH({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),N=v.dx,g=v.dy,j=v.angle,_=v.className,S=v.breakAll,A=Ew(v,dH);if(!vt(n)||!vt(i))return null;var P=n+(Y(N)?N:0),E=i+(Y(g)?g:0),C;switch(b){case"start":C=Jp("calc(".concat(u,")"));break;case"middle":C=Jp("calc(".concat((m.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Jp("calc(".concat(m.length-1," * -").concat(l,")"));break}var I=[];if(d){var $=m[0].width,L=v.width;I.push("scale(".concat((Y(L)?L/$:1)/$,")"))}return j&&I.push("rotate(".concat(j,", ").concat(P,", ").concat(E,")")),I.length&&(A.transform=I.join(" ")),k.createElement("text",Q0({},se(A,!0),{x:P,y:E,className:he("recharts-text",_),textAnchor:p,fill:w.includes("url")?$w:w}),m.map(function(U,W){var T=U.words.join(S?"":" ");return k.createElement("tspan",{x:P,dy:W===0?C:l,key:"".concat(T,"-").concat(W)},T)}))};function Cs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iv(e){let t,r,n;e.length!==2?(t=Cs,r=(l,c)=>Cs(e(l),c),n=(l,c)=>e(l)-c):(t=e===Cs||e===yH?e:bH,r=e,n=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function bH(){return 0}function BA(e){return e===null?NaN:+e}function*wH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jH=Iv(Cs),Qc=jH.right;Iv(BA).center;class Dw extends Map{constructor(t,r=NH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Iw(this,t))}has(t){return super.has(Iw(this,t))}set(t,r){return super.set(SH(this,t),r)}delete(t){return super.delete(_H(this,t))}}function Iw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _H({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function NH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AH(e=Cs){if(e===Cs)return zA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OH=Math.sqrt(50),PH=Math.sqrt(10),EH=Math.sqrt(2);function Gd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=OH?10:i>=PH?5:i>=EH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gd(e,t,r*2):[l,c,u]}function Y0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Gd(t,e,r):Gd(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function X0(e,t,r){return t=+t,e=+e,r=+r,Gd(e,t,r)[2]}function Z0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?X0(t,e,r):X0(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Mw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Rw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qA(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?zA:AH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));qA(e,t,p,y,s)}const i=e[t];let o=r,l=n;for(Yo(e,r,t),s(e[n],i)>0&&Yo(e,r,n);o<l;){for(Yo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Yo(e,r,l):(++l,Yo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Yo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kH(e,t,r){if(e=Float64Array.from(wH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Rw(e);if(t>=1)return Mw(e);var n,s=(n-1)*t,i=Math.floor(s),o=Mw(qA(e,i).subarray(0,i+1)),l=Rw(e.subarray(i+1));return o+(l-o)*(s-i)}}function CH(e,t,r=BA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function TH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const J0=Symbol("implicit");function Mv(){var e=new Dw,t=[],r=[],n=J0;function s(i){let o=e.get(i);if(o===void 0){if(n!==J0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Dw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Mv(t,r).unknown(n)},Wr.apply(s,arguments),s}function ic(){var e=Mv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=s<n,y=p?s:n,b=p?n:s;i=(b-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(b-y-i*(h-c))*f,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var x=TH(h).map(function(w){return y+i*w});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return ic(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},Wr.apply(d(),arguments)}function WA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WA(t())},e}function Sl(){return WA(ic.apply(null,arguments).paddingInner(1))}function Rv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yc(){}var oc=.7,Qd=1/oc,ki="\\s*([+-]?\\d+)\\s*",lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$H=/^#([0-9a-f]{3,8})$/,DH=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),IH=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),MH=new RegExp(`^rgba\\(${ki},${ki},${ki},${lc}\\)$`),RH=new RegExp(`^rgba\\(${xn},${xn},${xn},${lc}\\)$`),LH=new RegExp(`^hsl\\(${lc},${xn},${xn}\\)$`),FH=new RegExp(`^hsla\\(${lc},${xn},${xn},${lc}\\)$`),Lw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rv(Yc,cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fw,formatHex:Fw,formatHex8:UH,formatHsl:BH,formatRgb:Uw,toString:Uw});function Fw(){return this.rgb().formatHex()}function UH(){return this.rgb().formatHex8()}function BH(){return KA(this).formatHsl()}function Uw(){return this.rgb().formatRgb()}function cc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$H.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Bw(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DH.exec(e))?new ir(t[1],t[2],t[3],1):(t=IH.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MH.exec(e))?ku(t[1],t[2],t[3],t[4]):(t=RH.exec(e))?ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LH.exec(e))?Ww(t[1],t[2]/100,t[3]/100,1):(t=FH.exec(e))?Ww(t[1],t[2]/100,t[3]/100,t[4]):Lw.hasOwnProperty(e)?Bw(Lw[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function Bw(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function ku(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function zH(e){return e instanceof Yc||(e=cc(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function eg(e,t,r,n){return arguments.length===1?zH(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Rv(ir,eg,HA(Yc,{brighter(e){return e=e==null?Qd:Math.pow(Qd,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?oc:Math.pow(oc,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(ma(this.r),ma(this.g),ma(this.b),Yd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zw,formatHex:zw,formatHex8:qH,formatRgb:qw,toString:qw}));function zw(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}`}function qH(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}${ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function qw(){const e=Yd(this.opacity);return`${e===1?"rgb(":"rgba("}${ma(this.r)}, ${ma(this.g)}, ${ma(this.b)}${e===1?")":`, ${e})`}`}function Yd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ma(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ca(e){return e=ma(e),(e<16?"0":"")+e.toString(16)}function Ww(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function KA(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Yc||(e=cc(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new en(o,l,c,e.opacity)}function WH(e,t,r,n){return arguments.length===1?KA(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rv(en,WH,HA(Yc,{brighter(e){return e=e==null?Qd:Math.pow(Qd,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oc:Math.pow(oc,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new ir(em(e>=240?e-240:e+120,s,n),em(e,s,n),em(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new en(Hw(this.h),Cu(this.s),Cu(this.l),Yd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yd(this.opacity);return`${e===1?"hsl(":"hsla("}${Hw(this.h)}, ${Cu(this.s)*100}%, ${Cu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hw(e){return e=(e||0)%360,e<0?e+360:e}function Cu(e){return Math.max(0,Math.min(1,e||0))}function em(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lv=e=>()=>e;function HH(e,t){return function(r){return e+r*t}}function KH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function VH(e){return(e=+e)==1?VA:function(t,r){return r-t?KH(t,r,e):Lv(isNaN(t)?r:t)}}function VA(e,t){var r=t-e;return r?HH(e,r):Lv(isNaN(e)?t:e)}const Kw=function e(t){var r=VH(t);function n(s,i){var o=r((s=eg(s)).r,(i=eg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=VA(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=e,n}(1);function GH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function QH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=To(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function XH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZH(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=To(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tm=new RegExp(tg.source,"g");function JH(e){return function(){return e}}function eK(e){return function(t){return e(t)+""}}function tK(e,t){var r=tg.lastIndex=tm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=tg.exec(e))&&(s=tm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Xd(n,s)})),r=tm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?eK(c[0].x):JH(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function To(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lv(t):(r==="number"?Xd:r==="string"?(n=cc(t))?(t=n,Kw):tK:t instanceof cc?Kw:t instanceof Date?XH:QH(t)?GH:Array.isArray(t)?YH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZH:Xd)(e,t)}function Fv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rK(e,t){t===void 0&&(t=e,e=To);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nK(e){return function(){return e}}function Zd(e){return+e}var Vw=[0,1];function Yt(e){return e}function rg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nK(isNaN(t)?NaN:.5)}function sK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=rg(s,n),i=r(o,i)):(n=rg(n,s),i=r(i,o)),function(l){return i(n(l))}}function iK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=rg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Qc(e,l,1,n)-1;return i[c](s[c](l))}}function Xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ch(){var e=Vw,t=Vw,r=To,n,s,i,o=Yt,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Yt&&(o=sK(e[0],e[h-1])),l=h>2?iK:aK,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(n),Xd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Zd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Fv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Yt,f()):o!==Yt},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,s=p,f()}}function Uv(){return Ch()(Yt,Yt)}function oK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ki(e){return e=Jd(Math.abs(e)),e?e[1]:NaN}function lK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(e){if(!(t=uK.exec(e)))throw new Error("invalid format: "+e);var t;return new Bv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uc.prototype=Bv.prototype;function Bv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var GA;function fK(e,t){var r=Jd(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(GA=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jd(e,Math.max(0,t+i-1))[0]}function Gw(e,t){var r=Jd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Qw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gw(e*100,t),r:Gw,s:fK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yw(e){return e}var Xw=Array.prototype.map,Zw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hK(e){var t=e.grouping===void 0||e.thousands===void 0?Yw:lK(Xw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Yw:cK(Xw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=uc(d);var h=d.fill,p=d.align,y=d.sign,b=d.symbol,x=d.zero,w=d.width,v=d.comma,m=d.precision,N=d.trim,g=d.type;g==="n"?(v=!0,g="g"):Qw[g]||(m===void 0&&(m=12),N=!0,g="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_=b==="$"?n:/[%p]/.test(g)?o:"",S=Qw[g],A=/[defgprs%]/.test(g);m=m===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(E){var C=j,I=_,$,L,U;if(g==="c")I=S(E)+I,E="";else{E=+E;var W=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),m),N&&(E=dK(E)),W&&+E==0&&y!=="+"&&(W=!1),C=(W?y==="("?y:l:y==="-"||y==="("?"":y)+C,I=(g==="s"?Zw[8+GA/3]:"")+I+(W&&y==="("?")":""),A){for($=-1,L=E.length;++$<L;)if(U=E.charCodeAt($),48>U||U>57){I=(U===46?s+E.slice($+1):E.slice($))+I,E=E.slice(0,$);break}}}v&&!x&&(E=t(E,1/0));var T=C.length+E.length+I.length,R=T<w?new Array(w-T+1).join(h):"";switch(v&&x&&(E=t(R+E,R.length?w-I.length:1/0),R=""),p){case"<":E=C+E+I+R;break;case"=":E=C+R+E+I;break;case"^":E=R.slice(0,T=R.length>>1)+C+E+I+R.slice(T);break;default:E=R+C+E+I;break}return i(E)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=uc(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ki(h)/3)))*3,b=Math.pow(10,-y),x=Zw[8+y/3];return function(w){return p(b*w)+x}}return{format:u,formatPrefix:f}}var Tu,zv,QA;pK({thousands:",",grouping:[3],currency:["$",""]});function pK(e){return Tu=hK(e),zv=Tu.format,QA=Tu.formatPrefix,Tu}function mK(e){return Math.max(0,-Ki(Math.abs(e)))}function gK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(t)/3)))*3-Ki(Math.abs(e)))}function xK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ki(t)-Ki(e))+1}function YA(e,t,r,n){var s=Z0(e,t,r),i;switch(n=uc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gK(s,o))&&(n.precision=i),QA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=mK(s))&&(n.precision=i-(n.type==="%")*2);break}}return zv(n)}function zs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Y0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return YA(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=X0(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ef(){var e=Uv();return e.copy=function(){return Xc(e,ef())},Wr.apply(e,arguments),zs(e)}function XA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XA(e).unknown(t)},e=arguments.length?Array.from(e,Zd):[0,1],zs(r)}function ZA(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Jw(e){return Math.log(e)}function ej(e){return Math.exp(e)}function vK(e){return-Math.log(-e)}function yK(e){return-Math.exp(-e)}function bK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wK(e){return e===10?bK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tj(e){return(t,r)=>-e(-t,r)}function qv(e){const t=e(Jw,ej),r=t.domain;let n=10,s,i;function o(){return s=jK(n),i=wK(n),r()[0]<0?(s=tj(s),i=tj(i),e(vK,yK)):e(Jw,ej),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=s(u),p=s(f),y,b;const x=l==null?10:+l;let w=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(b=h<0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;w.push(b)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;w.push(b)}w.length*2<x&&(w=Y0(u,f,x))}else w=Y0(h,p,Math.min(p-h,x)).map(i);return d?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=uc(c)).precision==null&&(c.trim=!0),c=zv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(s(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(ZA(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function JA(){const e=qv(Ch()).domain([1,10]);return e.copy=()=>Xc(e,JA()).base(e.base()),Wr.apply(e,arguments),e}function rj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wv(e){var t=1,r=e(rj(t),nj(t));return r.constant=function(n){return arguments.length?e(rj(t=+n),nj(t)):t},zs(r)}function eO(){var e=Wv(Ch());return e.copy=function(){return Xc(e,eO()).constant(e.constant())},Wr.apply(e,arguments)}function sj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _K(e){return e<0?-e*e:e*e}function Hv(e){var t=e(Yt,Yt),r=1;function n(){return r===1?e(Yt,Yt):r===.5?e(SK,_K):e(sj(r),sj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},zs(t)}function Kv(){var e=Hv(Ch());return e.copy=function(){return Xc(e,Kv()).exponent(e.exponent())},Wr.apply(e,arguments),e}function NK(){return Kv.apply(null,arguments).exponent(.5)}function aj(e){return Math.sign(e)*e*e}function AK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tO(){var e=Uv(),t=[0,1],r=!1,n;function s(i){var o=AK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(aj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Zd)).map(aj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return tO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wr.apply(s,arguments),zs(s)}function rO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=CH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Qc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cs),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return rO().domain(e).range(t).unknown(n)},Wr.apply(i,arguments)}function nO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Qc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return nO().domain([e,t]).range(s).unknown(i)},Wr.apply(zs(o),arguments)}function sO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Qc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return sO().domain(e).range(t).unknown(r)},Wr.apply(s,arguments)}const rm=new Date,nm=new Date;function yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(rm.setTime(+i),nm.setTime(+o),e(rm),e(nm),Math.floor(r(rm,nm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const tf=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tf);tf.range;const Dn=1e3,Ir=Dn*60,In=Ir*60,Hn=In*24,Vv=Hn*7,ij=Hn*30,sm=Hn*365,ua=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCSeconds());ua.range;const Gv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getMinutes());Gv.range;const Qv=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getUTCMinutes());Qv.range;const Yv=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn-e.getMinutes()*Ir)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getHours());Yv.range;const Xv=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCHours());Xv.range;const Zc=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/Hn,e=>e.getDate()-1);Zc.range;const Th=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);Th.range;const aO=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));aO.range;function Fa(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/Vv)}const $h=Fa(0),rf=Fa(1),OK=Fa(2),PK=Fa(3),Vi=Fa(4),EK=Fa(5),kK=Fa(6);$h.range;rf.range;OK.range;PK.range;Vi.range;EK.range;kK.range;function Ua(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Vv)}const Dh=Ua(0),nf=Ua(1),CK=Ua(2),TK=Ua(3),Gi=Ua(4),$K=Ua(5),DK=Ua(6);Dh.range;nf.range;CK.range;TK.range;Gi.range;$K.range;DK.range;const Zv=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Zv.range;const Jv=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jv.range;const Kn=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Kn.range;const Vn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function iO(e,t,r,n,s,i){const o=[[ua,1,Dn],[ua,5,5*Dn],[ua,15,15*Dn],[ua,30,30*Dn],[i,1,Ir],[i,5,5*Ir],[i,15,15*Ir],[i,30,30*Ir],[s,1,In],[s,3,3*In],[s,6,6*In],[s,12,12*In],[n,1,Hn],[n,2,2*Hn],[r,1,Vv],[t,1,ij],[t,3,3*ij],[e,1,sm]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=Iv(([,,x])=>x).right(o,h);if(p===o.length)return e.every(Z0(u/sm,f/sm,d));if(p===0)return tf.every(Math.max(Z0(u,f,d),1));const[y,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(b)}return[l,c]}const[IK,MK]=iO(Vn,Jv,Dh,aO,Xv,Qv),[RK,LK]=iO(Kn,Zv,$h,Zc,Yv,Gv);function am(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function im(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FK(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zo(s),f=Jo(s),d=Zo(i),h=Jo(i),p=Zo(o),y=Jo(o),b=Zo(l),x=Jo(l),w=Zo(c),v=Jo(c),m={a:W,A:T,b:R,B:D,c:null,d:fj,e:fj,f:lV,g:vV,G:bV,H:aV,I:iV,j:oV,L:oO,m:cV,M:uV,p:K,q:Q,Q:mj,s:gj,S:dV,u:fV,U:hV,V:pV,w:mV,W:gV,x:null,X:null,y:xV,Y:yV,Z:wV,"%":pj},N={a:te,A:ve,b:Ie,B:Ke,c:null,d:hj,e:hj,f:NV,g:IV,G:RV,H:jV,I:SV,j:_V,L:cO,m:AV,M:OV,p:Dt,q:bt,Q:mj,s:gj,S:PV,u:EV,U:kV,V:CV,w:TV,W:$V,x:null,X:null,y:DV,Y:MV,Z:LV,"%":pj},g={a:P,A:E,b:C,B:I,c:$,d:uj,e:uj,f:tV,g:cj,G:lj,H:dj,I:dj,j:XK,L:eV,m:YK,M:ZK,p:A,q:QK,Q:nV,s:sV,S:JK,u:WK,U:HK,V:KK,w:qK,W:VK,x:L,X:U,y:cj,Y:lj,Z:GK,"%":rV};m.x=j(r,m),m.X=j(n,m),m.c=j(t,m),N.x=j(r,N),N.X=j(n,N),N.c=j(t,N);function j(X,ae){return function(de){var H=[],ke=-1,pe=0,ge=X.length,V,re,le;for(de instanceof Date||(de=new Date(+de));++ke<ge;)X.charCodeAt(ke)===37&&(H.push(X.slice(pe,ke)),(re=oj[V=X.charAt(++ke)])!=null?V=X.charAt(++ke):re=V==="e"?" ":"0",(le=ae[V])&&(V=le(de,re)),H.push(V),pe=ke+1);return H.push(X.slice(pe,ke)),H.join("")}}function _(X,ae){return function(de){var H=Xo(1900,void 0,1),ke=S(H,X,de+="",0),pe,ge;if(ke!=de.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ae&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(pe=im(Xo(H.y,0,1)),ge=pe.getUTCDay(),pe=ge>4||ge===0?nf.ceil(pe):nf(pe),pe=Th.offset(pe,(H.V-1)*7),H.y=pe.getUTCFullYear(),H.m=pe.getUTCMonth(),H.d=pe.getUTCDate()+(H.w+6)%7):(pe=am(Xo(H.y,0,1)),ge=pe.getDay(),pe=ge>4||ge===0?rf.ceil(pe):rf(pe),pe=Zc.offset(pe,(H.V-1)*7),H.y=pe.getFullYear(),H.m=pe.getMonth(),H.d=pe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ge="Z"in H?im(Xo(H.y,0,1)).getUTCDay():am(Xo(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ge+5)%7:H.w+H.U*7-(ge+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,im(H)):am(H)}}function S(X,ae,de,H){for(var ke=0,pe=ae.length,ge=de.length,V,re;ke<pe;){if(H>=ge)return-1;if(V=ae.charCodeAt(ke++),V===37){if(V=ae.charAt(ke++),re=g[V in oj?ae.charAt(ke++):V],!re||(H=re(X,de,H))<0)return-1}else if(V!=de.charCodeAt(H++))return-1}return H}function A(X,ae,de){var H=u.exec(ae.slice(de));return H?(X.p=f.get(H[0].toLowerCase()),de+H[0].length):-1}function P(X,ae,de){var H=p.exec(ae.slice(de));return H?(X.w=y.get(H[0].toLowerCase()),de+H[0].length):-1}function E(X,ae,de){var H=d.exec(ae.slice(de));return H?(X.w=h.get(H[0].toLowerCase()),de+H[0].length):-1}function C(X,ae,de){var H=w.exec(ae.slice(de));return H?(X.m=v.get(H[0].toLowerCase()),de+H[0].length):-1}function I(X,ae,de){var H=b.exec(ae.slice(de));return H?(X.m=x.get(H[0].toLowerCase()),de+H[0].length):-1}function $(X,ae,de){return S(X,t,ae,de)}function L(X,ae,de){return S(X,r,ae,de)}function U(X,ae,de){return S(X,n,ae,de)}function W(X){return o[X.getDay()]}function T(X){return i[X.getDay()]}function R(X){return c[X.getMonth()]}function D(X){return l[X.getMonth()]}function K(X){return s[+(X.getHours()>=12)]}function Q(X){return 1+~~(X.getMonth()/3)}function te(X){return o[X.getUTCDay()]}function ve(X){return i[X.getUTCDay()]}function Ie(X){return c[X.getUTCMonth()]}function Ke(X){return l[X.getUTCMonth()]}function Dt(X){return s[+(X.getUTCHours()>=12)]}function bt(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ae=j(X+="",m);return ae.toString=function(){return X},ae},parse:function(X){var ae=_(X+="",!1);return ae.toString=function(){return X},ae},utcFormat:function(X){var ae=j(X+="",N);return ae.toString=function(){return X},ae},utcParse:function(X){var ae=_(X+="",!0);return ae.toString=function(){return X},ae}}}var oj={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,UK=/^%/,BK=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function zK(e){return e.replace(BK,"\\$&")}function Zo(e){return new RegExp("^(?:"+e.map(zK).join("|")+")","i")}function Jo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function WK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function KK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lj(e,t,r){var n=Pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function cj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QK(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XK(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JK(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=Pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rV(e,t,r){var n=UK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fj(e,t){return _e(e.getDate(),t,2)}function aV(e,t){return _e(e.getHours(),t,2)}function iV(e,t){return _e(e.getHours()%12||12,t,2)}function oV(e,t){return _e(1+Zc.count(Kn(e),e),t,3)}function oO(e,t){return _e(e.getMilliseconds(),t,3)}function lV(e,t){return oO(e,t)+"000"}function cV(e,t){return _e(e.getMonth()+1,t,2)}function uV(e,t){return _e(e.getMinutes(),t,2)}function dV(e,t){return _e(e.getSeconds(),t,2)}function fV(e){var t=e.getDay();return t===0?7:t}function hV(e,t){return _e($h.count(Kn(e)-1,e),t,2)}function lO(e){var t=e.getDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function pV(e,t){return e=lO(e),_e(Vi.count(Kn(e),e)+(Kn(e).getDay()===4),t,2)}function mV(e){return e.getDay()}function gV(e,t){return _e(rf.count(Kn(e)-1,e),t,2)}function xV(e,t){return _e(e.getFullYear()%100,t,2)}function vV(e,t){return e=lO(e),_e(e.getFullYear()%100,t,2)}function yV(e,t){return _e(e.getFullYear()%1e4,t,4)}function bV(e,t){var r=e.getDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),_e(e.getFullYear()%1e4,t,4)}function wV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function hj(e,t){return _e(e.getUTCDate(),t,2)}function jV(e,t){return _e(e.getUTCHours(),t,2)}function SV(e,t){return _e(e.getUTCHours()%12||12,t,2)}function _V(e,t){return _e(1+Th.count(Vn(e),e),t,3)}function cO(e,t){return _e(e.getUTCMilliseconds(),t,3)}function NV(e,t){return cO(e,t)+"000"}function AV(e,t){return _e(e.getUTCMonth()+1,t,2)}function OV(e,t){return _e(e.getUTCMinutes(),t,2)}function PV(e,t){return _e(e.getUTCSeconds(),t,2)}function EV(e){var t=e.getUTCDay();return t===0?7:t}function kV(e,t){return _e(Dh.count(Vn(e)-1,e),t,2)}function uO(e){var t=e.getUTCDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function CV(e,t){return e=uO(e),_e(Gi.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function TV(e){return e.getUTCDay()}function $V(e,t){return _e(nf.count(Vn(e)-1,e),t,2)}function DV(e,t){return _e(e.getUTCFullYear()%100,t,2)}function IV(e,t){return e=uO(e),_e(e.getUTCFullYear()%100,t,2)}function MV(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function RV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function LV(){return"+0000"}function pj(){return"%"}function mj(e){return+e}function gj(e){return Math.floor(+e/1e3)}var Za,dO,fO;FV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FV(e){return Za=FK(e),dO=Za.format,Za.parse,fO=Za.utcFormat,Za.utcParse,Za}function UV(e){return new Date(e)}function BV(e){return e instanceof Date?+e:+new Date(+e)}function ey(e,t,r,n,s,i,o,l,c,u){var f=Uv(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),b=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),v=u("%b %d"),m=u("%B"),N=u("%Y");function g(j){return(c(j)<j?p:l(j)<j?y:o(j)<j?b:i(j)<j?x:n(j)<j?s(j)<j?w:v:r(j)<j?m:N)(j)}return f.invert=function(j){return new Date(d(j))},f.domain=function(j){return arguments.length?h(Array.from(j,BV)):h().map(UV)},f.ticks=function(j){var _=h();return e(_[0],_[_.length-1],j??10)},f.tickFormat=function(j,_){return _==null?g:u(_)},f.nice=function(j){var _=h();return(!j||typeof j.range!="function")&&(j=t(_[0],_[_.length-1],j??10)),j?h(ZA(_,j)):f},f.copy=function(){return Xc(f,ey(e,t,r,n,s,i,o,l,c,u))},f}function zV(){return Wr.apply(ey(RK,LK,Kn,Zv,$h,Zc,Yv,Gv,ua,dO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qV(){return Wr.apply(ey(IK,MK,Vn,Jv,Dh,Th,Xv,Qv,ua,fO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ih(){var e=0,t=1,r,n,s,i,o=Yt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,o=d(p,y),u):[o(0),o(1)]}}return u.range=f(To),u.rangeRound=f(Fv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function qs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hO(){var e=zs(Ih()(Yt));return e.copy=function(){return qs(e,hO())},Jn.apply(e,arguments)}function pO(){var e=qv(Ih()).domain([1,10]);return e.copy=function(){return qs(e,pO()).base(e.base())},Jn.apply(e,arguments)}function mO(){var e=Wv(Ih());return e.copy=function(){return qs(e,mO()).constant(e.constant())},Jn.apply(e,arguments)}function ty(){var e=Hv(Ih());return e.copy=function(){return qs(e,ty()).exponent(e.exponent())},Jn.apply(e,arguments)}function WV(){return ty.apply(null,arguments).exponent(.5)}function gO(){var e=[],t=Yt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Cs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>kH(e,i/n))},r.copy=function(){return gO(t).domain(e)},Jn.apply(r,arguments)}function Mh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Yt,f,d=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:c),u(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(u=b,p):u};function y(b){return function(x){var w,v,m;return arguments.length?([w,v,m]=x,u=rK(b,[w,v,m]),p):[u(0),u(.5),u(1)]}}return p.range=y(To),p.rangeRound=y(Fv),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return f=b,s=b(e),i=b(t),o=b(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function xO(){var e=zs(Mh()(Yt));return e.copy=function(){return qs(e,xO())},Jn.apply(e,arguments)}function vO(){var e=qv(Mh()).domain([.1,1,10]);return e.copy=function(){return qs(e,vO()).base(e.base())},Jn.apply(e,arguments)}function yO(){var e=Wv(Mh());return e.copy=function(){return qs(e,yO()).constant(e.constant())},Jn.apply(e,arguments)}function ry(){var e=Hv(Mh());return e.copy=function(){return qs(e,ry()).exponent(e.exponent())},Jn.apply(e,arguments)}function HV(){return ry.apply(null,arguments).exponent(.5)}const xj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ic,scaleDiverging:xO,scaleDivergingLog:vO,scaleDivergingPow:ry,scaleDivergingSqrt:HV,scaleDivergingSymlog:yO,scaleIdentity:XA,scaleImplicit:J0,scaleLinear:ef,scaleLog:JA,scaleOrdinal:Mv,scalePoint:Sl,scalePow:Kv,scaleQuantile:rO,scaleQuantize:nO,scaleRadial:tO,scaleSequential:hO,scaleSequentialLog:pO,scaleSequentialPow:ty,scaleSequentialQuantile:gO,scaleSequentialSqrt:WV,scaleSequentialSymlog:mO,scaleSqrt:NK,scaleSymlog:eO,scaleThreshold:sO,scaleTime:zV,scaleUtc:qV,tickFormat:YA},Symbol.toStringTag,{value:"Module"}));var KV=So;function VV(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!KV(o):r(o,l)))var l=o,c=i}return c}var Rh=VV;function GV(e,t){return e>t}var bO=GV,QV=Rh,YV=bO,XV=Co;function ZV(e){return e&&e.length?QV(e,XV,YV):void 0}var JV=ZV;const Lh=$e(JV);function eG(e,t){return e<t}var wO=eG,tG=Rh,rG=wO,nG=Co;function sG(e){return e&&e.length?tG(e,nG,rG):void 0}var aG=sG;const Fh=$e(aG);var iG=gv,oG=jn,lG=EA,cG=dr;function uG(e,t){var r=cG(e)?iG:lG;return r(e,oG(t))}var dG=uG,fG=OA,hG=dG;function pG(e,t){return fG(hG(e,t),1)}var mG=pG;const gG=$e(mG);var xG=Cv;function vG(e,t){return xG(e,t)}var yG=vG;const Jc=$e(yG);var $o=1e9,bG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sy,et=!0,Br="[DecimalError] ",ga=Br+"Invalid argument: ",ny=Br+"Exponent out of range: ",Do=Math.floor,ta=Math.pow,wG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xr,jt=1e7,Xe=7,jO=9007199254740991,sf=Do(jO/Xe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Fn(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Re(Fn(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ft(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xr))throw Error(Br+"NaN");if(r.s<1)throw Error(Br+(r.s?"NaN":"-Infinity"));return r.eq(xr)?new n(0):(et=!1,t=Fn(dc(r,i),dc(e,i),i),et=!0,Re(t,s))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NO(t,e):SO(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Br+"NaN");return r.s?(et=!1,t=Fn(r,e,0,1).times(e),et=!0,r.minus(t)):Re(new n(r),s)};ee.naturalExponential=ee.exp=function(){return _O(this)};ee.naturalLogarithm=ee.ln=function(){return dc(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SO(t,e):NO(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ga+e);if(t=ft(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Br+"NaN")}for(e=ft(l),et=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=hn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Fn(l,i,o+2)).times(.5),hn(i.d).slice(0,o)===(t=hn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Re(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return et=!0,Re(n,r)};ee.times=ee.mul=function(e){var t,r,n,s,i,o,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%jt|0,t=l/jt|0;i[s]=(i[s]+t)%jt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,et?Re(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yn(e,0,$o),t===void 0?t=n.rounding:yn(t,0,8),Re(r,e+ft(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ca(n,!0):(yn(e,0,$o),t===void 0?t=s.rounding:yn(t,0,8),n=Re(new s(n),e+1,t),r=Ca(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ca(s):(yn(e,0,$o),t===void 0?t=i.rounding:yn(t,0,8),n=Re(new i(s),e+ft(s)+1,t),r=Ca(n.abs(),!1,e+ft(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Re(new t(e),ft(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(xr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Br+"Infinity");return l}if(l.eq(xr))return l;if(n=c.precision,e.eq(xr))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=jO){for(s=new c(xr),t=Math.ceil(n/Xe+4),et=!1;r%2&&(s=s.times(l),yj(s.d,t)),r=Do(r/2),r!==0;)l=l.times(l),yj(l.d,t);return et=!0,e.s<0?new c(xr).div(s):Re(s,n)}}else if(i<0)throw Error(Br+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,et=!1,s=e.times(dc(l,n+u)),et=!0,s=_O(s),s.s=i,s};ee.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ft(s),n=Ca(s,r<=i.toExpNeg||r>=i.toExpPos)):(yn(e,1,$o),t===void 0?t=i.rounding:yn(t,0,8),s=Re(new i(s),e,t),r=ft(s),n=Ca(s,e<=r||r<=i.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yn(e,1,$o),t===void 0?t=n.rounding:yn(t,0,8)),Re(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Ca(e,t<=r.toExpNeg||t>=r.toExpPos)};function SO(e,t){var r,n,s,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),et?Re(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/jt|0,c[i]%=jt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,et?Re(t,d):t}function yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ga+e)}function hn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=cs(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=cs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%jt|0,o=i/jt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*jt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,d,h,p,y,b,x,w,v,m,N,g,j,_,S,A=n.constructor,P=n.s==s.s?1:-1,E=n.d,C=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Br+"Division by zero");for(c=n.e-s.e,_=C.length,g=E.length,p=new A(P),y=p.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--c,i==null?v=i=A.precision:o?v=i+(ft(n)-ft(s))+1:v=i,v<0)return new A(0);if(v=v/Xe+2|0,u=0,_==1)for(f=0,C=C[0],v++;(u<g||f)&&v--;u++)m=f*jt+(E[u]||0),y[u]=m/C|0,f=m%C|0;else{for(f=jt/(C[0]+1)|0,f>1&&(C=e(C,f),E=e(E,f),_=C.length,g=E.length),N=_,b=E.slice(0,_),x=b.length;x<_;)b[x++]=0;S=C.slice(),S.unshift(0),j=C[0],C[1]>=jt/2&&++j;do f=0,l=t(C,b,_,x),l<0?(w=b[0],_!=x&&(w=w*jt+(b[1]||0)),f=w/j|0,f>1?(f>=jt&&(f=jt-1),d=e(C,f),h=d.length,x=b.length,l=t(d,b,h,x),l==1&&(f--,r(d,_<h?S:C,h))):(f==0&&(l=f=1),d=C.slice()),h=d.length,h<x&&d.unshift(0),r(b,d,x),l==-1&&(x=b.length,l=t(C,b,_,x),l<1&&(f++,r(b,_<x?S:C,x))),x=b.length):l===0&&(f++,b=[0]),y[u++]=f,l&&b[0]?b[x++]=E[N]||0:(b=[E[N]],x=1);while((N++<g||b[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,Re(p,o?i+ft(p)+1:i)}}();function _O(e,t){var r,n,s,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(ft(e)>16)throw Error(ny+ft(e));if(!e.s)return new f(xr);for(t==null?(et=!1,l=d):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ta(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(xr),f.precision=l;;){if(s=Re(s.times(e),l),r=r.times(++c),o=i.plus(Fn(s,r,l)),hn(o.d).slice(0,l)===hn(i.d).slice(0,l)){for(;u--;)i=Re(i.times(i),l);return f.precision=d,t==null?(et=!0,Re(i,d)):i}i=o}}function ft(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function om(e,t,r){if(t>e.LN10.sd())throw et=!0,r&&(e.precision=r),Error(Br+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function cs(e){for(var t="";e--;)t+="0";return t}function dc(e,t){var r,n,s,i,o,l,c,u,f,d=1,h=10,p=e,y=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Br+(p.s?"NaN":"-Infinity"));if(p.eq(xr))return new b(0);if(t==null?(et=!1,u=x):u=t,p.eq(10))return t==null&&(et=!0),om(b,u);if(u+=h,b.precision=u,r=hn(y),n=r.charAt(0),i=ft(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=hn(p.d),n=r.charAt(0),d++;i=ft(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return c=om(b,u+2,x).times(i+""),p=dc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=x,t==null?(et=!0,Re(p,x)):p;for(l=o=p=Fn(p.minus(xr),p.plus(xr),u),f=Re(p.times(p),u),s=3;;){if(o=Re(o.times(f),u),c=l.plus(Fn(o,new b(s),u)),hn(c.d).slice(0,u)===hn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(om(b,u+2,x).times(i+""))),l=Fn(l,new b(d),u),b.precision=x,t==null?(et=!0,Re(l,x)):l;l=c,s+=2}}function vj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Do(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),et&&(e.e>sf||e.e<-sf))throw Error(ny+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,s,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Xe),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=ta(10,o-s-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ta(10,o-s):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=ft(e),d.length=1,t=t-i-1,d[0]=ta(10,(Xe-t%Xe)%Xe),e.e=Do(-t/Xe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=ta(10,Xe-n),d[f]=s>0?(u/ta(10,o-s)%ta(10,s)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==jt&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=jt)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(et&&(e.e>sf||e.e<-sf))throw Error(ny+ft(e));return e}function NO(e,t){var r,n,s,i,o,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),et?Re(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(p/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){f=c[s]<d[s];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=jt-1;--c[i],c[s]+=jt}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,et?Re(t,p):t):new h(0)}function Ca(e,t,r){var n,s=ft(e),i=hn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+cs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+cs(-s-1)+i,r&&(n=r-o)>0&&(i+=cs(n))):s>=o?(i+=cs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+cs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=cs(n))),e.s<0?"-"+i:i}function yj(e,t){if(e.length>t)return e.length=t,!0}function AO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ga+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return vj(o,i.toString())}else if(typeof i!="string")throw Error(ga+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,wG.test(i))vj(o,i);else throw Error(ga+i)}if(s.prototype=ee,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=AO,s.config=s.set=jG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function jG(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,r,n,s=["precision",1,$o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Do(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ga+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ga+r+": "+n);return this}var sy=AO(bG);xr=new sy(1);const Me=sy;function SG(e){return OG(e)||AG(e)||NG(e)||_G()}function _G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(e,t){if(e){if(typeof e=="string")return ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ng(e,t)}}function AG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OG(e){if(Array.isArray(e))return ng(e)}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PG=function(t){return t},OO={"@@functional/placeholder":!0},PO=function(t){return t===OO},bj=function(t){return function r(){return arguments.length===0||arguments.length===1&&PO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},EG=function e(t,r){return t===1?r:bj(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==OO}).length;return o>=t?r.apply(void 0,s):e(t-o,bj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(d){return PO(d)?c.shift():d});return r.apply(void 0,SG(f).concat(c))}))})},Uh=function(t){return EG(t.length,t)},sg=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},kG=Uh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),CG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ag=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},EO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function TG(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function $G(e,t,r){for(var n=new Me(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var DG=Uh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),IG=Uh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),MG=Uh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bh={rangeStep:$G,getDigitCount:TG,interpolateNumber:DG,uninterpolateNumber:IG,uninterpolateTruncation:MG};function ig(e){return FG(e)||LG(e)||kO(e)||RG()}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FG(e){if(Array.isArray(e))return og(e)}function fc(e,t){return zG(e)||BG(e,t)||kO(e,t)||UG()}function UG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(e,t){if(e){if(typeof e=="string")return og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return og(e,t)}}function og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function zG(e){if(Array.isArray(e))return e}function CO(e){var t=fc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function TO(e,t,r){if(e.lte(0))return new Me(0);var n=Bh.getDigitCount(e.toNumber()),s=new Me(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Me(Math.ceil(c))}function qG(e,t,r){var n=1,s=new Me(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Me(10).pow(Bh.getDigitCount(e)-1),s=new Me(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Me(Math.floor(e)))}else e===0?s=new Me(Math.floor((t-1)/2)):r||(s=new Me(Math.floor(e)));var o=Math.floor((t-1)/2),l=CG(kG(function(c){return s.add(new Me(c-o).mul(n)).toNumber()}),sg);return l(0,t)}function $O(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var i=TO(new Me(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Me(0):(o=new Me(e).add(t).div(2),o=o.sub(new Me(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Me(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?$O(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Me(l).mul(i)),tickMax:o.add(new Me(c).mul(i))})}function WG(e){var t=fc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=CO([r,n]),c=fc(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(ig(sg(0,s-1).map(function(){return 1/0}))):[].concat(ig(sg(0,s-1).map(function(){return-1/0})),[f]);return r>n?ag(d):d}if(u===f)return qG(u,s,i);var h=$O(u,f,o,i),p=h.step,y=h.tickMin,b=h.tickMax,x=Bh.rangeStep(y,b.add(new Me(.1).mul(p)),p);return r>n?ag(x):x}function HG(e,t){var r=fc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=CO([n,s]),l=fc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(t,2),d=TO(new Me(u).sub(c).div(f-1),i,0),h=[].concat(ig(Bh.rangeStep(new Me(c),new Me(u).sub(new Me(.99).mul(d)),d)),[u]);return n>s?ag(h):h}var KG=EO(WG),VG=EO(HG),GG="Invariant failed";function Ta(e,t){throw new Error(GG)}var QG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function YG(e,t){return eQ(e)||JG(e,t)||ZG(e,t)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e,t){if(e){if(typeof e=="string")return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eQ(e){if(Array.isArray(e))return e}function tQ(e,t){if(e==null)return{};var r=rQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MO(n.key),n)}}function aQ(e,t,r){return t&&sQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iQ(e,t,r){return t=of(t),oQ(e,DO()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function oQ(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lg(e,t)}function IO(e,t,r){return t=MO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e){var t=uQ(e,"string");return Qi(t)=="symbol"?t:t+""}function uQ(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eu=function(e){function t(){return nQ(this,t),iQ(this,t,arguments)}return cQ(t,e),aQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=tQ(n,QG),p=se(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ta();var y=c.map(function(b){var x=u(b,l),w=x.x,v=x.y,m=x.value,N=x.errorVal;if(!N)return null;var g=[],j,_;if(Array.isArray(N)){var S=YG(N,2);j=S[0],_=S[1]}else j=_=N;if(i==="vertical"){var A=f.scale,P=v+s,E=P+o,C=P-o,I=A(m-j),$=A(m+_);g.push({x1:$,y1:E,x2:$,y2:C}),g.push({x1:I,y1:P,x2:$,y2:P}),g.push({x1:I,y1:E,x2:I,y2:C})}else if(i==="horizontal"){var L=d.scale,U=w+s,W=U-o,T=U+o,R=L(m-j),D=L(m+_);g.push({x1:W,y1:D,x2:T,y2:D}),g.push({x1:U,y1:R,x2:U,y2:D}),g.push({x1:W,y1:R,x2:T,y2:R})}return k.createElement(Se,af({className:"recharts-errorBar",key:"bar-".concat(g.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),g.map(function(K){return k.createElement("line",af({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return k.createElement(Se,{className:"recharts-errorBars"},y)}}])}(k.Component);IO(eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IO(eu,"displayName","ErrorBar");function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return hc(t)=="symbol"?t:t+""}function hQ(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=mr(r,Ei);if(!o)return null;var l=Ei.defaultProps,c=l!==void 0?Vs(Vs({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Vs(Vs({},h),d.props):{},y=p.dataKey,b=p.name,x=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:c.iconType||x||"square",color:ay(d),value:b||y,payload:p}}),Vs(Vs(Vs({},c),Ei.getWithHeight(o,s)),{},{payload:u,item:o})};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Sj(e){return xQ(e)||gQ(e)||mQ(e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cg(e,t)}}function gQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xQ(e){if(Array.isArray(e))return cg(e)}function cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=yQ(e,"string");return pc(t)=="symbol"?t:t+""}function yQ(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return ue(e)||ue(t)?r:vt(t)?br(e,t,r):ce(t)?t(e):r}function _l(e,t,r,n){var s=gG(e,function(l){return gt(l,t)});if(r==="number"){var i=s.filter(function(l){return Y(l)||parseFloat(l)});return i.length?[Fh(i),Lh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ue(l)}):s;return o.map(function(l){return vt(l)||l instanceof Date?l:""})}var bQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Gt(d-f)!==Gt(h-d)){var y=[];if(Gt(h-d)===Gt(c[1]-c[0])){p=h;var b=d+c[1]-c[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{p=f;var x=h+c[1]-c[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var v=Math.min(f,h),m=Math.max(f,h);if(t>(v+d)/2&&t<=(m+d)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},ay=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wQ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],b=y.items,x=y.cateAxisId,w=b.filter(function(_){return Ln(_.type).indexOf("Bar")>=0});if(w&&w.length){var v=w[0].type.defaultProps,m=v!==void 0?it(it({},v),w[0].props):w[0].props,N=m.barSize,g=m[x];o[g]||(o[g]=[]);var j=ue(N)?r:N;o[g].push({item:w[0],stackList:w.slice(1),barSize:ue(j)?void 0:Qt(j,n,0)})}}return o},jQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qt(r,s,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,y=o.reduce(function(N,g){return N+g.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&p>0&&(h=!0,p*=.9,y=c*p);var b=(s-y)/2>>0,x={offset:b-u,size:0};f=o.reduce(function(N,g){var j={item:g.item,position:{offset:x.offset+x.size+u,size:h?p:g.barSize}},_=[].concat(Sj(N),[j]);return x=_[_.length-1].position,g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){_.push({item:S,position:x})}),_},d)}else{var w=Qt(n,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var v=(s-2*w-(c-1)*u)/c;v>1&&(v>>=0);var m=l===+l?Math.min(v,l):v;f=o.reduce(function(N,g,j){var _=[].concat(Sj(N),[{item:g.item,position:{offset:w+(v+u)*j+(v-m)/2,size:m}}]);return g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},d)}return f},SQ=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=RO({children:i,legendWidth:c});if(u){var f=s||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&p!=="center"&&Y(t[p]))return it(it({},t),{},Ci({},p,t[p]+(d||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&y!=="middle"&&Y(t[y]))return it(it({},t),{},Ci({},y,t[y]+(h||0)))}return t},_Q=function(t,r,n){return ue(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},LO=function(t,r,n,s,i){var o=r.props.children,l=wr(o,eu).filter(function(u){return _Q(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=gt(f,n);if(ue(d))return u;var h=Array.isArray(d)?[Fh(d),Lh(d)]:[d,d],p=c.reduce(function(y,b){var x=gt(f,b,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},NQ=function(t,r,n,s,i){var o=r.map(function(l){return LO(t,l,n,i,s)}).filter(function(l){return!ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},FO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&LO(t,c,u,s)||_l(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},UO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},BO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Mn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return f.filter(function(d){return!Vc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:i?i[d]:d,index:h,offset:u}})},lm=new WeakMap,$u=function(t,r){if(typeof r!="function")return t;lm.has(t)||lm.set(t,new WeakMap);var n=lm.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},zO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ic(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ef(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sl(),realScaleType:"point"}:i==="category"?{scale:ic(),realScaleType:"band"}:{scale:ef(),realScaleType:"linear"};if(Pa(s)){var c="scale".concat(_h(s));return{scale:(xj[c]||Sl)(),realScaleType:xj[c]?c:"point"}}return ce(s)?{scale:s}:{scale:Sl(),realScaleType:"point"}},Nj=1e-4,qO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Nj,o=Math.max(s[0],s[1])+Nj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},AQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},OQ=function(t,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Y(t[0])||t[0]<n)&&(i[0]=n),(!Y(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},PQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Vc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},EQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Vc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},kQ={sign:PQ,expand:QR,none:Bi,silhouette:YR,wiggle:XR,positive:EQ},CQ=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=kQ[n],o=GR().keys(s).value(function(l,c){return+gt(l,c,0)}).order(D0).offset(i);return o(t)},TQ=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?it(it({},h.type.defaultProps),h.props):h.props,b=y.stackId,x=y.hide;if(x)return d;var w=y[n],v=d[w]||{hasStack:!1,stackGroups:{}};if(vt(b)){var m=v.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};m.items.push(h),v.hasStack=!0,v.stackGroups[b]=m}else v.stackGroups[Po("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return it(it({},d),{},Ci({},w,v))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var w=p.stackGroups[x];return it(it({},b),{},Ci({},x,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:CQ(t,w.items,i)}))},y)}return it(it({},d),{},Ci({},h,p))},f)},WO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=KG(u,i,l);return t.domain([Fh(f),Lh(f)]),{niceTicks:f}}if(i&&s==="number"){var d=t.domain(),h=VG(d,i,l);return{niceTicks:h}}return null};function Aj(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ue(s[t.dataKey])){var l=$d(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=gt(s,ue(o)?t.dataKey:o);return ue(c)?null:t.scale(c)}var Oj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=gt(o,r.dataKey,r.domain[l]);return ue(c)?null:r.scale(c)-i/2+s},$Q=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},DQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(vt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},IQ=function(t){return t.reduce(function(r,n){return[Fh(n.concat([r[0]]).filter(Y)),Lh(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},HO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=IQ(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ug=function(t,r,n){if(ce(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Y(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Pj.test(t[0])){var i=+Pj.exec(t[0])[1];s[0]=r[0]-i}else ce(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Y(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Ej.test(t[1])){var o=+Ej.exec(t[1])[1];s[1]=r[1]+o}else ce(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},lf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=$v(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},kj=function(t,r,n){return!t||!t.length||Jc(t,br(n,"type.defaultProps.domain"))?r:t},KO=function(t,r){var n=t.type.defaultProps?it(it({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return it(it({},se(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ay(t),value:gt(r,s),type:c,payload:r,chartType:u,hide:f})};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){VO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VO(e,t,r){return t=MQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=RQ(e,"string");return mc(t)=="symbol"?t:t+""}function RQ(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){return zQ(e)||BQ(e,t)||UQ(e,t)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(e,t){if(e){if(typeof e=="string")return Tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(e,t)}}function Tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zQ(e){if(Array.isArray(e))return e}var cf=Math.PI/180,qQ=function(t){return t*180/Math.PI},He=function(t,r,n,s){return{x:t+Math.cos(-cf*s)*n,y:r+Math.sin(-cf*s)*n}},GO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},WQ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Qt(t.cx,o,o/2),d=Qt(t.cy,l,l/2),h=GO(o,l,n),p=Qt(t.innerRadius,h,0),y=Qt(t.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(x,w){var v=r[w],m=v.domain,N=v.reversed,g;if(ue(v.range))s==="angleAxis"?g=[c,u]:s==="radiusAxis"&&(g=[p,y]),N&&(g=[g[1],g[0]]);else{g=v.range;var j=g,_=LQ(j,2);c=_[0],u=_[1]}var S=zO(v,i),A=S.realScaleType,P=S.scale;P.domain(m).range(g),qO(P);var E=WO(P,Pn(Pn({},v),{},{realScaleType:A})),C=Pn(Pn(Pn({},v),E),{},{range:g,radius:y,realScaleType:A,scale:P,cx:f,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Pn(Pn({},x),{},VO({},w,C))},{})},HQ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},KQ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=HQ({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:qQ(u),angleInRadian:u}},VQ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},GQ=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},$j=function(t,r){var n=t.x,s=t.y,i=KQ({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=VQ(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?Pn(Pn({},r),{},{radius:o,angle:GQ(p,r)}):null},QO=function(t){return!O.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var QQ=["offset"];function YQ(e){return eY(e)||JQ(e)||ZQ(e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function JQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eY(e){if(Array.isArray(e))return dg(e)}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tY(e,t){if(e==null)return{};var r=rY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return t=sY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=aY(e,"string");return gc(t)=="symbol"?t:t+""}function aY(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}var iY=function(t){var r=t.value,n=t.formatter,s=ue(t.children)?r:t.children;return ce(n)?n(s):s},oY=function(t,r){var n=Gt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},lY=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,b=c.clockWise,x=(d+h)/2,w=oY(p,y),v=w>=0?1:-1,m,N;s==="insideStart"?(m=p+v*o,N=b):s==="insideEnd"?(m=y-v*o,N=!b):s==="end"&&(m=y+v*o,N=b),N=w<=0?N:!N;var g=He(u,f,x,m),j=He(u,f,x,m+(N?1:-1)*359),_="M".concat(g.x,",").concat(g.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),S=ue(t.id)?Po("recharts-radial-line-"):t.id;return k.createElement("text",xc({},n,{dominantBaseline:"central",className:he("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:S,d:_})),k.createElement("textPath",{xlinkHref:"#".concat(S)},r))},cY=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(s==="outside"){var p=He(o,l,u+n,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,w=He(o,l,x,h),v=w.x,m=w.y;return{x:v,y:m,textAnchor:"middle",verticalAnchor:"middle"}},uY=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*s,p=d>0?"end":"start",y=d>0?"start":"end",b=u>=0?1:-1,x=b*s,w=b>0?"end":"start",v=b>0?"start":"end";if(i==="top"){var m={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:p};return pt(pt({},m),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return pt(pt({},N),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var g={x:l-x,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return pt(pt({},g),n?{width:Math.max(g.x-n.x,0),height:f}:{})}if(i==="right"){var j={x:l+u+x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"};return pt(pt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return i==="insideLeft"?pt({x:l+x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"},_):i==="insideRight"?pt({x:l+u-x,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},_):i==="insideTop"?pt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},_):i==="insideBottom"?pt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},_):i==="insideTopLeft"?pt({x:l+x,y:c+h,textAnchor:v,verticalAnchor:y},_):i==="insideTopRight"?pt({x:l+u-x,y:c+h,textAnchor:w,verticalAnchor:y},_):i==="insideBottomLeft"?pt({x:l+x,y:c+f-h,textAnchor:v,verticalAnchor:p},_):i==="insideBottomRight"?pt({x:l+u-x,y:c+f-h,textAnchor:w,verticalAnchor:p},_):_o(i)&&(Y(i.x)||la(i.x))&&(Y(i.y)||la(i.y))?pt({x:l+Qt(i.x,u),y:c+Qt(i.y,f),textAnchor:"end",verticalAnchor:"end"},_):pt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},dY=function(t){return"cx"in t&&Y(t.cx)};function _t(e){var t=e.offset,r=t===void 0?5:t,n=tY(e,QQ),s=pt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,d=f===void 0?"":f,h=s.textBreakAll;if(!i||ue(l)&&ue(c)&&!O.isValidElement(u)&&!ce(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(ce(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=iY(s);var y=dY(i),b=se(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lY(s,p,b);var x=y?cY(s):uY(s);return k.createElement(ka,xc({className:he("recharts-label",d)},b,x,{breakAll:h}),p)}_t.displayName="Label";var YO=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,b=t.width,x=t.height,w=t.clockWise,v=t.labelViewBox;if(v)return v;if(Y(b)&&Y(x)){if(Y(d)&&Y(h))return{x:d,y:h,width:b,height:x};if(Y(p)&&Y(y))return{x:p,y,width:b,height:x}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},fY=function(t,r){return t?t===!0?k.createElement(_t,{key:"label-implicit",viewBox:r}):vt(t)?k.createElement(_t,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===_t?O.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(_t,{key:"label-implicit",content:t,viewBox:r}):ce(t)?k.createElement(_t,{key:"label-implicit",content:t,viewBox:r}):_o(t)?k.createElement(_t,xc({viewBox:r},t,{key:"label-implicit"})):null:null},hY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=YO(t),o=wr(s,_t).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=fY(t.label,r||i);return[l].concat(YQ(o))};_t.parseViewBox=YO;_t.renderCallByParent=hY;function pY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mY=pY;const gY=$e(mY);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var xY=["valueAccessor"],vY=["data","dataKey","clockWise","id","textBreakAll"];function yY(e){return SY(e)||jY(e)||wY(e)||bY()}function bY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(e,t){if(e){if(typeof e=="string")return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fg(e,t)}}function jY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SY(e){if(Array.isArray(e))return fg(e)}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return t=NY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=AY(e,"string");return vc(t)=="symbol"?t:t+""}function AY(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rj(e,t){if(e==null)return{};var r=OY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PY=function(t){return Array.isArray(t.value)?gY(t.value):t.value};function Un(e){var t=e.valueAccessor,r=t===void 0?PY:t,n=Rj(e,xY),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Rj(n,vY);return!s||!s.length?null:k.createElement(Se,{className:"recharts-label-list"},s.map(function(f,d){var h=ue(i)?r(f,d):gt(f&&f.payload,i),p=ue(l)?{}:{id:"".concat(l,"-").concat(d)};return k.createElement(_t,uf({},se(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:_t.parseViewBox(ue(o)?f:Mj(Mj({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Un.displayName="LabelList";function EY(e,t){return e?e===!0?k.createElement(Un,{key:"labelList-implicit",data:t}):k.isValidElement(e)||ce(e)?k.createElement(Un,{key:"labelList-implicit",data:t,content:e}):_o(e)?k.createElement(Un,uf({data:t},e,{key:"labelList-implicit"})):null:null}function kY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=wr(n,Un).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=EY(e.label,t);return[i].concat(yY(s))}Un.renderCallByParent=kY;function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=$Y(e,"string");return yc(t)=="symbol"?t:t+""}function $Y(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY=function(t,r){var n=Gt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Du=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+s,d=Math.asin(c/f)/cf,h=u?i:i+o*d,p=He(r,n,f,h),y=He(r,n,s,h),b=u?i-o*d:i,x=He(r,n,f*Math.cos(d*cf),b);return{center:p,circleTangency:y,lineTangency:x,theta:d}},XO=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=DY(o,l),u=o+c,f=He(r,n,i,o),d=He(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var p=He(r,n,s,o),y=He(r,n,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},IY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Gt(f-u),h=Du({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,b=h.theta,x=Du({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),w=x.circleTangency,v=x.lineTangency,m=x.theta,N=c?Math.abs(u-f):Math.abs(u-f)-b-m;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):XO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var g="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var j=Du({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=j.circleTangency,S=j.lineTangency,A=j.theta,P=Du({cx:r,cy:n,radius:s,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,C=P.lineTangency,I=P.theta,$=c?Math.abs(u-f):Math.abs(u-f)-A-I;if($<0&&o===0)return"".concat(g,"L").concat(r,",").concat(n,"Z");g+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else g+="L".concat(r,",").concat(n,"Z");return g},MY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZO=function(t){var r=Fj(Fj({},MY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var p=he("recharts-sector",h),y=o-i,b=Qt(l,y,0,!0),x;return b>0&&Math.abs(f-d)<360?x=IY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):x=XO({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),k.createElement("path",hg({},se(r,!0),{className:p,d:x,role:"img"}))};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return t=LY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=FY(e,"string");return bc(t)=="symbol"?t:t+""}function FY(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zj={curveBasisClosed:RR,curveBasisOpen:LR,curveBasis:MR,curveBumpX:jR,curveBumpY:SR,curveLinearClosed:FR,curveLinear:Ah,curveMonotoneX:UR,curveMonotoneY:BR,curveNatural:zR,curveStep:qR,curveStepAfter:HR,curveStepBefore:WR},Iu=function(t){return t.x===+t.x&&t.y===+t.y},el=function(t){return t.x},tl=function(t){return t.y},UY=function(t,r){if(ce(t))return t;var n="curve".concat(_h(t));return(n==="curveMonotone"||n==="curveBump")&&r?zj["".concat(n).concat(r==="vertical"?"Y":"X")]:zj[n]||Ah},BY=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=UY(n,l),d=u?i.filter(function(b){return Iu(b)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return Iu(b)}):o,y=d.map(function(b,x){return Bj(Bj({},b),{},{base:p[x]})});return l==="vertical"?h=Nu().y(tl).x1(el).x0(function(b){return b.base.x}):h=Nu().x(el).y1(tl).y0(function(b){return b.base.y}),h.defined(Iu).curve(f),h(y)}return l==="vertical"&&Y(o)?h=Nu().y(tl).x1(el).x0(o):Y(o)?h=Nu().x(el).y1(tl).y0(o):h=K4().x(el).y(tl),h.defined(Iu).curve(f),h(d)},df=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?BY(t):s;return O.createElement("path",pg({},se(t,!1),Dd(t),{className:he("recharts-curve",r),d:o,ref:i}))},JO={exports:{}},zY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qY=zY,WY=qY;function eP(){}function tP(){}tP.resetWarningCache=eP;var HY=function(){function e(n,s,i,o,l,c){if(c!==WY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tP,resetWarningCache:eP};return r.PropTypes=r,r};JO.exports=HY();var KY=JO.exports;const Oe=$e(KY);var VY=Object.getOwnPropertyNames,GY=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty;function qj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Mu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Wj(e){return VY(e).concat(GY(e))}var YY=Object.hasOwn||function(e,t){return QY.call(e,t)};function Ba(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var XY="__v",ZY="__o",JY="_owner",Hj=Object.getOwnPropertyDescriptor,Kj=Object.keys;function eX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tX(e,t){return Ba(e.getTime(),t.getTime())}function rX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function nX(e,t){return e===t}function Vj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=s[d]=!0;break}d++}if(!f)return!1;c++}return!0}var sX=Ba;function aX(e,t,r){var n=Kj(e),s=n.length;if(Kj(t).length!==s)return!1;for(;s-- >0;)if(!rP(e,t,r,n[s]))return!1;return!0}function rl(e,t,r){var n=Wj(e),s=n.length;if(Wj(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!rP(e,t,r,i)||(o=Hj(e,i),l=Hj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function iX(e,t){return Ba(e.valueOf(),t.valueOf())}function oX(e,t){return e.source===t.source&&e.flags===t.flags}function Gj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function lX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function cX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function rP(e,t,r,n){return(n===JY||n===ZY||n===XY)&&(e.$$typeof||t.$$typeof)?!0:YY(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var uX="[object Arguments]",dX="[object Boolean]",fX="[object Date]",hX="[object Error]",pX="[object Map]",mX="[object Number]",gX="[object Object]",xX="[object RegExp]",vX="[object Set]",yX="[object String]",bX="[object URL]",wX=Array.isArray,Qj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Yj=Object.assign,jX=Object.prototype.toString.call.bind(Object.prototype.toString);function SX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,b,x){if(y===b)return!0;if(y==null||b==null)return!1;var w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?o(y,b,x):w==="function"?s(y,b,x):!1;var v=y.constructor;if(v!==b.constructor)return!1;if(v===Object)return l(y,b,x);if(wX(y))return t(y,b,x);if(Qj!=null&&Qj(y))return d(y,b,x);if(v===Date)return r(y,b,x);if(v===RegExp)return u(y,b,x);if(v===Map)return i(y,b,x);if(v===Set)return f(y,b,x);var m=jX(y);return m===fX?r(y,b,x):m===xX?u(y,b,x):m===pX?i(y,b,x):m===vX?f(y,b,x):m===gX?typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,x):m===bX?h(y,b,x):m===hX?n(y,b,x):m===uX?l(y,b,x):m===dX||m===mX||m===yX?c(y,b,x):!1}}function _X(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?rl:eX,areDatesEqual:tX,areErrorsEqual:rX,areFunctionsEqual:nX,areMapsEqual:n?qj(Vj,rl):Vj,areNumbersEqual:sX,areObjectsEqual:n?rl:aX,arePrimitiveWrappersEqual:iX,areRegExpsEqual:oX,areSetsEqual:n?qj(Gj,rl):Gj,areTypedArraysEqual:n?rl:lX,areUrlsEqual:cX};if(r&&(s=Yj({},s,r(s))),t){var i=Mu(s.areArraysEqual),o=Mu(s.areMapsEqual),l=Mu(s.areObjectsEqual),c=Mu(s.areSetsEqual);s=Yj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function NX(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function AX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var OX=Ws();Ws({strict:!0});Ws({circular:!0});Ws({circular:!0,strict:!0});Ws({createInternalComparator:function(){return Ba}});Ws({strict:!0,createInternalComparator:function(){return Ba}});Ws({circular:!0,createInternalComparator:function(){return Ba}});Ws({circular:!0,createInternalComparator:function(){return Ba},strict:!0});function Ws(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=_X(e),c=SX(l),u=n?n(c):NX(c);return AX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function PX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Xj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):PX(s)};requestAnimationFrame(n)}function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function EX(e){return $X(e)||TX(e)||CX(e)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(e,t)}}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $X(e){if(Array.isArray(e))return e}function DX(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=EX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Xj(s.bind(null,u),c);return}s(c),Xj(s.bind(null,u));return}mg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){nP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nP(e,t,r){return t=IX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=MX(e,"string");return wc(t)==="symbol"?t:String(t)}function MX(e,t){if(wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},LX=function(t){return t},FX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nl=function(t,r){return Object.keys(r).reduce(function(n,s){return eS(eS({},n),{},nP({},s,t(s,r[s])))},{})},tS=function(t,r,n){return t.map(function(s){return"".concat(FX(s)," ").concat(r,"ms ").concat(n)}).join(",")};function UX(e,t){return qX(e)||zX(e,t)||sP(e,t)||BX()}function BX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qX(e){if(Array.isArray(e))return e}function WX(e){return VX(e)||KX(e)||sP(e)||HX()}function HX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(e,t){if(e){if(typeof e=="string")return gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gg(e,t)}}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return gg(e)}function gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ff=1e-4,aP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},iP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},rS=function(t,r){return function(n){var s=aP(t,r);return iP(s,n)}},GX=function(t,r){return function(n){var s=aP(t,r),i=[].concat(WX(s.map(function(o,l){return o*l}).slice(1)),[0]);return iP(i,n)}},nS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=UX(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var d=rS(s,o),h=rS(i,l),p=GX(s,o),y=function(w){return w>1?1:w<0?0:w},b=function(w){for(var v=w>1?1:w,m=v,N=0;N<8;++N){var g=d(m)-v,j=p(m);if(Math.abs(g-v)<ff||j<ff)return h(m);m=y(m-g/j)}return h(m)};return b.isStepper=!1,b},QX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*n,y=h*i,b=h+(p-y)*l/1e3,x=h*l/1e3+f;return Math.abs(x-d)<ff&&Math.abs(b)<ff?[d,0]:[x,b]};return c.isStepper=!0,c.dt=l,c},YX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nS(s);case"spring":return QX();default:if(s.split("(")[0]==="cubic-bezier")return nS(s)}return typeof s=="function"?s:null};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function sS(e){return JX(e)||ZX(e)||oP(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JX(e){if(Array.isArray(e))return vg(e)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xg(e,t,r){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return jc(t)==="symbol"?t:String(t)}function tZ(e,t){if(jc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e,t){return aZ(e)||sZ(e,t)||oP(e,t)||nZ()}function nZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(e,t){if(e){if(typeof e=="string")return vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vg(e,t)}}function vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function aZ(e){if(Array.isArray(e))return e}var hf=function(t,r,n){return t+(r-t)*n},yg=function(t){var r=t.from,n=t.to;return r!==n},iZ=function e(t,r,n){var s=Nl(function(i,o){if(yg(o)){var l=t(o.from,o.to,o.velocity),c=rZ(l,2),u=c[0],f=c[1];return Et(Et({},o),{},{from:u,velocity:f})}return o},r);return n<1?Nl(function(i,o){return yg(o)?Et(Et({},o),{},{velocity:hf(o.velocity,s[i].velocity,n),from:hf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const oZ=function(e,t,r,n,s){var i=RX(e,t),o=i.reduce(function(x,w){return Et(Et({},x),{},xg({},w,[e[w],t[w]]))},{}),l=i.reduce(function(x,w){return Et(Et({},x),{},xg({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Nl(function(w,v){return v.from},l)},p=function(){return!Object.values(l).filter(yg).length},y=function(w){u||(u=w);var v=w-u,m=v/r.dt;l=iZ(r,l,m),s(Et(Et(Et({},e),t),h())),u=w,p()||(c=requestAnimationFrame(d))},b=function(w){f||(f=w);var v=(w-f)/n,m=Nl(function(g,j){return hf.apply(void 0,sS(j).concat([r(v)]))},o);if(s(Et(Et(Et({},e),t),m)),v<1)c=requestAnimationFrame(d);else{var N=Nl(function(g,j){return hf.apply(void 0,sS(j).concat([r(1)]))},o);s(Et(Et(Et({},e),t),N))}};return d=r.isStepper?y:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var lZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cZ(e,t){if(e==null)return{};var r=uZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function cm(e){return pZ(e)||hZ(e)||fZ(e)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){if(e){if(typeof e=="string")return bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(e,t)}}function hZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pZ(e){if(Array.isArray(e))return bg(e)}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ul(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function xZ(e,t,r){return t&&gZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lP(e){var t=vZ(e,"string");return Yi(t)==="symbol"?t:String(t)}function vZ(e,t){if(Yi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wg(e,t)}function bZ(e){var t=wZ();return function(){var n=pf(e),s;if(t){var i=pf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return jg(this,s)}}function jg(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(e)}function Sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(e)}var bn=function(e){yZ(r,e);var t=bZ(r);function r(n,s){var i;mZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Sg(i)),i.changeStyle=i.changeStyle.bind(Sg(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),jg(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},jg(i);i.state={style:c?ul({},c,u):u}}else i.state={style:{}};return i}return xZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var p={style:c?ul({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(OX(s.to,f)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?d:s.to;if(this.state&&h){var x={style:c?ul({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(x)}this.runAnimation(Kr(Kr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,p=oZ(o,l,YX(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(b,x,w){if(w===0)return b;var v=x.duration,m=x.easing,N=m===void 0?"ease":m,g=x.style,j=x.properties,_=x.onAnimationEnd,S=w>0?o[w-1]:x,A=j||Object.keys(g);if(typeof N=="function"||N==="spring")return[].concat(cm(b),[i.runJSAnimation.bind(i,{from:S.style,to:g,duration:v,easing:N}),v]);var P=tS(A,v,N),E=Kr(Kr(Kr({},S.style),g),{},{transition:P});return[].concat(cm(b),[E,v,_]).filter(LX)};return this.manager.start([c].concat(cm(o.reduce(p,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=DX());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,p=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?ul({},l,c):c,x=tS(Object.keys(b),o,u);y.start([f,i,Kr(Kr({},b),{},{transition:x}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=cZ(s,lZ),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(p){var y=p.props,b=y.style,x=b===void 0?{}:b,w=y.className,v=O.cloneElement(p,Kr(Kr({},c),{},{style:Kr(Kr({},x),f),className:w}));return v};return u===1?d(O.Children.only(i)):k.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);bn.displayName="Animate";bn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bn.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}function jZ(e,t){return AZ(e)||NZ(e,t)||_Z(e,t)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(e,t){if(e){if(typeof e=="string")return oS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(e,t)}}function oS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function AZ(e){if(Array.isArray(e))return e}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=EZ(e,"string");return Sc(t)=="symbol"?t:t+""}function EZ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uS=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+s-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+s)),f+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},kZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&s>=d&&s<=h}return!1},CZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iy=function(t){var r=cS(cS({},CZ),t),n=O.useRef(),s=O.useState(-1),i=jZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var m=he("recharts-rectangle",p);return v?k.createElement(bn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:b,animationEasing:y,isActive:v},function(N){var g=N.width,j=N.height,_=N.x,S=N.y;return k.createElement(bn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:y},k.createElement("path",mf({},se(r,!0),{className:m,d:uS(_,S,g,j,h),ref:n})))}):k.createElement("path",mf({},se(r,!0),{className:m,d:uS(c,u,f,d,h)}))},TZ=["points","className","baseLinePoints","connectNulls"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function $Z(e,t){if(e==null)return{};var r=DZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dS(e){return LZ(e)||RZ(e)||MZ(e)||IZ()}function IZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function RZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LZ(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fS=function(t){return t&&t.x===+t.x&&t.y===+t.y},FZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){fS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Al=function(t,r){var n=FZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(dS(i),dS(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},UZ=function(t,r,n){var s=Al(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Al(r.reverse(),n).slice(1))},BZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=$Z(t,TZ);if(!r||!r.length)return null;var l=he("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=UZ(r,s,i);return k.createElement("g",{className:l},k.createElement("path",xi({},se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?k.createElement("path",xi({},se(o,!0),{fill:"none",d:Al(r,i)})):null,c?k.createElement("path",xi({},se(o,!0),{fill:"none",d:Al(s,i)})):null)}var f=Al(r,i);return k.createElement("path",xi({},se(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}var zh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=he("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",Ng({},se(t,!1),Dd(t),{className:o,cx:r,cy:n,r:s})):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var zZ=["x","y","top","left","width","height","className"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){WZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=KZ(e,"string");return _c(t)=="symbol"?t:t+""}function KZ(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VZ(e,t){if(e==null)return{};var r=GZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QZ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},YZ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,b=VZ(t,zZ),x=qZ({x:n,y:i,top:l,left:u,width:d,height:p},b);return!Y(n)||!Y(i)||!Y(d)||!Y(p)||!Y(l)||!Y(u)?null:k.createElement("path",Ag({},se(x,!0),{className:he("recharts-cross",y),d:QZ(n,i,d,p,l,u)}))},XZ=Rh,ZZ=bO,JZ=jn;function eJ(e,t){return e&&e.length?XZ(e,JZ(t),ZZ):void 0}var tJ=eJ;const rJ=$e(tJ);var nJ=Rh,sJ=jn,aJ=wO;function iJ(e,t){return e&&e.length?nJ(e,sJ(t),aJ):void 0}var oJ=iJ;const lJ=$e(oJ);var cJ=["cx","cy","angle","ticks","axisLine"],uJ=["ticks","tick","angle","tickFormatter","stroke"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mS(e,t){if(e==null)return{};var r=dJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function hJ(e,t,r){return t&&gS(e.prototype,t),r&&gS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pJ(e,t,r){return t=gf(t),mJ(e,cP()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function mJ(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(e)}function gJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function xJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Og(e,t)}function qh(e,t,r){return t=uP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e){var t=vJ(e,"string");return Xi(t)=="symbol"?t:t+""}function vJ(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wh=function(e){function t(){return fJ(this,t),pJ(this,t,arguments)}return xJ(t,e),hJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return He(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=rJ(l,function(f){return f.coordinate||0}),u=lJ(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=mS(n,cJ),f=l.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),d=He(s,i,f[0],o),h=He(s,i,f[1],o),p=Gs(Gs(Gs({},se(u,!1)),{},{fill:"none"},se(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return k.createElement("line",Ol({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=mS(s,uJ),d=this.getTickTextAnchor(),h=se(f,!1),p=se(o,!1),y=i.map(function(b,x){var w=n.getTickValueCoord(b),v=Gs(Gs(Gs(Gs({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},w),{},{payload:b});return k.createElement(Se,Ol({className:he("recharts-polar-radius-axis-tick",QO(o)),key:"tick-".concat(b.coordinate)},Ea(n.props,b,x)),t.renderTickItem(o,v,c?c(b.value,x):b.value))});return k.createElement(Se,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:k.createElement(Se,{className:he("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),_t.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,s):ce(n)?o=n(s):o=k.createElement(ka,Ol({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);qh(Wh,"displayName","PolarRadiusAxis");qh(Wh,"axisType","radiusAxis");qh(Wh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function bJ(e,t,r){return t&&vS(e.prototype,t),r&&vS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wJ(e,t,r){return t=xf(t),jJ(e,dP()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function jJ(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJ(e)}function SJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function _J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Pg(e,t)}function Hh(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=NJ(e,"string");return Zi(t)=="symbol"?t:t+""}function NJ(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AJ=Math.PI/180,yS=1e-5,Kh=function(e){function t(){return yJ(this,t),wJ(this,t,arguments)}return _J(t,e),bJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,d=He(i,o,l,n.coordinate),h=He(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*AJ),o;return i>yS?o=s==="outer"?"start":"end":i<-yS?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Qs(Qs({},se(this.props,!1)),{},{fill:"none"},se(l,!1));if(c==="circle")return k.createElement(zh,sa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return He(s,i,o,h.coordinate)});return k.createElement(BZ,sa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=se(this.props,!1),d=se(o,!1),h=Qs(Qs({},f),{},{fill:"none"},se(l,!1)),p=i.map(function(y,b){var x=n.getTickLineCoord(y),w=n.getTickTextAnchor(y),v=Qs(Qs(Qs({textAnchor:w},f),{},{stroke:"none",fill:u},d),{},{index:b,payload:y,x:x.x2,y:x.y2});return k.createElement(Se,sa({className:he("recharts-polar-angle-axis-tick",QO(o)),key:"tick-".concat(y.coordinate)},Ea(n.props,y,b)),l&&k.createElement("line",sa({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,v,c?c(y.value,b):y.value))});return k.createElement(Se,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:k.createElement(Se,{className:he("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,s):ce(n)?o=n(s):o=k.createElement(ka,sa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);Hh(Kh,"displayName","PolarAngleAxis");Hh(Kh,"axisType","angleAxis");Hh(Kh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var OJ=gA,PJ=OJ(Object.getPrototypeOf,Object),EJ=PJ,kJ=Xn,CJ=EJ,TJ=Zn,$J="[object Object]",DJ=Function.prototype,IJ=Object.prototype,hP=DJ.toString,MJ=IJ.hasOwnProperty,RJ=hP.call(Object);function LJ(e){if(!TJ(e)||kJ(e)!=$J)return!1;var t=CJ(e);if(t===null)return!0;var r=MJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hP.call(r)==RJ}var FJ=LJ;const UJ=$e(FJ);var BJ=Xn,zJ=Zn,qJ="[object Boolean]";function WJ(e){return e===!0||e===!1||zJ(e)&&BJ(e)==qJ}var HJ=WJ;const KJ=$e(HJ);function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function VJ(e,t){return XJ(e)||YJ(e,t)||QJ(e,t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return bS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(e,t)}}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function XJ(e){if(Array.isArray(e))return e}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=eee(e,"string");return Nc(t)=="symbol"?t:t+""}function eee(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SS=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},tee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ree=function(t){var r=jS(jS({},tee),t),n=O.useRef(),s=O.useState(-1),i=VJ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&l(m)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var v=he("recharts-trapezoid",p);return w?k.createElement(bn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:b,animationEasing:y,isActive:w},function(m){var N=m.upperWidth,g=m.lowerWidth,j=m.height,_=m.x,S=m.y;return k.createElement(bn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:y},k.createElement("path",vf({},se(r,!0),{className:v,d:SS(_,S,N,g,j),ref:n})))}):k.createElement("g",null,k.createElement("path",vf({},se(r,!0),{className:v,d:SS(c,u,f,d,h)})))},nee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function see(e,t){if(e==null)return{};var r=aee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iee(e,t,r){return t=oee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return Ac(t)=="symbol"?t:t+""}function lee(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cee(e,t){return yf(yf({},t),e)}function uee(e,t){return e==="symbols"}function NS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(iy,r);case"trapezoid":return k.createElement(ree,r);case"sector":return k.createElement(ZO,r);case"symbols":if(uee(t))return k.createElement(Nv,r);break;default:return null}}function dee(e){return O.isValidElement(e)?e.props:e}function pP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?cee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=see(e,nee),u;if(O.isValidElement(t))u=O.cloneElement(t,yf(yf({},c),dee(t)));else if(ce(t))u=t(c);else if(UJ(t)&&!KJ(t)){var f=s(t,c);u=k.createElement(NS,{shapeType:r,elementProps:f})}else{var d=c;u=k.createElement(NS,{shapeType:r,elementProps:d})}return l?k.createElement(Se,{className:o},u):u}function Vh(e,t){return t!=null&&"trapezoids"in e.props}function Gh(e,t){return t!=null&&"sectors"in e.props}function Oc(e,t){return t!=null&&"points"in e.props}function fee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function hee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function mee(e,t){var r;return Vh(e,t)?r=fee:Gh(e,t)?r=hee:Oc(e,t)&&(r=pee),r}function gee(e,t){var r;return Vh(e,t)?r="trapezoids":Gh(e,t)?r="sectors":Oc(e,t)&&(r="points"),r}function xee(e,t){if(Vh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Oc(e,t)?t.payload:{}}function vee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=gee(r,t),i=xee(r,t),o=n.filter(function(c,u){var f=Jc(i,c),d=r.props[s].filter(function(y){var b=mee(r,t);return b(y,t)}),h=r.props[s].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var Ju;function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function bee(e,t,r){return t&&OS(e.prototype,t),r&&OS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wee(e,t,r){return t=bf(t),jee(e,mP()?Reflect.construct(t,r||[],bf(e).constructor):t.apply(e,r))}function jee(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return See(e)}function See(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!e})()}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(e)}function _ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Eg(e,t)}function $r(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=Nee(e,"string");return Ji(t)=="symbol"?t:t+""}function Nee(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Or=function(e){function t(r){var n;return yee(this,t),n=wee(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",Po("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(s)&&s()}),$r(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return _ee(t,e),bee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=se(this.props,!1),d=se(o,!1),h=se(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,v=He(b.cx,b.cy,b.outerRadius+p,w),m=Ue(Ue(Ue(Ue({},f),b),{},{stroke:"none"},d),{},{index:x,textAnchor:t.getTextAnchor(v.x,b.cx)},v),N=Ue(Ue(Ue(Ue({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[He(b.cx,b.cy,b.outerRadius,w),v]}),g=c;return ue(c)&&ue(u)?g="value":ue(c)&&(g=u),k.createElement(Se,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,m,gt(b,g)))});return k.createElement(Se,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(f),h=c&&s.hasActiveIndex()?c:null,p=d?o:h,y=Ue(Ue({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return k.createElement(Se,vi({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ea(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),k.createElement(pP,vi({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return k.createElement(bn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,x=[],w=i&&i[0],v=w.startAngle;return i.forEach(function(m,N){var g=h&&h[N],j=N>0?br(m,"paddingAngle",0):0;if(g){var _=gr(g.endAngle-g.startAngle,m.endAngle-m.startAngle),S=Ue(Ue({},m),{},{startAngle:v+j,endAngle:v+_(b)+j});x.push(S),v=S.endAngle}else{var A=m.endAngle,P=m.startAngle,E=gr(0,A-P),C=E(b),I=Ue(Ue({},m),{},{startAngle:v+j,endAngle:v+C+j});x.push(I),v=I.endAngle}}),k.createElement(Se,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Jc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Y(u)||!Y(f)||!Y(d)||!Y(h))return null;var b=he("recharts-pie",l);return k.createElement(Se,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),_t.renderCallByParent(this.props,null,!1),(!p||y)&&Un.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(k.isValidElement(n))return k.cloneElement(n,s);if(ce(n))return n(s);var o=he("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(df,vi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(k.isValidElement(n))return k.cloneElement(n,s);var o=i;if(ce(n)&&(o=n(s),k.isValidElement(o)))return o;var l=he("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return k.createElement(ka,vi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);Ju=Or;$r(Or,"displayName","Pie");$r(Or,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Or,"parseDeltaAngle",function(e,t){var r=Gt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Or,"getRealPieData",function(e){var t=e.data,r=e.children,n=se(e,!1),s=wr(r,Bs);return t&&t.length?t.map(function(i,o){return Ue(Ue(Ue({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ue(Ue({},n),i.props)}):[]});$r(Or,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=GO(s,i),l=n+Qt(e.cx,s,s/2),c=r+Qt(e.cy,i,i/2),u=Qt(e.innerRadius,o,0),f=Qt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});$r(Or,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ue(Ue({},t.type.defaultProps),t.props):t.props,s=Ju.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Ju.parseCoordinateOfPie(n,r),b=Ju.parseDeltaAngle(o,l),x=Math.abs(b),w=u;ue(u)&&ue(d)?(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ue(u)&&(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var v=s.filter(function(S){return gt(S,w,0)!==0}).length,m=(x>=360?v:v-1)*c,N=x-v*p-m,g=s.reduce(function(S,A){var P=gt(A,w,0);return S+(Y(P)?P:0)},0),j;if(g>0){var _;j=s.map(function(S,A){var P=gt(S,w,0),E=gt(S,f,A),C=(Y(P)?P:0)/g,I;A?I=_.endAngle+Gt(b)*c*(P!==0?1:0):I=o;var $=I+Gt(b)*((P!==0?p:0)+C*N),L=(I+$)/2,U=(y.innerRadius+y.outerRadius)/2,W=[{name:E,value:P,payload:S,dataKey:w,type:h}],T=He(y.cx,y.cy,U,L);return _=Ue(Ue(Ue({percent:C,cornerRadius:i,name:E,tooltipPayload:W,midAngle:L,middleRadius:U,tooltipPosition:T},S),y),{},{value:gt(S,w),startAngle:I,endAngle:$,payload:S,paddingAngle:Gt(b)*c}),_})}return Ue(Ue({},y),{},{sectors:j,data:s})});var Aee=Math.ceil,Oee=Math.max;function Pee(e,t,r,n){for(var s=-1,i=Oee(Aee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Eee=Pee,kee=IA,PS=1/0,Cee=17976931348623157e292;function Tee(e){if(!e)return e===0?e:0;if(e=kee(e),e===PS||e===-PS){var t=e<0?-1:1;return t*Cee}return e===e?e:0}var xP=Tee,$ee=Eee,Dee=kh,um=xP;function Iee(e){return function(t,r,n){return n&&typeof n!="number"&&Dee(t,r,n)&&(r=n=void 0),t=um(t),r===void 0?(r=t,t=0):r=um(r),n=n===void 0?t<r?1:-1:um(n),$ee(t,r,n,e)}}var Mee=Iee,Ree=Mee,Lee=Ree(),Fee=Lee;const wf=$e(Fee);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){vP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e,t,r){return t=Uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return Pc(t)=="symbol"?t:t+""}function Bee(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=["Webkit","Moz","O","ms"],qee=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=zee.reduce(function(i,o){return kS(kS({},i),{},vP({},o+n,r))},{});return s[t]=r,s};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bP(n.key),n)}}function Hee(e,t,r){return t&&TS(e.prototype,t),r&&TS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kee(e,t,r){return t=Sf(t),Vee(e,yP()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function Vee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function Qee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kg(e,t)}function hr(e,t,r){return t=bP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bP(e){var t=Yee(e,"string");return eo(t)=="symbol"?t:t+""}function Yee(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Sl().domain(wf(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},$S=function(t){return t.changedTouches&&!!t.changedTouches.length},to=function(e){function t(r){var n;return Wee(this,t),n=Kee(this,t,[r]),hr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),hr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),hr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hr(n,"handleSlideDragStart",function(s){var i=$S(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Qee(t,e),Hee(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,d),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=gt(i[n],l,n);return ce(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,u+f-d-l,u+f-d-o):b<0&&(b=Math.max(b,u-o,u-l));var x=this.getIndex({startX:o+b,endX:l+b});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=$S(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,b=f.gap,x=f.data,w={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,d+h-p-u):v<0&&(v=Math.max(v,d-u)),w[o]=u+v;var m=this.getIndex(w),N=m.startIndex,g=m.endIndex,j=function(){var S=x.length-1;return o==="startX"&&(l>c?N%b===0:g%b===0)||l<c&&g===S||o==="endX"&&(l>c?g%b===0:N%b===0)||l>c&&g===S};this.setState(hr(hr({},o,u+v),"brushMoveStartX",n.pageX),function(){y&&j()&&y(m)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(hr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?k.cloneElement(d,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,b=c.startIndex,x=c.endIndex,w=Math.max(n,this.props.x),v=dm(dm({},se(this.props,!1)),{},{x:w,y:u,width:f,height:d}),m=p||"Min value: ".concat((i=y[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return k.createElement(Se,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(g){["ArrowLeft","ArrowRight"].includes(g.key)&&(g.preventDefault(),g.stopPropagation(),l.handleTravellerMoveKeyboard(g.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return k.createElement(Se,{className:"recharts-brush-texts"},k.createElement(ka,jf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+l/2},y),this.getTextOfTick(s)),k.createElement(ka,jf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,b=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!Y(l)||!Y(c)||!Y(u)||!Y(f)||u<=0||f<=0)return null;var m=he("recharts-brush",i),N=k.Children.count(o)===1,g=qee("userSelect","none");return k.createElement(Se,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:g},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(b||x||w||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return k.isValidElement(n)?i=k.cloneElement(n,s):ce(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return dm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Xee({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);hr(to,"displayName","Brush");hr(to,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zee=Tv;function Jee(e,t){var r;return Zee(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var ete=Jee,tte=lA,rte=jn,nte=ete,ste=dr,ate=kh;function ite(e,t,r){var n=ste(e)?tte:nte;return r&&ate(e,t,r)&&(t=void 0),n(e,rte(t))}var ote=ite;const lte=$e(ote);var vn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},DS=kA;function cte(e,t,r){t=="__proto__"&&DS?DS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ute=cte,dte=ute,fte=PA,hte=jn;function pte(e,t){var r={};return t=hte(t),fte(e,function(n,s,i){dte(r,s,t(n,s,i))}),r}var mte=pte;const gte=$e(mte);function xte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var vte=xte,yte=Tv;function bte(e,t){var r=!0;return yte(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var wte=bte,jte=vte,Ste=wte,_te=jn,Nte=dr,Ate=kh;function Ote(e,t,r){var n=Nte(e)?jte:Ste;return r&&Ate(e,t,r)&&(t=void 0),n(e,_te(t))}var Pte=Ote;const wP=$e(Pte);var Ete=["x","y"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=Tte(e,"string");return Ec(t)=="symbol"?t:t+""}function Tte(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $te(e,t){if(e==null)return{};var r=Dte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ite(e,t){var r=e.x,n=e.y,s=$te(e,Ete),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return nl(nl(nl(nl(nl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function MS(e){return k.createElement(pP,Cg({shapeType:"rectangle",propTransformer:Ite,activeClassName:"recharts-active-bar"},e))}var Mte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Y(n)||oM(n);return i?t(n,s):(i||Ta(),r)}},Rte=["value","background"],jP;function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function Lte(e,t){if(e==null)return{};var r=Fte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_P(n.key),n)}}function Bte(e,t,r){return t&&LS(e.prototype,t),r&&LS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zte(e,t,r){return t=Nf(t),qte(e,SP()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function qte(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wte(e)}function Wte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SP=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function Hte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tg(e,t)}function bs(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _P(e){var t=Kte(e,"string");return ro(t)=="symbol"?t:t+""}function Kte(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ot=function(e){function t(){var r;Ute(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=zte(this,t,[].concat(s)),bs(r,"state",{isAnimationFinished:!1}),bs(r,"id",Po("recharts-bar-")),bs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),bs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Hte(t,e),Bte(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=se(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:o,b=ut(ut(ut({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return k.createElement(Se,_f({className:"recharts-bar-rectangle"},Ea(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),k.createElement(MS,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,d=s.animationId,h=this.state.prevData;return k.createElement(bn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,b=i.map(function(x,w){var v=h&&h[w];if(v){var m=gr(v.x,x.x),N=gr(v.y,x.y),g=gr(v.width,x.width),j=gr(v.height,x.height);return ut(ut({},x),{},{x:m(y),y:N(y),width:g(y),height:j(y)})}if(o==="horizontal"){var _=gr(0,x.height),S=_(y);return ut(ut({},x),{},{y:x.y+x.height-S,height:S})}var A=gr(0,x.width),P=A(y);return ut(ut({},x),{},{width:P})});return k.createElement(Se,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Jc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=se(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=Lte(u,Rte);if(!d)return null;var p=ut(ut(ut(ut(ut({},h),{},{fill:"#eee"},d),c),Ea(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return k.createElement(MS,_f({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wr(f,eu);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,w){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:gt(x,w)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(Se,y,d.map(function(b){return k.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,b=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,w=he("recharts-bar",o),v=l&&l.allowDataOverflow,m=c&&c.allowDataOverflow,N=v||m,g=ue(b)?this.id:b;return k.createElement(Se,{className:w},v||m?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(g)},k.createElement("rect",{x:v?u:u-d/2,y:m?f:f-h/2,width:v?d:d*2,height:m?h:h*2}))):null,k.createElement(Se,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(g,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,g),(!p||x)&&Un.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);jP=Ot;bs(Ot,"displayName","Bar");bs(Ot,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bs(Ot,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=AQ(n,r);if(!p)return null;var y=t.layout,b=r.type.defaultProps,x=b!==void 0?ut(ut({},b),r.props):r.props,w=x.dataKey,v=x.children,m=x.minPointSize,N=y==="horizontal"?o:i,g=u?N.scale.domain():null,j=$Q({numericAxis:N}),_=wr(v,Bs),S=d.map(function(A,P){var E,C,I,$,L,U;u?E=OQ(u[f+P],g):(E=gt(A,w),Array.isArray(E)||(E=[j,E]));var W=Mte(m,jP.defaultProps.minPointSize)(E[1],P);if(y==="horizontal"){var T,R=[o.scale(E[0]),o.scale(E[1])],D=R[0],K=R[1];C=Oj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),I=(T=K??D)!==null&&T!==void 0?T:void 0,$=p.size;var Q=D-K;if(L=Number.isNaN(Q)?0:Q,U={x:C,y:o.y,width:$,height:o.height},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var te=Gt(L||W)*(Math.abs(W)-Math.abs(L));I-=te,L+=te}}else{var ve=[i.scale(E[0]),i.scale(E[1])],Ie=ve[0],Ke=ve[1];if(C=Ie,I=Oj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),$=Ke-Ie,L=p.size,U={x:i.x,y:I,width:i.width,height:L},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var Dt=Gt($||W)*(Math.abs(W)-Math.abs($));$+=Dt}}return ut(ut(ut({},A),{},{x:C,y:I,width:$,height:L,value:u?E:E[1],payload:A,background:U},_&&_[P]&&_[P].props),{},{tooltipPayload:[KO(r,A)],tooltipPosition:{x:C+$/2,y:I+L/2}})});return ut({data:S,layout:y},h)});function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NP(n.key),n)}}function Gte(e,t,r){return t&&FS(e.prototype,t),r&&FS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qh(e,t,r){return t=NP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NP(e){var t=Qte(e,"string");return kc(t)=="symbol"?t:t+""}function Qte(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!mr(u,Ot);return f.reduce(function(p,y){var b=r[y],x=b.orientation,w=b.domain,v=b.padding,m=v===void 0?{}:v,N=b.mirror,g=b.reversed,j="".concat(x).concat(N?"Mirror":""),_,S,A,P,E;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var C=w[1]-w[0],I=1/0,$=b.categoricalDomain.sort(uM);if($.forEach(function(ve,Ie){Ie>0&&(I=Math.min((ve||0)-($[Ie-1]||0),I))}),Number.isFinite(I)){var L=I/C,U=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(_=L*U/2),b.padding==="no-gap"){var W=Qt(t.barCategoryGap,L*U),T=L*U/2;_=T-W-(T-W)/U*W}}}s==="xAxis"?S=[n.left+(m.left||0)+(_||0),n.left+n.width-(m.right||0)-(_||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0)+(_||0),n.top+n.height-(m.bottom||0)-(_||0)]:S=b.range,g&&(S=[S[1],S[0]]);var R=zO(b,i,h),D=R.scale,K=R.realScaleType;D.domain(w).range(S),qO(D);var Q=WO(D,Xr(Xr({},b),{},{realScaleType:K}));s==="xAxis"?(E=x==="top"&&!N||x==="bottom"&&N,A=n.left,P=d[j]-E*b.height):s==="yAxis"&&(E=x==="left"&&!N||x==="right"&&N,A=d[j]-E*b.width,P=n.top);var te=Xr(Xr(Xr({},b),Q),{},{realScaleType:K,x:A,y:P,scale:D,width:s==="xAxis"?n.width:b.width,height:s==="yAxis"?n.height:b.height});return te.bandSize=lf(te,Q),!b.hide&&s==="xAxis"?d[j]+=(E?-1:1)*te.height:b.hide||(d[j]+=(E?-1:1)*te.width),Xr(Xr({},p),{},Qh({},y,te))},{})},OP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Yte=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return OP({x:r,y:n},{x:s,y:i})},PP=function(){function e(t){Vte(this,e),this.scale=t}return Gte(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Qh(PP,"EPS",1e-4);var oy=function(t){var r=Object.keys(t).reduce(function(n,s){return Xr(Xr({},n),{},Qh({},s,PP.create(t[s])))},{});return Xr(Xr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return gte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return wP(s,function(i,o){return r[o].isInRange(i)})}})};function Xte(e){return(e%180+180)%180}var Zte=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xte(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Jte=jn,ere=Gc,tre=Ph;function rre(e){return function(t,r,n){var s=Object(t);if(!ere(t)){var i=Jte(r);t=tre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var nre=rre,sre=xP;function are(e){var t=sre(e),r=t%1;return t===t?r?t-r:t:0}var ire=are,ore=jA,lre=jn,cre=ire,ure=Math.max;function dre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:cre(r);return s<0&&(s=ure(n+s,0)),ore(e,lre(t),s)}var fre=dre,hre=nre,pre=fre,mre=hre(pre),gre=mre;const xre=$e(gre);var vre=d8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ly=O.createContext(void 0),cy=O.createContext(void 0),EP=O.createContext(void 0),kP=O.createContext({}),CP=O.createContext(void 0),TP=O.createContext(0),$P=O.createContext(0),BS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=vre(i);return k.createElement(ly.Provider,{value:n},k.createElement(cy.Provider,{value:s},k.createElement(kP.Provider,{value:i},k.createElement(EP.Provider,{value:f},k.createElement(CP.Provider,{value:o},k.createElement(TP.Provider,{value:u},k.createElement($P.Provider,{value:c},l)))))))},yre=function(){return O.useContext(CP)},DP=function(t){var r=O.useContext(ly);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},bre=function(){var t=O.useContext(ly);return ps(t)},wre=function(){var t=O.useContext(cy),r=xre(t,function(n){return wP(n.domain,Number.isFinite)});return r||ps(t)},IP=function(t){var r=O.useContext(cy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},jre=function(){var t=O.useContext(EP);return t},Sre=function(){return O.useContext(kP)},uy=function(){return O.useContext($P)},dy=function(){return O.useContext(TP)};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function _re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RP(n.key),n)}}function Are(e,t,r){return t&&Nre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ore(e,t,r){return t=Af(t),Pre(e,MP()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Pre(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ere(e)}function Ere(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function kre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$g(e,t)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fy(e,t,r){return t=RP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e){var t=Cre(e,"string");return no(t)=="symbol"?t:t+""}function Cre(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){return Mre(e)||Ire(e,t)||Dre(e,t)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(e,t){if(e){if(typeof e=="string")return WS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(e,t)}}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ire(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mre(e){if(Array.isArray(e))return e}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}var Rre=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):ce(t)?n=t(r):n=k.createElement("line",Dg({},r,{className:"recharts-reference-line-line"})),n},Lre=function(t,r,n,s,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var y=u.y,b=t.y.apply(y,{position:o});if(vn(u,"discard")&&!t.y.isInRange(b))return null;var x=[{x:f+h,y:b},{x:f,y:b}];return c==="left"?x.reverse():x}if(r){var w=u.x,v=t.x.apply(w,{position:o});if(vn(u,"discard")&&!t.x.isInRange(v))return null;var m=[{x:v,y:d+p},{x:v,y:d}];return l==="top"?m.reverse():m}if(s){var N=u.segment,g=N.map(function(j){return t.apply(j,{position:o})});return vn(u,"discard")&&lte(g,function(j){return!t.isInRange(j)})?null:g}return null};function Fre(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=yre(),f=DP(s),d=IP(i),h=jre();if(!u||!h)return null;sn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=oy({x:f.scale,y:d.scale}),y=vt(t),b=vt(r),x=n&&n.length===2,w=Lre(p,y,b,x,h,e.position,f.orientation,d.orientation,e);if(!w)return null;var v=Tre(w,2),m=v[0],N=m.x,g=m.y,j=v[1],_=j.x,S=j.y,A=vn(e,"hidden")?"url(#".concat(u,")"):void 0,P=qS(qS({clipPath:A},se(e,!0)),{},{x1:N,y1:g,x2:_,y2:S});return k.createElement(Se,{className:he("recharts-reference-line",l)},Rre(o,P),_t.renderCallByParent(e,Yte({x1:N,y1:g,x2:_,y2:S})))}var hy=function(e){function t(){return _re(this,t),Ore(this,t,arguments)}return kre(t,e),Are(t,[{key:"render",value:function(){return k.createElement(Fre,this.props)}}])}(k.Component);fy(hy,"displayName","ReferenceLine");fy(hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ure(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function zre(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qre(e,t,r){return t=Of(t),Wre(e,LP()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Wre(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hre(e)}function Hre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function Kre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mg(e,t)}function Yh(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=Vre(e,"string");return so(t)=="symbol"?t:t+""}function Vre(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=oy({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return vn(t,"discard")&&!o.isInRange(l)?null:l},Xh=function(e){function t(){return Ure(this,t),qre(this,t,arguments)}return Kre(t,e),zre(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=vt(s),f=vt(i);if(sn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Gre(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,b=y.shape,x=y.className,w=vn(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=KS(KS({clipPath:w},se(this.props,!0)),{},{cx:h,cy:p});return k.createElement(Se,{className:he("recharts-reference-dot",x)},t.renderDot(b,v),_t.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(k.Component);Yh(Xh,"displayName","ReferenceDot");Yh(Xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yh(Xh,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):ce(e)?r=e(t):r=k.createElement(zh,Ig({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function Xre(e,t,r){return t&&Yre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zre(e,t,r){return t=Pf(t),Jre(e,UP()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(e)}function ene(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function tne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lg(e,t)}function Zh(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=rne(e,"string");return ao(t)=="symbol"?t:t+""}function rne(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=oy({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return vn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:OP(p,y)},Jh=function(e){function t(){return Qre(this,t),Zre(this,t,arguments)}return tne(t,e),Xre(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;sn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=vt(s),h=vt(i),p=vt(o),y=vt(l),b=this.props.shape;if(!d&&!h&&!p&&!y&&!b)return null;var x=nne(d,h,p,y,this.props);if(!x&&!b)return null;var w=vn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return k.createElement(Se,{className:he("recharts-reference-area",c)},t.renderRect(b,GS(GS({clipPath:w},se(this.props,!0)),x)),_t.renderCallByParent(this.props,x))}}])}(k.Component);Zh(Jh,"displayName","ReferenceArea");Zh(Jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zh(Jh,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):ce(e)?r=e(t):r=k.createElement(iy,Rg({},t,{className:"recharts-reference-area-rect"})),r});function zP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function sne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Zte(n,r)}function ane(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Ef(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function ine(e,t){return zP(e,t+1)}function one(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:zP(n,u)};var b=c,x,w=function(){return x===void 0&&(x=r(y,b)),x},v=y.coordinate,m=c===0||Ef(e,v,w,f,l);m||(c=0,f=o,u+=1),m&&(f=v+e*(w()/2+s),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return t=cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return Cc(t)=="symbol"?t:t+""}function une(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,b=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var x=e*(p.coordinate+e*b()/2-c);i[h]=p=Ft(Ft({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Ft(Ft({},p),{},{tickCoord:p.coordinate});var w=Ef(e,p.tickCoord,b,l,c);w&&(c=p.tickCoord-e*(b()/2+s),i[h]=Ft(Ft({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function fne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=Ft(Ft({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Ef(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+s),o[l-1]=Ft(Ft({},f),{},{isShow:!0}))}for(var y=i?l-1:l,b=function(v){var m=o[v],N,g=function(){return N===void 0&&(N=r(m,v)),N};if(v===0){var j=e*(m.coordinate-e*g()/2-c);o[v]=m=Ft(Ft({},m),{},{tickCoord:j<0?m.coordinate-j*e:m.coordinate})}else o[v]=m=Ft(Ft({},m),{},{tickCoord:m.coordinate});var _=Ef(e,m.tickCoord,g,c,u);_&&(c=m.tickCoord+e*(g()/2+s),o[v]=Ft(Ft({},m),{},{isShow:!0}))},x=0;x<y;x++)b(x);return o}function py(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(Y(c)||gn.isSsr)return ine(s,typeof c=="number"&&Y(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?jl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(m,N){var g=ce(u)?u(m.value,N):m.value;return p==="width"?sne(jl(g,{fontSize:t,letterSpacing:r}),y,d):jl(g,{fontSize:t,letterSpacing:r})[p]},x=s.length>=2?Gt(s[1].coordinate-s[0].coordinate):1,w=ane(i,x,p);return c==="equidistantPreserveStart"?one(x,w,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=fne(x,w,b,s,o,c==="preserveStartEnd"):h=dne(x,w,b,s,o),h.filter(function(v){return v.isShow}))}var hne=["viewBox"],pne=["viewBox"],mne=["ticks"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){my(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fm(e,t){if(e==null)return{};var r=gne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function vne(e,t,r){return t&&XS(e.prototype,t),r&&XS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e,t,r){return t=kf(t),bne(e,qP()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function bne(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(e)}function wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fg(e,t)}function my(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=Sne(e,"string");return io(t)=="symbol"?t:t+""}function Sne(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Io=function(e){function t(r){var n;return xne(this,t),n=yne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return jne(t,e),vne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=fm(n,hne),l=this.props,c=l.viewBox,u=fm(l,pne);return!Pi(i,c)||!Pi(o,u)||!Pi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,d=s.mirror,h=s.tickMargin,p,y,b,x,w,v,m=d?-1:1,N=n.tickSize||f,g=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,x=o+ +!d*c,b=x-m*N,v=b-m*h,w=g;break;case"left":b=x=n.coordinate,y=i+ +!d*l,p=y-m*N,w=p-m*h,v=g;break;case"right":b=x=n.coordinate,y=i+ +d*l,p=y+m*N,w=p+m*h,v=g;break;default:p=y=n.coordinate,x=o+ +d*c,b=x+m*N,v=b+m*h,w=g;break}return{line:{x1:p,y1:b,x2:y,y2:x},tick:{x:w,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=ht(ht(ht({},se(this.props,!1)),se(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=ht(ht({},d),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=ht(ht({},d),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return k.createElement("line",yi({},d,{className:he("recharts-cartesian-axis-line",br(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=py(ht(ht({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=se(this.props,!1),w=se(f,!1),v=ht(ht({},x),{},{fill:"none"},se(c,!1)),m=p.map(function(N,g){var j=o.getTickLineCoord(N),_=j.line,S=j.tick,A=ht(ht(ht(ht({textAnchor:y,verticalAnchor:b},x),{},{stroke:"none",fill:u},w),S),{},{index:g,payload:N,visibleTicksCount:p.length,tickFormatter:d});return k.createElement(Se,yi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ea(o.props,N,g)),c&&k.createElement("line",yi({},v,_,{className:he("recharts-cartesian-axis-tick-line",br(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(ce(d)?d(N.value,g):N.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var d=this.props,h=d.ticks,p=fm(d,mne),y=h;return ce(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:k.createElement(Se,{className:he("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),_t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=he(s.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,ht(ht({},s),{},{className:l})):ce(n)?o=n(ht(ht({},s),{},{className:l})):o=k.createElement(ka,yi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);my(Io,"displayName","CartesianAxis");my(Io,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _ne=["x1","y1","x2","y2","key"],Nne=["offset"];function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return t=One(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=Pne(e,"string");return $a(t)=="symbol"?t:t+""}function Pne(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},da.apply(this,arguments)}function JS(e,t){if(e==null)return{};var r=Ene(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return k.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HP(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(ce(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=JS(t,_ne),u=se(c,!1);u.offset;var f=JS(u,Nne);r=k.createElement("line",da({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Cne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Bt(Bt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return HP(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Tne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Bt(Bt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return HP(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $ne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?s+o-h:f[p+1]-h;if(b<=0)return null;var x=p%t.length;return k.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Dne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?i+l-h:f[p+1]-h;if(b<=0)return null;var x=p%n.length;return k.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ine=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return BO(py(Bt(Bt(Bt({},Io.defaultProps),n),{},{ticks:Mn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Mne=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return BO(py(Bt(Bt(Bt({},Io.defaultProps),n),{},{ticks:Mn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ja={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _r(e){var t,r,n,s,i,o,l=uy(),c=dy(),u=Sre(),f=Bt(Bt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ja.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ja.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ja.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ja.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ja.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ja.verticalFill,x:Y(e.x)?e.x:u.left,y:Y(e.y)?e.y:u.top,width:Y(e.width)?e.width:u.width,height:Y(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,b=f.syncWithTicks,x=f.horizontalValues,w=f.verticalValues,v=bre(),m=wre();if(!Y(p)||p<=0||!Y(y)||y<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var N=f.verticalCoordinatesGenerator||Ine,g=f.horizontalCoordinatesGenerator||Mne,j=f.horizontalPoints,_=f.verticalPoints;if((!j||!j.length)&&ce(g)){var S=x&&x.length,A=g({yAxis:m?Bt(Bt({},m),{},{ticks:S?x:m.ticks}):void 0,width:l,height:c,offset:u},S?!0:b);sn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($a(A),"]")),Array.isArray(A)&&(j=A)}if((!_||!_.length)&&ce(N)){var P=w&&w.length,E=N({xAxis:v?Bt(Bt({},v),{},{ticks:P?w:v.ticks}):void 0,width:l,height:c,offset:u},P?!0:b);sn(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($a(E),"]")),Array.isArray(E)&&(_=E)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(kne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),k.createElement(Cne,da({},f,{offset:u,horizontalPoints:j,xAxis:v,yAxis:m})),k.createElement(Tne,da({},f,{offset:u,verticalPoints:_,xAxis:v,yAxis:m})),k.createElement($ne,da({},f,{horizontalPoints:j})),k.createElement(Dne,da({},f,{verticalPoints:_})))}_r.displayName="CartesianGrid";var Rne=["type","layout","connectNulls","ref"],Lne=["key"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function e_(e,t){if(e==null)return{};var r=Fne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){Zr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ei(e){return qne(e)||zne(e)||Bne(e)||Une()}function Une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function zne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qne(e){if(Array.isArray(e))return Ug(e)}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VP(n.key),n)}}function Hne(e,t,r){return t&&r_(e.prototype,t),r&&r_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kne(e,t,r){return t=Cf(t),Vne(e,KP()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Vne(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(e)}function Gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function Qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bg(e,t)}function Zr(e,t,r){return t=VP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VP(e){var t=Yne(e,"string");return oo(t)=="symbol"?t:t+""}function Yne(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jt=function(e){function t(){var r;Wne(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Kne(this,t,[].concat(s)),Zr(r,"state",{isAnimationFinished:!0,totalLength:0}),Zr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,v){return w+v});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,p=[],y=0,b=0;y<c.length;b+=c[y],++y)if(b+c[y]>d){p=[].concat(ei(c.slice(0,y)),[d-b]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(ei(t.repeat(c,f)),ei(p),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Zr(r,"id",Po("recharts-line-")),Zr(r,"pathRef",function(o){r.mainCurve=o}),Zr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Zr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qne(t,e),Hne(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wr(f,eu);if(!d)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:gt(b.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(Se,p,d.map(function(y){return k.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=se(this.props,!1),h=se(c,!0),p=u.map(function(b,x){var w=fr(fr(fr({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:u});return t.renderDotItem(c,w)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return k.createElement(Se,Pl({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=e_(l,Rne),h=fr(fr(fr({},se(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return k.createElement(df,Pl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,b=o.width,x=o.height,w=this.state,v=w.prevPoints,m=w.totalLength;return k.createElement(bn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var g=N.t;if(v){var j=v.length/l.length,_=l.map(function(C,I){var $=Math.floor(I*j);if(v[$]){var L=v[$],U=gr(L.x,C.x),W=gr(L.y,C.y);return fr(fr({},C),{},{x:U(g),y:W(g)})}if(y){var T=gr(b*2,C.x),R=gr(x/2,C.y);return fr(fr({},C),{},{x:T(g),y:R(g)})}return fr(fr({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(_,n,s)}var S=gr(0,m),A=S(g),P;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});P=i.getStrokeDasharray(A,m,E)}else P=i.generateSimpleStrokeDasharray(m,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Jc(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,d=s.top,h=s.left,p=s.width,y=s.height,b=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,v=l.length===1,m=he("recharts-line",c),N=u&&u.allowDataOverflow,g=f&&f.allowDataOverflow,j=N||g,_=ue(x)?this.id:x,S=(n=se(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,P=A===void 0?3:A,E=S.strokeWidth,C=E===void 0?2:E,I=yM(o)?o:{},$=I.clipDot,L=$===void 0?!0:$,U=P*2+C;return k.createElement(Se,{className:m},N||g?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:N?h:h-p/2,y:g?d:d-y/2,width:N?p:p*2,height:g?y:y*2})),!L&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:y+U}))):null,!v&&this.renderCurve(j,_),this.renderErrorBar(j,_),(v||o)&&this.renderDots(j,L,_),(!b||w)&&Un.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ei(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ei(o),ei(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(k.isValidElement(n))i=k.cloneElement(n,s);else if(ce(n))i=n(s);else{var o=s.key,l=e_(s,Lne),c=he("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(zh,Pl({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Zr(Jt,"displayName","Line");Zr(Jt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zr(Jt,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=gt(h,o);return f==="horizontal"?{x:Aj({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:ue(y)?null:n.scale(y),value:y,payload:h}:{x:ue(y)?null:r.scale(y),y:Aj({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return fr({points:d,layout:f},u)});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function Jne(e,t,r){return t&&Zne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ese(e,t,r){return t=Tf(t),tse(e,GP()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function tse(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(e)}function rse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zg(e,t)}function QP(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=sse(e,"string");return lo(t)=="symbol"?t:t+""}function sse(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function ase(e){var t=e.xAxisId,r=uy(),n=dy(),s=DP(t);return s==null?null:O.createElement(Io,qg({},s,{className:he("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Mn(o,!0)}}))}var Ht=function(e){function t(){return Xne(this,t),ese(this,t,arguments)}return nse(t,e),Jne(t,[{key:"render",value:function(){return O.createElement(ase,this.props)}}])}(O.Component);QP(Ht,"displayName","XAxis");QP(Ht,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ose(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JP(n.key),n)}}function lse(e,t,r){return t&&ose(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cse(e,t,r){return t=$f(t),use(e,XP()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function use(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XP=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wg(e,t)}function ZP(e,t,r){return t=JP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JP(e){var t=hse(e,"string");return co(t)=="symbol"?t:t+""}function hse(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}var pse=function(t){var r=t.yAxisId,n=uy(),s=dy(),i=IP(r);return i==null?null:O.createElement(Io,Hg({},i,{className:he("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Mn(l,!0)}}))},Kt=function(e){function t(){return ise(this,t),cse(this,t,arguments)}return fse(t,e),lse(t,[{key:"render",value:function(){return O.createElement(pse,this.props)}}])}(O.Component);ZP(Kt,"displayName","YAxis");ZP(Kt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function n_(e){return vse(e)||xse(e)||gse(e)||mse()}function mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(e,t){if(e){if(typeof e=="string")return Kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kg(e,t)}}function xse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vse(e){if(Array.isArray(e))return Kg(e)}function Kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vg=function(t,r,n,s,i){var o=wr(t,hy),l=wr(t,Xh),c=[].concat(n_(o),n_(l)),u=wr(t,Jh),f="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(b,x){if(x.props[f]===n&&vn(x.props,"extendDomain")&&Y(x.props[d])){var w=x.props[d];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(b,x){if(x.props[f]===n&&vn(x.props,"extendDomain")&&Y(x.props[p])&&Y(x.props[y])){var w=x.props[p],v=x.props[y];return[Math.min(b[0],w,v),Math.max(b[1],w,v)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,x){return Y(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},e6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,v,m;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,y),!0}for(m=1,v=new Array(w-1);m<w;m++)v[m-1]=arguments[m];x.fn.apply(x.context,v)}else{var N=x.length,g;for(m=0;m<N;m++)switch(x[m].once&&this.removeListener(u,x[m].fn,void 0,!0),w){case 1:x[m].fn.call(x[m].context);break;case 2:x[m].fn.call(x[m].context,f);break;case 3:x[m].fn.call(x[m].context,f,d);break;case 4:x[m].fn.call(x[m].context,f,d,h);break;default:if(!v)for(g=1,v=new Array(w-1);g<w;g++)v[g-1]=arguments[g];x[m].fn.apply(x[m].context,v)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var b=0,x=[],w=y.length;b<w;b++)(y[b].fn!==f||h&&!y[b].once||d&&y[b].context!==d)&&x.push(y[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(e6);var yse=e6.exports;const bse=$e(yse);var hm=new bse,pm="recharts.syncMouseEvents";function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function wse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t6(n.key),n)}}function Sse(e,t,r){return t&&jse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mm(e,t,r){return t=t6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=_se(e,"string");return Tc(t)=="symbol"?t:t+""}function _se(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nse=function(){function e(){wse(this,e),mm(this,"activeIndex",0),mm(this,"coordinateList",[]),mm(this,"layout","horizontal")}return Sse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Ase(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Y(n)&&Y(s))return!0}return!1}function Ose(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function r6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=He(t,r,n,s),l=He(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Pse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=He(l,c,u,d),p=He(l,c,f,d);n=h.x,s=h.y,i=p.x,o=p.y}else return r6(t);return[{x:n,y:s},{x:i,y:o}]}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return t=kse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kse(e){var t=Cse(e,"string");return $c(t)=="symbol"?t:t+""}function Cse(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,b=df;if(h==="ScatterChart")y=o,b=YZ;else if(h==="BarChart")y=Ose(d,o,c,f),b=iy;else if(d==="radial"){var x=r6(o),w=x.cx,v=x.cy,m=x.radius,N=x.startAngle,g=x.endAngle;y={cx:w,cy:v,startAngle:N,endAngle:g,innerRadius:m,outerRadius:m},b=ZO}else y={points:Pse(d,o,c)},b=df;var j=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},c),y),se(p,!1)),{},{payload:l,payloadIndex:u,className:he("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,j):O.createElement(b,j)}var $se=["item"],Dse=["children","className","width","height","style","compact","title","desc"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function a_(e,t){return Rse(e)||Mse(e,t)||s6(e,t)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rse(e){if(Array.isArray(e))return e}function i_(e,t){if(e==null)return{};var r=Lse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Use(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a6(n.key),n)}}function Bse(e,t,r){return t&&Use(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zse(e,t,r){return t=Df(t),qse(e,n6()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function qse(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wse(e)}function Wse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n6=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gg(e,t)}function fo(e){return Gse(e)||Vse(e)||s6(e)||Kse()}function Kse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function Vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gse(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ie(e,t,r){return t=a6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=Qse(e,"string");return uo(t)=="symbol"?t:t+""}function Qse(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yse={xAxis:["bottom","top"],yAxis:["left","right"]},Xse={width:"100%",height:"100%"},i6={x:0,y:0};function Lu(e){return e}var Zse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Jse=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),He(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),He(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return i6},ep=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(fo(l),fo(u)):l},[]);return o.length>0?o:t&&t.length&&Y(s)&&Y(i)?t.slice(s,i+1):[]};function o6(e){return e==="number"?[0,"auto"]:void 0}var Yg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=ep(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;h=$d(p,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(fo(c),[KO(u,h)]):c},[])},l_=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Zse(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=bQ(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=Yg(t,r,f,d),p=Jse(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},eae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=UO(f,i);return n.reduce(function(y,b){var x,w=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,v=w.type,m=w.dataKey,N=w.allowDataOverflow,g=w.allowDuplicatedCategory,j=w.scale,_=w.ticks,S=w.includeHidden,A=w[o];if(y[A])return y;var P=ep(t.data,{graphicalItems:s.filter(function(Q){var te,ve=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o];return ve===A}),dataStartIndex:c,dataEndIndex:u}),E=P.length,C,I,$;Ase(w.domain,N,v)&&(C=ug(w.domain,null,N),p&&(v==="number"||j!=="auto")&&($=_l(P,m,"category")));var L=o6(v);if(!C||C.length===0){var U,W=(U=w.domain)!==null&&U!==void 0?U:L;if(m){if(C=_l(P,m,v),v==="category"&&p){var T=cM(C);g&&T?(I=C,C=wf(0,E)):g||(C=kj(W,C,b).reduce(function(Q,te){return Q.indexOf(te)>=0?Q:[].concat(fo(Q),[te])},[]))}else if(v==="category")g?C=C.filter(function(Q){return Q!==""&&!ue(Q)}):C=kj(W,C,b).reduce(function(Q,te){return Q.indexOf(te)>=0||te===""||ue(te)?Q:[].concat(fo(Q),[te])},[]);else if(v==="number"){var R=NQ(P,s.filter(function(Q){var te,ve,Ie=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o],Ke="hide"in Q.props?Q.props.hide:(ve=Q.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return Ie===A&&(S||!Ke)}),m,i,f);R&&(C=R)}p&&(v==="number"||j!=="auto")&&($=_l(P,m,"category"))}else p?C=wf(0,E):l&&l[A]&&l[A].hasStack&&v==="number"?C=h==="expand"?[0,1]:HO(l[A].stackGroups,c,u):C=FO(P,s.filter(function(Q){var te=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ve="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return te===A&&(S||!ve)}),v,f,!0);if(v==="number")C=Vg(d,C,A,i,_),W&&(C=ug(W,C,N));else if(v==="category"&&W){var D=W,K=C.every(function(Q){return D.indexOf(Q)>=0});K&&(C=D)}}return B(B({},y),{},ie({},A,B(B({},w),{},{axisType:i,domain:C,categoricalDomain:$,duplicateDomain:I,originalDomain:(x=w.domain)!==null&&x!==void 0?x:L,isCategorical:p,layout:f})))},{})},tae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=ep(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=UO(f,i),b=-1;return n.reduce(function(x,w){var v=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,m=v[o],N=o6("number");if(!x[m]){b++;var g;return y?g=wf(0,p):l&&l[m]&&l[m].hasStack?(g=HO(l[m].stackGroups,c,u),g=Vg(d,g,m,i)):(g=ug(N,FO(h,n.filter(function(j){var _,S,A=o in j.props?j.props[o]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===m&&!P}),"number",f),s.defaultProps.allowDataOverflow),g=Vg(d,g,m,i)),B(B({},x),{},ie({},m,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:br(Yse,"".concat(i,".").concat(b%2),null),domain:g,originalDomain:N,isCategorical:y,layout:f})))}return x},{})},rae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(s,"Id"),h=wr(f,i),p={};return h&&h.length?p=eae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=tae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},nae=function(t){var r=ps(t),n=Mn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$v(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lf(r,n)}},c_=function(t){var r=t.children,n=t.defaultShowTooltip,s=mr(r,to),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ln(r&&r.type);return n&&n.indexOf("Bar")>=0})},u_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=mr(d,to),y=mr(d,Ei),b=Object.keys(c).reduce(function(g,j){var _=c[j],S=_.orientation;return!_.mirror&&!_.hide?B(B({},g),{},ie({},S,g[S]+_.width)):g},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(g,j){var _=o[j],S=_.orientation;return!_.mirror&&!_.hide?B(B({},g),{},ie({},S,br(g,"".concat(S))+_.height)):g},{top:h.top||0,bottom:h.bottom||0}),w=B(B({},x),b),v=w.bottom;p&&(w.bottom+=p.props.height||to.defaultProps.height),y&&r&&(w=SQ(w,s,n,r));var m=u-w.left-w.right,N=f-w.top-w.bottom;return B(B({brushBottom:v},w),{},{width:Math.max(m,0),height:Math.max(N,0)})},iae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},gy=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(w,v){var m=v.graphicalItems,N=v.stackGroups,g=v.offset,j=v.updateId,_=v.dataStartIndex,S=v.dataEndIndex,A=w.barSize,P=w.layout,E=w.barGap,C=w.barCategoryGap,I=w.maxBarSize,$=u_(P),L=$.numericAxisName,U=$.cateAxisName,W=sae(m),T=[];return m.forEach(function(R,D){var K=ep(w.data,{graphicalItems:[R],dataStartIndex:_,dataEndIndex:S}),Q=R.type.defaultProps!==void 0?B(B({},R.type.defaultProps),R.props):R.props,te=Q.dataKey,ve=Q.maxBarSize,Ie=Q["".concat(L,"Id")],Ke=Q["".concat(U,"Id")],Dt={},bt=c.reduce(function(Ve,M){var Z=v["".concat(M.axisType,"Map")],xe=Q["".concat(M.axisType,"Id")];Z&&Z[xe]||M.axisType==="zAxis"||Ta();var It=Z[xe];return B(B({},Ve),{},ie(ie({},M.axisType,It),"".concat(M.axisType,"Ticks"),Mn(It)))},Dt),X=bt[U],ae=bt["".concat(U,"Ticks")],de=N&&N[Ie]&&N[Ie].hasStack&&DQ(R,N[Ie].stackGroups),H=Ln(R.type).indexOf("Bar")>=0,ke=lf(X,ae),pe=[],ge=W&&wQ({barSize:A,stackGroups:N,totalSize:iae(bt,U)});if(H){var V,re,le=ue(ve)?I:ve,Ne=(V=(re=lf(X,ae,!0))!==null&&re!==void 0?re:le)!==null&&V!==void 0?V:0;pe=jQ({barGap:E,barCategoryGap:C,bandSize:Ne!==ke?Ne:ke,sizeList:ge[Ke],maxBarSize:le}),Ne!==ke&&(pe=pe.map(function(Ve){return B(B({},Ve),{},{position:B(B({},Ve.position),{},{offset:Ve.position.offset-Ne/2})})}))}var we=R&&R.type&&R.type.getComposedData;we&&T.push({props:B(B({},we(B(B({},bt),{},{displayedData:K,props:w,dataKey:te,item:R,bandSize:ke,barPosition:pe,offset:g,stackedData:de,layout:P,dataStartIndex:_,dataEndIndex:S}))),{},ie(ie(ie({key:R.key||"item-".concat(D)},L,bt[L]),U,bt[U]),"animationId",j)),childIndex:jM(R,w.children),item:R})}),T},p=function(w,v){var m=w.props,N=w.dataStartIndex,g=w.dataEndIndex,j=w.updateId;if(!S1({props:m}))return null;var _=m.children,S=m.layout,A=m.stackOffset,P=m.data,E=m.reverseStackOrder,C=u_(S),I=C.numericAxisName,$=C.cateAxisName,L=wr(_,n),U=TQ(P,L,"".concat(I,"Id"),"".concat($,"Id"),A,E),W=c.reduce(function(Q,te){var ve="".concat(te.axisType,"Map");return B(B({},Q),{},ie({},ve,rae(m,B(B({},te),{},{graphicalItems:L,stackGroups:te.axisType===I&&U,dataStartIndex:N,dataEndIndex:g}))))},{}),T=aae(B(B({},W),{},{props:m,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(W).forEach(function(Q){W[Q]=f(m,W[Q],T,Q.replace("Map",""),r)});var R=W["".concat($,"Map")],D=nae(R),K=h(m,B(B({},W),{},{dataStartIndex:N,dataEndIndex:g,updateId:j,graphicalItems:L,stackGroups:U,offset:T}));return B(B({formattedGraphicalItems:K,graphicalItems:L,offset:T,stackGroups:U},D),W)},y=function(x){function w(v){var m,N,g;return Fse(this,w),g=zse(this,w,[v]),ie(g,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ie(g,"accessibilityManager",new Nse),ie(g,"handleLegendBBoxUpdate",function(j){if(j){var _=g.state,S=_.dataStartIndex,A=_.dataEndIndex,P=_.updateId;g.setState(B({legendBBox:j},p({props:g.props,dataStartIndex:S,dataEndIndex:A,updateId:P},B(B({},g.state),{},{legendBBox:j}))))}}),ie(g,"handleReceiveSyncEvent",function(j,_,S){if(g.props.syncId===j){if(S===g.eventEmitterSymbol&&typeof g.props.syncMethod!="function")return;g.applySyncEvent(_)}}),ie(g,"handleBrushChange",function(j){var _=j.startIndex,S=j.endIndex;if(_!==g.state.dataStartIndex||S!==g.state.dataEndIndex){var A=g.state.updateId;g.setState(function(){return B({dataStartIndex:_,dataEndIndex:S},p({props:g.props,dataStartIndex:_,dataEndIndex:S,updateId:A},g.state))}),g.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),ie(g,"handleMouseEnter",function(j){var _=g.getMouseInfo(j);if(_){var S=B(B({},_),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseEnter;ce(A)&&A(S,j)}}),ie(g,"triggeredAfterMouseMove",function(j){var _=g.getMouseInfo(j),S=_?B(B({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseMove;ce(A)&&A(S,j)}),ie(g,"handleItemMouseEnter",function(j){g.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ie(g,"handleItemMouseLeave",function(){g.setState(function(){return{isTooltipActive:!1}})}),ie(g,"handleMouseMove",function(j){j.persist(),g.throttleTriggeredAfterMouseMove(j)}),ie(g,"handleMouseLeave",function(j){g.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};g.setState(_),g.triggerSyncEvent(_);var S=g.props.onMouseLeave;ce(S)&&S(_,j)}),ie(g,"handleOuterEvent",function(j){var _=wM(j),S=br(g.props,"".concat(_));if(_&&ce(S)){var A,P;/.*touch.*/i.test(_)?P=g.getMouseInfo(j.changedTouches[0]):P=g.getMouseInfo(j),S((A=P)!==null&&A!==void 0?A:{},j)}}),ie(g,"handleClick",function(j){var _=g.getMouseInfo(j);if(_){var S=B(B({},_),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onClick;ce(A)&&A(S,j)}}),ie(g,"handleMouseDown",function(j){var _=g.props.onMouseDown;if(ce(_)){var S=g.getMouseInfo(j);_(S,j)}}),ie(g,"handleMouseUp",function(j){var _=g.props.onMouseUp;if(ce(_)){var S=g.getMouseInfo(j);_(S,j)}}),ie(g,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ie(g,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.handleMouseDown(j.changedTouches[0])}),ie(g,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&g.handleMouseUp(j.changedTouches[0])}),ie(g,"handleDoubleClick",function(j){var _=g.props.onDoubleClick;if(ce(_)){var S=g.getMouseInfo(j);_(S,j)}}),ie(g,"handleContextMenu",function(j){var _=g.props.onContextMenu;if(ce(_)){var S=g.getMouseInfo(j);_(S,j)}}),ie(g,"triggerSyncEvent",function(j){g.props.syncId!==void 0&&hm.emit(pm,g.props.syncId,j,g.eventEmitterSymbol)}),ie(g,"applySyncEvent",function(j){var _=g.props,S=_.layout,A=_.syncMethod,P=g.state.updateId,E=j.dataStartIndex,C=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)g.setState(B({dataStartIndex:E,dataEndIndex:C},p({props:g.props,dataStartIndex:E,dataEndIndex:C,updateId:P},g.state)));else if(j.activeTooltipIndex!==void 0){var I=j.chartX,$=j.chartY,L=j.activeTooltipIndex,U=g.state,W=U.offset,T=U.tooltipTicks;if(!W)return;if(typeof A=="function")L=A(T,j);else if(A==="value"){L=-1;for(var R=0;R<T.length;R++)if(T[R].value===j.activeLabel){L=R;break}}var D=B(B({},W),{},{x:W.left,y:W.top}),K=Math.min(I,D.x+D.width),Q=Math.min($,D.y+D.height),te=T[L]&&T[L].value,ve=Yg(g.state,g.props.data,L),Ie=T[L]?{x:S==="horizontal"?T[L].coordinate:K,y:S==="horizontal"?Q:T[L].coordinate}:i6;g.setState(B(B({},j),{},{activeLabel:te,activeCoordinate:Ie,activePayload:ve,activeTooltipIndex:L}))}else g.setState(j)}),ie(g,"renderCursor",function(j){var _,S=g.state,A=S.isTooltipActive,P=S.activeCoordinate,E=S.activePayload,C=S.offset,I=S.activeTooltipIndex,$=S.tooltipAxisBandSize,L=g.getTooltipEventType(),U=(_=j.props.active)!==null&&_!==void 0?_:A,W=g.props.layout,T=j.key||"_recharts-cursor";return k.createElement(Tse,{key:T,activeCoordinate:P,activePayload:E,activeTooltipIndex:I,chartName:r,element:j,isActive:U,layout:W,offset:C,tooltipAxisBandSize:$,tooltipEventType:L})}),ie(g,"renderPolarAxis",function(j,_,S){var A=br(j,"type.axisType"),P=br(g.state,"".concat(A,"Map")),E=j.type.defaultProps,C=E!==void 0?B(B({},E),j.props):j.props,I=P&&P[C["".concat(A,"Id")]];return O.cloneElement(j,B(B({},I),{},{className:he(A,I.className),key:j.key||"".concat(_,"-").concat(S),ticks:Mn(I,!0)}))}),ie(g,"renderPolarGrid",function(j){var _=j.props,S=_.radialLines,A=_.polarAngles,P=_.polarRadius,E=g.state,C=E.radiusAxisMap,I=E.angleAxisMap,$=ps(C),L=ps(I),U=L.cx,W=L.cy,T=L.innerRadius,R=L.outerRadius;return O.cloneElement(j,{polarAngles:Array.isArray(A)?A:Mn(L,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(P)?P:Mn($,!0).map(function(D){return D.coordinate}),cx:U,cy:W,innerRadius:T,outerRadius:R,key:j.key||"polar-grid",radialLines:S})}),ie(g,"renderLegend",function(){var j=g.state.formattedGraphicalItems,_=g.props,S=_.children,A=_.width,P=_.height,E=g.props.margin||{},C=A-(E.left||0)-(E.right||0),I=RO({children:S,formattedGraphicalItems:j,legendWidth:C,legendContent:u});if(!I)return null;var $=I.item,L=i_(I,$se);return O.cloneElement($,B(B({},L),{},{chartWidth:A,chartHeight:P,margin:E,onBBoxUpdate:g.handleLegendBBoxUpdate}))}),ie(g,"renderTooltip",function(){var j,_=g.props,S=_.children,A=_.accessibilityLayer,P=mr(S,ze);if(!P)return null;var E=g.state,C=E.isTooltipActive,I=E.activeCoordinate,$=E.activePayload,L=E.activeLabel,U=E.offset,W=(j=P.props.active)!==null&&j!==void 0?j:C;return O.cloneElement(P,{viewBox:B(B({},U),{},{x:U.left,y:U.top}),active:W,label:L,payload:W?$:[],coordinate:I,accessibilityLayer:A})}),ie(g,"renderBrush",function(j){var _=g.props,S=_.margin,A=_.data,P=g.state,E=P.offset,C=P.dataStartIndex,I=P.dataEndIndex,$=P.updateId;return O.cloneElement(j,{key:j.key||"_recharts-brush",onChange:$u(g.handleBrushChange,j.props.onChange),data:A,x:Y(j.props.x)?j.props.x:E.left,y:Y(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:Y(j.props.width)?j.props.width:E.width,startIndex:C,endIndex:I,updateId:"brush-".concat($)})}),ie(g,"renderReferenceElement",function(j,_,S){if(!j)return null;var A=g,P=A.clipPathId,E=g.state,C=E.xAxisMap,I=E.yAxisMap,$=E.offset,L=j.type.defaultProps||{},U=j.props,W=U.xAxisId,T=W===void 0?L.xAxisId:W,R=U.yAxisId,D=R===void 0?L.yAxisId:R;return O.cloneElement(j,{key:j.key||"".concat(_,"-").concat(S),xAxis:C[T],yAxis:I[D],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),ie(g,"renderActivePoints",function(j){var _=j.item,S=j.activePoint,A=j.basePoint,P=j.childIndex,E=j.isRange,C=[],I=_.props.key,$=_.item.type.defaultProps!==void 0?B(B({},_.item.type.defaultProps),_.item.props):_.item.props,L=$.activeDot,U=$.dataKey,W=B(B({index:P,dataKey:U,cx:S.x,cy:S.y,r:4,fill:ay(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},se(L,!1)),Dd(L));return C.push(w.renderActiveDot(L,W,"".concat(I,"-activePoint-").concat(P))),A?C.push(w.renderActiveDot(L,B(B({},W),{},{cx:A.x,cy:A.y}),"".concat(I,"-basePoint-").concat(P))):E&&C.push(null),C}),ie(g,"renderGraphicChild",function(j,_,S){var A=g.filterFormatItem(j,_,S);if(!A)return null;var P=g.getTooltipEventType(),E=g.state,C=E.isTooltipActive,I=E.tooltipAxis,$=E.activeTooltipIndex,L=E.activeLabel,U=g.props.children,W=mr(U,ze),T=A.props,R=T.points,D=T.isRange,K=T.baseLine,Q=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,te=Q.activeDot,ve=Q.hide,Ie=Q.activeBar,Ke=Q.activeShape,Dt=!!(!ve&&C&&W&&(te||Ie||Ke)),bt={};P!=="axis"&&W&&W.props.trigger==="click"?bt={onClick:$u(g.handleItemMouseEnter,j.props.onClick)}:P!=="axis"&&(bt={onMouseLeave:$u(g.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:$u(g.handleItemMouseEnter,j.props.onMouseEnter)});var X=O.cloneElement(j,B(B({},A.props),bt));function ae(M){return typeof I.dataKey=="function"?I.dataKey(M.payload):null}if(Dt)if($>=0){var de,H;if(I.dataKey&&!I.allowDuplicatedCategory){var ke=typeof I.dataKey=="function"?ae:"payload.".concat(I.dataKey.toString());de=$d(R,ke,L),H=D&&K&&$d(K,ke,L)}else de=R==null?void 0:R[$],H=D&&K&&K[$];if(Ke||Ie){var pe=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[O.cloneElement(j,B(B(B({},A.props),bt),{},{activeIndex:pe})),null,null]}if(!ue(de))return[X].concat(fo(g.renderActivePoints({item:A,activePoint:de,basePoint:H,childIndex:$,isRange:D})))}else{var ge,V=(ge=g.getItemByXY(g.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:X},re=V.graphicalItem,le=re.item,Ne=le===void 0?j:le,we=re.childIndex,Ve=B(B(B({},A.props),bt),{},{activeIndex:we});return[O.cloneElement(Ne,Ve),null,null]}return D?[X,null,null]:[X,null]}),ie(g,"renderCustomized",function(j,_,S){return O.cloneElement(j,B(B({key:"recharts-customized-".concat(S)},g.props),g.state))}),ie(g,"renderMap",{CartesianGrid:{handler:Lu,once:!0},ReferenceArea:{handler:g.renderReferenceElement},ReferenceLine:{handler:Lu},ReferenceDot:{handler:g.renderReferenceElement},XAxis:{handler:Lu},YAxis:{handler:Lu},Brush:{handler:g.renderBrush,once:!0},Bar:{handler:g.renderGraphicChild},Line:{handler:g.renderGraphicChild},Area:{handler:g.renderGraphicChild},Radar:{handler:g.renderGraphicChild},RadialBar:{handler:g.renderGraphicChild},Scatter:{handler:g.renderGraphicChild},Pie:{handler:g.renderGraphicChild},Funnel:{handler:g.renderGraphicChild},Tooltip:{handler:g.renderCursor,once:!0},PolarGrid:{handler:g.renderPolarGrid,once:!0},PolarAngleAxis:{handler:g.renderPolarAxis},PolarRadiusAxis:{handler:g.renderPolarAxis},Customized:{handler:g.renderCustomized}}),g.clipPathId="".concat((m=v.id)!==null&&m!==void 0?m:Po("recharts"),"-clip"),g.throttleTriggeredAfterMouseMove=MA(g.triggeredAfterMouseMove,(N=v.throttleDelay)!==null&&N!==void 0?N:1e3/60),g.state={},g}return Hse(w,x),Bse(w,[{key:"componentDidMount",value:function(){var m,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,N=m.children,g=m.data,j=m.height,_=m.layout,S=mr(N,ze);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=Yg(this.state,g,A,P),C=this.state.tooltipTicks[A].coordinate,I=(this.state.offset.top+j)/2,$=_==="horizontal",L=$?{x:C,y:I}:{y:C,x:I},U=this.state.formattedGraphicalItems.find(function(T){var R=T.item;return R.type.name==="Scatter"});U&&(L=B(B({},L),U.props.points[A].tooltipPosition),E=U.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:L};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var g,j;this.accessibilityManager.setDetails({offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(m){N0([mr(m.children,ze)],[mr(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=mr(this.props.children,ze);if(m&&typeof m.props.shared=="boolean"){var N=m.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var N=this.container,g=N.getBoundingClientRect(),j=GW(g),_={chartX:Math.round(m.pageX-j.left),chartY:Math.round(m.pageY-j.top)},S=g.width/N.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,S);if(!A)return null;var P=this.state,E=P.xAxisMap,C=P.yAxisMap,I=this.getTooltipEventType(),$=l_(this.state,this.props.data,this.props.layout,A);if(I!=="axis"&&E&&C){var L=ps(E).scale,U=ps(C).scale,W=L&&L.invert?L.invert(_.chartX):null,T=U&&U.invert?U.invert(_.chartY):null;return B(B({},_),{},{xValue:W,yValue:T},$)}return $?B(B({},_),$):null}},{key:"inRange",value:function(m,N){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,_=m/g,S=N/g;if(j==="horizontal"||j==="vertical"){var A=this.state.offset,P=_>=A.left&&_<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return P?{x:_,y:S}:null}var E=this.state,C=E.angleAxisMap,I=E.radiusAxisMap;if(C&&I){var $=ps(C);return $j({x:_,y:S},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,N=this.getTooltipEventType(),g=mr(m,ze),j={};g&&N==="axis"&&(g.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Dd(this.props,this.handleOuterEvent);return B(B({},_),j)}},{key:"addListener",value:function(){hm.on(pm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hm.removeListener(pm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,N,g){for(var j=this.state.formattedGraphicalItems,_=0,S=j.length;_<S;_++){var A=j[_];if(A.item===m||A.props.key===m.key||N===Ln(A.item.type)&&g===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,N=this.state.offset,g=N.left,j=N.top,_=N.height,S=N.width;return k.createElement("defs",null,k.createElement("clipPath",{id:m},k.createElement("rect",{x:g,y:j,height:_,width:S})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(N,g){var j=a_(g,2),_=j[0],S=j[1];return B(B({},N),{},ie({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(N,g){var j=a_(g,2),_=j[0],S=j[1];return B(B({},N),{},ie({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[m])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(m){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[m])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(m){var N=this.state,g=N.formattedGraphicalItems,j=N.activeItem;if(g&&g.length)for(var _=0,S=g.length;_<S;_++){var A=g[_],P=A.props,E=A.item,C=E.type.defaultProps!==void 0?B(B({},E.type.defaultProps),E.props):E.props,I=Ln(E.type);if(I==="Bar"){var $=(P.data||[]).find(function(T){return kZ(m,T)});if($)return{graphicalItem:A,payload:$}}else if(I==="RadialBar"){var L=(P.data||[]).find(function(T){return $j(m,T)});if(L)return{graphicalItem:A,payload:L}}else if(Vh(A,j)||Gh(A,j)||Oc(A,j)){var U=vee({graphicalItem:A,activeTooltipItem:j,itemData:C.data}),W=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:W}),payload:Oc(A,j)?C.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var m=this;if(!S1(this))return null;var N=this.props,g=N.children,j=N.className,_=N.width,S=N.height,A=N.style,P=N.compact,E=N.title,C=N.desc,I=i_(N,Dse),$=se(I,!1);if(P)return k.createElement(BS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(O0,bi({},$,{width:_,height:S,title:E,desc:C}),this.renderClipPath(),N1(g,this.renderMap)));if(this.props.accessibilityLayer){var L,U;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(T){m.accessibilityManager.keyboardEvent(T)},$.onFocus=function(){m.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return k.createElement(BS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",bi({className:he("recharts-wrapper",j),style:B({position:"relative",cursor:"default",width:_,height:S},A)},W,{ref:function(R){m.container=R}}),k.createElement(O0,bi({},$,{width:_,height:S,title:E,desc:C,style:Xse}),this.renderClipPath(),N1(g,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ie(y,"displayName",r),ie(y,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ie(y,"getDerivedStateFromProps",function(x,w){var v=x.dataKey,m=x.data,N=x.children,g=x.width,j=x.height,_=x.layout,S=x.stackOffset,A=x.margin,P=w.dataStartIndex,E=w.dataEndIndex;if(w.updateId===void 0){var C=c_(x);return B(B(B({},C),{},{updateId:0},p(B(B({props:x},C),{},{updateId:0}),w)),{},{prevDataKey:v,prevData:m,prevWidth:g,prevHeight:j,prevLayout:_,prevStackOffset:S,prevMargin:A,prevChildren:N})}if(v!==w.prevDataKey||m!==w.prevData||g!==w.prevWidth||j!==w.prevHeight||_!==w.prevLayout||S!==w.prevStackOffset||!Pi(A,w.prevMargin)){var I=c_(x),$={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=B(B({},l_(w,m,_)),{},{updateId:w.updateId+1}),U=B(B(B({},I),$),L);return B(B(B({},U),p(B({props:x},U),w)),{},{prevDataKey:v,prevData:m,prevWidth:g,prevHeight:j,prevLayout:_,prevStackOffset:S,prevMargin:A,prevChildren:N})}if(!N0(N,w.prevChildren)){var W,T,R,D,K=mr(N,to),Q=K&&(W=(T=K.props)===null||T===void 0?void 0:T.startIndex)!==null&&W!==void 0?W:P,te=K&&(R=(D=K.props)===null||D===void 0?void 0:D.endIndex)!==null&&R!==void 0?R:E,ve=Q!==P||te!==E,Ie=!ue(m),Ke=Ie&&!ve?w.updateId:w.updateId+1;return B(B({updateId:Ke},p(B(B({props:x},w),{},{updateId:Ke,dataStartIndex:Q,dataEndIndex:te}),w)),{},{prevChildren:N,dataStartIndex:Q,dataEndIndex:te})}return null}),ie(y,"renderActiveDot",function(x,w,v){var m;return O.isValidElement(x)?m=O.cloneElement(x,w):ce(x)?m=x(w):m=k.createElement(zh,w),k.createElement(Se,{className:"recharts-active-dot",key:v},m)});var b=O.forwardRef(function(w,v){return k.createElement(y,bi({},w,{ref:v}))});return b.displayName=y.displayName,b},tu=gy({chartName:"LineChart",GraphicalChild:Jt,axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Kt}],formatAxisMap:AP}),za=gy({chartName:"BarChart",GraphicalChild:Ot,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Kt}],formatAxisMap:AP}),ru=gy({chartName:"PieChart",GraphicalChild:Or,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Kh},{axisType:"radiusAxis",AxisComp:Wh}],formatAxisMap:WQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function d_({title:e,data:t}){return a.jsxs(F,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function oae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await m5.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your survey platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(_u,{title:"Total Users",value:e.totalUsers,icon:a.jsx(Rr,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx(_u,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Wt,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx(_u,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Ur,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx(_u,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Ae,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(d_,{title:"Performance by Role",data:e.performanceByRole}),a.jsx(P$,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(d_,{title:"Performance by Survey",data:e.performanceBySurvey})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Pe({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(j$,{className:"w-5 h-5"})})]}),n]})]})})}function lae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{f()},[c]);const f=async()=>{try{i(!0);const p=await g5.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},d=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ja,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Rr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.zonePerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"zoneName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(p,y)=>[y==="passRate"?`${p}%`:p,y==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:y})=>`${p}: ${y}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,y)=>a.jsx(Bs,{fill:h[y%h.length]},`cell-${y}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(cv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:e.monthlyTrends,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"month"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function cae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const v=await x5.getDashboardData(h);v.success&&v.data&&t(v.data)}catch(v){console.error("Failed to fetch RO dashboard data:",v)}finally{l(!1)}},b=v=>{n(v),u(!0)},x=v=>{i(v),d(!0)},w=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(v=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},v))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:v=>p(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Oa,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Rr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.districtPerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"districtName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(v,m)=>[m==="passRate"?`${v}%`:v,m==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:v,percentage:m})=>`${v}: ${m}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((v,m)=>a.jsx(Bs,{fill:w[m%w.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(v=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(v),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:v.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.passRate>=80?"bg-green-100 text-green-800":v.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[v.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:v.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:v.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[v.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",v.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},v.districtId))})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(v=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",v.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:v.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:v.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.passRate>=80?"bg-green-100 text-green-800":v.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[v.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[v.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>x(v),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})})})]},v.supervisorId))})]})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:e.monthlyTrends,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"month"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(v=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:v.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[v.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[v.totalCertificates," certificates"]})]})]})},v.id))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function uae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const m=await nv.getDashboardData(h);m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch supervisor dashboard data:",m)}finally{l(!1)}},b=m=>{n(m),u(!0)},x=m=>{i(m),d(!0)},w=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(m=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},m))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Wt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(m=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(dn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(m.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[m.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[m.pendingEnumerators,"/",m.totalEnumerators," pending"]})]})]},m.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.teamPerformance,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"teamName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(m,N)=>[N==="passRate"?`${m}%`:m,N==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:[{name:"Completed",value:e.enumeratorStatus.filter(m=>m.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(m=>m.overallProgress>0&&m.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(m=>m.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:N})=>`${m}: ${N}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(m=>a.jsx(Bs,{fill:v[m%v.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(m=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(m),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.passRate>=80?"bg-green-100 text-green-800":m.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",m.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},m.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(oe,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.surveys.filter(N=>N.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>x(m),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,3).map(N=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(N.status)}`,children:[N.surveyTitle,": ",N.status.replace("_"," ")]},N.surveyId)),m.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-3," more"]})]})]},m.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]})},m.id))})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Ce(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function dae(){const e=vo(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState("overview"),[p,y]=O.useState(""),[b,x]=O.useState("all");O.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const _=await qc.getDashboardData();_.success&&_.data&&r(_.data)}catch(_){console.error("Failed to fetch enumerator dashboard data:",_)}finally{o(!1)}},v=async _=>{try{f(!0);const S=t==null?void 0:t.availableTests.find(E=>E.surveyId===_);if(!S||!S.isEligible||S.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await hs.createTestSession(_);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:_,startTime:A.data.startTime,sessionData:A.data}})}catch(S){console.error("Failed to start test:",S),alert(`Failed to start test: ${S instanceof Error?S.message:"Please try again."}`)}finally{f(!1),c(!1)}},m=_=>{s(_),c(!0)},N=_=>_.isEligible?_.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",g=_=>{if(!_.isEligible)return"Not Eligible";if(_.attemptsLeft===0)return"No Attempts Left";const S=Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return S<=0?"Overdue":S<=3?`${S} days left`:"Available"},j=(t==null?void 0:t.availableTests.filter(_=>{const S=_.title.toLowerCase().includes(p.toLowerCase())||_.description.toLowerCase().includes(p.toLowerCase());if(b==="all")return S;const A=Math.ceil((new Date(_.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(b){case"urgent":return S&&A<=3&&A>0;case"available":return S&&_.isEligible&&_.attemptsLeft>0;case"overdue":return S&&A<=0;default:return S}}))||[];return i?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(_=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},_))})})})}):t?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:t.completedTests.map((_,S)=>({attempt:S+1,score:_.score,name:_.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"attempt"}),a.jsx(Kt,{domain:[0,100]}),a.jsx(ze,{formatter:_=>[`${_}%`,"Score"]}),a.jsx(Jt,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(_=>_.daysLeft<=7).length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(_=>_.daysLeft<=7).map(_=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:_.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(dn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(_.targetDate)]}),a.jsx("p",{className:`font-medium ${_.isOverdue?"text-red-600":"text-orange-600"}`,children:_.isOverdue?"OVERDUE":`${_.daysLeft} days left`})]})]},_.surveyId))})]}),a.jsxs(F,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Zl,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(jo,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),d==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(_=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${_.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Ce(_.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${_.isPassed?"text-green-600":"text-red-600"}`,children:[_.score,"%"]})]},_.resultId))})]})]})}),d==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search tests...",value:p,onChange:_=>y(_.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:b,onChange:_=>x(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:j.map(_=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:_.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(_.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",ks(_.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[_.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",_.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${N(_)}`,children:g(_)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.attemptsLeft,"/",_.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(q,{onClick:()=>m(_),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(q,{onClick:()=>v(_.surveyId),disabled:!_.isEligible||_.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===_.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},_.surveyId))})]}),d==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(_=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${_.score>=70?"text-green-600":"text-red-600"}`,children:[_.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${_.isPassed?"text-green-600":"text-red-600"}`,children:_.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:_.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(_.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[_.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(q,{variant:"secondary",size:"sm",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},_.resultId))}),d==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(_=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:_.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",_.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(_.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]})]}),a.jsxs(q,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},_.id))})]}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",ks(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(q,{onClick:()=>{v(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function fae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[f]);const y=async()=>{try{i(!0);const g=await nv.getDashboardData(f);g.success&&g.data&&t(g.data.teamPerformance)}catch(g){console.error("Failed to fetch team results:",g)}finally{i(!1)}},b=g=>{n(g),l(!0)},x=g=>g>=90?"excellent":g>=80?"good":g>=60?"average":"poor",w=g=>{switch(g){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=e.filter(g=>{const j=g.teamName.toLowerCase().includes(c.toLowerCase()),_=x(g.passRate);return j&&(h==="all"||_===h)}),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],N={totalTeams:e.length,totalMembers:e.reduce((g,j)=>g+j.totalMembers,0),averagePassRate:e.reduce((g,j)=>g+j.passRate,0)/e.length||0,averageScore:e.reduce((g,j)=>g+j.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((g,j)=>g.passRate>j.passRate?g:j,e[0]),lowPerformingTeam:e.reduce((g,j)=>g.passRate<j.passRate?g:j,e[0])};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:N.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Rr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[N.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[N.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"teamName"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(g,j)=>[j==="passRate"?`${g}%`:g,j==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ot,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ot,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:[{name:"Excellent (90%+)",value:e.filter(g=>g.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(g=>g.passRate>=80&&g.passRate<90).length},{name:"Average (60-79%)",value:e.filter(g=>g.passRate>=60&&g.passRate<80).length},{name:"Poor (<60%)",value:e.filter(g=>g.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:g,value:j})=>`${g}: ${j}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(g=>a.jsx(Bs,{fill:m[g%m.length]},`cell-${g}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,j)=>j.passRate-g.passRate).slice(0,3).map((g,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:j+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(cv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,j)=>g.passRate-j.passRate).slice(0,3).map((g,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:j+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(oe,{placeholder:"Search teams...",value:c,onChange:g=>u(g.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(F,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:v.map(g=>{const j=x(g.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Rr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",g.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${vs(g.passRate)}`,children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${vs(g.averageScore)}`,children:[g.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w(j)}`,children:j.charAt(0).toUpperCase()+j.slice(1)})}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>b(g),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(g.completedTests/g.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.completedTests/g.totalMembers*100}%`}})})]})]},g.teamId)})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:g.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:g.surveys.filter(j=>j.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.surveys.length>0?Math.max(...g.surveys.map(j=>j.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},g.id))})]})]})})]})})}function hae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const g=await nv.getDashboardData("30");g.success&&g.data&&t(g.data.enumeratorStatus)}catch(g){console.error("Failed to fetch enumerators:",g)}finally{i(!1)}},b=g=>{n(g),l(!0)},x=g=>{switch(g){case"completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Td,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(ur,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},w=g=>{switch(g){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},v=g=>{const j=g.surveys.length,_=g.surveys.filter(P=>P.status==="completed").length,S=g.surveys.filter(P=>P.status==="failed").length,A=g.surveys.filter(P=>P.status==="expired").length;return _===j?"excellent":S>0||A>0?"needs_attention":_>j/2?"good":"poor"},m=e.filter(g=>{const j=g.user.name.toLowerCase().includes(c.toLowerCase())||g.user.email.toLowerCase().includes(c.toLowerCase()),_=v(g),S=f==="all"||_===f;let A=!0;if(h!=="all")switch(h){case"completed":A=g.overallProgress===100;break;case"in_progress":A=g.overallProgress>0&&g.overallProgress<100;break;case"not_started":A=g.overallProgress===0;break}return j&&S&&A}),N={totalEnumerators:e.length,completedAll:e.filter(g=>g.overallProgress===100).length,inProgress:e.filter(g=>g.overallProgress>0&&g.overallProgress<100).length,notStarted:e.filter(g=>g.overallProgress===0).length,averageProgress:e.reduce((g,j)=>g+j.overallProgress,0)/e.length||0,totalCertificates:e.reduce((g,j)=>g+j.totalCertificates,0)};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ds,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:N.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:N.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:N.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ur,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[N.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ur,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:N.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Ae,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.map(g=>({name:g.user.name.split(" ")[0],progress:g.overallProgress,certificates:g.totalCertificates})),children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:(g,j)=>[j==="progress"?`${g}%`:g,j==="progress"?"Progress":"Certificates"]}),a.jsx(Ot,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Ot,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search enumerators...",value:c,onChange:g=>u(g.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:m.map(g=>{const j=v(g),_=g.surveys.filter(A=>A.status==="completed").length,S=g.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(h$,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.email})]}),g.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(g$,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.phoneNumber})]}),g.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wc,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",g.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[_,"/",S]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j==="excellent"?"bg-green-100 text-green-800":j==="good"?"bg-blue-100 text-blue-800":j==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:j==="excellent"?"Excellent":j==="good"?"Good":j==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>b(g),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[x(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),g.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",g.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Sr(g.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",g.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",g.surveys.length>0?(g.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/g.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},g.id)})})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(g=>g.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((g,j)=>g+(j.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[x(g.status),a.jsx("h5",{className:"font-medium text-gray-900",children:g.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(g.status)}`,children:g.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[g.attempts,"/",g.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.bestScore?`${g.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(g.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:g.lastAttempt?Ce(g.lastAttempt):"Never"})]})]}),g.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},g.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function pae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(null),[f,d]=O.useState({name:"",email:"",roleId:"",jurisdiction:""});O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const w=await Lp.getUsers();t(w.data||[])}catch(w){console.error("Failed to fetch users:",w),t([])}finally{n(!1)}},p=async()=>{try{const w=await Lp.createUser(f);w.success&&w.data&&(t([...e,w.data]),l(!1),b())}catch(w){console.error("Failed to create user:",w)}},y=async w=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await Lp.deleteUser(w)).success&&t(e.filter(m=>m.id!==w))}catch(v){console.error("Failed to delete user:",v)}},b=()=>{d({name:"",email:"",roleId:"",jurisdiction:""}),u(null)},x=e.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())||w.email.toLowerCase().includes(s.toLowerCase())||w.role.name.toLowerCase().includes(s.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(q,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search users...",value:s,onChange:w=>i(w.target.value),className:"pl-10"})]})}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:x.map(w=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.name}),a.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:w.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${w.isActive?"text-green-600":"text-red-600"}`,children:[w.isActive?a.jsx(Oa,{className:"w-4 h-4"}):a.jsx(b$,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:w.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Sr(w.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Na,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(w.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(lh,{className:"w-4 h-4"})})]})})]},w.id))})]})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),b()},title:"Create New User",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{label:"Name",value:f.name,onChange:w=>d({...f,name:w.target.value}),placeholder:"Enter user name"}),a.jsx(oe,{label:"Email",type:"email",value:f.email,onChange:w=>d({...f,email:w.target.value}),placeholder:"Enter email address"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:f.roleId,onChange:w=>d({...f,roleId:w.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select role"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440010",children:"Admin"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440011",children:"ZO User"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440012",children:"RO User"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440013",children:"Supervisor"}),a.jsx("option",{value:"550e8400-e29b-41d4-a716-446655440014",children:"Enumerator"})]})]}),a.jsx(oe,{label:"Jurisdiction",value:f.jurisdiction,onChange:w=>d({...f,jurisdiction:w.target.value}),placeholder:"Enter jurisdiction (optional)"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>{l(!1),b()},children:"Cancel"}),a.jsx(q,{onClick:p,children:"Create User"})]})]})})]})})}function mae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState(null),[y,b]=O.useState({name:"",description:""});O.useEffect(()=>{x(),w()},[]);const x=async()=>{try{i(!0);const S=await na.getRoles();t(S.data||[])}catch(S){console.error("Failed to fetch roles:",S),t([])}finally{i(!1)}},w=async()=>{try{const S=await na.getPermissions();n(S.data)}catch(S){console.error("Failed to fetch permissions:",S)}},v=async()=>{try{const S=await na.createRole(y);S.success&&S.data&&(t([...e,S.data]),u(!1),j())}catch(S){console.error("Failed to create role:",S)}},m=async()=>{if(h)try{const S=await na.updateRole(h.id,y);S.success&&S.data&&(t(e.map(A=>A.id===h.id?S.data:A)),d(!1),j())}catch(S){console.error("Failed to update role:",S)}},N=async S=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await na.deleteRole(S)).success&&t(e.filter(P=>P.id!==S))}catch(A){console.error("Failed to delete role:",A)}},g=S=>{p(S),b({name:S.name,description:S.description}),d(!0)},j=()=>{b({name:"",description:""}),p(null)},_=e.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((S,A)=>(S[A.module]||(S[A.module]=[]),S[A.module].push(A),S),{}),a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(q,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search roles...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(S=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(_a,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",S.level," | Users: ",S.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Rr,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[S.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Hc,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",S.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Sr(S.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Sr(S.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>g(S),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Na,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N(S.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(lh,{className:"w-4 h-4"})})]})]})]},S.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>{u(!1),j()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Role Name",value:y.name,onChange:S=>b({...y,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:S=>b({...y,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{u(!1),j()},children:"Cancel"}),a.jsx(q,{onClick:v,children:"Create Role"})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>{d(!1),j()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Role Name",value:y.name,onChange:S=>b({...y,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:S=>b({...y,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{d(!1),j()},children:"Cancel"}),a.jsx(q,{onClick:m,children:"Update Role"})]})]})})]})})}function gae(){const{user:e}=Fs(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(null),[p,y]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3});O.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const S=await kn.getSurveys();r(S.data||[])}catch(S){console.error("Failed to fetch surveys:",S),r([])}finally{s(!1)}},x=async()=>{if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const S=await kn.createSurvey({...p,targetDate:new Date(p.targetDate),createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"});S.success&&S.data?(r([...t,S.data]),c(!1),j(),alert("Survey created successfully!")):alert(`Failed to create survey: ${S.message}`)}catch(S){console.error("Failed to create survey:",S),alert("Failed to create survey. Please try again.")}},w=async()=>{if(d){if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const S=await kn.updateSurvey(d.id,{...p,targetDate:new Date(p.targetDate)});S.success&&S.data?(r(t.map(A=>A.id===d.id?S.data:A)),f(!1),j(),alert("Survey updated successfully!")):alert(`Failed to update survey: ${S.message}`)}catch(S){console.error("Failed to update survey:",S),alert("Failed to update survey. Please try again.")}}},v=async(S,A)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{const P=await kn.deleteSurvey(S);P.success?(r(t.filter(E=>E.id!==S)),alert("Survey deleted successfully!")):alert(`Failed to delete survey: ${P.message}`)}catch(P){console.error("Failed to delete survey:",P),alert("Failed to delete survey. Please try again.")}},m=async(S,A)=>{A.stopPropagation();const P=t.find(E=>E.id===S);if(P)try{const E=await kn.updateSurvey(S,{...P,isActive:!P.isActive});E.success&&E.data?(r(t.map(C=>C.id===S?{...C,isActive:!C.isActive}:C)),alert(`Survey ${P.isActive?"deactivated":"activated"} successfully!`)):alert(`Failed to update survey status: ${E.message}`)}catch(E){console.error("Failed to toggle survey status:",E),alert("Failed to update survey status. Please try again.")}},N=async(S,A)=>{A.stopPropagation();try{const P={title:`${S.title} (Copy)`,description:S.description,targetDate:S.targetDate,duration:S.duration,totalQuestions:S.totalQuestions,passingScore:S.passingScore,maxAttempts:S.maxAttempts,createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"},E=await kn.createSurvey(P);E.success&&E.data?(r([...t,E.data]),alert("Survey duplicated successfully!")):alert(`Failed to duplicate survey: ${E.message}`)}catch(P){console.error("Failed to duplicate survey:",P),alert("Failed to duplicate survey. Please try again.")}},g=(S,A)=>{A.stopPropagation();const P=new Date(S.targetDate),E=isNaN(P.getTime())?"":P.toISOString().split("T")[0];h(S),y({title:S.title,description:S.description,targetDate:E,duration:S.duration,totalQuestions:S.totalQuestions,passingScore:S.passingScore,maxAttempts:S.maxAttempts}),f(!0)},j=()=>{y({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3}),h(null)},_=t.filter(S=>S.title.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Survey Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(q,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search surveys...",value:i,onChange:S=>o(S.target.value),className:"pl-10"})]})}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:S.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:S.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:ks(S.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ce(S.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[S.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:A=>g(S,A),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(Na,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>N(S,A),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(o$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>m(S.id,A),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${S.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:S.isActive?"Deactivate Survey":"Activate Survey",children:S.isActive?a.jsx(y$,{className:"w-4 h-4"}):a.jsx(v$,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("View details for survey:",S.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>v(S.id,A),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx(lh,{className:"w-4 h-4"})})]})})]},S.id))})]})}),_.length===0&&!n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:i?"No surveys match your search criteria.":"Get started by creating your first survey."}),!i&&a.jsxs(q,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(Pe,{isOpen:l,onClose:()=>{c(!1),j()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{label:"Survey Title",value:p.title,onChange:S=>y({...p,title:S.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:S=>y({...p,description:S.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Target Date",type:"date",value:p.targetDate,onChange:S=>y({...p,targetDate:S.target.value})}),a.jsx(oe,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:S=>y({...p,duration:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(oe,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:S=>y({...p,totalQuestions:parseInt(S.target.value)}),min:"1"}),a.jsx(oe,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:S=>y({...p,passingScore:parseInt(S.target.value)}),min:"1",max:"100"}),a.jsx(oe,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:S=>y({...p,maxAttempts:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>{c(!1),j()},children:"Cancel"}),a.jsx(q,{onClick:x,children:"Create Survey"})]})]})}),a.jsx(Pe,{isOpen:u,onClose:()=>{f(!1),j()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{label:"Survey Title",value:p.title,onChange:S=>y({...p,title:S.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:S=>y({...p,description:S.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Target Date",type:"date",value:p.targetDate,onChange:S=>y({...p,targetDate:S.target.value})}),a.jsx(oe,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:S=>y({...p,duration:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(oe,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:S=>y({...p,totalQuestions:parseInt(S.target.value)}),min:"1"}),a.jsx(oe,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:S=>y({...p,passingScore:parseInt(S.target.value)}),min:"1",max:"100"}),a.jsx(oe,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:S=>y({...p,maxAttempts:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>{f(!1),j()},children:"Cancel"}),a.jsx(q,{onClick:w,children:"Update Survey"})]})]})})]})})}function xae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,d]=O.useState(null),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[x,w]=O.useState(!1),[v,m]=O.useState(""),[N,g]=O.useState(!1),[j,_]=O.useState(!1),[S,A]=O.useState(!1),[P,E]=O.useState(!1),[C,I]=O.useState(!1),[$,L]=O.useState(null),[U,W]=O.useState(!1),[T,R]=O.useState({title:"",description:"",questionsCount:10,order:1}),[D,K]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]});O.useEffect(()=>{Q()},[]),O.useEffect(()=>{o?te(o.id):(n([]),u(null),i([]))},[o]),O.useEffect(()=>{c?ve(o.id,c.id):i([])},[c]);const Q=async()=>{try{p(!0);const M=await kn.getSurveys();t(M.data)}catch(M){console.error("Failed to fetch surveys:",M)}finally{p(!1)}},te=async M=>{try{b(!0);const Z=await kn.getSurveySections(M);n(Z.data)}catch(Z){console.error("Failed to fetch sections:",Z)}finally{b(!1)}},ve=async(M,Z)=>{try{w(!0);const xe=await Su.getQuestions(M,Z);i(xe.data)}catch(xe){console.error("Failed to fetch questions:",xe)}finally{w(!1)}},Ie=M=>{l(M),u(null),i([])},Ke=M=>{u(M)},Dt=async()=>{try{const M=await Su.downloadTemplate(),Z=URL.createObjectURL(M),xe=document.createElement("a");xe.href=Z,xe.download="question_template_with_survey_sections.csv",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Z)}catch(M){console.error("Failed to download template:",M)}},bt=async()=>{if($)try{W(!0);const M=await Su.uploadQuestions(o.id,$);if(M.success){const Z=M.data;let xe=`Upload completed!

`;xe+=`✅ Questions added: ${Z.questionsAdded}
`,Z.questionsSkipped>0&&(xe+=`⚠️ Questions skipped: ${Z.questionsSkipped}
`),Z.errors.length>0&&(xe+=`
Errors encountered:
${Z.errors.slice(0,5).join(`
`)}`,Z.errors.length>5&&(xe+=`
... and ${Z.errors.length-5} more errors`)),alert(xe),g(!1),L(null),o&&te(o.id),c&&ve(o.id,c.id)}}catch(M){console.error("Failed to upload questions:",M)}finally{W(!1)}},X=()=>{R({title:"",description:"",questionsCount:10,order:r.length+1})},ae=()=>{K({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]}),d(null)},de=async()=>{if(o)try{const M=await kn.createSection(o.id,T);M.success&&M.data&&(n([...r,M.data]),_(!1),X())}catch(M){console.error("Failed to create section:",M)}},H=()=>{ae(),A(!0)},ke=M=>{d(M),K({text:M.text,type:M.type,complexity:M.complexity,points:M.points,explanation:M.explanation||"",options:M.options.map(Z=>Z.text),correctAnswers:M.options.map((Z,xe)=>Z.isCorrect?xe:-1).filter(Z=>Z!==-1)}),E(!0)},pe=M=>{d(M),I(!0)},ge=async()=>{if(c){console.log("Adding question to section:",c.id),console.log("Question form data:",D);try{const M={sectionId:c.id,text:D.text,type:D.type,complexity:D.complexity,points:D.points,explanation:D.explanation,options:D.options.map((xe,It)=>({text:xe,isCorrect:D.correctAnswers.includes(It)})),order:s.length+1};console.log("Calling API to create question:",M);const Z=await Su.createQuestion(M);console.log("API response:",Z),Z.success&&Z.data?(i([...s,Z.data]),A(!1),ae(),alert(`Question added successfully! ${Z.message}`)):(console.error("Failed to create question:",Z.message),alert(`Failed to create question: ${Z.message}`))}catch(M){console.error("Failed to create question:",M),alert(`Failed to create question: ${M instanceof Error?M.message:"Unknown error"}. Please try again.`)}}},V=async()=>{if(f)try{const M={text:D.text,type:D.type,complexity:D.complexity,points:D.points,explanation:D.explanation,options:D.options.map((xe,It)=>({text:xe,isCorrect:D.correctAnswers.includes(It),order:It+1}))},Z={...f,...M,options:M.options.map((xe,It)=>{var xy;return{id:((xy=f.options[It])==null?void 0:xy.id)||`opt_${It}`,text:xe.text,isCorrect:xe.isCorrect}})};i(s.map(xe=>xe.id===f.id?Z:xe)),E(!1),ae()}catch(M){console.error("Failed to update question:",M)}},re=async M=>{if(window.confirm("Are you sure you want to delete this question?"))try{i(s.filter(Z=>Z.id!==M))}catch(Z){console.error("Failed to delete question:",Z)}},le=M=>{if(D.type==="single_choice")K({...D,correctAnswers:[M]});else{const Z=D.correctAnswers.includes(M)?D.correctAnswers.filter(xe=>xe!==M):[...D.correctAnswers,M];K({...D,correctAnswers:Z})}},Ne=(e||[]).filter(M=>M.title.toLowerCase().includes(v.toLowerCase())),we=M=>{switch(M){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ve=M=>{switch(M){case"single_choice":return"bg-blue-100 text-blue-800";case"multiple_choice":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys and assessments"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(q,{variant:"secondary",onClick:Dt,className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs(q,{onClick:()=>g(!0),disabled:!o,className:"flex items-center space-x-2",children:[a.jsx(w4,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Questions"})]})]})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search surveys...",value:v,onChange:M=>m(M.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," surveys"]})]}),a.jsx("div",{className:"h-[500px] overflow-y-auto space-y-2",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading surveys..."})]}):Ne.map(M=>a.jsxs("div",{onClick:()=>Ie(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.totalQuestions," questions"]}),a.jsx("span",{children:Ce(M.targetDate)})]})]},M.id))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?`Sections - ${o.title}`:"Sections"}),o&&a.jsxs(q,{size:"sm",onClick:()=>{X(),_(!0)},className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]})]}),a.jsx("div",{className:"h-[calc(100%-80px)] overflow-y-auto space-y-2",children:o?y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading sections..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(iv,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"No sections found"}),a.jsxs(q,{size:"sm",onClick:()=>{R({title:"",description:"",questionsCount:10,order:1}),_(!0)},className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Section"})]})]}):r.map(M=>a.jsxs("div",{onClick:()=>Ke(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(c==null?void 0:c.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.questionsCount," questions"]}),a.jsxs("span",{children:["Order: ",M.order]})]})]},M.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Select a survey to view sections"})]})})]})]}),c&&a.jsxs(F,{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions - ",c.title]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," questions in this section"]})]}),a.jsxs(q,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]}),x?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Questions Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your assessment by adding questions to this section."}),a.jsxs(q,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50",children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Complexity"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Points"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Options"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(M=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:M.text}),M.explanation&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:["Explanation: ",M.explanation]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(M.type)}`,children:M.type==="single_choice"?"Single":"Multiple"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(M.complexity)}`,children:M.complexity.charAt(0).toUpperCase()+M.complexity.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-gray-900",children:M.points})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[M.options.slice(0,2).map((Z,xe)=>a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:[String.fromCharCode(65+xe),":"]}),a.jsx("span",{className:`${Z.isCorrect?"text-green-600 font-medium":"text-gray-700"}`,children:Z.text.length>30?`${Z.text.substring(0,30)}...`:Z.text}),Z.isCorrect&&a.jsx(ot,{className:"w-3 h-3 text-green-600"})]},xe)),M.options.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",M.options.length-2," more"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-900",children:M.order})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>pe(M),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ke(M),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(Na,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>re(M.id),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx(lh,{className:"w-4 h-4"})})]})})]},M.id))})]})})})]}),a.jsx(Pe,{isOpen:N,onClose:()=>{g(!1),L(null)},title:"Upload Questions",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Upload Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Download the template first to see the required format"}),a.jsx("li",{children:"• Include Survey ID, Survey Title, Section ID, Section Title for proper mapping"}),a.jsx("li",{children:"• Questions will be automatically assigned to the correct surveys and sections"}),a.jsx("li",{children:"• Supported file format: CSV only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:M=>{var Z;return L(((Z=M.target.files)==null?void 0:Z[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),$&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Selected file:"})," ",$.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",($.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>{g(!1),L(null)},children:"Cancel"}),a.jsx(q,{onClick:bt,disabled:!$||U,loading:U,children:"Upload Questions"})]})]})}),a.jsx(Pe,{isOpen:j,onClose:()=>{_(!1),X()},title:"Add New Section",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{label:"Section Title",value:T.title,onChange:M=>R({...T,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:M=>R({...T,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Questions Count",type:"number",value:T.questionsCount,onChange:M=>R({...T,questionsCount:parseInt(M.target.value)}),min:"1"}),a.jsx(oe,{label:"Section Order",type:"number",value:T.order,onChange:M=>R({...T,order:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>{_(!1),X()},children:"Cancel"}),a.jsx(q,{onClick:de,children:"Add Section"})]})]})}),a.jsx(Pe,{isOpen:S,onClose:()=>{A(!1),ae()},title:`Add Question to ${c==null?void 0:c.title}`,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:D.text,onChange:M=>K({...D,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:D.type,onChange:M=>K({...D,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:D.complexity,onChange:M=>K({...D,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(oe,{label:"Points",type:"number",value:D.points,onChange:M=>K({...D,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",D.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:D.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:D.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(oe,{value:M,onChange:xe=>{const It=[...D.options];It[Z]=xe.target.value,K({...D,options:It})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:D.explanation,onChange:M=>K({...D,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{A(!1),ae()},children:"Cancel"}),a.jsx(q,{onClick:ge,disabled:!D.text.trim()||D.correctAnswers.length===0,children:"Add Question"})]})]})}),a.jsx(Pe,{isOpen:P,onClose:()=>{E(!1),ae()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:D.text,onChange:M=>K({...D,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:D.type,onChange:M=>K({...D,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:D.complexity,onChange:M=>K({...D,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(oe,{label:"Points",type:"number",value:D.points,onChange:M=>K({...D,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",D.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:D.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:D.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(oe,{value:M,onChange:xe=>{const It=[...D.options];It[Z]=xe.target.value,K({...D,options:It})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:D.explanation,onChange:M=>K({...D,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{E(!1),ae()},children:"Cancel"}),a.jsx(q,{onClick:V,disabled:!D.text.trim()||D.correctAnswers.length===0,children:"Update Question"})]})]})}),a.jsx(Pe,{isOpen:C,onClose:()=>{I(!1),d(null)},title:"Question Details",size:"lg",children:f&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Question"}),a.jsx("p",{className:"text-gray-700",children:f.text})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Type"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(f.type)}`,children:f.type==="single_choice"?"Single Choice":"Multiple Choice"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Complexity"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(f.complexity)}`,children:f.complexity.charAt(0).toUpperCase()+f.complexity.slice(1)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Points"}),a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:f.points})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options"}),a.jsx("div",{className:"space-y-2",children:f.options.map((M,Z)=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${M.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsxs("span",{className:"font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx("span",{className:`flex-1 ${M.isCorrect?"text-green-800 font-medium":"text-gray-700"}`,children:M.text}),M.isCorrect&&a.jsx(ot,{className:"w-5 h-5 text-green-600"})]},Z))})]}),f.explanation&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Explanation"}),a.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:f.explanation})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{I(!1),d(null)},children:"Close"}),a.jsxs(q,{onClick:()=>{I(!1),ke(f)},className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Question"})]})]})]})})]})})}function vae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,p]=O.useState(!1),[y,b]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{x(),w()},[y]);const x=async()=>{try{i(!0);const j=await Fp.getResults(y);t(j.data)}catch(j){console.error("Failed to fetch results:",j)}finally{i(!1)}},w=async()=>{try{const j=await Fp.getAnalytics(y);n(j.data)}catch(j){console.error("Failed to fetch analytics:",j)}},v=async()=>{try{const j=await Fp.exportResults(y),_=new Blob([j.data],{type:"text/csv"}),S=URL.createObjectURL(_),A=document.createElement("a");A.href=S,A.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(S)}catch(j){console.error("Failed to export results:",j)}},m=j=>{u(j),d(!0)},N=e.filter(j=>j.user.name.toLowerCase().includes(o.toLowerCase())||j.survey.title.toLowerCase().includes(o.toLowerCase())||j.user.email.toLowerCase().includes(o.toLowerCase())),g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(q,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(q,{onClick:v,className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Rr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ur,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ae,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:ks(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Zt,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(za,{data:r.performanceByRole,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"name"}),a.jsx(Kt,{}),a.jsx(ze,{formatter:j=>[`${j}%`,"Pass Rate"]}),a.jsx(Ot,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Survey"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(ru,{children:[a.jsx(Or,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percentage:_})=>`${j}: ${_}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((j,_)=>a.jsx(Bs,{fill:g[_%g.length]},`cell-${_}`))}),a.jsx(ze,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:r.timeSeriesData,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"date"}),a.jsx(Kt,{}),a.jsx(ze,{}),a.jsx(Jt,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(Jt,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(Jt,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx(jo,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((j,_)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[j.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.passRate.toFixed(1),"% pass rate"]})]})]},j.userId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(cv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((j,_)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[j.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[j.passRate.toFixed(1),"% pass rate"]})]})]},j.userId))})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search results...",value:o,onChange:j=>l(j.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:N.map(j=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:j.user.email})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:j.user.role.name})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${vs(j.score)}`,children:[j.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",j.correctAnswers,"/",j.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[j.attemptNumber,"/",j.survey.maxAttempts]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:ks(Math.floor(j.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Sr(j.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(j),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})}),j.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Ae,{className:"w-4 h-4"})})]})})]},j.id))})]})})]}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",c.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",c.user.jurisdiction||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",c.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",c.survey.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",ks(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Sr(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(j=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:j.sectionTitle}),a.jsxs("span",{className:`font-bold ${vs(j.score)}`,children:[j.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[j.correctAnswers,"/",j.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${j.score}%`}})})]})]},j.sectionId))})]})]})}),a.jsx(Pe,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(oe,{label:"Start Date",type:"date",value:y.dateRange.start.toISOString().split("T")[0],onChange:j=>b({...y,dateRange:{...y.dateRange,start:new Date(j.target.value)}})}),a.jsx(oe,{label:"End Date",type:"date",value:y.dateRange.end.toISOString().split("T")[0],onChange:j=>b({...y,dateRange:{...y.dateRange,end:new Date(j.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(q,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(q,{onClick:()=>{p(!1),x(),w()},children:"Apply Filters"})]})]})})]})})}function yae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const v=await v5.getEnumeratorStatus();t(v.data)}catch(v){console.error("Failed to fetch enumerator status:",v)}finally{n(!1)}},p=v=>{switch(v){case"completed":return a.jsx(ot,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Td,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(ur,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},y=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},b=v=>{const m=v.surveys.length,N=v.surveys.filter(_=>_.status==="completed").length,g=v.surveys.filter(_=>_.status==="failed").length,j=v.surveys.filter(_=>_.status==="expired").length;return N===m?"excellent":g>0||j>0?"needs_attention":N>m/2?"good":"poor"},x=v=>{l(v),u(!0)},w=e.filter(v=>{const m=v.user.name.toLowerCase().includes(s.toLowerCase())||v.user.email.toLowerCase().includes(s.toLowerCase());if(f==="all")return m;const N=b(v);return m&&N===f});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enumerator Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all enumerators"})]})}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search enumerators...",value:s,onChange:v=>i(v.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:v=>d(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ds,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(v=>b(v)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(v=>b(v)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(ur,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((v,m)=>v+m.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:w.map(v=>{const m=b(v),N=v.surveys.filter(j=>j.status==="completed").length,g=v.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ds,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:v.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:v.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[v.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N,"/",g]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m==="excellent"?"bg-green-100 text-green-800":m==="good"?"bg-blue-100 text-blue-800":m==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:m==="excellent"?"Excellent":m==="good"?"Good":m==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>x(v),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[v.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[v.surveys.slice(0,3).map(j=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(j.status),a.jsx("span",{className:"text-sm text-gray-600",children:j.surveyTitle})]},j.surveyId)),v.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",v.surveys.length-3," more"]})]})]},v.id)})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Sr(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(v=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(v.status),a.jsx("h5",{className:"font-medium text-gray-900",children:v.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(v.status)}`,children:v.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[v.attempts,"/",v.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:v.bestScore?`${v.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(v.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:v.lastAttempt?Ce(v.lastAttempt):"Never"})]})]}),v.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},v.surveyId))})]})]})})]})})}function bae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const S=await Xu.getCertificates();t(S.data)}catch(S){console.error("Failed to fetch certificates:",S)}finally{n(!1)}},b=async S=>{try{const A=await Xu.downloadCertificate(S),P=new Blob([A.data],{type:"application/pdf"}),E=URL.createObjectURL(P),C=document.createElement("a");C.href=E,C.download=`certificate_${S}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(E),t(e.map(I=>I.id===S?{...I,downloadCount:I.downloadCount+1}:I))}catch(A){console.error("Failed to download certificate:",A)}},x=async S=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await Xu.revokeCertificate(S)).success&&t(e.map(P=>P.id===S?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},w=S=>{l(S),u(!0)},v=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=e.filter(S=>{const A=S.user.name.toLowerCase().includes(s.toLowerCase())||S.survey.title.toLowerCase().includes(s.toLowerCase())||S.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=f==="all"||S.status===f;let E=!0;if(h!=="all"){const C=new Date,I=new Date(S.issuedAt);switch(h){case"today":E=I.toDateString()===C.toDateString();break;case"week":const $=new Date(C.getTime()-7*24*60*60*1e3);E=I>=$;break;case"month":const L=new Date(C.getTime()-30*24*60*60*1e3);E=I>=L;break}}return A&&P&&E}),N=e.length,g=e.filter(S=>S.status==="active").length,j=e.filter(S=>S.status==="revoked").length,_=e.reduce((S,A)=>S+A.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(q,{onClick:y,className:"flex items-center space-x-2",children:[a.jsx(Zu,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ae,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Wt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:j})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Zu,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Nt,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search certificates...",value:s,onChange:S=>i(S.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",S.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Ce(S.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Sr(S.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>w(S),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(S.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:S.status==="revoked",children:a.jsx(Nt,{className:"w-4 h-4"})}),S.status==="active"&&a.jsx("button",{onClick:()=>x(S.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(Zu,{className:"w-4 h-4"})})]})})]},S.id))})]})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${v(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Sr(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Ce(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(q,{onClick:()=>b(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function wae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const m=await a1.getSettings();m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch settings:",m)}finally{n(!1)}},p=async()=>{if(s)try{(await a1.updateSetting(s.id,c)).success&&(t(e.map(N=>N.id===s.id?{...N,value:c,updatedAt:new Date}:N)),l(!1),i(null),u(""),d(!0))}catch(m){console.error("Failed to update setting:",m)}},y=m=>{i(m),u(m.value),l(!0)},b=m=>{switch(m.toLowerCase()){case"general":return a.jsx(c$,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(Zt,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(_a,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Hc,{className:"w-5 h-5 text-gray-600"})}},x=e.reduce((m,N)=>(m[N.category]||(m[N.category]=[]),m[N.category].push(N),m),{}),w=m=>{switch(m.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:m.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:m.value}}),a.jsx("span",{className:"font-mono text-sm",children:m.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:m.value});default:return a.jsx("span",{className:"text-sm font-medium",children:m.value})}},v=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(oe,{type:"number",value:c,onChange:N=>u(N.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{type:"color",value:c,onChange:N=>u(N.target.value),className:"h-12"}),a.jsx(oe,{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(oe,{type:"email",value:c,onChange:N=>u(N.target.value),placeholder:"Enter email address"});case"url":return a.jsx(oe,{type:"url",value:c,onChange:N=>u(N.target.value),placeholder:"Enter URL"});case"select":const m=s.options||[];return a.jsx("select",{value:c,onChange:N=>u(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:m.map(N=>a.jsx("option",{value:N,children:N},N))});case"json":return a.jsx("textarea",{value:c,onChange:N=>u(N.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(oe,{value:c,onChange:N=>u(N.target.value),placeholder:"Enter value"})}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[f&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Cd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(q,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(Zu,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(x).map(([m,N])=>a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[b(m),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[m," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:N.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:g.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${g.type==="boolean"?"bg-green-100 text-green-700":g.type==="number"?"bg-blue-100 text-blue-700":g.type==="color"?"bg-purple-100 text-purple-700":g.type==="email"?"bg-teal-100 text-teal-700":g.type==="url"?"bg-indigo-100 text-indigo-700":g.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:g.type}),!g.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),a.jsx("div",{className:"mt-2",children:w(g)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Sr(g.updatedAt),g.updatedBy&&` by ${g.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:g.isEditable?a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>y(g),className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},g.id))})]},m))}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:w(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),v()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(q,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function jae(){const e=vo(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const j=await qc.getDashboardData();j.success&&j.data&&r(j.data.availableTests)}catch(j){console.error("Failed to fetch available tests:",j)}finally{o(!1)}},x=async j=>{try{f(!0);const _=t.find(P=>P.surveyId===j);if(!_||!_.isEligible||_.attemptsLeft===0){alert(`You are not eligible to take this test or have no attempts remaining. Attempts left: ${(_==null?void 0:_.attemptsLeft)||0}`);return}const S=await hs.createTestSession(j);if(!S.success||!S.data){alert(`Failed to start test: ${S.message}`);return}const A=S.data.id;e(`/test/${A}`)}catch(_){console.error("Failed to start test:",_),alert(`Failed to start test: ${_ instanceof Error?_.message:"Please try again."}`)}finally{f(!1),c(!1)}},w=j=>{s(j),c(!0)},v=j=>j.isEligible?j.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=j=>{if(!j.isEligible)return"Not Eligible";if(j.attemptsLeft===0)return"No Attempts Left";const _=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return _<=0?"Overdue":_<=3?`${_} days left`:"Available"},N=t.filter(j=>{const _=j.title.toLowerCase().includes(d.toLowerCase())||j.description.toLowerCase().includes(d.toLowerCase());if(p==="all")return _;const S=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return _&&S<=3&&S>0;case"available":return _&&j.isEligible&&j.attemptsLeft>0;case"overdue":return _&&S<=0;default:return _}}),g=t.filter(j=>{const _=Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/864e5);return _<=3&&_>0});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Wt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(j=>j.isEligible&&j.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:g.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(ur,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(j=>Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Zt,{className:"w-6 h-6 text-red-600"})})]})})]}),g.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ur,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(j=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:j.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(dn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(j.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(j.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(q,{onClick:()=>x(j.surveyId),disabled:!j.isEligible||j.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(pa,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},j.surveyId))})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search tests...",value:d,onChange:j=>h(j.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:j=>y(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(F,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:N.map(j=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:j.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(j.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",ks(j.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[j.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",j.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${v(j)}`,children:m(j)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.attemptsLeft,"/",j.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(q,{onClick:()=>w(j),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(q,{onClick:()=>x(j.surveyId),disabled:!j.isEligible||j.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===j.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},j.surveyId))})}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",ks(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(q,{onClick:()=>{x(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Sae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState(!1),[y,b]=O.useState(""),[x,w]=O.useState(!1);O.useEffect(()=>{var P;v();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(b(A.message),p(!0),A.showCertificate&&w(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),w(!1)},5e3))},[]);const v=async()=>{try{i(!0);const A=await qc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},m=A=>{n(A),l(!0)},N=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return f==="all"?P:f==="passed"?P&&A.isPassed:f==="failed"?P&&!A.isPassed:P}),g=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const j=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,_=e.filter(A=>A.certificateId).length,S=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(ys,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[j.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ur,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(ot,{className:"w-5 h-5"}),a.jsx("span",{children:y})]})}),x&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Aa,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(q,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Tt,{width:"100%",height:"100%",children:a.jsxs(tu,{data:S,children:[a.jsx(_r,{strokeDasharray:"3 3"}),a.jsx(Ht,{dataKey:"attempt"}),a.jsx(Kt,{domain:[0,100]}),a.jsx(ze,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(Jt,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):N.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ys,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:N.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(ot,{className:"w-5 h-5 text-green-600"}):a.jsx(Td,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${vs(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${vs(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(q,{onClick:()=>m(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(q,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${vs(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Td,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ce(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${vs(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(q,{className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function _ae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var w;f();const x=((w=window.history.state)==null?void 0:w.usr)||window.history.state;x!=null&&x.newCertificate&&(setTimeout(()=>{f()},1e3),window.history.replaceState({},document.title))},[]);const f=async()=>{try{i(!0);const x=await qc.getDashboardData();x.success&&x.data&&t(x.data.certificates)}catch(x){console.error("Failed to fetch certificates:",x)}finally{i(!1)}},d=async x=>{try{const v=(await Xu.downloadCertificate(x)).data,m=URL.createObjectURL(v),N=document.createElement("a");N.href=m;const g=e.find(_=>_.id===x),j=g?`${g.certificateNumber}_${g.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${x}.pdf`;N.download=j,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(m),t(e.map(_=>_.id===x?{..._,downloadCount:_.downloadCount+1}:_))}catch(w){console.error("Failed to download certificate:",w),alert("Failed to download certificate. Please try again.")}},h=x=>{n(x),l(!0)},p=e.filter(x=>x.survey.title.toLowerCase().includes(c.toLowerCase())||x.certificateNumber.toLowerCase().includes(c.toLowerCase())),y=e.filter(x=>x.status==="active").length,b=e.reduce((x,w)=>x+w.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:y})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Nt,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(oe,{placeholder:"Search certificates...",value:c,onChange:x=>u(x.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((x,w)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},w)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(Aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(x=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:x.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",x.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(x.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${x.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",x.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{onClick:()=>h(x),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(q,{onClick:()=>d(x.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:x.status!=="active",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},x.id))}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(l1,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(l1,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(q,{onClick:()=>d(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Nae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const d=await qc.getDashboardData();d.success&&d.data&&t(d.data.upcomingTests)}catch(d){console.error("Failed to fetch test schedule:",d)}finally{n(!1)}},i=d=>d.isOverdue?"bg-red-100 text-red-800":d.daysLeft<=3?"bg-orange-100 text-orange-800":d.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=d=>d.isOverdue?a.jsx(ur,{className:"w-4 h-4"}):d.daysLeft<=3?a.jsx(Zt,{className:"w-4 h-4"}):a.jsx(ot,{className:"w-4 h-4"}),l=d=>d.isOverdue?"Overdue":d.daysLeft===0?"Due Today":d.daysLeft===1?"Due Tomorrow":`${d.daysLeft} days left`,c=e.filter(d=>d.daysLeft<=3||d.isOverdue),u=e.filter(d=>d.daysLeft<=7&&d.daysLeft>3),f=e.filter(d=>d.daysLeft>7);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(q,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(lv,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ur,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(dn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(ur,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsxs(F,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(q,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsxs(F,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(pa,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(q,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(ot,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>a.jsxs(F,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(dn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(q,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(We,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},d.surveyId))})]})]})]})})}function Aae(){const{sessionId:e}=uC(),t=vo();Ma();const[r,n]=O.useState(null),[s,i]=O.useState([]),[o,l]=O.useState(0),[c,u]=O.useState({}),[f,d]=O.useState(0),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[x,w]=O.useState(!1),[v,m]=O.useState(!1),[N,g]=O.useState(!1),[j,_]=O.useState(new Set),[S,A]=O.useState(navigator.onLine),[P,E]=O.useState(null),[C,I]=O.useState(null),[$,L]=O.useState(!1),[U,W]=O.useState(null);O.useState({});const T=3e4;O.useEffect(()=>{const V=()=>{A(!0),hs.syncOfflineData()},re=()=>{A(!1),r&&!$&&f>0&&(L(!0),W(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",V),window.addEventListener("offline",re),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",re)}},[r,$,f,U]);const R=O.useCallback(async()=>{if(!(!r||$))try{I("saving"),await hs.updateSession(r.id,{currentQuestionIndex:o,timeRemaining:f,answers:Object.keys(c).map(V=>({questionId:V,selectedOptions:c[V],isCorrect:!1,timeSpent:0,answered:!0}))}),E(new Date),I("saved"),setTimeout(()=>I(null),2e3)}catch(V){console.error("Auto-save failed:",V),I("error"),setTimeout(()=>I(null),3e3)}},[r,o,f,c,$]);O.useEffect(()=>{if(!r||$)return;const V=setInterval(R,T);return()=>clearInterval(V)},[R,r,$]),O.useEffect(()=>{if(r&&Object.keys(c).length>0&&!$){const V=setTimeout(R,2e3);return()=>clearTimeout(V)}},[c,R,r,$]),O.useEffect(()=>{e&&(console.log("Loading test session with ID:",e),K())},[e]),O.useEffect(()=>{if(f>0&&!$&&S){const V=setInterval(()=>{d(re=>{const le=re-1;return le<=0?(bt(),0):(le===300&&!v&&m(!0),le)})},1e3);return()=>clearInterval(V)}},[f,v,$,S]);const D=async V=>{try{if(p(!0),console.log("Loading questions for survey:",V),!V)throw new Error("Survey ID not provided");if(!z)throw new Error("Database not configured");const{data:re,error:le}=await z.from("questions").select(`
          *,
          question_options(*),
          survey_sections!inner(
            id,
            title,
            section_order,
            survey_id
          )
        `).eq("survey_sections.survey_id",V).order("question_order",{ascending:!0});if(le)throw console.error("Database error loading questions:",le),new Error(`Database error: ${le.message}`);if(!re||re.length===0)throw console.log("No questions found for survey:",V),new Error("No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.");console.log("Raw questions data from database:",re);const Ne=re.map(we=>({id:we.id,sectionId:we.section_id,text:we.text,type:we.question_type,complexity:we.complexity,points:we.points,explanation:we.explanation,order:we.survey_sections.section_order*1e3+we.question_order,options:we.question_options.sort((Ve,M)=>Ve.option_order-M.option_order).map(Ve=>({id:Ve.id,text:Ve.text,isCorrect:Ve.is_correct})),correctAnswers:we.question_options.filter(Ve=>Ve.is_correct).map(Ve=>Ve.id),createdAt:new Date(we.created_at),updatedAt:new Date(we.updated_at)}));console.log("Transformed questions:",Ne),i(Ne),r&&r.currentQuestionIndex&&l(r.currentQuestionIndex)}catch(re){console.error("Failed to load questions:",re),alert(`Failed to load questions: ${re instanceof Error?re.message:"Unknown error"}`),t("/available-tests")}finally{p(!1)}},K=async()=>{try{if(p(!0),console.log("Loading test session for ID:",e),!z)throw new Error("Database not configured");const{data:V,error:re}=await z.from("test_sessions").select("*").eq("id",e).single();if(re||!V)throw console.error("Failed to load session:",re),new Error("Session not found or expired");console.log("Session data loaded:",V);const le={id:V.id,userId:V.user_id,surveyId:V.survey_id,startTime:new Date(V.start_time),timeRemaining:V.time_remaining,currentQuestionIndex:V.current_question_index,answers:[],status:V.session_status,attemptNumber:V.attempt_number};n(le),d(le.timeRemaining),l(le.currentQuestionIndex);const{data:Ne}=await z.from("test_answers").select("*").eq("session_id",e);if(Ne){console.log("Existing answers loaded:",Ne);const we={};Ne.forEach(Ve=>{we[Ve.question_id]=Ve.selected_options||[]}),u(we)}console.log("Loading questions for survey:",le.surveyId),await D(le.surveyId)}catch(V){console.error("Failed to load test session:",V),alert(`Failed to load test session: ${V instanceof Error?V.message:"Unknown error"}`),t("/available-tests")}},Q=async(V,re,le)=>{if($)return;const Ne={...c};if(le){const we=Ne[V]||[];Ne[V]=we.includes(re)?we.filter(Ve=>Ve!==re):[...we,re]}else Ne[V]=[re];u(Ne);try{await hs.saveAnswer(r.id,V,Ne[V])}catch(we){console.error("Failed to save answer:",we)}},te=()=>{$||o<s.length-1&&l(V=>V+1)},ve=()=>{$||o>0&&l(V=>V-1)},Ie=V=>{$||l(V)},Ke=V=>{$||_(re=>{const le=new Set(re);return le.has(V)?le.delete(V):le.add(V),le})},Dt=async()=>{var V,re;try{b(!0);const le=await hs.submitTest(e);le.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:le.data,showCertificate:((V=le.data)==null?void 0:V.isPassed)&&((re=le.data)==null?void 0:re.certificateId)}})}catch(le){console.error("Failed to submit test:",le),alert("Failed to submit test. Please try again.")}finally{b(!1),w(!1)}},bt=async()=>{try{await hs.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(V){console.error("Failed to auto-submit test:",V)}},X=()=>{g(!1),L(!1)},ae=()=>{l(0),u({}),_(new Set),d(35*60),g(!1),L(!1)},de=V=>{const re=s[V];if(!re)return"unanswered";const le=c[re.id]&&c[re.id].length>0,Ne=j.has(V);return Ne&&le?"flagged-answered":Ne?"flagged":le?"answered":"unanswered"},H=V=>{switch(V){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},ke=s.filter(V=>c[V.id]&&c[V.id].length>0).length,pe=s.length-ke;if(h)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test session and questions..."}),r&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Session ID: ",r.id]})]})});if(!r||s.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(F,{className:"max-w-md w-full text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(q,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const ge=s[o];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",r.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:S?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(w$,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Bp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[C==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),C==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Cd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),C==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(ur,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),P&&!C&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",P.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[e$(f),$&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[o+1," / ",s.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:ke})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:pe})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:j.size})]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((V,re,le)=>{const we=`Section ${Math.floor(re.order/1e3)}`;return V[we]||(V[we]=[]),V[we].push({question:re,index:le}),V},{})).sort(([V],[re])=>V.localeCompare(re)).map(([V,re])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:V}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:re.map(({question:le,index:Ne})=>{const we=de(Ne);return a.jsx("button",{onClick:()=>Ie(Ne),disabled:$,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${Ne===o?"ring-2 ring-blue-500 ring-offset-2":""} ${H(we)} ${$?"opacity-50 cursor-not-allowed":""}`,children:Ne+1},Ne)})})]},V))}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(q,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:R,disabled:$,children:[a.jsx(Cd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),$&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(F,{className:"max-w-4xl mx-auto",children:$?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(m$,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(Bp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Section ",Math.floor(ge.order/1e3)]}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",o+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${ge.complexity==="easy"?"bg-green-100 text-green-800":ge.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ge.complexity.charAt(0).toUpperCase()+ge.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[ge.points," point",ge.points!==1?"s":""]})]}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>Ke(o),className:`flex items-center space-x-2 ${j.has(o)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(l$,{className:"w-4 h-4"}),a.jsx("span",{children:j.has(o)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:ge.text}),a.jsx("div",{className:"space-y-3",children:ge.options.map(V=>{var re;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:ge.type==="multiple_choice"?"checkbox":"radio",name:`question-${ge.id}`,value:V.id,checked:((re=c[ge.id])==null?void 0:re.includes(V.id))||!1,onChange:()=>Q(ge.id,V.id,ge.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:$}),a.jsx("span",{className:"text-gray-900",children:V.text})]},V.id)})}),ge.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]}),ge.explanation&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Hint:"})," ",ge.explanation]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(q,{variant:"secondary",onClick:ve,disabled:o===0||$,className:"flex items-center space-x-2",children:[a.jsx(b4,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(q,{variant:"secondary",onClick:()=>w(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),o<s.length-1?a.jsxs(q,{onClick:te,disabled:$,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(a$,{className:"w-4 h-4"})]}):a.jsxs(q,{onClick:()=>w(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),!S&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(Bp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(Pe,{isOpen:N,onClose:X,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(x$,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(q,{variant:"secondary",onClick:ae,children:"Start Fresh"}),a.jsx(q,{onClick:X,children:"Resume Session"})]})]})}),a.jsx(Pe,{isOpen:v,onClose:()=>m(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zt,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(q,{onClick:()=>m(!1),children:"Continue Test"})]})}),a.jsx(Pe,{isOpen:x,onClose:()=>w(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:ke})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:pe})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:j.size})]})]})]}),pe>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",pe," unanswered question",pe!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>w(!1),children:"Continue Test"}),a.jsxs(q,{onClick:Dt,loading:y,className:"flex items-center space-x-2",children:[a.jsx(ot,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const sl=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Oae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState([]),[h,p]=O.useState(""),[y,b]=O.useState("all");O.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0);const S=await na.getRoles();t(S.data)}catch(S){console.error("Failed to fetch roles:",S)}finally{i(!1)}},w=S=>{n(S),d(S.menuAccess||[]),l(!0)},v=async()=>{if(r)try{u(!0),(await na.updateRoleMenuAccess(r.id,f)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:f}:A)),l(!1),n(null),d([]))}catch(S){console.error("Failed to update menu access:",S)}finally{u(!1)}},m=S=>{d(A=>A.includes(S)?A.filter(P=>P!==S):[...A,S])},N=S=>{const A=sl.filter(P=>P.level>=S).map(P=>P.path);d(P=>{const E=[...P];return A.forEach(C=>{E.includes(C)||E.push(C)}),E})},j=sl.filter(S=>{const A=S.label.toLowerCase().includes(h.toLowerCase())||S.path.toLowerCase().includes(h.toLowerCase()),P=y==="all"||S.category===y;return A&&P}).reduce((S,A)=>(S[A.category]||(S[A.category]=[]),S[A.category].push(A),S),{}),_=[...new Set(sl.map(S=>S.category))];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((S,A)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(S=>{var A,P,E;return a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${S.level===1?"bg-red-100":S.level===2?"bg-purple-100":S.level===3?"bg-indigo-100":S.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(_a,{className:`w-5 h-5 ${S.level===1?"text-red-600":S.level===2?"text-purple-600":S.level===3?"text-indigo-600":S.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",S.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=S.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:S.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(S.menuAccess||[]).slice(0,2).map(C=>{const I=sl.find($=>$.path===C);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(I==null?void 0:I.label)||C},C)}),(((P=S.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((E=S.menuAccess)==null?void 0:E.length)||0)-2," more"]})]}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>w(S),className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},S.id)})}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),n(null),d([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(_a,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",f.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>N(r.level),className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>d([]),className:"flex items-center space-x-2",children:[a.jsx(p$,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(oe,{placeholder:"Search menus...",value:h,onChange:S=>p(S.target.value),className:"w-48"})}),a.jsxs("select",{value:y,onChange:S=>b(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),_.map(S=>a.jsx("option",{value:S,children:S},S))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(j).map(([S,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>[...new Set([...E,...P])])},className:"text-xs",children:"Select All"}),a.jsx(q,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>E.filter(C=>!P.includes(C)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const E=f.includes(P.path),C=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${E?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:E,onChange:()=>m(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),C&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),E&&a.jsx(ot,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},S))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:_.map(S=>{const A=sl.filter(E=>E.category===S),P=f.filter(E=>A.some(C=>C.path===E)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:S})]},S)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(q,{variant:"secondary",onClick:()=>{l(!1),n(null),d([])},children:"Cancel"}),a.jsxs(q,{onClick:v,loading:c,className:"flex items-center space-x-2",children:[a.jsx(Cd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function Pae(){const e=vo(),{user:t}=Fs(),r=()=>{e(-1)},n=()=>{if(!t){e("/login");return}switch(t.role.name.toLowerCase()){case"admin":e("/dashboard");break;case"zo user":e("/zo-dashboard");break;case"ro user":e("/ro-dashboard");break;case"supervisor":e("/supervisor-dashboard");break;case"enumerator":e("/enumerator-dashboard");break;default:e("/dashboard")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(F,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(_a,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(q,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(d$,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(q,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(b4,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function lt({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=Fs();if(!i||!s)return a.jsx(Gl,{to:"/login",replace:!0});const o=s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(Gl,{to:n,replace:!0})}function Eae(){const{user:e}=Fs(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(Gl,{to:t(),replace:!0})}function kae(){return a.jsxs(D2,{children:[a.jsx(Fe,{path:"/dashboard",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(oae,{})})}),a.jsx(Fe,{path:"/users",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(pae,{})})}),a.jsx(Fe,{path:"/roles",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(mae,{})})}),a.jsx(Fe,{path:"/role-menu-management",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(Oae,{})})}),a.jsx(Fe,{path:"/surveys",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(gae,{})})}),a.jsx(Fe,{path:"/questions",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(xae,{})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(lt,{requiredRoles:["Admin"],children:a.jsx(wae,{})})}),a.jsx(Fe,{path:"/zo-dashboard",element:a.jsx(lt,{requiredRoles:["ZO User"],children:a.jsx(lae,{})})}),a.jsx(Fe,{path:"/ro-dashboard",element:a.jsx(lt,{requiredRoles:["RO User"],children:a.jsx(cae,{})})}),a.jsx(Fe,{path:"/supervisor-dashboard",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(uae,{})})}),a.jsx(Fe,{path:"/team-results",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(fae,{})})}),a.jsx(Fe,{path:"/my-enumerators",element:a.jsx(lt,{requiredRoles:["Supervisor"],children:a.jsx(hae,{})})}),a.jsx(Fe,{path:"/enumerator-dashboard",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(dae,{})})}),a.jsx(Fe,{path:"/available-tests",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(jae,{})})}),a.jsx(Fe,{path:"/my-results",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Sae,{})})}),a.jsx(Fe,{path:"/my-certificates",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(_ae,{})})}),a.jsx(Fe,{path:"/test-schedule",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Nae,{})})}),a.jsx(Fe,{path:"/test/:sessionId",element:a.jsx(lt,{requiredRoles:["Enumerator"],children:a.jsx(Aae,{})})}),a.jsx(Fe,{path:"/results",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(vae,{})})}),a.jsx(Fe,{path:"/enumerator-status",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(yae,{})})}),a.jsx(Fe,{path:"/certificates",element:a.jsx(lt,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(bae,{})})}),a.jsx(Fe,{path:"/unauthorized",element:a.jsx(Pae,{})}),a.jsx(Fe,{path:"/",element:a.jsx(Eae,{})})]})}function Cae(){return a.jsx(TC,{children:a.jsx(y5,{children:a.jsx(w5,{children:a.jsxs(D2,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(S$,{})}),a.jsx(Fe,{path:"/*",element:a.jsx(_$,{children:a.jsx(kae,{})})})]})})})})}_2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(Cae,{})}));
