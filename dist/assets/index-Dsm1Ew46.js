function fE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mN={exports:{}},Rf={},gN={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),pE=Symbol.for("react.portal"),mE=Symbol.for("react.fragment"),gE=Symbol.for("react.strict_mode"),xE=Symbol.for("react.profiler"),vE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),bE=Symbol.for("react.forward_ref"),wE=Symbol.for("react.suspense"),jE=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),by=Symbol.iterator;function NE(e){return e===null||typeof e!="object"?null:(e=by&&e[by]||e["@@iterator"],typeof e=="function"?e:null)}var xN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vN=Object.assign,yN={};function ho(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||xN}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bN(){}bN.prototype=ho.prototype;function ex(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||xN}var tx=ex.prototype=new bN;tx.constructor=ex;vN(tx,ho.prototype);tx.isPureReactComponent=!0;var wy=Array.isArray,wN=Object.prototype.hasOwnProperty,rx={current:null},jN={key:!0,ref:!0,__self:!0,__source:!0};function _N(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wN.call(t,n)&&!jN.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Mc,type:e,key:i,ref:o,props:s,_owner:rx.current}}function SE(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function AE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jy=/\/+/g;function sp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AE(""+e.key):t.toString(36)}function Bu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mc:case pE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+sp(o,0):n,wy(s)?(r="",e!=null&&(r=e.replace(jy,"$&/")+"/"),Bu(s,t,r,"",function(u){return u})):s!=null&&(nx(s)&&(s=SE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",wy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+sp(i,l);o+=Bu(i,t,r,c,s)}else if(c=NE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+sp(i,l++),o+=Bu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function au(e,t,r){if(e==null)return e;var n=[],s=0;return Bu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function OE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tr={current:null},zu={transition:null},PE={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:zu,ReactCurrentOwner:rx};function NN(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:au,forEach:function(e,t,r){au(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!nx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=ho;be.Fragment=mE;be.Profiler=xE;be.PureComponent=ex;be.StrictMode=gE;be.Suspense=wE;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE;be.act=NN;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vN({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wN.call(t,c)&&!jN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Mc,type:e.type,key:s,ref:i,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:yE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vE,_context:e},e.Consumer=e};be.createElement=_N;be.createFactory=function(e){var t=_N.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:bE,render:e}};be.isValidElement=nx;be.lazy=function(e){return{$$typeof:_E,_payload:{_status:-1,_result:e},_init:OE}};be.memo=function(e,t){return{$$typeof:jE,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};be.unstable_act=NN;be.useCallback=function(e,t){return tr.current.useCallback(e,t)};be.useContext=function(e){return tr.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return tr.current.useDeferredValue(e)};be.useEffect=function(e,t){return tr.current.useEffect(e,t)};be.useId=function(){return tr.current.useId()};be.useImperativeHandle=function(e,t,r){return tr.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return tr.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return tr.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return tr.current.useMemo(e,t)};be.useReducer=function(e,t,r){return tr.current.useReducer(e,t,r)};be.useRef=function(e){return tr.current.useRef(e)};be.useState=function(e){return tr.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return tr.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return tr.current.useTransition()};be.version="18.3.1";gN.exports=be;var O=gN.exports;const C=$e(O),EE=fE({__proto__:null,default:C},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=O,CE=Symbol.for("react.element"),TE=Symbol.for("react.fragment"),$E=Object.prototype.hasOwnProperty,IE=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DE={key:!0,ref:!0,__self:!0,__source:!0};function SN(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$E.call(t,n)&&!DE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:CE,type:e,key:i,ref:o,props:s,_owner:IE.current}}Rf.Fragment=TE;Rf.jsx=SN;Rf.jsxs=SN;mN.exports=Rf;var a=mN.exports,AN={exports:{}},Ar={},ON={exports:{}},PN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var D=$.length;$.push(L);e:for(;0<D;){var K=D-1>>>1,Q=$[K];if(0<s(Q,L))$[K]=L,$[D]=Q,D=K;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var L=$[0],D=$.pop();if(D!==L){$[0]=D;e:for(var K=0,Q=$.length,te=Q>>>1;K<te;){var ve=2*(K+1)-1,De=$[ve],Ke=ve+1,Dt=$[Ke];if(0>s(De,D))Ke<Q&&0>s(Dt,De)?($[K]=Dt,$[Ke]=D,K=Ke):($[K]=De,$[ve]=D,K=ve);else if(Ke<Q&&0>s(Dt,D))$[K]=Dt,$[Ke]=D,K=Ke;else break e}}return L}function s($,L){var D=$.sortIndex-L.sortIndex;return D!==0?D:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m($){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=$)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function N($){if(b=!1,m($),!y)if(r(c)!==null)y=!0,U(v);else{var L=r(u);L!==null&&W(N,L.startTime-$)}}function v($,L){y=!1,b&&(b=!1,j(_),_=-1),p=!0;var D=h;try{for(m(L),d=r(c);d!==null&&(!(d.expirationTime>L)||$&&!E());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var Q=K(d.expirationTime<=L);L=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(c)&&n(c),m(L)}else n(c);d=r(c)}if(d!==null)var te=!0;else{var ve=r(u);ve!==null&&W(N,ve.startTime-L),te=!1}return te}finally{d=null,h=D,p=!1}}var w=!1,S=null,_=-1,A=5,P=-1;function E(){return!(e.unstable_now()-P<A)}function k(){if(S!==null){var $=e.unstable_now();P=$;var L=!0;try{L=S(!0,$)}finally{L?I():(w=!1,S=null)}}else w=!1}var I;if(typeof x=="function")I=function(){x(k)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,R=T.port2;T.port1.onmessage=k,I=function(){R.postMessage(null)}}else I=function(){g(k,0)};function U($){S=$,w||(w=!0,I())}function W($,L){_=g(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(v))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var D=h;h=L;try{return $()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var D=h;h=$;try{return L()}finally{h=D}},e.unstable_scheduleCallback=function($,L,D){var K=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=D+Q,$={id:f++,callback:L,priorityLevel:$,startTime:D,expirationTime:Q,sortIndex:-1},D>K?($.sortIndex=D,t(u,$),r(c)===null&&$===r(u)&&(b?(j(_),_=-1):b=!0,W(N,D-K))):($.sortIndex=Q,t(c,$),y||p||(y=!0,U(v))),$},e.unstable_shouldYield=E,e.unstable_wrapCallback=function($){var L=h;return function(){var D=h;h=L;try{return $.apply(this,arguments)}finally{h=D}}}})(PN);ON.exports=PN;var ME=ON.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=O,_r=ME;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EN=new Set,Cl={};function Ia(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(Cl[e]=t,e=0;e<t.length;e++)EN.add(t[e])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,LE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},Ny={};function FE(e){return ym.call(Ny,e)?!0:ym.call(_y,e)?!1:LE.test(e)?Ny[e]=!0:(_y[e]=!0,!1)}function UE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BE(e,t,r,n){if(t===null||typeof t>"u"||UE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var sx=/[\-:]([a-z])/g;function ax(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sx,ax);It[t]=new rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sx,ax);It[t]=new rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sx,ax);It[t]=new rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new rr(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ix(e,t,r,n){var s=It.hasOwnProperty(t)?It[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BE(t,r,s,n)&&(r=null),n||s===null?FE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qn=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),kN=Symbol.for("react.provider"),CN=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),cx=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),TN=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,ap;function ol(e){if(ap===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ap=t&&t[1]||""}return`
`+ap+e}var ip=!1;function op(e,t){if(!e||ip)return"";ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ip=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ol(e):""}function zE(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=op(e.type,!1),e;case 11:return e=op(e.type.render,!1),e;case 1:return e=op(e.type,!0),e;default:return""}}function _m(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case bm:return"Profiler";case ox:return"StrictMode";case wm:return"Suspense";case jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CN:return(e.displayName||"Context")+".Consumer";case kN:return(e._context.displayName||"Context")+".Provider";case lx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cx:return t=e.displayName||null,t!==null?t:_m(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return _m(e(t))}catch{}}return null}function qE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(t);case 8:return t===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $N(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WE(e){var t=$N(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){e._valueTracker||(e._valueTracker=WE(e))}function IN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$N(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nm(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ay(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Is(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DN(e,t){t=t.checked,t!=null&&ix(e,"checked",t,!1)}function Sm(e,t){DN(e,t);var r=Is(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Am(e,t.type,r):t.hasOwnProperty("defaultValue")&&Am(e,t.type,Is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Am(e,t,r){(t!=="number"||rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ll=Array.isArray;function wi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Is(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Om(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Py(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(ll(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Is(r)}}function MN(e,t){var r=Is(t.value),n=Is(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lu,LN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HE=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(e){HE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hl[t]=hl[e]})});function FN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hl.hasOwnProperty(e)&&hl[e]?(""+t).trim():t+"px"}function UN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=FN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var KE=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(e,t){if(t){if(KE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function km(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function ux(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tm=null,ji=null,_i=null;function ky(e){if(e=Fc(e)){if(typeof Tm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=zf(t),Tm(e.stateNode,e.type,t))}}function BN(e){ji?_i?_i.push(e):_i=[e]:ji=e}function zN(){if(ji){var e=ji,t=_i;if(_i=ji=null,ky(e),t)for(e=0;e<t.length;e++)ky(t[e])}}function qN(e,t){return e(t)}function WN(){}var lp=!1;function HN(e,t,r){if(lp)return e(t,r);lp=!0;try{return qN(e,t,r)}finally{lp=!1,(ji!==null||_i!==null)&&(WN(),zN())}}function $l(e,t){var r=e.stateNode;if(r===null)return null;var n=zf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var $m=!1;if(zn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{$m=!1}function VE(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var pl=!1,nd=null,sd=!1,Im=null,GE={onError:function(e){pl=!0,nd=e}};function QE(e,t,r,n,s,i,o,l,c){pl=!1,nd=null,VE.apply(GE,arguments)}function YE(e,t,r,n,s,i,o,l,c){if(QE.apply(this,arguments),pl){if(pl){var u=nd;pl=!1,nd=null}else throw Error(G(198));sd||(sd=!0,Im=u)}}function Da(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cy(e){if(Da(e)!==e)throw Error(G(188))}function XE(e){var t=e.alternate;if(!t){if(t=Da(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cy(s),e;if(i===n)return Cy(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function VN(e){return e=XE(e),e!==null?GN(e):null}function GN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GN(e);if(t!==null)return t;e=e.sibling}return null}var QN=_r.unstable_scheduleCallback,Ty=_r.unstable_cancelCallback,ZE=_r.unstable_shouldYield,JE=_r.unstable_requestPaint,ut=_r.unstable_now,ek=_r.unstable_getCurrentPriorityLevel,dx=_r.unstable_ImmediatePriority,YN=_r.unstable_UserBlockingPriority,ad=_r.unstable_NormalPriority,tk=_r.unstable_LowPriority,XN=_r.unstable_IdlePriority,Lf=null,gn=null;function rk(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Lf,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:ak,nk=Math.log,sk=Math.LN2;function ak(e){return e>>>=0,e===0?32:31-(nk(e)/sk|0)|0}var cu=64,uu=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=cl(l):(i&=o,i!==0&&(n=cl(i)))}else o=r&~s,o!==0?n=cl(o):i!==0&&(n=cl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sn(t),s=1<<r,n|=e[r],t&=~s;return n}function ik(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ok(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-sn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=ik(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Dm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZN(){var e=cu;return cu<<=1,!(cu&4194240)&&(cu=64),e}function cp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=r}function lk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-sn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function fx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Te=0;function JN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eS,hx,tS,rS,nS,Mm=!1,du=[],_s=null,Ns=null,Ss=null,Il=new Map,Dl=new Map,ds=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function Fo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fc(t),t!==null&&hx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uk(e,t,r,n,s){switch(t){case"focusin":return _s=Fo(_s,e,t,r,n,s),!0;case"dragenter":return Ns=Fo(Ns,e,t,r,n,s),!0;case"mouseover":return Ss=Fo(Ss,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Il.set(i,Fo(Il.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Dl.set(i,Fo(Dl.get(i)||null,e,t,r,n,s)),!0}return!1}function sS(e){var t=ia(e.target);if(t!==null){var r=Da(t);if(r!==null){if(t=r.tag,t===13){if(t=KN(r),t!==null){e.blockedOn=t,nS(e.priority,function(){tS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Rm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cm=n,r.target.dispatchEvent(n),Cm=null}else return t=Fc(r),t!==null&&hx(t),e.blockedOn=r,!1;t.shift()}return!0}function Iy(e,t,r){qu(e)&&r.delete(t)}function dk(){Mm=!1,_s!==null&&qu(_s)&&(_s=null),Ns!==null&&qu(Ns)&&(Ns=null),Ss!==null&&qu(Ss)&&(Ss=null),Il.forEach(Iy),Dl.forEach(Iy)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,dk)))}function Ml(e){function t(s){return Uo(s,e)}if(0<du.length){Uo(du[0],e);for(var r=1;r<du.length;r++){var n=du[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_s!==null&&Uo(_s,e),Ns!==null&&Uo(Ns,e),Ss!==null&&Uo(Ss,e),Il.forEach(t),Dl.forEach(t),r=0;r<ds.length;r++)n=ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ds.length&&(r=ds[0],r.blockedOn===null);)sS(r),r.blockedOn===null&&ds.shift()}var Ni=Qn.ReactCurrentBatchConfig,od=!0;function fk(e,t,r,n){var s=Te,i=Ni.transition;Ni.transition=null;try{Te=1,px(e,t,r,n)}finally{Te=s,Ni.transition=i}}function hk(e,t,r,n){var s=Te,i=Ni.transition;Ni.transition=null;try{Te=4,px(e,t,r,n)}finally{Te=s,Ni.transition=i}}function px(e,t,r,n){if(od){var s=Rm(e,t,r,n);if(s===null)yp(e,t,n,ld,r),$y(e,n);else if(uk(s,e,t,r,n))n.stopPropagation();else if($y(e,n),t&4&&-1<ck.indexOf(e)){for(;s!==null;){var i=Fc(s);if(i!==null&&eS(i),i=Rm(e,t,r,n),i===null&&yp(e,t,n,ld,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yp(e,t,n,null,r)}}var ld=null;function Rm(e,t,r,n){if(ld=null,e=ux(n),e=ia(e),e!==null)if(t=Da(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function aS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ek()){case dx:return 1;case YN:return 4;case ad:case tk:return 16;case XN:return 536870912;default:return 16}default:return 16}}var xs=null,mx=null,Wu=null;function iS(){if(Wu)return Wu;var e,t=mx,r=t.length,n,s="value"in xs?xs.value:xs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Wu=s.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fu(){return!0}function Dy(){return!1}function Or(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fu:Dy,this.isPropagationStopped=Dy,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=Or(po),Lc=st({},po,{view:0,detail:0}),pk=Or(Lc),up,dp,Bo,Ff=st({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(up=e.screenX-Bo.screenX,dp=e.screenY-Bo.screenY):dp=up=0,Bo=e),up)},movementY:function(e){return"movementY"in e?e.movementY:dp}}),My=Or(Ff),mk=st({},Ff,{dataTransfer:0}),gk=Or(mk),xk=st({},Lc,{relatedTarget:0}),fp=Or(xk),vk=st({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=Or(vk),bk=st({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wk=Or(bk),jk=st({},po,{data:0}),Ry=Or(jk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ak(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sk[e])?!!t[e]:!1}function xx(){return Ak}var Ok=st({},Lc,{key:function(e){if(e.key){var t=_k[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pk=Or(Ok),Ek=st({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Or(Ek),kk=st({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),Ck=Or(kk),Tk=st({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=Or(Tk),Ik=st({},Ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dk=Or(Ik),Mk=[9,13,27,32],vx=zn&&"CompositionEvent"in window,ml=null;zn&&"documentMode"in document&&(ml=document.documentMode);var Rk=zn&&"TextEvent"in window&&!ml,oS=zn&&(!vx||ml&&8<ml&&11>=ml),Fy=" ",Uy=!1;function lS(e,t){switch(e){case"keyup":return Mk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Lk(e,t){switch(e){case"compositionend":return cS(t);case"keypress":return t.which!==32?null:(Uy=!0,Fy);case"textInput":return e=t.data,e===Fy&&Uy?null:e;default:return null}}function Fk(e,t){if(ii)return e==="compositionend"||!vx&&lS(e,t)?(e=iS(),Wu=mx=xs=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oS&&t.locale!=="ko"?null:t.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uk[e.type]:t==="textarea"}function uS(e,t,r,n){BN(n),t=cd(t,"onChange"),0<t.length&&(r=new gx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gl=null,Rl=null;function Bk(e){wS(e,0)}function Uf(e){var t=ci(e);if(IN(t))return e}function zk(e,t){if(e==="change")return t}var dS=!1;if(zn){var hp;if(zn){var pp="oninput"in document;if(!pp){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),pp=typeof zy.oninput=="function"}hp=pp}else hp=!1;dS=hp&&(!document.documentMode||9<document.documentMode)}function qy(){gl&&(gl.detachEvent("onpropertychange",fS),Rl=gl=null)}function fS(e){if(e.propertyName==="value"&&Uf(Rl)){var t=[];uS(t,Rl,e,ux(e)),HN(Bk,t)}}function qk(e,t,r){e==="focusin"?(qy(),gl=t,Rl=r,gl.attachEvent("onpropertychange",fS)):e==="focusout"&&qy()}function Wk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uf(Rl)}function Hk(e,t){if(e==="click")return Uf(t)}function Kk(e,t){if(e==="input"||e==="change")return Uf(t)}function Vk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Vk;function Ll(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ym.call(t,s)||!ln(e[s],t[s]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hy(e,t){var r=Wy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wy(r)}}function hS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pS(){for(var e=window,t=rd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=rd(e.document)}return t}function yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gk(e){var t=pS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hS(r.ownerDocument.documentElement,r)){if(n!==null&&yx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hy(r,i);var o=Hy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qk=zn&&"documentMode"in document&&11>=document.documentMode,oi=null,Lm=null,xl=null,Fm=!1;function Ky(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fm||oi==null||oi!==rd(n)||(n=oi,"selectionStart"in n&&yx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xl&&Ll(xl,n)||(xl=n,n=cd(Lm,"onSelect"),0<n.length&&(t=new gx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oi)))}function hu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},mp={},mS={};zn&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function Bf(e){if(mp[e])return mp[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mS)return mp[e]=t[r];return e}var gS=Bf("animationend"),xS=Bf("animationiteration"),vS=Bf("animationstart"),yS=Bf("transitionend"),bS=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){bS.set(e,t),Ia(t,[e])}for(var gp=0;gp<Vy.length;gp++){var xp=Vy[gp],Yk=xp.toLowerCase(),Xk=xp[0].toUpperCase()+xp.slice(1);Rs(Yk,"on"+Xk)}Rs(gS,"onAnimationEnd");Rs(xS,"onAnimationIteration");Rs(vS,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(yS,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Gy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YE(n,t,void 0,e),e.currentTarget=null}function wS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}}}if(sd)throw e=Im,sd=!1,Im=null,e}function Qe(e,t){var r=t[Wm];r===void 0&&(r=t[Wm]=new Set);var n=e+"__bubble";r.has(n)||(jS(t,e,2,!1),r.add(n))}function vp(e,t,r){var n=0;t&&(n|=4),jS(r,e,n,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Fl(e){if(!e[pu]){e[pu]=!0,EN.forEach(function(r){r!=="selectionchange"&&(Zk.has(r)||vp(r,!1,e),vp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,vp("selectionchange",!1,t))}}function jS(e,t,r,n){switch(aS(t)){case 1:var s=fk;break;case 4:s=hk;break;default:s=px}r=s.bind(null,t,r,e),s=void 0,!$m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function yp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ia(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}HN(function(){var u=i,f=ux(r),d=[];e:{var h=bS.get(e);if(h!==void 0){var p=gx,y=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":p=Pk;break;case"focusin":y="focus",p=fp;break;case"focusout":y="blur",p=fp;break;case"beforeblur":case"afterblur":p=fp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ck;break;case gS:case xS:case vS:p=yk;break;case yS:p=$k;break;case"scroll":p=pk;break;case"wheel":p=Dk;break;case"copy":case"cut":case"paste":p=wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ly}var b=(t&4)!==0,g=!b&&e==="scroll",j=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,m;x!==null;){m=x;var N=m.stateNode;if(m.tag===5&&N!==null&&(m=N,j!==null&&(N=$l(x,j),N!=null&&b.push(Ul(x,N,m)))),g)break;x=x.return}0<b.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Cm&&(y=r.relatedTarget||r.fromElement)&&(ia(y)||y[qn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?ia(y):null,y!==null&&(g=Da(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(b=My,N="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Ly,N="onPointerLeave",j="onPointerEnter",x="pointer"),g=p==null?h:ci(p),m=y==null?h:ci(y),h=new b(N,x+"leave",p,r,f),h.target=g,h.relatedTarget=m,N=null,ia(f)===u&&(b=new b(j,x+"enter",y,r,f),b.target=m,b.relatedTarget=g,N=b),g=N,p&&y)t:{for(b=p,j=y,x=0,m=b;m;m=qa(m))x++;for(m=0,N=j;N;N=qa(N))m++;for(;0<x-m;)b=qa(b),x--;for(;0<m-x;)j=qa(j),m--;for(;x--;){if(b===j||j!==null&&b===j.alternate)break t;b=qa(b),j=qa(j)}b=null}else b=null;p!==null&&Qy(d,h,p,b,!1),y!==null&&g!==null&&Qy(d,g,y,b,!0)}}e:{if(h=u?ci(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var v=zk;else if(By(h))if(dS)v=Kk;else{v=Wk;var w=qk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(v=Hk);if(v&&(v=v(e,u))){uS(d,v,r,f);break e}w&&w(e,h,u),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Am(h,"number",h.value)}switch(w=u?ci(u):window,e){case"focusin":(By(w)||w.contentEditable==="true")&&(oi=w,Lm=u,xl=null);break;case"focusout":xl=Lm=oi=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,Ky(d,r,f);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":Ky(d,r,f)}var S;if(vx)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ii?lS(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(oS&&r.locale!=="ko"&&(ii||_!=="onCompositionStart"?_==="onCompositionEnd"&&ii&&(S=iS()):(xs=f,mx="value"in xs?xs.value:xs.textContent,ii=!0)),w=cd(u,_),0<w.length&&(_=new Ry(_,e,null,r,f),d.push({event:_,listeners:w}),S?_.data=S:(S=cS(r),S!==null&&(_.data=S)))),(S=Rk?Lk(e,r):Fk(e,r))&&(u=cd(u,"onBeforeInput"),0<u.length&&(f=new Ry("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=S))}wS(d,t)})}function Ul(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$l(e,r),i!=null&&n.unshift(Ul(e,i,s)),i=$l(e,t),i!=null&&n.push(Ul(e,i,s))),e=e.return}return n}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=$l(r,i),c!=null&&o.unshift(Ul(r,c,l))):s||(c=$l(r,i),c!=null&&o.push(Ul(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Jk=/\r\n?/g,e6=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(Jk,`
`).replace(e6,"")}function mu(e,t,r){if(t=Yy(t),Yy(e)!==t&&r)throw Error(G(425))}function ud(){}var Um=null,Bm=null;function zm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qm=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,r6=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(n6)}:qm;function n6(e){setTimeout(function(){throw e})}function bp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ml(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),fn="__reactFiber$"+mo,Bl="__reactProps$"+mo,qn="__reactContainer$"+mo,Wm="__reactEvents$"+mo,s6="__reactListeners$"+mo,a6="__reactHandles$"+mo;function ia(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zy(e);e!==null;){if(r=e[fn])return r;e=Zy(e)}return t}e=r,r=e.parentNode}return null}function Fc(e){return e=e[fn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function zf(e){return e[Bl]||null}var Hm=[],ui=-1;function Ls(e){return{current:e}}function Ze(e){0>ui||(e.current=Hm[ui],Hm[ui]=null,ui--)}function qe(e,t){ui++,Hm[ui]=e.current,e.current=t}var Ds={},Wt=Ls(Ds),lr=Ls(!1),va=Ds;function $i(e,t){var r=e.type.contextTypes;if(!r)return Ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cr(e){return e=e.childContextTypes,e!=null}function dd(){Ze(lr),Ze(Wt)}function Jy(e,t,r){if(Wt.current!==Ds)throw Error(G(168));qe(Wt,t),qe(lr,r)}function _S(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,qE(e)||"Unknown",s));return st({},r,n)}function fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,va=Wt.current,qe(Wt,e),qe(lr,lr.current),!0}function eb(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=_S(e,t,va),n.__reactInternalMemoizedMergedChildContext=e,Ze(lr),Ze(Wt),qe(Wt,e)):Ze(lr),qe(lr,r)}var Cn=null,qf=!1,wp=!1;function NS(e){Cn===null?Cn=[e]:Cn.push(e)}function i6(e){qf=!0,NS(e)}function Fs(){if(!wp&&Cn!==null){wp=!0;var e=0,t=Te;try{var r=Cn;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cn=null,qf=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),QN(dx,Fs),s}finally{Te=t,wp=!1}}return null}var di=[],fi=0,hd=null,pd=0,Tr=[],$r=0,ya=null,$n=1,In="";function Zs(e,t){di[fi++]=pd,di[fi++]=hd,hd=e,pd=t}function SS(e,t,r){Tr[$r++]=$n,Tr[$r++]=In,Tr[$r++]=ya,ya=e;var n=$n;e=In;var s=32-sn(n)-1;n&=~(1<<s),r+=1;var i=32-sn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,$n=1<<32-sn(t)+s|r<<s|n,In=i+e}else $n=1<<i|r<<s|n,In=e}function bx(e){e.return!==null&&(Zs(e,1),SS(e,1,0))}function wx(e){for(;e===hd;)hd=di[--fi],di[fi]=null,pd=di[--fi],di[fi]=null;for(;e===ya;)ya=Tr[--$r],Tr[$r]=null,In=Tr[--$r],Tr[$r]=null,$n=Tr[--$r],Tr[$r]=null}var br=null,yr=null,Je=!1,en=null;function AS(e,t){var r=Dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,br=e,yr=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,br=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ya!==null?{id:$n,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,br=e,yr=null,!0):!1;default:return!1}}function Km(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vm(e){if(Je){var t=yr;if(t){var r=t;if(!tb(e,t)){if(Km(e))throw Error(G(418));t=As(r.nextSibling);var n=br;t&&tb(e,t)?AS(n,r):(e.flags=e.flags&-4097|2,Je=!1,br=e)}}else{if(Km(e))throw Error(G(418));e.flags=e.flags&-4097|2,Je=!1,br=e}}}function rb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;br=e}function gu(e){if(e!==br)return!1;if(!Je)return rb(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zm(e.type,e.memoizedProps)),t&&(t=yr)){if(Km(e))throw OS(),Error(G(418));for(;t;)AS(e,t),t=As(t.nextSibling)}if(rb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=As(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=br?As(e.stateNode.nextSibling):null;return!0}function OS(){for(var e=yr;e;)e=As(e.nextSibling)}function Ii(){yr=br=null,Je=!1}function jx(e){en===null?en=[e]:en.push(e)}var o6=Qn.ReactCurrentBatchConfig;function zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function xu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nb(e){var t=e._init;return t(e._payload)}function PS(e){function t(j,x){if(e){var m=j.deletions;m===null?(j.deletions=[x],j.flags|=16):m.push(x)}}function r(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function n(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function s(j,x){return j=ks(j,x),j.index=0,j.sibling=null,j}function i(j,x,m){return j.index=m,e?(m=j.alternate,m!==null?(m=m.index,m<x?(j.flags|=2,x):m):(j.flags|=2,x)):(j.flags|=1048576,x)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,x,m,N){return x===null||x.tag!==6?(x=Pp(m,j.mode,N),x.return=j,x):(x=s(x,m),x.return=j,x)}function c(j,x,m,N){var v=m.type;return v===ai?f(j,x,m.props.children,N,m.key):x!==null&&(x.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===os&&nb(v)===x.type)?(N=s(x,m.props),N.ref=zo(j,x,m),N.return=j,N):(N=Zu(m.type,m.key,m.props,null,j.mode,N),N.ref=zo(j,x,m),N.return=j,N)}function u(j,x,m,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Ep(m,j.mode,N),x.return=j,x):(x=s(x,m.children||[]),x.return=j,x)}function f(j,x,m,N,v){return x===null||x.tag!==7?(x=pa(m,j.mode,N,v),x.return=j,x):(x=s(x,m),x.return=j,x)}function d(j,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pp(""+x,j.mode,m),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iu:return m=Zu(x.type,x.key,x.props,null,j.mode,m),m.ref=zo(j,null,x),m.return=j,m;case si:return x=Ep(x,j.mode,m),x.return=j,x;case os:var N=x._init;return d(j,N(x._payload),m)}if(ll(x)||Ro(x))return x=pa(x,j.mode,m,null),x.return=j,x;xu(j,x)}return null}function h(j,x,m,N){var v=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return v!==null?null:l(j,x,""+m,N);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case iu:return m.key===v?c(j,x,m,N):null;case si:return m.key===v?u(j,x,m,N):null;case os:return v=m._init,h(j,x,v(m._payload),N)}if(ll(m)||Ro(m))return v!==null?null:f(j,x,m,N,null);xu(j,m)}return null}function p(j,x,m,N,v){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(m)||null,l(x,j,""+N,v);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case iu:return j=j.get(N.key===null?m:N.key)||null,c(x,j,N,v);case si:return j=j.get(N.key===null?m:N.key)||null,u(x,j,N,v);case os:var w=N._init;return p(j,x,m,w(N._payload),v)}if(ll(N)||Ro(N))return j=j.get(m)||null,f(x,j,N,v,null);xu(x,N)}return null}function y(j,x,m,N){for(var v=null,w=null,S=x,_=x=0,A=null;S!==null&&_<m.length;_++){S.index>_?(A=S,S=null):A=S.sibling;var P=h(j,S,m[_],N);if(P===null){S===null&&(S=A);break}e&&S&&P.alternate===null&&t(j,S),x=i(P,x,_),w===null?v=P:w.sibling=P,w=P,S=A}if(_===m.length)return r(j,S),Je&&Zs(j,_),v;if(S===null){for(;_<m.length;_++)S=d(j,m[_],N),S!==null&&(x=i(S,x,_),w===null?v=S:w.sibling=S,w=S);return Je&&Zs(j,_),v}for(S=n(j,S);_<m.length;_++)A=p(S,j,_,m[_],N),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?_:A.key),x=i(A,x,_),w===null?v=A:w.sibling=A,w=A);return e&&S.forEach(function(E){return t(j,E)}),Je&&Zs(j,_),v}function b(j,x,m,N){var v=Ro(m);if(typeof v!="function")throw Error(G(150));if(m=v.call(m),m==null)throw Error(G(151));for(var w=v=null,S=x,_=x=0,A=null,P=m.next();S!==null&&!P.done;_++,P=m.next()){S.index>_?(A=S,S=null):A=S.sibling;var E=h(j,S,P.value,N);if(E===null){S===null&&(S=A);break}e&&S&&E.alternate===null&&t(j,S),x=i(E,x,_),w===null?v=E:w.sibling=E,w=E,S=A}if(P.done)return r(j,S),Je&&Zs(j,_),v;if(S===null){for(;!P.done;_++,P=m.next())P=d(j,P.value,N),P!==null&&(x=i(P,x,_),w===null?v=P:w.sibling=P,w=P);return Je&&Zs(j,_),v}for(S=n(j,S);!P.done;_++,P=m.next())P=p(S,j,_,P.value,N),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?_:P.key),x=i(P,x,_),w===null?v=P:w.sibling=P,w=P);return e&&S.forEach(function(k){return t(j,k)}),Je&&Zs(j,_),v}function g(j,x,m,N){if(typeof m=="object"&&m!==null&&m.type===ai&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case iu:e:{for(var v=m.key,w=x;w!==null;){if(w.key===v){if(v=m.type,v===ai){if(w.tag===7){r(j,w.sibling),x=s(w,m.props.children),x.return=j,j=x;break e}}else if(w.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===os&&nb(v)===w.type){r(j,w.sibling),x=s(w,m.props),x.ref=zo(j,w,m),x.return=j,j=x;break e}r(j,w);break}else t(j,w);w=w.sibling}m.type===ai?(x=pa(m.props.children,j.mode,N,m.key),x.return=j,j=x):(N=Zu(m.type,m.key,m.props,null,j.mode,N),N.ref=zo(j,x,m),N.return=j,j=N)}return o(j);case si:e:{for(w=m.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(j,x.sibling),x=s(x,m.children||[]),x.return=j,j=x;break e}else{r(j,x);break}else t(j,x);x=x.sibling}x=Ep(m,j.mode,N),x.return=j,j=x}return o(j);case os:return w=m._init,g(j,x,w(m._payload),N)}if(ll(m))return y(j,x,m,N);if(Ro(m))return b(j,x,m,N);xu(j,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(j,x.sibling),x=s(x,m),x.return=j,j=x):(r(j,x),x=Pp(m,j.mode,N),x.return=j,j=x),o(j)):r(j,x)}return g}var Di=PS(!0),ES=PS(!1),md=Ls(null),gd=null,hi=null,_x=null;function Nx(){_x=hi=gd=null}function Sx(e){var t=md.current;Ze(md),e._currentValue=t}function Gm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Si(e,t){gd=e,_x=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function Fr(e){var t=e._currentValue;if(_x!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(gd===null)throw Error(G(308));hi=e,gd.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var oa=null;function Ax(e){oa===null?oa=[e]:oa.push(e)}function kS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ax(t)):(r.next=s.next,s.next=r),t.interleaved=r,Wn(e,n)}function Wn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ls=!1;function Ox(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Wn(e,r)}return s=n.interleaved,s===null?(t.next=t,Ax(n)):(t.next=s.next,s.next=t),n.interleaved=t,Wn(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fx(e,r)}}function sb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xd(e,t,r,n){var s=e.updateQueue;ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,p=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=st({},d,h);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wa|=o,e.lanes=o,e.memoizedState=d}}function ab(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Uc={},xn=Ls(Uc),zl=Ls(Uc),ql=Ls(Uc);function la(e){if(e===Uc)throw Error(G(174));return e}function Px(e,t){switch(qe(ql,t),qe(zl,e),qe(xn,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pm(t,e)}Ze(xn),qe(xn,t)}function Mi(){Ze(xn),Ze(zl),Ze(ql)}function TS(e){la(ql.current);var t=la(xn.current),r=Pm(t,e.type);t!==r&&(qe(zl,e),qe(xn,r))}function Ex(e){zl.current===e&&(Ze(xn),Ze(zl))}var tt=Ls(0);function vd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jp=[];function kx(){for(var e=0;e<jp.length;e++)jp[e]._workInProgressVersionPrimary=null;jp.length=0}var Vu=Qn.ReactCurrentDispatcher,_p=Qn.ReactCurrentBatchConfig,ba=0,rt=null,gt=null,Nt=null,yd=!1,vl=!1,Wl=0,l6=0;function Rt(){throw Error(G(321))}function Cx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function Tx(e,t,r,n,s,i){if(ba=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?f6:h6,e=r(n,s),vl){i=0;do{if(vl=!1,Wl=0,25<=i)throw Error(G(301));i+=1,Nt=gt=null,t.updateQueue=null,Vu.current=p6,e=r(n,s)}while(vl)}if(Vu.current=bd,t=gt!==null&&gt.next!==null,ba=0,Nt=gt=rt=null,yd=!1,t)throw Error(G(300));return e}function $x(){var e=Wl!==0;return Wl=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Ur(){if(gt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Nt===null?rt.memoizedState:Nt.next;if(t!==null)Nt=t,gt=e;else{if(e===null)throw Error(G(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Hl(e,t){return typeof t=="function"?t(e):t}function Np(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=gt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((ba&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,rt.lanes|=f,wa|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ln(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,rt.lanes|=i,wa|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sp(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ln(i,t.memoizedState)||(ir=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $S(){}function IS(e,t){var r=rt,n=Ur(),s=t(),i=!ln(n.memoizedState,s);if(i&&(n.memoizedState=s,ir=!0),n=n.queue,Ix(RS.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Kl(9,MS.bind(null,r,n,s,t),void 0,null),Ot===null)throw Error(G(349));ba&30||DS(r,t,s)}return s}function DS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MS(e,t,r,n){t.value=r,t.getSnapshot=n,LS(t)&&FS(e)}function RS(e,t,r){return r(function(){LS(t)&&FS(e)})}function LS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch{return!0}}function FS(e){var t=Wn(e,1);t!==null&&an(t,e,1,-1)}function ib(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t.queue=e,e=e.dispatch=d6.bind(null,rt,e),[t.memoizedState,e]}function Kl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function US(){return Ur().memoizedState}function Gu(e,t,r,n){var s=dn();rt.flags|=e,s.memoizedState=Kl(1|t,r,void 0,n===void 0?null:n)}function Wf(e,t,r,n){var s=Ur();n=n===void 0?null:n;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,n!==null&&Cx(n,o.deps)){s.memoizedState=Kl(t,r,i,n);return}}rt.flags|=e,s.memoizedState=Kl(1|t,r,i,n)}function ob(e,t){return Gu(8390656,8,e,t)}function Ix(e,t){return Wf(2048,8,e,t)}function BS(e,t){return Wf(4,2,e,t)}function zS(e,t){return Wf(4,4,e,t)}function qS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WS(e,t,r){return r=r!=null?r.concat([e]):null,Wf(4,4,qS.bind(null,t,e),r)}function Dx(){}function HS(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function KS(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VS(e,t,r){return ba&21?(ln(r,t)||(r=ZN(),rt.lanes|=r,wa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function c6(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=_p.transition;_p.transition={};try{e(!1),t()}finally{Te=r,_p.transition=n}}function GS(){return Ur().memoizedState}function u6(e,t,r){var n=Es(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QS(e))YS(t,r);else if(r=kS(e,t,r,n),r!==null){var s=Zt();an(r,e,n,s),XS(r,t,n)}}function d6(e,t,r){var n=Es(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QS(e))YS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ln(l,o)){var c=t.interleaved;c===null?(s.next=s,Ax(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=kS(e,t,s,n),r!==null&&(s=Zt(),an(r,e,n,s),XS(r,t,n))}}function QS(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function YS(e,t){vl=yd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fx(e,r)}}var bd={readContext:Fr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},f6={readContext:Fr,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Fr,useEffect:ob,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gu(4194308,4,qS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=u6.bind(null,rt,e),[n.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:ib,useDebugValue:Dx,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=ib(!1),t=e[0];return e=c6.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rt,s=dn();if(Je){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Ot===null)throw Error(G(349));ba&30||DS(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ob(RS.bind(null,n,i,e),[e]),n.flags|=2048,Kl(9,MS.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dn(),t=Ot.identifierPrefix;if(Je){var r=In,n=$n;r=(n&~(1<<32-sn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=l6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h6={readContext:Fr,useCallback:HS,useContext:Fr,useEffect:Ix,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:KS,useReducer:Np,useRef:US,useState:function(){return Np(Hl)},useDebugValue:Dx,useDeferredValue:function(e){var t=Ur();return VS(t,gt.memoizedState,e)},useTransition:function(){var e=Np(Hl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:IS,useId:GS,unstable_isNewReconciler:!1},p6={readContext:Fr,useCallback:HS,useContext:Fr,useEffect:Ix,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:KS,useReducer:Sp,useRef:US,useState:function(){return Sp(Hl)},useDebugValue:Dx,useDeferredValue:function(e){var t=Ur();return gt===null?t.memoizedState=e:VS(t,gt.memoizedState,e)},useTransition:function(){var e=Sp(Hl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:IS,useId:GS,unstable_isNewReconciler:!1};function Qr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hf={isMounted:function(e){return(e=e._reactInternals)?Da(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zt(),s=Es(e),i=Ln(n,s);i.payload=t,r!=null&&(i.callback=r),t=Os(e,i,s),t!==null&&(an(t,e,s,n),Ku(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zt(),s=Es(e),i=Ln(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Os(e,i,s),t!==null&&(an(t,e,s,n),Ku(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zt(),n=Es(e),s=Ln(r,n);s.tag=2,t!=null&&(s.callback=t),t=Os(e,s,n),t!==null&&(an(t,e,n,r),Ku(t,e,n))}};function lb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ll(r,n)||!Ll(s,i):!0}function ZS(e,t,r){var n=!1,s=Ds,i=t.contextType;return typeof i=="object"&&i!==null?i=Fr(i):(s=cr(t)?va:Wt.current,n=t.contextTypes,i=(n=n!=null)?$i(e,s):Ds),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hf.enqueueReplaceState(t,t.state,null)}function Ym(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ox(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fr(i):(i=cr(t)?va:Wt.current,s.context=$i(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qm(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hf.enqueueReplaceState(s,s.state,null),xd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",n=t;do r+=zE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ap(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function JS(e,t,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jd||(jd=!0,o0=n),Xm(e,t)},r}function e2(e,t,r){r=Ln(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Xm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xm(e,t),typeof n!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ub(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new m6;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=E6.bind(null,e,t,r),t.then(e,e))}function db(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ln(-1,1),t.tag=2,Os(r,t,1))),r.lanes|=1),e)}var g6=Qn.ReactCurrentOwner,ir=!1;function Gt(e,t,r,n){t.child=e===null?ES(t,null,r,n):Di(t,e.child,r,n)}function hb(e,t,r,n,s){r=r.render;var i=t.ref;return Si(t,s),n=Tx(e,t,r,n,i,s),r=$x(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(Je&&r&&bx(t),t.flags|=1,Gt(e,t,n,s),t.child)}function pb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!qx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,t2(e,t,i,n,s)):(e=Zu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ll,r(o,n)&&e.ref===t.ref)return Hn(e,t,s)}return t.flags|=1,e=ks(i,n),e.ref=t.ref,e.return=t,t.child=e}function t2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ll(i,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Hn(e,t,s)}return Zm(e,t,r,n,s)}function r2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mi,mr),mr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(mi,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(mi,mr),mr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(mi,mr),mr|=n;return Gt(e,t,s,r),t.child}function n2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zm(e,t,r,n,s){var i=cr(r)?va:Wt.current;return i=$i(t,i),Si(t,s),r=Tx(e,t,r,n,i,s),n=$x(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(Je&&n&&bx(t),t.flags|=1,Gt(e,t,r,s),t.child)}function mb(e,t,r,n,s){if(cr(r)){var i=!0;fd(t)}else i=!1;if(Si(t,s),t.stateNode===null)Qu(e,t),ZS(t,r,n),Ym(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=cr(r)?va:Wt.current,u=$i(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&cb(t,o,n,u),ls=!1;var h=t.memoizedState;o.state=h,xd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||lr.current||ls?(typeof f=="function"&&(Qm(t,r,f,n),c=t.memoizedState),(l=ls||lb(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,CS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Qr(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=cr(r)?va:Wt.current,c=$i(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&cb(t,o,n,c),ls=!1,h=t.memoizedState,o.state=h,xd(t,n,o,s);var y=t.memoizedState;l!==d||h!==y||lr.current||ls?(typeof p=="function"&&(Qm(t,r,p,n),y=t.memoizedState),(u=ls||lb(t,r,u,n,h,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Jm(e,t,r,n,i,s)}function Jm(e,t,r,n,s,i){n2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&eb(t,r,!1),Hn(e,t,i);n=t.stateNode,g6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,l,i)):Gt(e,t,l,i),t.memoizedState=n.state,s&&eb(t,r,!0),t.child}function s2(e){var t=e.stateNode;t.pendingContext?Jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jy(e,t.context,!1),Px(e,t.containerInfo)}function gb(e,t,r,n,s){return Ii(),jx(s),t.flags|=256,Gt(e,t,r,n),t.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(e){return{baseLanes:e,cachePool:null,transitions:null}}function a2(e,t,r){var n=t.pendingProps,s=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(tt,s&1),e===null)return Vm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gf(o,n,0,null),e=pa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=t0(r),t.memoizedState=e0,e):Mx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x6(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ks(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ks(l,i):(i=pa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?t0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=e0,n}return i=e.child,e=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mx(e,t){return t=Gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vu(e,t,r,n){return n!==null&&jx(n),Di(t,e.child,null,r),e=Mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x6(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ap(Error(G(422))),vu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Gf({mode:"visible",children:n.children},s,0,null),i=pa(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Di(t,e.child,null,o),t.child.memoizedState=t0(o),t.memoizedState=e0,i);if(!(t.mode&1))return vu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=Ap(i,n,void 0),vu(e,t,o,n)}if(l=(o&e.childLanes)!==0,ir||l){if(n=Ot,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wn(e,s),an(n,e,s,-1))}return zx(),n=Ap(Error(G(421))),vu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=k6.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yr=As(s.nextSibling),br=t,Je=!0,en=null,e!==null&&(Tr[$r++]=$n,Tr[$r++]=In,Tr[$r++]=ya,$n=e.id,In=e.overflow,ya=t),t=Mx(t,n.children),t.flags|=4096,t)}function xb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gm(e.return,t,r)}function Op(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function i2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Gt(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xb(e,r,t);else if(e.tag===19)xb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&vd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Op(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Op(t,!0,r,null,i);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function v6(e,t,r){switch(t.tag){case 3:s2(t),Ii();break;case 5:TS(t);break;case 1:cr(t.type)&&fd(t);break;case 4:Px(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(md,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?a2(e,t,r):(qe(tt,tt.current&1),e=Hn(e,t,r),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,r2(e,t,r)}return Hn(e,t,r)}var o2,r0,l2,c2;o2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};r0=function(){};l2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,la(xn.current);var i=null;switch(r){case"input":s=Nm(e,s),n=Nm(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=Om(e,s),n=Om(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ud)}Em(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};c2=function(e,t,r,n){r!==n&&(t.flags|=4)};function qo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function y6(e,t,r){var n=t.pendingProps;switch(wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return cr(t.type)&&dd(),Lt(t),null;case 3:return n=t.stateNode,Mi(),Ze(lr),Ze(Wt),kx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(u0(en),en=null))),r0(e,t),Lt(t),null;case 5:Ex(t);var s=la(ql.current);if(r=t.type,e!==null&&t.stateNode!=null)l2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Lt(t),null}if(e=la(xn.current),gu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[Bl]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Qe(ul[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Ay(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":Py(n,i),Qe("invalid",n)}Em(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&mu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mu(n.textContent,l,e),s=["children",""+l]):Cl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":ou(n),Oy(n,i,!0);break;case"textarea":ou(n),Ey(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ud)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[Bl]=n,o2(e,t,!1,!1),t.stateNode=e;e:{switch(o=km(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<ul.length;s++)Qe(ul[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":Ay(e,n),s=Nm(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":Py(e,n),s=Om(e,n),Qe("invalid",e);break;default:s=n}Em(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?UN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Tl(e,c):typeof c=="number"&&Tl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&ix(e,i,c,o))}switch(r){case"input":ou(e),Oy(e,n,!1);break;case"textarea":ou(e),Ey(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Is(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wi(e,!!n.multiple,i,!1):n.defaultValue!=null&&wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)c2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=la(ql.current),la(xn.current),gu(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=br,e!==null))switch(e.tag){case 3:mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Lt(t),null;case 13:if(Ze(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&yr!==null&&t.mode&1&&!(t.flags&128))OS(),Ii(),t.flags|=98560,i=!1;else if(i=gu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[fn]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),i=!1}else en!==null&&(u0(en),en=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?vt===0&&(vt=3):zx())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Mi(),r0(e,t),e===null&&Fl(t.stateNode.containerInfo),Lt(t),null;case 10:return Sx(t.type._context),Lt(t),null;case 17:return cr(t.type)&&dd(),Lt(t),null;case 19:if(Ze(tt),i=t.memoizedState,i===null)return Lt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)qo(i,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vd(e),o!==null){for(t.flags|=128,qo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ut()>Li&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304)}else{if(!n)if(e=vd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Lt(t),null}else 2*ut()-i.renderingStartTime>Li&&r!==1073741824&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ut(),t.sibling=null,r=tt.current,qe(tt,n?r&1|2:r&1),t):(Lt(t),null);case 22:case 23:return Bx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mr&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function b6(e,t){switch(wx(t),t.tag){case 1:return cr(t.type)&&dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Ze(lr),Ze(Wt),kx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ex(t),null;case 13:if(Ze(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(tt),null;case 4:return Mi(),null;case 10:return Sx(t.type._context),null;case 22:case 23:return Bx(),null;case 24:return null;default:return null}}var yu=!1,Bt=!1,w6=typeof WeakSet=="function"?WeakSet:Set,J=null;function pi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(e,t,n)}else r.current=null}function n0(e,t,r){try{r()}catch(n){it(e,t,n)}}var vb=!1;function j6(e,t){if(Um=od,e=pS(),yx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bm={focusedElem:e,selectionRange:r},od=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,g=y.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?b:Qr(t.type,b),g);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){it(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=vb,vb=!1,y}function yl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&n0(t,r,i)}s=s.next}while(s!==n)}}function Kf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function s0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u2(e){var t=e.alternate;t!==null&&(e.alternate=null,u2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Bl],delete t[Wm],delete t[s6],delete t[a6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d2(e){return e.tag===5||e.tag===3||e.tag===4}function yb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function a0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ud));else if(n!==4&&(e=e.child,e!==null))for(a0(e,t,r),e=e.sibling;e!==null;)a0(e,t,r),e=e.sibling}function i0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(i0(e,t,r),e=e.sibling;e!==null;)i0(e,t,r),e=e.sibling}var Ct=null,Yr=!1;function ts(e,t,r){for(r=r.child;r!==null;)f2(e,t,r),r=r.sibling}function f2(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Lf,r)}catch{}switch(r.tag){case 5:Bt||pi(r,t);case 6:var n=Ct,s=Yr;Ct=null,ts(e,t,r),Ct=n,Yr=s,Ct!==null&&(Yr?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Yr?(e=Ct,r=r.stateNode,e.nodeType===8?bp(e.parentNode,r):e.nodeType===1&&bp(e,r),Ml(e)):bp(Ct,r.stateNode));break;case 4:n=Ct,s=Yr,Ct=r.stateNode.containerInfo,Yr=!0,ts(e,t,r),Ct=n,Yr=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&n0(r,t,o),s=s.next}while(s!==n)}ts(e,t,r);break;case 1:if(!Bt&&(pi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){it(r,t,l)}ts(e,t,r);break;case 21:ts(e,t,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,ts(e,t,r),Bt=n):ts(e,t,r);break;default:ts(e,t,r)}}function bb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w6),t.forEach(function(n){var s=C6.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Kr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Yr=!1;break e;case 3:Ct=l.stateNode.containerInfo,Yr=!0;break e;case 4:Ct=l.stateNode.containerInfo,Yr=!0;break e}l=l.return}if(Ct===null)throw Error(G(160));f2(i,o,s),Ct=null,Yr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){it(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h2(t,e),t=t.sibling}function h2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),un(e),n&4){try{yl(3,e,e.return),Kf(3,e)}catch(b){it(e,e.return,b)}try{yl(5,e,e.return)}catch(b){it(e,e.return,b)}}break;case 1:Kr(t,e),un(e),n&512&&r!==null&&pi(r,r.return);break;case 5:if(Kr(t,e),un(e),n&512&&r!==null&&pi(r,r.return),e.flags&32){var s=e.stateNode;try{Tl(s,"")}catch(b){it(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&DN(s,i),km(l,o);var u=km(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?UN(s,d):f==="dangerouslySetInnerHTML"?LN(s,d):f==="children"?Tl(s,d):ix(s,f,d,u)}switch(l){case"input":Sm(s,i);break;case"textarea":MN(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?wi(s,!!i.multiple,i.defaultValue,!0):wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bl]=i}catch(b){it(e,e.return,b)}}break;case 6:if(Kr(t,e),un(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){it(e,e.return,b)}}break;case 3:if(Kr(t,e),un(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(b){it(e,e.return,b)}break;case 4:Kr(t,e),un(e);break;case 13:Kr(t,e),un(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fx=ut())),n&4&&bb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(u=Bt)||f,Kr(t,e),Bt=u):Kr(t,e),un(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(d=J=f;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:yl(4,h,h.return);break;case 1:pi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){it(n,r,b)}}break;case 5:pi(h,h.return);break;case 22:if(h.memoizedState!==null){jb(d);continue}}p!==null?(p.return=h,J=p):jb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=FN("display",o))}catch(b){it(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){it(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kr(t,e),un(e),n&4&&bb(e);break;case 21:break;default:Kr(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d2(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Tl(s,""),n.flags&=-33);var i=yb(e);i0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=yb(e);a0(e,l,o);break;default:throw Error(G(161))}}catch(c){it(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _6(e,t,r){J=e,p2(e)}function p2(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||yu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Bt;l=yu;var u=Bt;if(yu=o,(Bt=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?_b(s):c!==null?(c.return=o,J=c):_b(s);for(;i!==null;)J=i,p2(i),i=i.sibling;J=s,yu=l,Bt=u}wb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):wb(e)}}function wb(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||Kf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ab(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ab(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ml(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Bt||t.flags&512&&s0(t)}catch(h){it(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function jb(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function _b(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kf(4,t)}catch(c){it(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){it(t,s,c)}}var i=t.return;try{s0(t)}catch(c){it(t,i,c)}break;case 5:var o=t.return;try{s0(t)}catch(c){it(t,o,c)}}}catch(c){it(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var N6=Math.ceil,wd=Qn.ReactCurrentDispatcher,Rx=Qn.ReactCurrentOwner,Rr=Qn.ReactCurrentBatchConfig,je=0,Ot=null,ft=null,Tt=0,mr=0,mi=Ls(0),vt=0,Vl=null,wa=0,Vf=0,Lx=0,bl=null,sr=null,Fx=0,Li=1/0,Pn=null,jd=!1,o0=null,Ps=null,bu=!1,vs=null,_d=0,wl=0,l0=null,Yu=-1,Xu=0;function Zt(){return je&6?ut():Yu!==-1?Yu:Yu=ut()}function Es(e){return e.mode&1?je&2&&Tt!==0?Tt&-Tt:o6.transition!==null?(Xu===0&&(Xu=ZN()),Xu):(e=Te,e!==0||(e=window.event,e=e===void 0?16:aS(e.type)),e):1}function an(e,t,r,n){if(50<wl)throw wl=0,l0=null,Error(G(185));Rc(e,r,n),(!(je&2)||e!==Ot)&&(e===Ot&&(!(je&2)&&(Vf|=r),vt===4&&fs(e,Tt)),ur(e,n),r===1&&je===0&&!(t.mode&1)&&(Li=ut()+500,qf&&Fs()))}function ur(e,t){var r=e.callbackNode;ok(e,t);var n=id(e,e===Ot?Tt:0);if(n===0)r!==null&&Ty(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ty(r),t===1)e.tag===0?i6(Nb.bind(null,e)):NS(Nb.bind(null,e)),r6(function(){!(je&6)&&Fs()}),r=null;else{switch(JN(n)){case 1:r=dx;break;case 4:r=YN;break;case 16:r=ad;break;case 536870912:r=XN;break;default:r=ad}r=j2(r,m2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m2(e,t){if(Yu=-1,Xu=0,je&6)throw Error(G(327));var r=e.callbackNode;if(Ai()&&e.callbackNode!==r)return null;var n=id(e,e===Ot?Tt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nd(e,n);else{t=n;var s=je;je|=2;var i=x2();(Ot!==e||Tt!==t)&&(Pn=null,Li=ut()+500,ha(e,t));do try{O6();break}catch(l){g2(e,l)}while(!0);Nx(),wd.current=i,je=s,ft!==null?t=0:(Ot=null,Tt=0,t=vt)}if(t!==0){if(t===2&&(s=Dm(e),s!==0&&(n=s,t=c0(e,s))),t===1)throw r=Vl,ha(e,0),fs(e,n),ur(e,ut()),r;if(t===6)fs(e,n);else{if(s=e.current.alternate,!(n&30)&&!S6(s)&&(t=Nd(e,n),t===2&&(i=Dm(e),i!==0&&(n=i,t=c0(e,i))),t===1))throw r=Vl,ha(e,0),fs(e,n),ur(e,ut()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Js(e,sr,Pn);break;case 3:if(fs(e,n),(n&130023424)===n&&(t=Fx+500-ut(),10<t)){if(id(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qm(Js.bind(null,e,sr,Pn),t);break}Js(e,sr,Pn);break;case 4:if(fs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-sn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N6(n/1960))-n,10<n){e.timeoutHandle=qm(Js.bind(null,e,sr,Pn),n);break}Js(e,sr,Pn);break;case 5:Js(e,sr,Pn);break;default:throw Error(G(329))}}}return ur(e,ut()),e.callbackNode===r?m2.bind(null,e):null}function c0(e,t){var r=bl;return e.current.memoizedState.isDehydrated&&(ha(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=sr,sr=r,t!==null&&u0(t)),e}function u0(e){sr===null?sr=e:sr.push.apply(sr,e)}function S6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~Lx,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sn(t),n=1<<r;e[r]=-1,t&=~n}}function Nb(e){if(je&6)throw Error(G(327));Ai();var t=id(e,0);if(!(t&1))return ur(e,ut()),null;var r=Nd(e,t);if(e.tag!==0&&r===2){var n=Dm(e);n!==0&&(t=n,r=c0(e,n))}if(r===1)throw r=Vl,ha(e,0),fs(e,t),ur(e,ut()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,sr,Pn),ur(e,ut()),null}function Ux(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Li=ut()+500,qf&&Fs())}}function ja(e){vs!==null&&vs.tag===0&&!(je&6)&&Ai();var t=je;je|=1;var r=Rr.transition,n=Te;try{if(Rr.transition=null,Te=1,e)return e()}finally{Te=n,Rr.transition=r,je=t,!(je&6)&&Fs()}}function Bx(){mr=mi.current,Ze(mi)}function ha(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,t6(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(wx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dd();break;case 3:Mi(),Ze(lr),Ze(Wt),kx();break;case 5:Ex(n);break;case 4:Mi();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:Sx(n.type._context);break;case 22:case 23:Bx()}r=r.return}if(Ot=e,ft=e=ks(e.current,null),Tt=mr=t,vt=0,Vl=null,Lx=Vf=wa=0,sr=bl=null,oa!==null){for(t=0;t<oa.length;t++)if(r=oa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}oa=null}return e}function g2(e,t){do{var r=ft;try{if(Nx(),Vu.current=bd,yd){for(var n=rt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yd=!1}if(ba=0,Nt=gt=rt=null,vl=!1,Wl=0,Rx.current=null,r===null||r.return===null){vt=1,Vl=t,ft=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=db(o);if(p!==null){p.flags&=-257,fb(p,o,l,i,t),p.mode&1&&ub(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){ub(i,u,t),zx();break e}c=Error(G(426))}}else if(Je&&l.mode&1){var g=db(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),fb(g,o,l,i,t),jx(Ri(c,l));break e}}i=c=Ri(c,l),vt!==4&&(vt=2),bl===null?bl=[i]:bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=JS(i,c,t);sb(i,j);break e;case 1:l=c;var x=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ps===null||!Ps.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=e2(i,l,t);sb(i,N);break e}}i=i.return}while(i!==null)}y2(r)}catch(v){t=v,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function x2(){var e=wd.current;return wd.current=bd,e===null?bd:e}function zx(){(vt===0||vt===3||vt===2)&&(vt=4),Ot===null||!(wa&268435455)&&!(Vf&268435455)||fs(Ot,Tt)}function Nd(e,t){var r=je;je|=2;var n=x2();(Ot!==e||Tt!==t)&&(Pn=null,ha(e,t));do try{A6();break}catch(s){g2(e,s)}while(!0);if(Nx(),je=r,wd.current=n,ft!==null)throw Error(G(261));return Ot=null,Tt=0,vt}function A6(){for(;ft!==null;)v2(ft)}function O6(){for(;ft!==null&&!ZE();)v2(ft)}function v2(e){var t=w2(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?y2(e):ft=t,Rx.current=null}function y2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=b6(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ft=null;return}}else if(r=y6(r,t,mr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);vt===0&&(vt=5)}function Js(e,t,r){var n=Te,s=Rr.transition;try{Rr.transition=null,Te=1,P6(e,t,r,n)}finally{Rr.transition=s,Te=n}return null}function P6(e,t,r,n){do Ai();while(vs!==null);if(je&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(lk(e,i),e===Ot&&(ft=Ot=null,Tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bu||(bu=!0,j2(ad,function(){return Ai(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=Te;Te=1;var l=je;je|=4,Rx.current=null,j6(e,r),h2(r,e),Gk(Bm),od=!!Um,Bm=Um=null,e.current=r,_6(r),JE(),je=l,Te=o,Rr.transition=i}else e.current=r;if(bu&&(bu=!1,vs=e,_d=s),i=e.pendingLanes,i===0&&(Ps=null),rk(r.stateNode),ur(e,ut()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(jd)throw jd=!1,e=o0,o0=null,e;return _d&1&&e.tag!==0&&Ai(),i=e.pendingLanes,i&1?e===l0?wl++:(wl=0,l0=e):wl=0,Fs(),null}function Ai(){if(vs!==null){var e=JN(_d),t=Rr.transition,r=Te;try{if(Rr.transition=null,Te=16>e?16:e,vs===null)var n=!1;else{if(e=vs,vs=null,_d=0,je&6)throw Error(G(331));var s=je;for(je|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:yl(8,f,i)}var d=f.child;if(d!==null)d.return=f,J=d;else for(;J!==null;){f=J;var h=f.sibling,p=f.return;if(u2(f),f===u){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yl(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,J=j;break e}J=i.return}}var x=e.current;for(J=x;J!==null;){o=J;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,J=m;else e:for(o=x;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kf(9,l)}}catch(v){it(l,l.return,v)}if(l===o){J=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,J=N;break e}J=l.return}}if(je=s,Fs(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Lf,e)}catch{}n=!0}return n}finally{Te=r,Rr.transition=t}}return!1}function Sb(e,t,r){t=Ri(r,t),t=JS(e,t,1),e=Os(e,t,1),t=Zt(),e!==null&&(Rc(e,1,t),ur(e,t))}function it(e,t,r){if(e.tag===3)Sb(e,e,r);else for(;t!==null;){if(t.tag===3){Sb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ps===null||!Ps.has(n))){e=Ri(r,e),e=e2(t,e,1),t=Os(t,e,1),e=Zt(),t!==null&&(Rc(t,1,e),ur(t,e));break}}t=t.return}}function E6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&r,Ot===e&&(Tt&r)===r&&(vt===4||vt===3&&(Tt&130023424)===Tt&&500>ut()-Fx?ha(e,0):Lx|=r),ur(e,t)}function b2(e,t){t===0&&(e.mode&1?(t=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):t=1);var r=Zt();e=Wn(e,t),e!==null&&(Rc(e,t,r),ur(e,r))}function k6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b2(e,r)}function C6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),b2(e,r)}var w2;w2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,v6(e,t,r);ir=!!(e.flags&131072)}else ir=!1,Je&&t.flags&1048576&&SS(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qu(e,t),e=t.pendingProps;var s=$i(t,Wt.current);Si(t,r),s=Tx(null,t,n,e,s,r);var i=$x();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(i=!0,fd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ox(t),s.updater=Hf,t.stateNode=s,s._reactInternals=t,Ym(t,n,e,r),t=Jm(null,t,n,!0,i,r)):(t.tag=0,Je&&i&&bx(t),Gt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$6(n),e=Qr(n,e),s){case 0:t=Zm(null,t,n,e,r);break e;case 1:t=mb(null,t,n,e,r);break e;case 11:t=hb(null,t,n,e,r);break e;case 14:t=pb(null,t,n,Qr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),Zm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),mb(e,t,n,s,r);case 3:e:{if(s2(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,CS(e,t),xd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ri(Error(G(423)),t),t=gb(e,t,n,r,s);break e}else if(n!==s){s=Ri(Error(G(424)),t),t=gb(e,t,n,r,s);break e}else for(yr=As(t.stateNode.containerInfo.firstChild),br=t,Je=!0,en=null,r=ES(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ii(),n===s){t=Hn(e,t,r);break e}Gt(e,t,n,r)}t=t.child}return t;case 5:return TS(t),e===null&&Vm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,zm(n,s)?o=null:i!==null&&zm(n,i)&&(t.flags|=32),n2(e,t),Gt(e,t,o,r),t.child;case 6:return e===null&&Vm(t),null;case 13:return a2(e,t,r);case 4:return Px(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Di(t,null,n,r):Gt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),hb(e,t,n,s,r);case 7:return Gt(e,t,t.pendingProps,r),t.child;case 8:return Gt(e,t,t.pendingProps.children,r),t.child;case 12:return Gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(md,n._currentValue),n._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!lr.current){t=Hn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ln(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Gm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Gm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Si(t,r),s=Fr(s),n=n(s),t.flags|=1,Gt(e,t,n,r),t.child;case 14:return n=t.type,s=Qr(n,t.pendingProps),s=Qr(n.type,s),pb(e,t,n,s,r);case 15:return t2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qr(n,s),Qu(e,t),t.tag=1,cr(n)?(e=!0,fd(t)):e=!1,Si(t,r),ZS(t,n,s),Ym(t,n,s,r),Jm(null,t,n,!0,e,r);case 19:return i2(e,t,r);case 22:return r2(e,t,r)}throw Error(G(156,t.tag))};function j2(e,t){return QN(e,t)}function T6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,r,n){return new T6(e,t,r,n)}function qx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $6(e){if(typeof e=="function")return qx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lx)return 11;if(e===cx)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")qx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ai:return pa(r.children,s,i,t);case ox:o=8,s|=8;break;case bm:return e=Dr(12,r,t,s|2),e.elementType=bm,e.lanes=i,e;case wm:return e=Dr(13,r,t,s),e.elementType=wm,e.lanes=i,e;case jm:return e=Dr(19,r,t,s),e.elementType=jm,e.lanes=i,e;case TN:return Gf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kN:o=10;break e;case CN:o=9;break e;case lx:o=11;break e;case cx:o=14;break e;case os:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Dr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function pa(e,t,r,n){return e=Dr(7,e,n,t),e.lanes=r,e}function Gf(e,t,r,n){return e=Dr(22,e,n,t),e.elementType=TN,e.lanes=r,e.stateNode={isHidden:!1},e}function Pp(e,t,r){return e=Dr(6,e,null,t),e.lanes=r,e}function Ep(e,t,r){return t=Dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I6(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cp(0),this.expirationTimes=cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wx(e,t,r,n,s,i,o,l,c){return e=new I6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ox(i),e}function D6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _2(e){if(!e)return Ds;e=e._reactInternals;e:{if(Da(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(cr(r))return _S(e,r,t)}return t}function N2(e,t,r,n,s,i,o,l,c){return e=Wx(r,n,!0,e,s,i,o,l,c),e.context=_2(null),r=e.current,n=Zt(),s=Es(r),i=Ln(n,s),i.callback=t??null,Os(r,i,s),e.current.lanes=s,Rc(e,s,n),ur(e,n),e}function Qf(e,t,r,n){var s=t.current,i=Zt(),o=Es(s);return r=_2(r),t.context===null?t.context=r:t.pendingContext=r,t=Ln(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Os(s,t,o),e!==null&&(an(e,s,o,i),Ku(e,s,o)),o}function Sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ab(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hx(e,t){Ab(e,t),(e=e.alternate)&&Ab(e,t)}function M6(){return null}var S2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kx(e){this._internalRoot=e}Yf.prototype.render=Kx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Qf(e,t,null,null)};Yf.prototype.unmount=Kx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ja(function(){Qf(null,e,null,null)}),t[qn]=null}};function Yf(e){this._internalRoot=e}Yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=rS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ds.length&&t!==0&&t<ds[r].priority;r++);ds.splice(r,0,e),r===0&&sS(e)}};function Vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function R6(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Sd(o);i.call(u)}}var o=N2(t,n,e,0,null,!1,!1,"",Ob);return e._reactRootContainer=o,e[qn]=o.current,Fl(e.nodeType===8?e.parentNode:e),ja(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Sd(c);l.call(u)}}var c=Wx(e,0,!1,null,null,!1,!1,"",Ob);return e._reactRootContainer=c,e[qn]=c.current,Fl(e.nodeType===8?e.parentNode:e),ja(function(){Qf(t,c,r,n)}),c}function Zf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Sd(o);l.call(c)}}Qf(t,o,e,s)}else o=R6(r,t,e,s,n);return Sd(o)}eS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cl(t.pendingLanes);r!==0&&(fx(t,r|1),ur(t,ut()),!(je&6)&&(Li=ut()+500,Fs()))}break;case 13:ja(function(){var n=Wn(e,1);if(n!==null){var s=Zt();an(n,e,1,s)}}),Hx(e,1)}};hx=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var r=Zt();an(t,e,134217728,r)}Hx(e,134217728)}};tS=function(e){if(e.tag===13){var t=Es(e),r=Wn(e,t);if(r!==null){var n=Zt();an(r,e,t,n)}Hx(e,t)}};rS=function(){return Te};nS=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};Tm=function(e,t,r){switch(t){case"input":if(Sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zf(n);if(!s)throw Error(G(90));IN(n),Sm(n,s)}}}break;case"textarea":MN(e,r);break;case"select":t=r.value,t!=null&&wi(e,!!r.multiple,t,!1)}};qN=Ux;WN=ja;var L6={usingClientEntryPoint:!1,Events:[Fc,ci,zf,BN,zN,Ux]},Wo={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F6={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VN(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||M6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Lf=wu.inject(F6),gn=wu}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;Ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(t))throw Error(G(200));return D6(e,t,null,r)};Ar.createRoot=function(e,t){if(!Vx(e))throw Error(G(299));var r=!1,n="",s=S2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wx(e,1,!1,null,null,r,!1,n,s),e[qn]=t.current,Fl(e.nodeType===8?e.parentNode:e),new Kx(t)};Ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=VN(t),e=e===null?null:e.stateNode,e};Ar.flushSync=function(e){return ja(e)};Ar.hydrate=function(e,t,r){if(!Xf(t))throw Error(G(200));return Zf(null,e,t,!0,r)};Ar.hydrateRoot=function(e,t,r){if(!Vx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=S2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=N2(t,null,e,1,r??null,s,!1,i,o),e[qn]=t.current,Fl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yf(t)};Ar.render=function(e,t,r){if(!Xf(t))throw Error(G(200));return Zf(null,e,t,!1,r)};Ar.unmountComponentAtNode=function(e){if(!Xf(e))throw Error(G(40));return e._reactRootContainer?(ja(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Ar.unstable_batchedUpdates=Ux;Ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Zf(e,t,r,!1,n)};Ar.version="18.3.1-next-f1338f8080-20240426";function A2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A2)}catch(e){console.error(e)}}A2(),AN.exports=Ar;var U6=AN.exports,O2,Pb=U6;O2=Pb.createRoot,Pb.hydrateRoot;const B6="modulepreload",z6=function(e){return"/"+e},Eb={},Bc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=z6(c),c in Eb)return;Eb[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":B6,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},q6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bc(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class W6 extends Gx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kb extends Gx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cb extends Gx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var d0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(d0||(d0={}));var H6=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class K6{constructor(t,{headers:r={},customFetch:n,region:s=d0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=q6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return H6(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(b=>{throw new W6(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new kb(d);if(!d.ok)throw new Cb(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Cb||s instanceof kb?s.context:void 0}}})}}var ar={},Qx={},Jf={},zc={},eh={},th={},V6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fi=V6();const G6=Fi.fetch,P2=Fi.fetch.bind(Fi),E2=Fi.Headers,Q6=Fi.Request,Y6=Fi.Response,go=Object.freeze(Object.defineProperty({__proto__:null,Headers:E2,Request:Q6,Response:Y6,default:P2,fetch:G6},Symbol.toStringTag,{value:"Module"})),X6=hE(go);var rh={};Object.defineProperty(rh,"__esModule",{value:!0});let Z6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rh.default=Z6;var k2=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const J6=k2(X6),eC=k2(rh);let tC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=J6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new eC.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};th.default=tC;var rC=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const nC=rC(th);let sC=class extends nC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};eh.default=sC;var aC=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});const iC=aC(eh);let oC=class extends iC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};zc.default=oC;var lC=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const Ho=lC(zc);let cC=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ho.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ho.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ho.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ho.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ho.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jf.default=cC;var nh={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.version=void 0;sh.version="0.0.0-automated";Object.defineProperty(nh,"__esModule",{value:!0});nh.DEFAULT_HEADERS=void 0;const uC=sh;nh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uC.version}`};var C2=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qx,"__esModule",{value:!0});const dC=C2(Jf),fC=C2(zc),hC=nh;let pC=class T2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new dC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new T2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new fC.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qx.default=pC;var xo=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const $2=xo(Qx);ar.PostgrestClient=$2.default;const I2=xo(Jf);ar.PostgrestQueryBuilder=I2.default;const D2=xo(zc);ar.PostgrestFilterBuilder=D2.default;const M2=xo(eh);ar.PostgrestTransformBuilder=M2.default;const R2=xo(th);ar.PostgrestBuilder=R2.default;const L2=xo(rh);ar.PostgrestError=L2.default;var mC=ar.default={PostgrestClient:$2.default,PostgrestQueryBuilder:I2.default,PostgrestFilterBuilder:D2.default,PostgrestTransformBuilder:M2.default,PostgrestBuilder:R2.default,PostgrestError:L2.default};const{PostgrestClient:gC,PostgrestQueryBuilder:zae,PostgrestFilterBuilder:qae,PostgrestTransformBuilder:Wae,PostgrestBuilder:Hae,PostgrestError:Kae}=mC;function xC(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const vC=xC(),yC="2.11.15",bC=`realtime-js/${yC}`,wC="1.0.0",F2=1e4,jC=1e3;var jl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jl||(jl={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var Xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xr||(Xr={}));var f0;(function(e){e.websocket="websocket"})(f0||(f0={}));var sa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sa||(sa={}));class _C{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let U2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const Tb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=NC(o,e,t,s),i),{})},NC=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?B2(i,o):h0(o)},B2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PC(t,r)}switch(e){case Le.bool:return SC(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return AC(t);case Le.json:case Le.jsonb:return OC(t);case Le.timestamp:return EC(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return h0(t);default:return h0(t)}},h0=e=>e,SC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PC=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>B2(t,l))}return e},EC=e=>typeof e=="string"?e.replace(" ","T"):e,z2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class kp{constructor(t,r,n={},s=F2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $b;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($b||($b={}));class _l{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=_l.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_l.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),y=f.filter(g=>p.indexOf(g.presence_ref)<0),b=d.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ib;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ib||(Ib={}));var Db;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Db||(Db={}));var En;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class Yx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,Xr.join,this.params,this.timeout),this.rejoinTimer=new U2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _l(this),this.broadcastEndpointURL=z2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(En.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(En.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(En.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let b=0;b<p;b++){const g=h[b],{filter:{event:j,schema:x,table:m,filter:N}}=g,v=f&&f[b];if(v&&v.event===j&&v.schema===x&&v.table===m&&v.filter===N)y.push(Object.assign(Object.assign({},g),{id:v.id}));else{this.unsubscribe(),this.state=Ft.errored,t==null||t(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(En.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ft.errored,t==null||t(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new kp(this,Xr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kp(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Xr;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,b,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(b=p.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,b,g,j,x,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,v=(y=p.filter)===null||y===void 0?void 0:y.event;return N&&((b=r.ids)===null||b===void 0?void 0:b.includes(N))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const N=(x=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return N==="*"||N===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:g,commit_timestamp:j,type:x,errors:m}=y;h=Object.assign(Object.assign({},{schema:b,table:g,commit_timestamp:j,eventType:x,new:{},old:{},errors:m}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xr.close,{},t)}_onError(t){this._on(Xr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Tb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Tb(t.columns,t.old_record)),r}}const Mb=()=>{},kC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CC{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mb,this.ref=0,this.logger=Mb,this.conn=null,this.sendBuffer=[],this.serializer=new _C,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Bc(async()=>{const{default:c}=await Promise.resolve().then(()=>go);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${f0.websocket}`,this.httpEndpoint=z2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=vC),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wC}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jl.connecting:return sa.Connecting;case jl.open:return sa.Open;case jl.closing:return sa.Closing;default:return sa.Closed}}isConnected(){return this.connectionState()===sa.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Yx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:bC};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(jC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TC extends Xx{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class p0 extends Xx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $C=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const q2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bc(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IC=()=>$C(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bc(()=>Promise.resolve().then(()=>go),void 0)).Response:Response}),m0=e=>{if(Array.isArray(e))return e.map(r=>m0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=m0(n)}),t};var Ma=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Cp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DC=(e,t,r)=>Ma(void 0,void 0,void 0,function*(){const n=yield IC();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new TC(Cp(s),e.status||500))}).catch(s=>{t(new p0(Cp(s),s))}):t(new p0(Cp(e),e))}),MC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function qc(e,t,r,n,s,i){return Ma(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,MC(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DC(c,l,n))})})}function Ad(e,t,r,n){return Ma(this,void 0,void 0,function*(){return qc(e,"GET",t,r,n)})}function cs(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return qc(e,"POST",t,n,s,r)})}function RC(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return qc(e,"PUT",t,n,s,r)})}function LC(e,t,r,n){return Ma(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function W2(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return qc(e,"DELETE",t,n,s,r)})}var nr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const FC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UC{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=q2(s)}uploadOrUpdate(t,r,n,s){return nr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Rb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return nr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Rb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return nr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield cs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Xx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}update(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:{path:(yield cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return nr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return nr(this,void 0,void 0,function*(){try{const s=yield cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}download(t,r){return nr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ad(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(jt(l))return{data:null,error:l};throw l}})}info(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:m0(n),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}exists(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield LC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(jt(n)&&n instanceof p0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return nr(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}list(t,r,n){return nr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},FC),r),{prefix:t||""});return{data:yield cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BC="2.7.1",zC={"X-Client-Info":`storage-js/${BC}`};var Wa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qC{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},zC),r),this.fetch=q2(n)}listBuckets(){return Wa(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}})}getBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Wa(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Wa(this,void 0,void 0,function*(){try{return{data:yield RC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}}class WC extends qC{constructor(t,r={},n){super(t,r,n)}from(t){return new UC(this.url,this.headers,t,this.fetch)}}const HC="2.52.1";let dl="";typeof Deno<"u"?dl="deno":typeof document<"u"?dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dl="react-native":dl="node";const KC={"X-Client-Info":`supabase-js-${dl}/${HC}`},VC={headers:KC},GC={schema:"public"},QC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YC={};var XC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ZC=e=>{let t;return e?t=e:typeof fetch>"u"?t=P2:t=fetch,(...r)=>t(...r)},JC=()=>typeof Headers>"u"?E2:Headers,eT=(e,t,r)=>{const n=ZC(r),s=JC();return(i,o)=>XC(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var tT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function rT(e){return e.endsWith("/")?e:e+"/"}function nT(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>tT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const H2="2.71.1",ti=30*1e3,g0=3,Tp=g0*ti,sT="http://localhost:9999",aT="supabase.auth.token",iT={"X-Client-Info":`gotrue-js/${H2}`},x0="X-Supabase-Api-Version",K2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lT=10*60*1e3;class Zx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cT extends Zx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uT(e){return fe(e)&&e.name==="AuthApiError"}class V2 extends Zx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Us extends Zx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class is extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dT(e){return fe(e)&&e.name==="AuthSessionMissingError"}class ju extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _u extends Us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nu extends Us{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fT(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lb extends Us{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class v0 extends Us{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $p(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class Fb extends Us{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class y0 extends Us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ub=` 	
\r=`.split(""),hT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ub.length;t+=1)e[Ub[t].charCodeAt(0)]=-2;for(let t=0;t<Od.length;t+=1)e[Od[t].charCodeAt(0)]=t;return e})();function Bb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}}function G2(e,t,r){const n=hT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{gT(o,n,r)};for(let o=0;o<e.length;o+=1)G2(e.charCodeAt(o),s,i);return t.join("")}function pT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}pT(n,t)}}function gT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)G2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function vT(e){const t=[];return mT(e,r=>t.push(r)),new Uint8Array(t)}function yT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Bb(s,r,n)),Bb(null,r,n),t.join("")}function bT(e){return Math.round(Date.now()/1e3)+e}function wT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gr=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},Q2=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function jT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Y2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bc(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_T=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ri=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rs=async(e,t)=>{await e.removeItem(t)};class ah{constructor(){this.promise=new ah.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ah.promiseConstructor=Promise;function Ip(e){const t=e.split(".");if(t.length!==3)throw new y0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oT.test(t[n]))throw new y0("JWT not in base64url format");return{header:JSON.parse(zb(t[0])),payload:JSON.parse(zb(t[1])),signature:xT(t[2]),raw:{header:t[0],payload:t[1]}}}async function NT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ST(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function AT(e){return("0"+e.toString(16)).substr(-2)}function OT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,AT).join("")}async function PT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ET(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e,t,r=!1){const n=OT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ri(e,`${t}-code-verifier`,s);const i=await ET(n);return[i,n===i?"plain":"s256"]}const kT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CT(e){const t=e.headers.get(x0);if(!t||!t.match(kT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $T(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!IT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qb(e){return JSON.parse(JSON.stringify(e))}var DT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MT=[502,503,504];async function Wb(e){var t;if(!_T(e))throw new v0(ea(e),0);if(MT.includes(e.status))throw new v0(ea(e),e.status);let r;try{r=await e.json()}catch(i){throw new V2(ea(i),i)}let n;const s=CT(e);if(s&&s.getTime()>=K2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fb(ea(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new is}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Fb(ea(r),e.status,r.weak_password.reasons);throw new cT(ea(r),e.status||500,n)}const RT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[x0]||(i[x0]=K2["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await LT(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function LT(e,t,r,n,s,i){const o=RT(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new v0(ea(c),0)}if(l.ok||await Wb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Wb(c)}}function On(e){var t;let r=null;zT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hb(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FT(e){return{data:e,error:null}}function UT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=DT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function BT(e){return e}function zT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mp=["global","local","others"];var qT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class WT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Y2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Mp[0]){if(Mp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mp.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:BT});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ka(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ka(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:hs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ka(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:hs})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ka(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function Kb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function HT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Va={debug:!!(globalThis&&Q2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KT extends X2{}async function VT(e,t,r){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Va.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}HT();const GT={url:sT,storageKey:aT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vb(e,t,r){return await r()}const Ga={};class Gl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gl.nextInstanceID,Gl.nextInstanceID+=1,this.instanceID>0&&Gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},GT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new WT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Y2(s.fetch),this.lock=s.lock||Vb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Gr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=VT:this.lock=Vb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Q2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Gr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new V2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:On}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ha(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:On})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new _u("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hb})}else throw new _u("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ju}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,f,d,h,p;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:g,wallet:j,statement:x,options:m}=t;let N;if(Gr())if(typeof j=="object")N=j;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))N=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const v=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const w=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),x?{statement:x}:null));let S;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")S=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)S=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${v.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(f=m==null?void 0:m.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const w=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=w}}try{const{data:g,error:j}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:yT(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:On});if(j)throw j;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ju}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:j})}catch(g){if(fe(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:On});if(await rs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ju}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:On}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ju}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ha(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new _u("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:On});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ha(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:FT})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new is;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new _u("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Gs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Dp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:hs})})}catch(r){if(fe(r))return dT(r)&&(await this._removeSession(),await rs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new is;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ha(this.storage,this.storageKey));const{data:u,error:f}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:hs});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new is;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ip(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new is;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Gr())throw new Nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lb("No code detected.");const{data:x,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Nu("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,f);const{data:b,error:g}=await this._getUser(i);if(g)throw g;const j={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(uT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await rs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=wT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ha(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ST(async s=>(s>0&&await NT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$p(i)&&Date.now()+o-n<ti})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ri(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Dp()}else if(s&&!s.user&&!s.user){const o=await Gs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await rs(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,s)):s.user=Dp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$p(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ah;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new is;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),fe(i)){const o={session:null,error:i};return $p(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=qb(s);await ri(this.storage,this.storageKey,i)}else{const s=qb(r);await ri(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await rs(this.storage,this.storageKey),await rs(this.storage,this.storageKey+"-code-verifier"),await rs(this.storage,this.storageKey+"-user"),this.userStorage&&await rs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${g0} ticks`),s<=g0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ha(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ip(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lT>s)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ip(n);r!=null&&r.allowExpired||TT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=$T(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,vT(`${l}.${c}`)))throw new y0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}Gl.nextInstanceID=0;const QT=Gl;class YT extends QT{constructor(t){super(t)}}var XT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZT{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=rT(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:GC,realtime:YC,auth:Object.assign(Object.assign({},QC),{storageKey:u}),global:VC},d=nT(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=eT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new gC(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new K6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new WC(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return XT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YT({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new CC(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z2=(e,t,r)=>new ZT(e,t,r);function JT(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}JT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vo="https://dlvpvzfztyzcatcpgwzo.supabase.co",Jx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y",ev="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzI4NDk1NywiZXhwIjoyMDY4ODYwOTU3fQ.VI-Kv0Qu9bQVKO1fBlRue9xrD6l7Ij8Q173ACeIwnHQ";console.log("Environment check:");console.log("VITE_SUPABASE_URL:",vo);console.log("VITE_SUPABASE_ANON_KEY:","Set (length: "+Jx.length+")");console.log("VITE_SUPABASE_SERVICE_ROLE_KEY:","Set (length: "+ev.length+")");const ih=!!(vo.includes(".supabase.co")&&Jx.length>20&&ev.length>20);console.log("Supabase configuration status:",ih);ih||(console.warn("=== SUPABASE CONFIGURATION REQUIRED ==="),console.warn("Please update your .env file with your actual Supabase credentials:"),console.warn("1. Go to https://supabase.com and create a project"),console.warn("2. Get your Project URL, anon key, and service role key from Settings > API"),console.warn("3. Update .env file with your actual values"),console.warn("4. Restart the development server"),console.warn('5. Click "Initialize Database" on the login page'),console.warn("Current values:"),console.warn("  VITE_SUPABASE_URL:",vo),console.warn("  VITE_SUPABASE_ANON_KEY:","Set but may be placeholder"),console.warn("  VITE_SUPABASE_SERVICE_ROLE_KEY:","Set but may be placeholder"));const q=ih?Z2(vo,Jx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null,at=ih?Z2(vo,ev,{auth:{autoRefreshToken:!1,persistSession:!1}}):null;q?(console.log("Supabase client initialized with URL:",vo),console.log("Supabase client ready - connection will be tested during first operation")):console.warn("Supabase client not initialized - running in demo mode");class Gb{static async login(t,r){var n;try{if(console.log("AuthService: Attempting login for:",t),!q)return console.warn("AuthService: Supabase not configured - running in demo mode"),{success:!1,message:'Database not configured. Please set up your Supabase credentials in the .env file and restart the development server. Then click "Initialize Database" on the login page.'};const{data:s,error:i}=await q.auth.signInWithPassword({email:t,password:r});if(i||!s.user)return console.error("AuthService: Authentication failed:",i),{success:!1,message:"Invalid email or password. Please check your credentials or initialize the database if this is your first time."};console.log("AuthService: Supabase auth successful, fetching user profile...");let o,l;try{const h=await q.rpc("get_user_with_role",{user_id:s.user.id}).maybeSingle();o=h.data,l=h.error}catch{console.log("RPC function not available, using direct query");try{const p=await q.from("users").select(`
              *,
              role:roles(*)
            `).eq("id",s.user.id).limit(1);o=p.data&&p.data.length>0?p.data:null,l=p.error}catch{console.log("Direct query failed, user profile not found"),o=null,l={message:"User profile not found"}}}if(l||!o||o.length===0)return console.error("AuthService: User profile not found. This usually means the database needs to be initialized.",l),await q.auth.signOut(),{success:!1,message:'User profile not found in database. Please click "Initialize Database" to create the required user accounts and tables.'};const c=o,u=Array.isArray(c)?c[0]:c,f=u.role||{id:u.role_id,name:u.role_name||"Unknown",description:u.role_description||"",level:u.role_level||5,is_active:u.role_is_active!==!1,menu_access:u.menu_access||[]};await q.from("users").update({last_login:new Date().toISOString()}).eq("id",u.id);const d={id:u.id,email:u.email,name:u.name,roleId:u.role_id,role:{id:f.id,name:f.name,description:f.description,level:f.level,isActive:f.is_active,menuAccess:f.menu_access,createdAt:new Date,updatedAt:new Date},isActive:u.is_active,jurisdiction:u.jurisdiction,zone:u.zone,region:u.region,district:u.district,employeeId:u.employee_id,phoneNumber:u.phone_number,parentId:u.parent_id,createdAt:new Date(u.created_at),updatedAt:new Date(u.updated_at)};return console.log("AuthService: Login successful for user:",d.name),{success:!0,data:{user:d,token:((n=s.session)==null?void 0:n.access_token)||`demo-token-${u.id}-${Date.now()}`},message:"Login successful"}}catch(s){return console.error("AuthService: Login error:",s),{success:!1,message:`Login failed: ${s instanceof Error?s.message:"Unknown error"}`}}}static async logout(){try{if(!q)return{success:!1,message:"Database not configured"};const{error:t}=await q.auth.signOut();return t?(console.error("AuthService: Logout error:",t),{success:!1,message:"Failed to logout"}):{success:!0,message:"Logged out successfully"}}catch(t){return console.error("AuthService: Logout error:",t),{success:!1,message:"Failed to logout"}}}}class Rp{static async getUsers(){try{if(console.log("UserService: Fetching users from database"),!q||!at)return console.error("DashboardService: Supabase clients not configured"),{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await at.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});return r?(console.error("UserService: Error fetching users:",r),{success:!1,message:r.message,data:[]}):{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,menuAccess:s.role.menu_access,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,parentId:s.parent_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Users fetched successfully"}}catch(t){return console.error("UserService: Error:",t),{success:!1,message:"Failed to fetch users",data:[]}}}static async createUser(t){try{if(!q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await q.auth.admin.createUser({email:t.email,password:"password123",user_metadata:{name:t.name}});if(n)return console.error("UserService: Error creating auth user:",n),{success:!1,message:n.message};const{data:s,error:i}=await q.from("users").insert({id:r.user.id,email:t.email,name:t.name,role_id:t.roleId,jurisdiction:t.jurisdiction,zone:t.zone,region:t.region,district:t.district,employee_id:t.employeeId,phone_number:t.phoneNumber}).select(`
          *,
          role:roles(*)
        `).single();return i?(console.error("UserService: Error creating user:",i),{success:!1,message:i.message}):{success:!0,data:{id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:s.role,isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,parentId:s.parent_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)},message:"User created successfully! Default password: password123 (user should change on first login)"}}catch(r){return console.error("UserService: Error:",r),{success:!1,message:"Failed to create user"}}}static async deleteUser(t){try{if(!q)return{success:!1,message:"Database not configured"};const{error:r}=await q.from("users").delete().eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"User deleted successfully"}}catch(r){return console.error("UserService: Error:",r),{success:!1,message:"Failed to delete user"}}}}class Ko{static async getRoles(){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await q.from("roles").select("*").order("level",{ascending:!0});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,name:s.name,description:s.description,level:s.level,isActive:s.is_active,menuAccess:s.menu_access,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Roles fetched successfully"}}catch(t){return console.error("RoleService: Error:",t),{success:!1,message:"Failed to fetch roles",data:[]}}}static async createRole(t){try{if(!q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await q.from("roles").insert(t).select().single();return n?{success:!1,message:n.message}:{success:!0,data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,menuAccess:r.menu_access,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Role created successfully"}}catch(r){return console.error("RoleService: Error:",r),{success:!1,message:"Failed to create role"}}}static async updateRole(t,r){try{if(!q)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await q.from("roles").update(r).eq("id",t).select().single();return s?{success:!1,message:s.message}:{success:!0,data:{id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,menuAccess:n.menu_access,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"Role updated successfully"}}catch(n){return console.error("RoleService: Error:",n),{success:!1,message:"Failed to update role"}}}static async deleteRole(t){try{if(!q)return{success:!1,message:"Database not configured"};const{error:r}=await q.from("roles").delete().eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"Role deleted successfully"}}catch(r){return console.error("RoleService: Error:",r),{success:!1,message:"Failed to delete role"}}}static async updateRoleMenuAccess(t,r){try{if(!q)return{success:!1,message:"Database not configured"};const{error:n}=await q.from("roles").update({menu_access:r}).eq("id",t);return n?{success:!1,message:n.message}:{success:!0,message:"Menu access updated successfully"}}catch(n){return console.error("RoleService: Error:",n),{success:!1,message:"Failed to update menu access"}}}}class Qa{static async getSurveys(){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await q.from("surveys").select("*").order("created_at",{ascending:!1});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions})))||[],message:"Surveys fetched successfully"}}catch(t){return console.error("SurveyService: Error:",t),{success:!1,message:"Failed to fetch surveys",data:[]}}}static async createSurvey(t){try{if(!q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await q.from("surveys").insert({title:t.title,description:t.description,target_date:t.targetDate.toISOString().split("T")[0],duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,created_by:t.createdBy}).select().single();return n?{success:!1,message:n.message}:{success:!0,data:{id:r.id,title:r.title,description:r.description,targetDate:new Date(r.target_date),duration:r.duration,totalQuestions:r.total_questions,passingScore:r.passing_score,maxAttempts:r.max_attempts,isActive:r.is_active,sections:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),createdBy:r.created_by},message:"Survey created successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to create survey"}}}static async updateSurvey(t,r){try{if(!q)return{success:!1,message:"Database not configured"};const n={title:r.title,description:r.description,duration:r.duration,total_questions:r.totalQuestions,passing_score:r.passingScore,max_attempts:r.maxAttempts};r.targetDate&&(n.target_date=r.targetDate.toISOString().split("T")[0]),typeof r.isActive<"u"&&(n.is_active=r.isActive);const{data:s,error:i}=await q.from("surveys").update(n).eq("id",t).select().single();return i?{success:!1,message:i.message}:{success:!0,data:{id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by},message:"Survey updated successfully"}}catch(n){return console.error("SurveyService: Error:",n),{success:!1,message:"Failed to update survey"}}}static async deleteSurvey(t){try{if(!q)return{success:!1,message:"Database not configured"};const{error:r}=await q.from("surveys").delete().eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"Survey deleted successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to delete survey"}}}static async getSurveySections(t){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:r,error:n}=await q.from("survey_sections").select("*").eq("survey_id",t).order("section_order",{ascending:!0});return n?{success:!1,message:n.message,data:[]}:{success:!0,data:(r==null?void 0:r.map(i=>({id:i.id,surveyId:i.survey_id,title:i.title,description:i.description,questionsCount:i.questions_count,order:i.section_order,questions:[]})))||[],message:"Sections fetched successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to fetch sections",data:[]}}}static async createSection(t,r){try{if(!q)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await q.from("survey_sections").insert({survey_id:t,title:r.title,description:r.description,questions_count:r.questionsCount,section_order:r.order}).select().single();return s?{success:!1,message:s.message}:{success:!0,data:{id:n.id,surveyId:n.survey_id,title:n.title,description:n.description,questionsCount:n.questions_count,order:n.section_order,questions:[]},message:"Section created successfully"}}catch(n){return console.error("SurveyService: Error:",n),{success:!1,message:"Failed to create section"}}}}class Su{static async getQuestions(t,r){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:n,error:s}=await q.from("questions").select(`
          *,
          question_options(*)
        `).eq("section_id",r).order("question_order",{ascending:!0});return s?{success:!1,message:s.message,data:[]}:{success:!0,data:(n==null?void 0:n.map(o=>({id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.question_options.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:o.question_options.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)})))||[],message:"Questions fetched successfully"}}catch(n){return console.error("QuestionService: Error:",n),{success:!1,message:"Failed to fetch questions",data:[]}}}static async createQuestion(t){try{if(!q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await q.from("questions").insert({section_id:t.sectionId,text:t.text,question_type:t.type,complexity:t.complexity,points:t.points,explanation:t.explanation,question_order:t.order}).select().single();if(n)return{success:!1,message:n.message};const s=t.options.map((u,f)=>({question_id:r.id,text:u.text,is_correct:u.isCorrect,option_order:f+1})),{error:i}=await q.from("question_options").insert(s);if(i)return{success:!1,message:i.message};const{data:o,error:l}=await q.from("questions").select(`
          *,
          question_options(*)
        `).eq("id",r.id).single();return l?{success:!1,message:l.message}:{success:!0,data:{id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.question_options.sort((u,f)=>u.option_order-f.option_order).map(u=>({id:u.id,text:u.text,isCorrect:u.is_correct})),correctAnswers:o.question_options.filter(u=>u.is_correct).map(u=>u.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)},message:"Question created successfully"}}catch(r){return console.error("QuestionService: Error:",r),{success:!1,message:"Failed to create question"}}}static async deleteQuestion(t){try{if(!q)return{success:!1,message:"Database not configured"};const{error:r}=await q.from("question_options").delete().eq("question_id",t);if(r)return{success:!1,message:r.message};const{error:n}=await q.from("questions").delete().eq("id",t);return n?{success:!1,message:n.message}:{success:!0,message:"Question deleted successfully"}}catch(r){return console.error("QuestionService: Error deleting question:",r),{success:!1,message:"Failed to delete question"}}}static async uploadQuestions(t){return{success:!0,data:{questionsAdded:0,questionsSkipped:0,errors:[]},message:"CSV upload feature not implemented yet"}}}class e3{static async getSession(t){try{if(!q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await q.from("test_sessions").select("*").eq("id",t).single();return n?{success:!1,message:n.message}:{success:!0,data:{id:r.id,userId:r.user_id,surveyId:r.survey_id,startTime:new Date(r.start_time),timeRemaining:r.time_remaining,currentQuestionIndex:r.current_question_index,answers:[],status:r.session_status,attemptNumber:r.attempt_number},message:"Session fetched successfully"}}catch(r){return console.error("TestService: Error:",r),{success:!1,message:"Failed to fetch session"}}}}class oh{static async getDashboardData(){try{if(!q||!at)return console.warn("DashboardService: Supabase clients not configured - returning empty dashboard data"),{success:!1,message:"Database not configured. Please set up your Supabase credentials in the .env file, restart the development server, and initialize the database.",data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]}};console.log("DashboardService: Supabase clients available, fetching data..."),console.log("DashboardService: Fetching user count...");const{count:t,error:r}=await at.from("users").select("*",{count:"exact",head:!0});if(r)throw console.error("DashboardService: Error fetching users count:",r),new Error(`Failed to fetch users: ${r.message}`);console.log("DashboardService: Fetching surveys count...");const{count:n,error:s}=await at.from("surveys").select("*",{count:"exact",head:!0});if(s)throw console.error("DashboardService: Error fetching surveys count:",s),new Error(`Failed to fetch surveys: ${s.message}`);console.log("DashboardService: Fetching test sessions count...");const{count:i,error:o}=await at.from("test_sessions").select("*",{count:"exact",head:!0});if(o)throw console.error("DashboardService: Error fetching test sessions count:",o),new Error(`Failed to fetch test sessions: ${o.message}`);console.log("DashboardService: Basic counts fetched successfully"),console.log("Users:",t,"Surveys:",n,"Attempts:",i),console.log("DashboardService: Fetching test results...");const{data:l,error:c}=await at.from("test_results").select("*");c&&(console.error("Dashboard: Error fetching test results:",c),console.log("DashboardService: Continuing with empty test results")),console.log("DashboardService: Test results count:",(l==null?void 0:l.length)||0);let u=0,f=0;l&&l.length>0?(console.log("DashboardService: Calculating scores and pass rates..."),u=l.reduce((E,k)=>E+(k.score||0),0)/l.length,f=l.filter(E=>E.is_passed).length/l.length*100,console.log("DashboardService: Average score:",u,"Pass rate:",f)):console.log("DashboardService: No test results found, using default values"),console.log("DashboardService: Fetching performance by role...");const{data:d,error:h}=await at.from("test_results").select(`
          *,
          user:users(
            role:roles(name)
          )
        `);h&&console.error("Dashboard: Error fetching role performance:",h),console.log("DashboardService: Role performance data count:",(d==null?void 0:d.length)||0);const p=d?d.reduce((A,P)=>{var I,T;const E=((T=(I=P.user)==null?void 0:I.role)==null?void 0:T.name)||"Unknown",k=A.find(R=>R.role===E);return k?(k.totalTests++,k.totalScore+=P.score||0,P.is_passed&&k.passedTests++):A.push({role:E,totalTests:1,totalScore:P.score||0,passedTests:P.is_passed?1:0,averageScore:P.score||0,passRate:P.is_passed?100:0}),A},[]).map(A=>({...A,averageScore:A.totalScore/A.totalTests,passRate:A.passedTests/A.totalTests*100})):[];console.log("DashboardService: Fetching performance by survey...");const{data:y,error:b}=await at.from("test_results").select(`
          *,
          survey:surveys(title)
        `);b&&console.error("Dashboard: Error fetching survey performance:",b),console.log("DashboardService: Survey performance data count:",(y==null?void 0:y.length)||0);const g=y?y.reduce((A,P)=>{var I;const E=((I=P.survey)==null?void 0:I.title)||"Unknown Survey",k=A.find(T=>T.survey===E);return k?(k.totalAttempts++,k.totalScore+=P.score||0,P.is_passed&&k.passedAttempts++):A.push({survey:E,totalAttempts:1,totalScore:P.score||0,passedAttempts:P.is_passed?1:0,averageScore:P.score||0,passRate:P.is_passed?100:0}),A},[]).map(A=>({...A,averageScore:A.totalScore/A.totalAttempts,passRate:A.passedAttempts/A.totalAttempts*100})):[];console.log("DashboardService: Fetching recent activity...");const{data:j,error:x}=await at.from("activity_logs").select(`
          *,
          user:users(name)
        `).order("created_at",{ascending:!1}).limit(10);x&&console.error("Dashboard: Error fetching recent activity:",x),console.log("DashboardService: Recent activity count:",(j==null?void 0:j.length)||0);const m=j?j.map(A=>{var P;return{id:A.id,action:A.action,description:A.description,userName:((P=A.user)==null?void 0:P.name)||"Unknown User",timestamp:new Date(A.created_at)}}):[];console.log("DashboardService: Fetching monthly trends...");const N=new Date;N.setMonth(N.getMonth()-6);const{data:v,error:w}=await at.from("test_results").select("completed_at, is_passed").gte("completed_at",N.toISOString());w&&console.error("Dashboard: Error fetching monthly trends:",w),console.log("DashboardService: Monthly data count:",(v==null?void 0:v.length)||0);const S=v?v.reduce((A,P)=>{const E=new Date(P.completed_at).toLocaleString("default",{month:"short",year:"numeric"}),k=A.find(I=>I.month===E);return k?(k.totalTests++,P.is_passed&&k.passedTests++):A.push({month:E,totalTests:1,passedTests:P.is_passed?1:0}),A},[]).map(A=>({...A,passRate:A.passedTests/A.totalTests*100})):[],_={totalUsers:t||0,totalSurveys:n||0,totalAttempts:i||0,averageScore:Math.round(u*10)/10,passRate:Math.round(f*10)/10,recentActivity:m,performanceByRole:p,performanceBySurvey:g,monthlyTrends:S};return console.log("DashboardService: Dashboard data compiled successfully"),{success:!0,data:_,message:"Dashboard data fetched successfully"}}catch(t){return console.error("DashboardService: Error:",t),{success:!1,message:`Failed to fetch dashboard data: ${t instanceof Error?t.message:"Unknown error"}`,data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]}}}}}class Lp{static async getCertificates(){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await q.from("certificates").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("issued_at",{ascending:!1});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,userId:s.user_id,user:s.user,surveyId:s.survey_id,survey:s.survey,resultId:s.result_id,certificateNumber:s.certificate_number,issuedAt:new Date(s.issued_at),validUntil:s.valid_until?new Date(s.valid_until):void 0,downloadCount:s.download_count,status:s.certificate_status})))||[],message:"Certificates fetched successfully"}}catch(t){return console.error("CertificateService: Error:",t),{success:!1,message:"Failed to fetch certificates",data:[]}}}static async downloadCertificate(t){const r=`Certificate ID: ${t}
Generated on: ${new Date().toISOString()}`;return{success:!0,data:new Blob([r],{type:"application/pdf"}),message:"Certificate downloaded successfully"}}static async revokeCertificate(t){try{if(!q)return{success:!1,message:"Database not configured"};const{error:r}=await q.from("certificates").update({certificate_status:"revoked"}).eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"Certificate revoked successfully"}}catch(r){return console.error("CertificateService: Error:",r),{success:!1,message:"Failed to revoke certificate"}}}}class Qb{static async getSettings(){try{if(!q)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await q.from("system_settings").select("*").order("category",{ascending:!0});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,category:s.category,key:s.setting_key,value:s.setting_value,description:s.description,type:s.setting_type,isEditable:s.is_editable,options:s.options,updatedAt:new Date(s.updated_at),updatedBy:s.updated_by||"System"})))||[],message:"Settings fetched successfully"}}catch(t){return console.error("SettingsService: Error:",t),{success:!1,message:"Failed to fetch settings",data:[]}}}static async updateSetting(t,r,n){try{if(!q)return{success:!1,message:"Database not configured"};const{error:s}=await q.from("system_settings").update({setting_value:r,updated_by:n}).eq("id",t);return s?{success:!1,message:s.message}:{success:!0,message:"Setting updated successfully"}}catch(s){return console.error("SettingsService: Error:",s),{success:!1,message:"Failed to update setting"}}}}console.log("API Services: Initializing with Supabase backend");const Yb={async login(e,t){return console.log("authApi: Login attempt for:",e),await Gb.login(e,t)},async logout(){return console.log("authApi: Logout request"),await Gb.logout()}},Fp={async getUsers(){return console.log("userApi: Fetching users"),await Rp.getUsers()},async createUser(e){return console.log("userApi: Creating user:",e.email),await Rp.createUser(e)},async deleteUser(e){return console.log("userApi: Deleting user:",e),await Rp.deleteUser(e)}},ps={async getRoles(){return console.log("roleApi: Fetching roles"),await Ko.getRoles()},async getPermissions(){return console.log("roleApi: Fetching permissions (mock data)"),{success:!0,data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"user_management"},{id:"2",name:"View Users",resource:"users",action:"read",description:"View user information",module:"user_management"},{id:"3",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"user_management"},{id:"4",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"user_management"}],message:"Permissions fetched successfully"}},async createRole(e){return console.log("roleApi: Creating role:",e.name),await Ko.createRole(e)},async updateRole(e,t){return console.log("roleApi: Updating role:",e),await Ko.updateRole(e,t)},async deleteRole(e){return console.log("roleApi: Deleting role:",e),await Ko.deleteRole(e)},async updateRoleMenuAccess(e,t){return console.log("roleApi: Updating menu access for role:",e),await Ko.updateRoleMenuAccess(e,t)}},Tn={async getSurveys(){return console.log("surveyApi: Fetching surveys"),await Qa.getSurveys()},async createSurvey(e){return console.log("surveyApi: Creating survey:",e.title),await Qa.createSurvey(e)},async updateSurvey(e,t){return console.log("surveyApi: Updating survey:",e),await Qa.updateSurvey(e,t)},async deleteSurvey(e){return console.log("surveyApi: Deleting survey:",e),await Qa.deleteSurvey(e)},async getSurveySections(e){return console.log("surveyApi: Fetching sections for survey:",e),await Qa.getSurveySections(e)},async createSection(e,t){return console.log("surveyApi: Creating section for survey:",e),await Qa.createSection(e,t)}},Vo={async getQuestions(e,t){return console.log("questionApi: Fetching questions for section:",t),await Su.getQuestions(e,t)},async createQuestion(e){return console.log("questionApi: Creating question for section:",e.sectionId),await Su.createQuestion(e)},async deleteQuestion(e){return console.log("questionApi: Deleting question:",e),await Su.deleteQuestion(e)},async uploadQuestions(e,t){try{console.log("questionApi: Uploading questions from file:",t.name);const r=await t.text();return await Su.uploadQuestions(r)}catch(r){return console.error("questionApi: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}},async downloadTemplate(){console.log("questionApi: Generating CSV template");const e=`survey_id,section_id,question_text,question_type,complexity,points,explanation,question_order,option_a,option_b,option_c,option_d,correct_options
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","What is the primary function of an operating system?","single_choice","easy",1,"An operating system manages all hardware and software resources of a computer.",1,"To manage hardware and software resources","To create documents","To browse the internet","To play games","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","Which of the following are input devices? (Select all that apply)","multiple_choice","medium",2,"Input devices allow users to provide data to the computer. Monitor is an output device.",2,"Keyboard","Mouse","Monitor","Microphone","A,B,D"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440031","What does URL stand for?","single_choice","easy",1,"URL stands for Uniform Resource Locator, which is the address of a web page.",3,"Uniform Resource Locator","Universal Resource Link","Unified Resource Location","Universal Reference Locator","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440032","Which of the following are good password practices?","multiple_choice","medium",2,"Strong passwords should be long, complex, unique, and not shared.",4,"Use at least 8 characters","Include uppercase and lowercase letters","Share passwords with colleagues","Use unique passwords for each account","A,B,D"`;return new Blob([e],{type:"text/csv"})}},ms={async createTestSession(e){if(console.log("testApi: Creating test session for survey:",e),!q)return{success:!1,message:"Database not configured. Please check your Supabase configuration."};const t=localStorage.getItem("userData"),r=t?JSON.parse(t):null;if(!r)return{success:!1,message:"User not authenticated. Please log in to start the test."};try{const{data:n,error:s}=await q.from("test_sessions").select("attempt_number").eq("user_id",r.id).eq("survey_id",e).order("attempt_number",{ascending:!1}).limit(1);if(s)return console.error("testApi: Error checking existing attempts:",s),{success:!1,message:`Failed to check existing attempts: ${s.message}`};const{data:i,error:o}=await q.from("surveys").select("max_attempts, duration").eq("id",e).single();if(o)return console.error("testApi: Error fetching survey:",o),{success:!1,message:`Failed to fetch survey details: ${o.message}`};const l=n&&n.length>0?n[0].attempt_number+1:1;if(l>i.max_attempts)return{success:!1,message:`You have exceeded the maximum number of attempts (${i.max_attempts}) for this test.`};const{data:c,error:u}=await q.from("test_sessions").insert({user_id:r.id,survey_id:e,time_remaining:i.duration*60,current_question_index:0,session_status:"in_progress",attempt_number:l}).select().single();return u?(console.error("testApi: Error creating session in database:",u),{success:!1,message:`Failed to create test session: ${u.message}`}):{success:!0,data:{id:c.id,userId:c.user_id,surveyId:c.survey_id,startTime:new Date(c.start_time),timeRemaining:c.time_remaining,currentQuestionIndex:c.current_question_index,answers:[],status:c.session_status,attemptNumber:c.attempt_number},message:"Test session created successfully"}}catch(n){return console.error("testApi: Error in createTestSession:",n),{success:!1,message:`Failed to create test session: ${n instanceof Error?n.message:"Unknown error"}`}}},async getSession(e){return console.log("testApi: Getting session:",e),await e3.getSession(e)},async getQuestionsForSurvey(e){try{if(console.log("testApi: Fetching questions for survey:",e),!q)return console.log("testApi: Supabase not configured - cannot load questions"),{success:!1,message:"Database not configured. Please check your Supabase configuration in the .env file and restart the development server.",data:[]};console.log("testApi: First, fetching sections for survey from database");const{data:t,error:r}=await q.from("survey_sections").select("id, title, section_order").eq("survey_id",e).order("section_order",{ascending:!0});if(r)return console.error("testApi: Database error fetching sections:",r),{success:!1,message:`Database error: ${r.message}`,data:[]};if(!t||t.length===0)return console.log("testApi: No sections found for survey:",e),{success:!1,message:"No sections found for this survey. Please ensure sections have been created for this survey.",data:[]};const n=t.map(c=>c.id);console.log("testApi: Found",t.length,"sections, now fetching questions for section IDs:",n);const{data:s,error:i}=await q.from("questions").select(`
          *,
          question_options(*)
        `).in("section_id",n).order("question_order",{ascending:!0});if(i)return console.error("testApi: Database error fetching questions:",i),{success:!1,message:`Database error: ${i.message}`,data:[]};if(!s||s.length===0)return console.log("testApi: No questions found for sections:",n),{success:!1,message:"No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.",data:[]};console.log("testApi: Successfully fetched",s.length,"questions from database");const o=t.reduce((c,u)=>(c[u.id]=u,c),{}),l=s.map((c,u)=>{var f;return{id:c.id,sectionId:c.section_id,text:c.text,type:c.question_type,complexity:c.complexity,points:c.points,explanation:c.explanation,order:((f=o[c.section_id])==null?void 0:f.section_order)*1e3+c.question_order,options:c.question_options.sort((d,h)=>d.option_order-h.option_order).map(d=>({id:d.id,text:d.text,isCorrect:d.is_correct})),correctAnswers:c.question_options.filter(d=>d.is_correct).map(d=>d.id),createdAt:new Date(c.created_at),updatedAt:new Date(c.updated_at)}});return{success:!0,data:l,message:`Loaded ${l.length} questions successfully`}}catch(t){return console.error("testApi: Error in getQuestionsForSurvey:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async getQuestionsForSession(e){try{if(console.log("testApi: Fetching questions for session:",e),!q)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await q.from("test_sessions").select("survey_id").eq("id",e).single();return r||!t?(console.error("testApi: Error fetching session:",r),{success:!1,message:"Session not found",data:[]}):(console.log("testApi: Using survey ID for questions:",t.survey_id),await this.getQuestionsForSurvey(t.survey_id))}catch(t){return console.error("testApi: Error in getQuestionsForSession:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async saveAnswer(e,t,r){if(console.log("testApi: Saving answer for session:",e,"question:",t),!q){console.log("testApi: Supabase not configured, saving to localStorage");const n=`answer_${e}_${t}`;return localStorage.setItem(n,JSON.stringify(r)),{success:!0,message:"Answer saved locally"}}try{const{data:n}=await q.from("test_answers").select("id").eq("session_id",e).eq("question_id",t).maybeSingle();if(n){const{error:s}=await q.from("test_answers").update({selected_options:r,answered:r.length>0,updated_at:new Date().toISOString()}).eq("session_id",e).eq("question_id",t);if(s)throw s}else{const{error:s}=await q.from("test_answers").insert({session_id:e,question_id:t,selected_options:r,answered:r.length>0,is_correct:!1,time_spent:0});if(s)throw s}return{success:!0,message:"Answer saved successfully"}}catch(n){return console.error("testApi: Error saving answer:",n),{success:!1,message:`Failed to save answer: ${n instanceof Error?n.message:"Unknown error"}`}}},async updateSession(e,t){if(console.log("testApi: Updating session:",e),!q)return console.log("testApi: Supabase not configured, saving to localStorage"),localStorage.setItem(`session_${e}`,JSON.stringify(t)),{success:!0,message:"Session updated locally"};try{const{error:r}=await q.from("test_sessions").update({current_question_index:t.currentQuestionIndex,time_remaining:t.timeRemaining,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;return{success:!0,message:"Session updated successfully"}}catch(r){return console.error("testApi: Error updating session:",r),{success:!1,message:`Failed to update session: ${r instanceof Error?r.message:"Unknown error"}`}}},async submitTest(e){if(console.log("testApi: Submitting test for session:",e),!q)return console.log("testApi: Supabase not configured, creating demo result"),{success:!0,data:{id:"demo-result-"+Date.now(),userId:"550e8400-e29b-41d4-a716-446655440014",user:{name:"Demo User",email:"demo@example.com",role:{name:"Enumerator"}},surveyId:"550e8400-e29b-41d4-a716-446655440020",survey:{title:"Demo Survey",maxAttempts:3},sessionId:e,score:75,totalQuestions:4,correctAnswers:3,isPassed:!0,timeSpent:1200,attemptNumber:1,sectionScores:[],completedAt:new Date,grade:"B"},message:"Demo test submitted"};try{const{data:t,error:r}=await q.from("test_sessions").select("*").eq("id",e).single();if(r||!t)throw new Error("Session not found");const{data:n,error:s}=await q.from("test_answers").select("*").eq("session_id",e);if(s)throw new Error("Failed to fetch answers");const i=await this.getQuestionsForSurvey(t.survey_id);if(!i.success||!i.data)throw new Error("Failed to load questions for scoring");const o=i.data;let l=0,c=0,u=0;o.forEach(m=>{c+=m.points;const N=n==null?void 0:n.find(v=>v.question_id===m.id);if(N&&N.selected_options){const v=N.selected_options,w=m.correctAnswers,S=v.length===w.length&&v.every(_=>w.includes(_));S&&(l++,u+=m.points),q.from("test_answers").update({is_correct:S}).eq("id",N.id).then(()=>{})}});const f=c>0?Math.round(u/c*100):0,{data:d,error:h}=await q.from("surveys").select("*").eq("id",t.survey_id).single();if(h)throw new Error("Failed to fetch survey details");const p=f>=d.passing_score;await q.from("test_sessions").update({session_status:"completed",score:f,is_passed:p,completed_at:new Date().toISOString(),end_time:new Date().toISOString()}).eq("id",e);const{data:y,error:b}=await q.from("test_results").insert({user_id:t.user_id,survey_id:t.survey_id,session_id:e,score:f,total_questions:o.length,correct_answers:l,is_passed:p,time_spent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attempt_number:t.attempt_number,completed_at:new Date().toISOString()}).select().single();if(b)throw console.error("testApi: Error creating test result:",b),new Error(`Failed to create test result: ${b.message}`);let g=null;if(p){const m=`CERT-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`;try{console.log("Creating certificate for passed test:",{user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m});const{data:N,error:v}=await q.from("certificates").insert({user_id:t.user_id,survey_id:t.survey_id,result_id:y.id,certificate_number:m,certificate_status:"active",download_count:0}).select().single();if(v)console.error("Error creating certificate:",v);else if(N){console.log("Certificate created successfully:",N),g=N.id;const{error:w}=await q.from("test_results").update({certificate_id:g}).eq("id",y.id);w?console.error("Error updating result with certificate ID:",w):console.log("Test result updated with certificate ID:",g)}}catch(N){console.error("Exception during certificate creation:",N)}}const{data:j}=await q.from("users").select("*, role:roles(*)").eq("id",t.user_id).single();return{success:!0,data:{id:y.id,userId:t.user_id,user:j?{id:j.id,name:j.name,email:j.email,role:j.role,jurisdiction:j.jurisdiction,isActive:j.is_active,createdAt:new Date(j.created_at),updatedAt:new Date(j.updated_at)}:{},surveyId:t.survey_id,survey:{id:d.id,title:d.title,maxAttempts:d.max_attempts},sessionId:e,score:f,totalQuestions:o.length,correctAnswers:l,isPassed:p,timeSpent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attemptNumber:t.attempt_number,sectionScores:[],completedAt:new Date,certificateId:g,grade:f>=90?"A":f>=80?"B":f>=70?"C":f>=60?"D":"F"},message:`Test submitted successfully! Score: ${f}% (${p?"Passed":"Failed"})`}}catch(t){return console.error("testApi: Error submitting test:",t),{success:!1,message:`Failed to submit test: ${t instanceof Error?t.message:"Unknown error"}`}}},async syncOfflineData(){return console.log("testApi: Syncing offline data"),{success:!0,message:"Offline data synced successfully"}}},t3={async getDashboardData(){return console.log("dashboardApi: Fetching dashboard data"),await oh.getDashboardData()}},r3={async getDashboardData(e){console.log("zoDashboardApi: Fetching ZO dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalZones:5,totalRegions:25,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]},message:"ZO Dashboard data fetched successfully"}:t}},n3={async getDashboardData(e){console.log("roDashboardApi: Fetching RO dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalDistricts:8,totalSupervisors:24,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]},message:"RO Dashboard data fetched successfully"}:t}},tv={async getDashboardData(e){console.log("supervisorDashboardApi: Fetching supervisor dashboard data with filter:",e);const t=await oh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalEnumerators:12,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]},message:"Supervisor Dashboard data fetched successfully"}:t}},Wc={async getDashboardData(){try{if(console.log("enumeratorDashboardApi: Fetching enumerator dashboard data"),!q)return{success:!1,message:"Database not configured"};const e=localStorage.getItem("userData"),t=e?JSON.parse(e):null;if(!t)return{success:!1,message:"User not authenticated"};const{data:r,error:n}=await q.from("surveys").select("*").eq("is_active",!0);if(n)throw console.error("enumeratorDashboardApi: Error fetching surveys:",n),n;const{data:s,error:i}=await q.from("test_sessions").select("survey_id, attempt_number").eq("user_id",t.id);i&&console.error("enumeratorDashboardApi: Error fetching user attempts:",i);const o=(s==null?void 0:s.reduce((g,j)=>(g[j.survey_id]=Math.max(g[j.survey_id]||0,j.attempt_number),g),{}))||{},l=(r==null?void 0:r.map(g=>{const j=o[g.id]||0,x=g.max_attempts-j;return{surveyId:g.id,title:g.title,description:g.description,targetDate:new Date(g.target_date),duration:g.duration,totalQuestions:g.total_questions,passingScore:g.passing_score,attemptsLeft:Math.max(0,x),maxAttempts:g.max_attempts,isEligible:x>0}}).filter(g=>g.isEligible))||[],{data:c,error:u}=await q.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1});u&&console.error("enumeratorDashboardApi: Error fetching results:",u);const f=(c==null?void 0:c.map(g=>({resultId:g.id,surveyTitle:g.survey.title,score:g.score,isPassed:g.is_passed,completedAt:new Date(g.completed_at),attemptNumber:g.attempt_number,certificateId:g.certificate_id})))||[],{data:d,error:h}=await q.from("certificates").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("issued_at",{ascending:!1});h&&console.error("enumeratorDashboardApi: Error fetching certificates:",h);const p=(d==null?void 0:d.map(g=>({id:g.id,userId:g.user_id,user:t,surveyId:g.survey_id,survey:{id:g.survey_id,title:g.survey.title},resultId:g.result_id,certificateNumber:g.certificate_number,issuedAt:new Date(g.issued_at),validUntil:g.valid_until?new Date(g.valid_until):void 0,downloadCount:g.download_count,status:g.certificate_status})))||[],y=f.filter(g=>g.isPassed).length,b=f.length>0?f.reduce((g,j)=>g+j.score,0)/f.length:0;return{success:!0,data:{availableTests:l,completedTests:f,upcomingTests:l.map(g=>({surveyId:g.surveyId,title:g.title,targetDate:g.targetDate,daysLeft:Math.ceil((g.targetDate.getTime()-new Date().getTime())/(1e3*60*60*24)),isOverdue:g.targetDate<new Date})),certificates:p,overallProgress:l.length>0?y/l.length*100:0,averageScore:b,totalAttempts:f.length,passedTests:y},message:"Enumerator Dashboard data fetched successfully"}}catch(e){return console.error("enumeratorDashboardApi: Error fetching dashboard data:",e),{success:!1,message:`Failed to fetch dashboard data: ${e instanceof Error?e.message:"Unknown error"}`}}}},Up={async getResults(e){try{console.log("resultApi: Fetching results with filters");const{data:t,error:r}=await q.from("test_results").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching results:",r),r;return{success:!0,data:t.map(s=>({id:s.id,userId:s.user_id,user:{id:s.user.id,name:s.user.name,email:s.user.email,role:{name:"Enumerator"},jurisdiction:s.user.jurisdiction},surveyId:s.survey_id,survey:{id:s.survey.id,title:s.survey.title,maxAttempts:s.survey.max_attempts},sessionId:s.session_id,score:s.score,totalQuestions:s.total_questions,correctAnswers:s.correct_answers,isPassed:s.is_passed,timeSpent:s.time_spent,attemptNumber:s.attempt_number,sectionScores:[],completedAt:new Date(s.completed_at),certificateId:s.certificate_id,grade:s.grade})),message:"Results fetched successfully"}}catch(t){return console.error("resultApi: Error in getResults:",t),{success:!1,message:"Failed to fetch results",data:[]}}},async getAnalytics(e){return console.log("resultApi: Fetching analytics data"),{success:!0,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]},message:"Analytics data fetched successfully"}},async exportResults(e){console.log("resultApi: Exporting results");const t=`user_name,survey_title,score,status,completed_at
`;return{success:!0,data:new Blob([t],{type:"text/csv"}),message:"Results exported successfully"}}},Ju={async getCertificates(){return console.log("certificateApi: Fetching certificates"),await Lp.getCertificates()},async downloadCertificate(e){return console.log("certificateApi: Downloading certificate:",e),await Lp.downloadCertificate(e)},async revokeCertificate(e){return console.log("certificateApi: Revoking certificate:",e),await Lp.revokeCertificate(e)}},Xb={async getSettings(){return console.log("settingsApi: Fetching settings"),await Qb.getSettings()},async updateSetting(e,t){console.log("settingsApi: Updating setting:",e);const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:void 0;return await Qb.updateSetting(e,t,n)}},s3={async getEnumeratorStatus(){return console.log("enumeratorApi: Fetching enumerator status"),{success:!0,data:[],message:"Enumerator status fetched successfully"}}},J2=O.createContext(void 0);function Bs(){const e=O.useContext(J2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function a3({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{(async()=>{try{if(q){const{data:{session:d},error:h}=await q.auth.getSession();if(h){await q.auth.signOut(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}if(d){const{data:p,error:y}=await q.from("users").select(`
                *,
                role:roles(*)
              `).eq("id",d.user.id).maybeSingle();if(p&&!y){const b={id:p.id,name:p.name,email:p.email,role:p.role,jurisdiction:p.jurisdiction,isActive:p.is_active,createdAt:new Date(p.created_at),updatedAt:new Date(p.updated_at)};r(b),localStorage.setItem("userData",JSON.stringify(b)),localStorage.setItem("authToken",d.access_token),s(!1);return}else{await q.auth.signOut(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}else{await q.auth.signOut(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}const u=localStorage.getItem("authToken"),f=localStorage.getItem("userData");u&&f&&r(JSON.parse(f))}catch(u){console.error("Auth initialization error:",u),q&&await q.auth.signOut(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}s(!1)})()},[]),O.useEffect(()=>{if(q){const{data:{subscription:c}}=q.auth.onAuthStateChange(async(u,f)=>{(u==="SIGNED_OUT"||!f)&&(r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"))});return()=>c.unsubscribe()}},[]);const l={user:t,isLoading:n,login:async(c,u)=>{try{console.log("Attempting login with:",c);const f=await Yb.login(c,u);if(console.log("Login response:",f),f.success&&f.data){const{user:d,token:h}=f.data;return console.log("Setting user:",d),r(d),localStorage.setItem("authToken",h),localStorage.setItem("userData",JSON.stringify(d)),{success:!0,message:f.message}}return{success:!1,message:f.message}}catch(f){return console.error("Login error:",f),{success:!1,message:"Login failed. Please try again."}}},logout:async()=>{try{await Yb.logout()}catch(c){console.error("Logout error:",c)}finally{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}},isAuthenticated:!!t};return a.jsx(J2.Provider,{value:l,children:e})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const Zb="popstate";function i3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return b0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pd(s)}return l3(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o3(){return Math.random().toString(36).substr(2,8)}function Jb(e,t){return{usr:e.state,key:e.key,idx:t}}function b0(e,t,r,n){return r===void 0&&(r=null),Ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yo(t):t,{state:r,key:t&&t.key||n||o3()})}function Pd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function l3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ys.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ql({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=ys.Pop;let g=f(),j=g==null?null:g-u;u=g,c&&c({action:l,location:b.location,delta:j})}function h(g,j){l=ys.Push;let x=b0(b.location,g,j);u=f()+1;let m=Jb(x,u),N=b.createHref(x);try{o.pushState(m,"",N)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign(N)}i&&c&&c({action:l,location:b.location,delta:1})}function p(g,j){l=ys.Replace;let x=b0(b.location,g,j);u=f();let m=Jb(x,u),N=b.createHref(x);o.replaceState(m,"",N),i&&c&&c({action:l,location:b.location,delta:0})}function y(g){let j=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof g=="string"?g:Pd(g);return x=x.replace(/ $/,"%20"),nt(j,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,j)}let b={get action(){return l},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zb,d),c=g,()=>{s.removeEventListener(Zb,d),c=null}},createHref(g){return t(s,g)},createURL:y,encodeLocation(g){let j=y(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(g){return o.go(g)}};return b}var ew;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ew||(ew={}));function c3(e,t,r){return r===void 0&&(r="/"),u3(e,t,r,!1)}function u3(e,t,r,n){let s=typeof t=="string"?yo(t):t,i=Ui(s.pathname||"/",r);if(i==null)return null;let o=tA(e);d3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=j3(i);l=b3(o[c],u,n)}return l}function tA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cs([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tA(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:v3(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of rA(i.path))s(i,o,c)}),t}function rA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=rA(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function d3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:y3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f3=/^:[\w-]+$/,h3=3,p3=2,m3=1,g3=10,x3=-2,tw=e=>e==="*";function v3(e,t){let r=e.split("/"),n=r.length;return r.some(tw)&&(n+=x3),t&&(n+=p3),r.filter(s=>!tw(s)).reduce((s,i)=>s+(f3.test(i)?h3:i===""?m3:g3),n)}function y3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function b3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Ed({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Ed({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Cs([i,d.pathname]),pathnameBase:A3(Cs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Cs([i,d.pathnameBase]))}return o}function Ed(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=w3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let b=l[d]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function w3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function j3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?yo(e):e;return{pathname:r?r.startsWith("/")?r:N3(r,t):t,search:O3(n),hash:P3(s)}}function N3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rv(e,t){let r=S3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=yo(e):(s=Ql({},e),nt(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=_3(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Cs=e=>e.join("/").replace(/\/\/+/g,"/"),A3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nA=["post","put","patch","delete"];new Set(nA);const k3=["get",...nA];new Set(k3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}const lh=O.createContext(null),sA=O.createContext(null),Yn=O.createContext(null),ch=O.createContext(null),Xn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),aA=O.createContext(null);function C3(e,t){let{relative:r}=t===void 0?{}:t;bo()||nt(!1);let{basename:n,navigator:s}=O.useContext(Yn),{hash:i,pathname:o,search:l}=uh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Cs([n,o])),s.createHref({pathname:c,search:l,hash:i})}function bo(){return O.useContext(ch)!=null}function Ra(){return bo()||nt(!1),O.useContext(ch).location}function iA(e){O.useContext(Yn).static||O.useLayoutEffect(e)}function wo(){let{isDataRoute:e}=O.useContext(Xn);return e?H3():T3()}function T3(){bo()||nt(!1);let e=O.useContext(lh),{basename:t,future:r,navigator:n}=O.useContext(Yn),{matches:s}=O.useContext(Xn),{pathname:i}=Ra(),o=JSON.stringify(rv(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return iA(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=nv(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function $3(){let{matches:e}=O.useContext(Xn),t=e[e.length-1];return t?t.params:{}}function uh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Yn),{matches:s}=O.useContext(Xn),{pathname:i}=Ra(),o=JSON.stringify(rv(s,n.v7_relativeSplatPath));return O.useMemo(()=>nv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function I3(e,t){return D3(e,t)}function D3(e,t,r,n){bo()||nt(!1);let{navigator:s}=O.useContext(Yn),{matches:i}=O.useContext(Xn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ra(),f;if(t){var d;let g=typeof t=="string"?yo(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||nt(!1),f=g}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=c3(e,{pathname:p}),b=U3(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Cs([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Cs([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&b?O.createElement(ch.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ys.Pop}},b):b}function M3(){let e=W3(),t=E3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const R3=O.createElement(M3,null);class L3 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Xn.Provider,{value:this.props.routeContext},O.createElement(aA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F3(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(lh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Xn.Provider,{value:t},n)}function U3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||nt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,y=!1,b=null,g=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||R3,c&&(u<0&&h===0?(y=!0,g=null):u===h&&(y=!0,g=d.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,h+1)),x=()=>{let m;return p?m=b:y?m=g:d.route.Component?m=O.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,O.createElement(F3,{match:d,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(L3,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):x()},null)}var oA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oA||{}),kd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kd||{});function B3(e){let t=O.useContext(lh);return t||nt(!1),t}function z3(e){let t=O.useContext(sA);return t||nt(!1),t}function q3(e){let t=O.useContext(Xn);return t||nt(!1),t}function lA(e){let t=q3(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function W3(){var e;let t=O.useContext(aA),r=z3(kd.UseRouteError),n=lA(kd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function H3(){let{router:e}=B3(oA.UseNavigateStable),t=lA(kd.UseNavigateStable),r=O.useRef(!1);return iA(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Yl({fromRouteId:t},i)))},[e,t])}function K3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xl(e){let{to:t,replace:r,state:n,relative:s}=e;bo()||nt(!1);let{future:i,static:o}=O.useContext(Yn),{matches:l}=O.useContext(Xn),{pathname:c}=Ra(),u=wo(),f=nv(t,rv(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Fe(e){nt(!1)}function V3(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ys.Pop,navigator:i,static:o=!1,future:l}=e;bo()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Yl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=yo(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=O.useMemo(()=>{let g=Ui(f,c);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:y},navigationType:s}},[c,f,d,h,p,y,s]);return b==null?null:O.createElement(Yn.Provider,{value:u},O.createElement(ch.Provider,{children:r,value:b}))}function cA(e){let{children:t,location:r}=e;return I3(w0(t),r)}new Promise(()=>{});function w0(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,w0(n.props.children,i));return}n.type!==Fe&&nt(!1),!n.props.index||!n.props.children||nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=w0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function uA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function G3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q3(e,t){return e.button===0&&(!t||t==="_self")&&!G3(e)}const Y3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Z3="6";try{window.__reactRouterVersion=Z3}catch{}const J3=O.createContext({isTransitioning:!1}),e$="startTransition",rw=EE[e$];function t$(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=i3({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&rw?rw(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>K3(n),[n]),O.createElement(V3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const r$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s$=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=uA(t,Y3),{basename:p}=O.useContext(Yn),y,b=!1;if(typeof u=="string"&&n$.test(u)&&(y=u,r$))try{let m=new URL(window.location.href),N=u.startsWith("//")?new URL(m.protocol+u):new URL(u),v=Ui(N.pathname,p);N.origin===m.origin&&v!=null?u=v+N.search+N.hash:b=!0}catch{}let g=C3(u,{relative:s}),j=o$(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(m){n&&n(m),m.defaultPrevented||j(m)}return O.createElement("a",Cd({},h,{href:y||g,onClick:b||i?n:x,ref:r,target:c}))}),a$=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=uA(t,X3),h=uh(c,{relative:d.relative}),p=Ra(),y=O.useContext(sA),{navigator:b,basename:g}=O.useContext(Yn),j=y!=null&&l$(h)&&u===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,m=p.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(m=m.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&g&&(N=Ui(N,g)||N);const v=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let w=m===x||!o&&m.startsWith(x)&&m.charAt(v)==="/",S=N!=null&&(N===x||!o&&N.startsWith(x)&&N.charAt(x.length)==="/"),_={isActive:w,isPending:S,isTransitioning:j},A=w?n:void 0,P;typeof i=="function"?P=i(_):P=[i,w?"active":null,S?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(_):l;return O.createElement(s$,Cd({},d,{"aria-current":A,className:P,ref:r,style:E,to:c,viewTransition:u}),typeof f=="function"?f(_):f)});var j0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var nw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nw||(nw={}));function i$(e){let t=O.useContext(lh);return t||nt(!1),t}function o$(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=wo(),u=Ra(),f=uh(e,{relative:o});return O.useCallback(d=>{if(Q3(d,r)){d.preventDefault();let h=n!==void 0?n:Pd(u)===Pd(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}function l$(e,t){t===void 0&&(t={});let r=O.useContext(J3);r==null&&nt(!1);let{basename:n}=i$(j0.useViewTransitionState),s=uh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ui(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ui(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ed(s.pathname,o)!=null||Ed(s.pathname,i)!=null}const c$=O.createContext(void 0);function u$({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},f=()=>{r(!1)},d=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const y=localStorage.getItem("last_sync");y&&s(new Date(parseInt(y)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",f),d();const h=setInterval(d,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f),clearInterval(h)}},[]);const l=async()=>{if(t)try{await ms.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(c$.Provider,{value:c,children:e})}function dA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=dA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function he(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=dA(e))&&(n&&(n+=" "),n+=t);return n}const sv="-",d$=e=>{const t=h$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sv);return l[0]===""&&l.length!==1&&l.shift(),fA(l,t)||f$(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},fA=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?fA(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(sv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},sw=/^\[(.+)\]$/,f$=e=>{if(sw.test(e)){const t=sw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},h$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return m$(Object.entries(e.classGroups),r).forEach(([i,o])=>{_0(o,n,i,t)}),n},_0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:aw(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(p$(s)){_0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{_0(o,aw(t,i),r,n)})})},aw=(e,t)=>{let r=e;return t.split(sv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},p$=e=>e.isThemeGetter,m$=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,g$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},hA="!",x$=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let g=0;g<l.length;g++){let j=l[g];if(u===0){if(j===s&&(n||l.slice(g,g+i)===t)){c.push(l.slice(f,g)),f=g+i;continue}if(j==="/"){d=g;continue}}j==="["?u++:j==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(hA),y=p?h.substring(1):h,b=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},v$=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},y$=e=>({cache:g$(e.cacheSize),parseClassName:x$(e),...d$(e)}),b$=/\s+/,w$=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(b$);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,b=n(y?h.substring(0,p):h);if(!b){if(!y){l=u+(l.length>0?" "+l:l);continue}if(b=n(h),!b){l=u+(l.length>0?" "+l:l);continue}y=!1}const g=v$(f).join(":"),j=d?g+hA:g,x=j+b;if(i.includes(x))continue;i.push(x);const m=s(b,y);for(let N=0;N<m.length;++N){const v=m[N];i.push(j+v)}l=u+(l.length>0?" "+l:l)}return l};function j$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=pA(t))&&(n&&(n+=" "),n+=r);return n}const pA=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=pA(e[n]))&&(r&&(r+=" "),r+=t);return r};function _$(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=y$(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=w$(c,r);return s(c,f),f}return function(){return i(j$.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},mA=/^\[(?:([a-z-]+):)?(.+)\]$/i,N$=/^\d+\/\d+$/,S$=new Set(["px","full","screen"]),A$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Oi(e)||S$.has(e)||N$.test(e),ns=e=>jo(e,"length",L$),Oi=e=>!!e&&!Number.isNaN(Number(e)),zp=e=>jo(e,"number",Oi),Go=e=>!!e&&Number.isInteger(Number(e)),C$=e=>e.endsWith("%")&&Oi(e.slice(0,-1)),ge=e=>mA.test(e),ss=e=>A$.test(e),T$=new Set(["length","size","percentage"]),$$=e=>jo(e,T$,gA),I$=e=>jo(e,"position",gA),D$=new Set(["image","url"]),M$=e=>jo(e,D$,U$),R$=e=>jo(e,"",F$),Qo=()=>!0,jo=(e,t,r)=>{const n=mA.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},L$=e=>O$.test(e)&&!P$.test(e),gA=()=>!1,F$=e=>E$.test(e),U$=e=>k$.test(e),B$=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),f=Ge("hueRotate"),d=Ge("invert"),h=Ge("gap"),p=Ge("gradientColorStops"),y=Ge("gradientColorStopPositions"),b=Ge("inset"),g=Ge("margin"),j=Ge("opacity"),x=Ge("padding"),m=Ge("saturate"),N=Ge("scale"),v=Ge("sepia"),w=Ge("skew"),S=Ge("space"),_=Ge("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ge,t],k=()=>[ge,t],I=()=>["",Sn,ns],T=()=>["auto",Oi,ge],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ge],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Oi,ge];return{cacheSize:500,separator:":",theme:{colors:[Qo],spacing:[Sn,ns],blur:["none","",ss,ge],brightness:K(),borderColor:[e],borderRadius:["none","","full",ss,ge],borderSpacing:k(),borderWidth:I(),contrast:K(),grayscale:L(),hueRotate:K(),invert:L(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[C$,ns],inset:E(),margin:E(),opacity:K(),padding:k(),saturate:K(),scale:K(),sepia:L(),skew:K(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ge]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,ge]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Go,ge]}],"grid-cols":[{"grid-cols":[Qo]}],"col-start-end":[{col:["auto",{span:["full",Go,ge]},ge]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Qo]}],"row-start-end":[{row:["auto",{span:[Go,ge]},ge]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,t]}],"min-w":[{"min-w":[ge,t,"min","max","fit"]}],"max-w":[{"max-w":[ge,t,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[Qo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Oi,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,ns]}],"underline-offset":[{"underline-offset":["auto",Sn,ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),I$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Sn,ge]}],"outline-w":[{outline:[Sn,ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Sn,ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,R$]}],"shadow-color":[{shadow:[Qo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ss,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Go,ge]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,ns,zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z$=_$(B$);function av(...e){return z$(he(e))}function Ce(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Nr(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ts(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function q$(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function bs(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function z({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:d,disabled:n||s,className:av(c,u[t],f[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const se=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:av("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));se.displayName="Input";const W$={};var N0=null;function H$(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return W$.randomBytes(e)}catch{}if(!N0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return N0(e)}function K$(e){N0=e}function iv(e,t){if(e=e||ov,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Td(H$(Zl),Zl)),r.join("")}function xA(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=ov;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){rn(function(){try{s(null,iv(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function vA(e,t){if(typeof t>"u"&&(t=ov),typeof t=="number"&&(t=iv(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return S0(e,t)}function yA(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?xA(t,function(o,l){S0(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?S0(e,t,i,n):rn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function bA(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function V$(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:bA(vA(e,t.substring(0,t.length-31)),t)}function G$(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){rn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){rn(i.bind(this,null,!1));return}yA(e,t.substring(0,29),function(o,l){o?i(o):i(null,bA(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function Q$(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function Y$(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function X$(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return wA(e)>72}var rn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function wA(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function Z$(e){for(var t=0,r,n,s=new Array(wA(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var Ya="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),as=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Td(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(Ya[s>>2&63]),s=(s&3)<<4,r>=t){n.push(Ya[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(Ya[s&63]),s=(i&15)<<2,r>=t){n.push(Ya[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(Ya[s&63]),n.push(Ya[i&63])}return n.join("")}function jA(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,f,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(d=e.charCodeAt(r++),o=d<as.length?as[d]:-1,d=e.charCodeAt(r++),l=d<as.length?as[d]:-1,!(o==-1||l==-1||(f=o<<2>>>0,f|=(l&48)>>4,i.push(String.fromCharCode(f)),++s>=t||r>=n)||(d=e.charCodeAt(r++),c=d<as.length?as[d]:-1,c==-1)||(f=(l&15)<<4>>>0,f|=(c&60)>>2,i.push(String.fromCharCode(f)),++s>=t||r>=n)));)d=e.charCodeAt(r++),u=d<as.length?as[d]:-1,f=(c&3)<<6>>>0,f|=u,i.push(String.fromCharCode(f)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var Zl=16,ov=10,J$=16,e5=100,iw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ow=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],_A=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Jl(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[J$+1],e[t+1]=i,e}function ni(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function lw(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=ni(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=Jl(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=Jl(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function t5(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=ni(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Jl(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=ni(e,s),s=c.offp,i[0]^=c.key,c=ni(e,s),s=c.offp,i[1]^=c.key,i=Jl(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function cw(e,t,r,n,s){var i=_A.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){rn(n.bind(this,l));return}else throw l;if(t.length!==Zl)if(l=Error("Illegal salt length: "+t.length+" != "+Zl),n){rn(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,f=0,d;typeof Int32Array=="function"?(c=new Int32Array(iw),u=new Int32Array(ow)):(c=iw.slice(),u=ow.slice()),t5(t,e,c,u);function h(){if(s&&s(f/r),f<r)for(var y=Date.now();f<r&&(f=f+1,lw(e,c,u),lw(t,c,u),!(Date.now()-y>e5)););else{for(f=0;f<64;f++)for(d=0;d<o>>1;d++)Jl(i,d<<1,c,u);var b=[];for(f=0;f<o;f++)b.push((i[f]>>24&255)>>>0),b.push((i[f]>>16&255)>>>0),b.push((i[f]>>8&255)>>>0),b.push((i[f]&255)>>>0);if(n){n(null,b);return}else return b}n&&rn(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function S0(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){rn(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){rn(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){rn(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){rn(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,f=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var d=Z$(e),h=jA(f,Zl);function p(y){var b=[];return b.push("$2"),i>="a"&&b.push(i),b.push("$"),u<10&&b.push("0"),b.push(u.toString()),b.push("$"),b.push(Td(h,h.length)),b.push(Td(y,_A.length*4-1)),b.join("")}if(typeof r>"u")return p(cw(d,h,u));cw(d,h,u,function(y,b){y?r(y,null):r(null,p(b))},n)}function r5(e,t){return Td(e,t)}function n5(e,t){return jA(e,t)}const s5={setRandomFallback:K$,genSaltSync:iv,genSalt:xA,hashSync:vA,hash:yA,compareSync:V$,compare:G$,getRounds:Q$,getSalt:Y$,truncates:X$,encodeBase64:r5,decodeBase64:n5};async function a5(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await q.rpc("exec_sql",{sql:`ALTER TABLE ${t} DISABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not disable RLS via RPC, using service role client")}}async function qp(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await q.rpc("exec_sql",{sql:`ALTER TABLE ${t} ENABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not re-enable RLS via RPC")}}class i5{static async initializeDatabase(){try{if(console.log("Starting database initialization..."),await a5(),!q||!at)return console.error("Supabase client is not configured"),{success:!1,message:"Supabase is not configured. Please set up your environment variables (URL, anon key, and service role key) in .env file. Make sure to restart the dev server after updating .env."};console.log("Testing admin client...");try{const{data:s,error:i}=await at.auth.admin.listUsers({page:1,perPage:1});if(i)return console.error("Admin client test failed:",i),{success:!1,message:`Admin client authentication failed: ${i.message}. Please check your VITE_SUPABASE_SERVICE_ROLE_KEY in .env file.`};console.log("Admin client test successful")}catch(s){return console.error("Admin client test error:",s),await qp(),{success:!1,message:"Failed to authenticate with Supabase admin client. Please verify your service role key."}}console.log("Checking database connection..."),console.log("Cleaning up existing data..."),await this.cleanupExistingData(q,at);const{data:t,error:r}=await q.from("roles").select("id").limit(1);if(r)return console.error("Database connection failed:",r),{success:!1,message:`Failed to connect to database: ${r.message}. Please check your Supabase configuration.`,error:r};console.log("Database is empty, starting initialization..."),console.log("Running comprehensive schema migration...");try{const s=await fetch("/supabase/migrations/create_comprehensive_schema.sql");if(s.ok){const i=await s.text(),{error:o}=await at.rpc("exec_sql",{sql:i});o?console.error("Migration execution failed:",o):console.log("Schema migration executed successfully")}}catch{console.log("Could not run migration file, proceeding with manual creation...")}await this.createRoles(at),console.log("Roles created successfully"),await this.createUsers(at),console.log("Users created successfully");const n=await this.verifyUserCreation(at);return await this.createSurveys(at,n),console.log("Surveys created successfully"),await this.createSurveySections(at),console.log("Survey sections created successfully"),await this.createQuestions(at),console.log("Questions created successfully"),await this.createSystemSettings(at),console.log("System settings created successfully"),await qp(),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully with demo users and sample data!"}}catch(t){return console.error("Database initialization failed:",t),await qp(),{success:!1,message:`Failed to initialize database: ${t instanceof Error?t.message:"Unknown error"}`,error:t}}}static async cleanupExistingData(t,r){try{console.log("Cleaning up existing data..."),console.log("Dropping existing policies...");try{const{error:s}=await r.rpc("exec_sql",{sql:`
            DO $$ 
            DECLARE
                r RECORD;
            BEGIN
                FOR r IN (SELECT schemaname, tablename, policyname FROM pg_policies WHERE schemaname = 'public') LOOP
                    EXECUTE format('DROP POLICY IF EXISTS %I ON %I.%I', r.policyname, r.schemaname, r.tablename);
                END LOOP;
            END $$;
          `});console.log(s?"Could not drop policies via RPC, continuing with data cleanup...":"Existing policies dropped successfully")}catch{console.log("Policy cleanup failed, continuing with data cleanup...")}console.log("Deleting test_answers..."),await r.from("test_answers").delete().gte("created_at","1900-01-01"),console.log("Deleting section_scores..."),await r.from("section_scores").delete().gte("created_at","1900-01-01"),console.log("Deleting certificates..."),await r.from("certificates").delete().gte("created_at","1900-01-01"),console.log("Deleting test_results..."),await r.from("test_results").delete().gte("created_at","1900-01-01"),console.log("Deleting test_sessions..."),await r.from("test_sessions").delete().gte("created_at","1900-01-01"),console.log("Deleting activity_logs..."),await r.from("activity_logs").delete().gte("created_at","1900-01-01"),console.log("Deleting question_options..."),await r.from("question_options").delete().gte("created_at","1900-01-01"),console.log("Deleting questions..."),await r.from("questions").delete().gte("created_at","1900-01-01"),console.log("Deleting survey_sections..."),await r.from("survey_sections").delete().gte("created_at","1900-01-01"),console.log("Deleting surveys..."),await r.from("surveys").delete().gte("created_at","1900-01-01"),console.log("Deleting system_settings..."),await r.from("system_settings").delete().gte("updated_at","1900-01-01"),console.log("Deleting users..."),await r.from("users").delete().gte("created_at","1900-01-01"),console.log("Deleting roles..."),await r.from("roles").delete().gte("created_at","1900-01-01"),console.log("Cleaning up auth users...");const{data:n}=await r.auth.admin.listUsers();if(n&&n.users)for(const s of n.users)s.email&&(console.log(`Deleting auth user: ${s.email}`),await r.auth.admin.deleteUser(s.id));console.log("Cleanup completed")}catch(n){console.error("Cleanup error:",n)}}static async verifyUserCreation(t){console.log("Verifying user creation...");const r=["admin@esigma.com","enumerator@esigma.com"];let n=null;for(const s of r)try{const{data:i,error:o}=await q.auth.signInWithPassword({email:s,password:"password123"});if(o)throw console.error(`Verification failed for ${s}:`,o),new Error(`User ${s} cannot authenticate: ${o.message}`);console.log(` User ${s} can authenticate successfully`),s==="admin@esigma.com"&&(n=i.user.id),await q.auth.signOut()}catch(i){throw console.error(`Verification error for ${s}:`,i),i}return console.log("All users verified successfully"),n}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Administrator",description:"System Administrator with full access to all features",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440002",name:"CPG User",description:"Central Planning Group User with national oversight",level:2,is_active:!0,menu_access:["/cpg-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440003",name:"ZO User",description:"Zonal Office User with zone-level management access",level:3,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440004",name:"RO User",description:"Regional Office User with regional management access",level:4,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Supervisor",description:"Field Supervisor with team management capabilities",level:5,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440006",name:"Enumerator",description:"Field Enumerator with test-taking access (Lowest Level)",level:6,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users..."),console.log("Creating users in Supabase Auth and custom user profiles...");const r=[{email:"admin@esigma.com",password:"password123",name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440001",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{email:"zo@esigma.com",password:"password123",name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440002",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543211"},{email:"ro@esigma.com",password:"password123",name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440003",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543212",parent_id:null},{email:"supervisor@esigma.com",password:"password123",name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440004",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543213",parent_id:null},{email:"enumerator@esigma.com",password:"password123",name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543214",parent_id:null}];console.log(`Creating ${r.length} users...`);for(const n of r)try{console.log(`Processing user: ${n.email}`),console.log(`Creating new auth user: ${n.email}`);const{data:s,error:i}=await t.auth.admin.createUser({email:n.email,password:n.password,email_confirm:!0,user_metadata:{name:n.name}});if(i)throw console.error(`Failed to create auth user ${n.email}:`,i),new Error(`Auth creation failed for ${n.email}: ${i.message}`);console.log(`Created auth user for ${n.email} with ID: ${s.user.id}`);const o=s5.hashSync(n.password,10);console.log(`Creating profile for ${n.email}`);const{error:l}=await t.from("users").insert({id:s.user.id,email:n.email,password_hash:o,name:n.name,role_id:n.role_id,is_active:n.is_active,jurisdiction:n.jurisdiction,zone:n.zone,region:n.region,district:n.district,employee_id:n.employee_id,phone_number:n.phone_number,parent_id:n.parent_id});if(l)throw console.error(`Failed to create user profile ${n.email}:`,l),new Error(`Profile creation failed for ${n.email}: ${l.message}`);console.log(`Successfully created user: ${n.email}`)}catch(s){throw console.error(`Error creating user ${n.email}:`,s),s}console.log("Users created successfully")}static async createSurveys(t,r){console.log("Creating surveys...");const n=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone"],assigned_regions:["Delhi Region","Mumbai Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone"],assigned_regions:["Delhi Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:r}],{error:s}=await t.from("surveys").insert(n);if(s)throw s;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:10,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:10,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:10,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:15,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:10,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async checkDatabaseConnection(){try{const{count:t,error:r}=await q.from("roles").select("*",{count:"exact",head:!0});if(r)throw r;return(t||0)>0}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...o5,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${l5(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=re("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=re("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=re("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function P5(){const{login:e,isAuthenticated:t}=Bs(),[r,n]=O.useState("admin@esigma.com"),[s,i]=O.useState("password123"),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState("");if(t)return a.jsx(Xl,{to:"/",replace:!0});const h=async()=>{u(!0),d("");try{console.log("Starting database initialization...");const g=await i5.initializeDatabase();console.log("Database initialization result:",g),g.success?(d(""),alert(`Database initialized successfully! ${g.message}

You can now login with the demo credentials:
- admin@esigma.com / password123
- enumerator@esigma.com / password123`)):(console.error("Database initialization failed:",g),d(`Database initialization failed: ${g.message}`),g.error&&console.error("Detailed error:",g.error))}catch(g){console.error("Database initialization exception:",g),d(`Failed to initialize database: ${g instanceof Error?g.message:"Unknown error"}. Please check your Supabase configuration.`)}finally{u(!1)}},p=async g=>{if(g.preventDefault(),!r||!s){d("Please enter both email and password");return}l(!0),d("");const j=await e(r,s);j.success?console.log("Login successful"):d(j.message),l(!1)},y=[{role:"Admin",email:"admin@esigma.com",icon:Lr,color:"bg-red-100 text-red-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440010"},{role:"ZO User",email:"zo@esigma.com",icon:_a,color:"bg-purple-100 text-purple-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440011"},{role:"RO User",email:"ro@esigma.com",icon:_a,color:"bg-indigo-100 text-indigo-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440012"},{role:"Supervisor",email:"supervisor@esigma.com",icon:Oa,color:"bg-green-100 text-green-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440013"},{role:"Enumerator",email:"enumerator@esigma.com",icon:Ms,color:"bg-blue-100 text-blue-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440014"}],b=g=>{n(g),i("password123"),d("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:a.jsx(Ht,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),f&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(c5,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:f})]}),a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-900 mb-2",children:" Supabase Configuration Required"}),a.jsx("p",{className:"text-xs text-yellow-800 mb-3",children:"To use this application, you need to configure Supabase first. Follow these steps:"}),a.jsxs("ol",{className:"text-xs text-yellow-800 mb-3 list-decimal list-inside space-y-1",children:[a.jsxs("li",{children:["Create a Supabase project at ",a.jsx("a",{href:"https://supabase.com",target:"_blank",className:"underline",children:"supabase.com"})]}),a.jsx("li",{children:"Get your Project URL, anon key, and service role key from Settings  API"}),a.jsx("li",{children:"Update the .env file with your actual Supabase credentials"}),a.jsx("li",{children:"Restart the development server"}),a.jsx("li",{children:'Click "Initialize Database" below to create tables and demo data'})]}),a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Database Setup"}),a.jsx("p",{className:"text-xs text-blue-800 mb-3",children:"After configuring Supabase, click the button below to create all necessary tables and demo user accounts."}),a.jsx(z,{onClick:h,disabled:c,variant:"primary",size:"sm",className:"w-full",children:c?"Initializing Database...":"Initialize Database"}),a.jsxs("p",{className:"text-xs text-yellow-700 mt-2",children:[a.jsx("strong",{children:"Important:"})," This will only work after you've properly configured your Supabase credentials in the .env file."]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(se,{label:"Email Address",type:"email",value:r,onChange:g=>n(g.target.value),placeholder:"Enter your email",required:!0}),a.jsx(se,{label:"Password",type:"password",value:s,onChange:g=>i(g.target.value),placeholder:"Enter your password",required:!0}),a.jsx(z,{type:"submit",disabled:o,className:"w-full",size:"lg",children:o?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Demo Accounts - Click to Login:"}),a.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Authentication Details"}),a.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Database:"})," Supabase PostgreSQL with Row Level Security"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Password Encryption:"})," bcrypt with salt rounds"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Session Management:"})," JWT tokens with auto-refresh"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Security:"})," Account lockout after 5 failed attempts"]})]})]}),a.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-green-900 mb-2",children:" Role-Based Access Control (RBAC)"}),a.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Admin  ZO User  RO User  Supervisor  Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Permissions:"})," Each role has specific menu access and data visibility"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data Isolation:"})," Users only see data relevant to their jurisdiction"]})]})]}),a.jsx("div",{className:"space-y-2",children:y.map(g=>a.jsxs("button",{onClick:()=>b(g.email),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-left",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${g.color}`,children:a.jsx(g.icon,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.role}),a.jsx("p",{className:"text-xs text-gray-600",children:g.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",g.role==="Admin"?"1":g.role==="CPG User"?"2":g.role==="ZO User"?"3":g.role==="RO User"?"4":g.role==="Supervisor"?"5":"6","  ",g.role==="Admin"?"Full System Access":g.role==="CPG User"?"Central Planning":g.role==="ZO User"?"Zone Management":g.role==="RO User"?"Regional Management":g.role==="Supervisor"?"Team Management":"Test Taking (Lowest Level)"]})]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Click to login"})]},g.email))}),a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" Login Credentials"}),a.jsxs("div",{className:"text-xs text-yellow-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Password for all accounts:"})," ",a.jsx("span",{className:"font-mono bg-yellow-100 px-1 rounded",children:"password123"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Employee IDs:"})," ADM001, CPG001, ZO001, RO001, SUP001, ENU001-003"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone Numbers:"})," +91-9876543210 to +91-9876543217"]})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-purple-900 mb-2",children:" Organizational Structure"}),a.jsxs("div",{className:"text-xs text-purple-800 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Hierarchy:"})," Administrator  CPG User  ZO User  RO User  Supervisor  Enumerator"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Zone:"})," North Zone (ZO, RO, Supervisor, Enumerators)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Region:"})," Delhi Region (RO, Supervisor, Enumerator)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"District:"})," Central Delhi (Supervisor, Enumerators)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Team Structure:"})," 1 Supervisor manages 3 Enumerators"]})]})]})]})]})})})}function E5({children:e}){const{isAuthenticated:t,isLoading:r}=Bs();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Xl,{to:"/login",replace:!0})}function k5(){const{user:e,logout:t}=Bs(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eSigma Survey Platform"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Online MCQ Test Management System"}),!1]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(d5,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Kc,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(x5,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const C5=[{to:"/dashboard",icon:pn,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:Lr,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:Sa,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:cv,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Ht,label:"Survey Management",roles:["Admin"],level:1},{to:"/questions",icon:lv,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:Kc,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:pn,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Hc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:_a,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:pn,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:_a,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:pn,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:ws,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Oa,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Ht,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:pn,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:ec,label:"Available Tests",roles:["Enumerator"],level:5},{to:"/my-results",icon:_o,label:"My Results",roles:["Enumerator"],level:5},{to:"/my-certificates",icon:Aa,label:"My Certificates",roles:["Enumerator"],level:5},{to:"/test-schedule",icon:uv,label:"Test Schedule",roles:["Enumerator"],level:5},{to:"/results",icon:ws,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:We,label:"Enumerator Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Ae,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator"],level:1}],fw={admin:[{to:"/dashboard",icon:pn,label:"Dashboard"},{to:"/users",icon:Lr,label:"User Management"},{to:"/roles",icon:Sa,label:"Role Management"},{to:"/role-menu-management",icon:cv,label:"Menu Access Control"},{to:"/surveys",icon:Ht,label:"Survey Management"},{to:"/questions",icon:lv,label:"Question Bank"},{to:"/results",icon:ws,label:"Results & Analytics"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/certificates",icon:Ae,label:"Certificates"},{to:"/settings",icon:Kc,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:pn,label:"ZO Dashboard"},{to:"/zone-performance",icon:Hc,label:"Zone Performance"},{to:"/regional-overview",icon:_a,label:"Regional Overview"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:ws,label:"Zone Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:pn,label:"RO Dashboard"},{to:"/district-performance",icon:_a,label:"District Performance"},{to:"/supervisor-teams",icon:Oa,label:"Supervisor Teams"},{to:"/enumerator-status",icon:We,label:"Enumerator Status"},{to:"/results",icon:ws,label:"Regional Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:pn,label:"Dashboard"},{to:"/team-results",icon:ws,label:"Team Results"},{to:"/my-enumerators",icon:Oa,label:"My Enumerators"},{to:"/enumerator-status",icon:We,label:"Team Status"},{to:"/assigned-surveys",icon:Ht,label:"Assigned Surveys"},{to:"/certificates",icon:Ae,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:pn,label:"My Dashboard"},{to:"/available-tests",icon:ec,label:"Available Tests"},{to:"/my-results",icon:_o,label:"My Results"},{to:"/my-certificates",icon:Aa,label:"My Certificates"},{to:"/test-schedule",icon:uv,label:"Test Schedule"}]};function T5(){const{user:e}=Bs(),r=(()=>{if(!e)return[];const u=e.role.name==="Administrator"?"Admin":e.role.name,f=e.role.level;return C5.filter(d=>{const h=d.roles.includes(u),p=d.level?f<=d.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=fw[n]||fw.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Ht,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"eSigma"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Survey Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cv,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(a$,{to:u.to,className:({isActive:f})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(m5,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Ee({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(T5,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(k5,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function F({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:av("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function Au({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function $5({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(lt,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(Ms,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Ht,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(SA,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName,"  ",Nr(r.timestamp)]})]})]},r.id))})]})}var I5=Array.isArray,fr=I5,D5=typeof qt=="object"&&qt&&qt.Object===Object&&qt,AA=D5,M5=AA,R5=typeof self=="object"&&self&&self.Object===Object&&self,L5=M5||R5||Function("return this")(),_n=L5,F5=_n,U5=F5.Symbol,Gc=U5,hw=Gc,OA=Object.prototype,B5=OA.hasOwnProperty,z5=OA.toString,Yo=hw?hw.toStringTag:void 0;function q5(e){var t=B5.call(e,Yo),r=e[Yo];try{e[Yo]=void 0;var n=!0}catch{}var s=z5.call(e);return n&&(t?e[Yo]=r:delete e[Yo]),s}var W5=q5,H5=Object.prototype,K5=H5.toString;function V5(e){return K5.call(e)}var G5=V5,pw=Gc,Q5=W5,Y5=G5,X5="[object Null]",Z5="[object Undefined]",mw=pw?pw.toStringTag:void 0;function J5(e){return e==null?e===void 0?Z5:X5:mw&&mw in Object(e)?Q5(e):Y5(e)}var Zn=J5;function eI(e){return e!=null&&typeof e=="object"}var Jn=eI,tI=Zn,rI=Jn,nI="[object Symbol]";function sI(e){return typeof e=="symbol"||rI(e)&&tI(e)==nI}var No=sI,aI=fr,iI=No,oI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lI=/^\w*$/;function cI(e,t){if(aI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||iI(e)?!0:lI.test(e)||!oI.test(e)||t!=null&&e in Object(t)}var fv=cI;function uI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zs=uI;const So=$e(zs);var dI=Zn,fI=zs,hI="[object AsyncFunction]",pI="[object Function]",mI="[object GeneratorFunction]",gI="[object Proxy]";function xI(e){if(!fI(e))return!1;var t=dI(e);return t==pI||t==mI||t==hI||t==gI}var hv=xI;const ce=$e(hv);var vI=_n,yI=vI["__core-js_shared__"],bI=yI,Hp=bI,gw=function(){var e=/[^.]+$/.exec(Hp&&Hp.keys&&Hp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wI(e){return!!gw&&gw in e}var jI=wI,_I=Function.prototype,NI=_I.toString;function SI(e){if(e!=null){try{return NI.call(e)}catch{}try{return e+""}catch{}}return""}var PA=SI,AI=hv,OI=jI,PI=zs,EI=PA,kI=/[\\^$.*+?()[\]{}|]/g,CI=/^\[object .+?Constructor\]$/,TI=Function.prototype,$I=Object.prototype,II=TI.toString,DI=$I.hasOwnProperty,MI=RegExp("^"+II.call(DI).replace(kI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RI(e){if(!PI(e)||OI(e))return!1;var t=AI(e)?MI:CI;return t.test(EI(e))}var LI=RI;function FI(e,t){return e==null?void 0:e[t]}var UI=FI,BI=LI,zI=UI;function qI(e,t){var r=zI(e,t);return BI(r)?r:void 0}var La=qI,WI=La,HI=WI(Object,"create"),fh=HI,xw=fh;function KI(){this.__data__=xw?xw(null):{},this.size=0}var VI=KI;function GI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var QI=GI,YI=fh,XI="__lodash_hash_undefined__",ZI=Object.prototype,JI=ZI.hasOwnProperty;function eD(e){var t=this.__data__;if(YI){var r=t[e];return r===XI?void 0:r}return JI.call(t,e)?t[e]:void 0}var tD=eD,rD=fh,nD=Object.prototype,sD=nD.hasOwnProperty;function aD(e){var t=this.__data__;return rD?t[e]!==void 0:sD.call(t,e)}var iD=aD,oD=fh,lD="__lodash_hash_undefined__";function cD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=oD&&t===void 0?lD:t,this}var uD=cD,dD=VI,fD=QI,hD=tD,pD=iD,mD=uD;function Ao(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ao.prototype.clear=dD;Ao.prototype.delete=fD;Ao.prototype.get=hD;Ao.prototype.has=pD;Ao.prototype.set=mD;var gD=Ao;function xD(){this.__data__=[],this.size=0}var vD=xD;function yD(e,t){return e===t||e!==e&&t!==t}var pv=yD,bD=pv;function wD(e,t){for(var r=e.length;r--;)if(bD(e[r][0],t))return r;return-1}var hh=wD,jD=hh,_D=Array.prototype,ND=_D.splice;function SD(e){var t=this.__data__,r=jD(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ND.call(t,r,1),--this.size,!0}var AD=SD,OD=hh;function PD(e){var t=this.__data__,r=OD(t,e);return r<0?void 0:t[r][1]}var ED=PD,kD=hh;function CD(e){return kD(this.__data__,e)>-1}var TD=CD,$D=hh;function ID(e,t){var r=this.__data__,n=$D(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var DD=ID,MD=vD,RD=AD,LD=ED,FD=TD,UD=DD;function Oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oo.prototype.clear=MD;Oo.prototype.delete=RD;Oo.prototype.get=LD;Oo.prototype.has=FD;Oo.prototype.set=UD;var ph=Oo,BD=La,zD=_n,qD=BD(zD,"Map"),mv=qD,vw=gD,WD=ph,HD=mv;function KD(){this.size=0,this.__data__={hash:new vw,map:new(HD||WD),string:new vw}}var VD=KD;function GD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var QD=GD,YD=QD;function XD(e,t){var r=e.__data__;return YD(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mh=XD,ZD=mh;function JD(e){var t=ZD(this,e).delete(e);return this.size-=t?1:0,t}var e8=JD,t8=mh;function r8(e){return t8(this,e).get(e)}var n8=r8,s8=mh;function a8(e){return s8(this,e).has(e)}var i8=a8,o8=mh;function l8(e,t){var r=o8(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var c8=l8,u8=VD,d8=e8,f8=n8,h8=i8,p8=c8;function Po(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Po.prototype.clear=u8;Po.prototype.delete=d8;Po.prototype.get=f8;Po.prototype.has=h8;Po.prototype.set=p8;var gv=Po,EA=gv,m8="Expected a function";function xv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(m8);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(xv.Cache||EA),r}xv.Cache=EA;var kA=xv;const g8=$e(kA);var x8=kA,v8=500;function y8(e){var t=x8(e,function(n){return r.size===v8&&r.clear(),n}),r=t.cache;return t}var b8=y8,w8=b8,j8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_8=/\\(\\)?/g,N8=w8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(j8,function(r,n,s,i){t.push(s?i.replace(_8,"$1"):n||r)}),t}),S8=N8;function A8(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var vv=A8,yw=Gc,O8=vv,P8=fr,E8=No,k8=1/0,bw=yw?yw.prototype:void 0,ww=bw?bw.toString:void 0;function CA(e){if(typeof e=="string")return e;if(P8(e))return O8(e,CA)+"";if(E8(e))return ww?ww.call(e):"";var t=e+"";return t=="0"&&1/e==-k8?"-0":t}var C8=CA,T8=C8;function $8(e){return e==null?"":T8(e)}var TA=$8,I8=fr,D8=fv,M8=S8,R8=TA;function L8(e,t){return I8(e)?e:D8(e,t)?[e]:M8(R8(e))}var $A=L8,F8=No,U8=1/0;function B8(e){if(typeof e=="string"||F8(e))return e;var t=e+"";return t=="0"&&1/e==-U8?"-0":t}var gh=B8,z8=$A,q8=gh;function W8(e,t){t=z8(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[q8(t[r++])];return r&&r==n?e:void 0}var yv=W8,H8=yv;function K8(e,t,r){var n=e==null?void 0:H8(e,t);return n===void 0?r:n}var IA=K8;const wr=$e(IA);function V8(e){return e==null}var G8=V8;const ue=$e(G8);var Q8=Zn,Y8=fr,X8=Jn,Z8="[object String]";function J8(e){return typeof e=="string"||!Y8(e)&&X8(e)&&Q8(e)==Z8}var eM=J8;const Pa=$e(eM);var DA={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=Symbol.for("react.element"),wv=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),tM=Symbol.for("react.server_context"),jh=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),rM=Symbol.for("react.offscreen"),MA;MA=Symbol.for("react.module.reference");function Wr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bv:switch(e=e.type,e){case xh:case yh:case vh:case _h:case Nh:return e;default:switch(e=e&&e.$$typeof,e){case tM:case wh:case jh:case Ah:case Sh:case bh:return e;default:return t}}case wv:return t}}}Ie.ContextConsumer=wh;Ie.ContextProvider=bh;Ie.Element=bv;Ie.ForwardRef=jh;Ie.Fragment=xh;Ie.Lazy=Ah;Ie.Memo=Sh;Ie.Portal=wv;Ie.Profiler=yh;Ie.StrictMode=vh;Ie.Suspense=_h;Ie.SuspenseList=Nh;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return Wr(e)===wh};Ie.isContextProvider=function(e){return Wr(e)===bh};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bv};Ie.isForwardRef=function(e){return Wr(e)===jh};Ie.isFragment=function(e){return Wr(e)===xh};Ie.isLazy=function(e){return Wr(e)===Ah};Ie.isMemo=function(e){return Wr(e)===Sh};Ie.isPortal=function(e){return Wr(e)===wv};Ie.isProfiler=function(e){return Wr(e)===yh};Ie.isStrictMode=function(e){return Wr(e)===vh};Ie.isSuspense=function(e){return Wr(e)===_h};Ie.isSuspenseList=function(e){return Wr(e)===Nh};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xh||e===yh||e===vh||e===_h||e===Nh||e===rM||typeof e=="object"&&e!==null&&(e.$$typeof===Ah||e.$$typeof===Sh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===jh||e.$$typeof===MA||e.getModuleId!==void 0)};Ie.typeOf=Wr;DA.exports=Ie;var nM=DA.exports,sM=Zn,aM=Jn,iM="[object Number]";function oM(e){return typeof e=="number"||aM(e)&&sM(e)==iM}var RA=oM;const lM=$e(RA);var cM=RA;function uM(e){return cM(e)&&e!=+e}var dM=uM;const Qc=$e(dM);var Qt=function(t){return t===0?0:t>0?1:-1},ca=function(t){return Pa(t)&&t.indexOf("%")===t.length-1},Y=function(t){return lM(t)&&!Qc(t)},fM=function(t){return ue(t)},yt=function(t){return Y(t)||Pa(t)},hM=0,Eo=function(t){var r=++hM;return"".concat(t||"").concat(r)},Yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&!Pa(t))return n;var i;if(ca(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Qc(i)&&(i=n),s&&i>r&&(i=r),i},gs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},pM=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},xr=function(t,r){return Y(t)&&Y(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):wr(n,t))===r})}var mM=function(t,r){return Y(t)&&Y(r)?t-r:Pa(t)&&Pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Pi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}var gM=["viewBox","children"],xM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jw=["points","pathLength"],Kp={svg:gM,polygon:jw,polyline:jw},jv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Md=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!So(n))return null;var s={};return Object.keys(n).forEach(function(i){jv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},vM=function(t,r,n){return function(s){return t(r,n,s),null}},Ea=function(t,r,n){if(!So(t)||A0(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];jv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=vM(o,r,n))}),s},yM=["children"],bM=["children"];function _w(e,t){if(e==null)return{};var r=wM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}var Nw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Sw=null,Vp=null,_v=function e(t){if(t===Sw&&Array.isArray(Vp))return Vp;var r=[];return O.Children.forEach(t,function(n){ue(n)||(nM.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vp=r,Sw=t,r};function jr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Fn(s)}):n=[Fn(t)],_v(e).forEach(function(s){var i=wr(s,"type.displayName")||wr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function gr(e,t){var r=jr(e,t);return r&&r[0]}var Aw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Y(n)||n<=0||!Y(s)||s<=0)},jM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_M=function(t){return t&&t.type&&Pa(t.type)&&jM.indexOf(t.type)>=0},NM=function(t){return t&&O0(t)==="object"&&"clipDot"in t},SM=function(t,r,n,s){var i,o=(i=Kp==null?void 0:Kp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ce(t)&&(s&&o.includes(r)||xM.includes(r))||n&&jv.includes(r)},ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!So(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;SM((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},P0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ow(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Ow(i,o))return!1}return!0},Ow=function(t,r){if(ue(t)&&ue(r))return!0;if(!ue(t)&&!ue(r)){var n=t.props||{},s=n.children,i=_w(n,yM),o=r.props||{},l=o.children,c=_w(o,bM);return s&&l?Pi(i,c)&&P0(s,l):!s&&!l?Pi(i,c):!1}return!1},Pw=function(t,r){var n=[],s={};return _v(t).forEach(function(i,o){if(_M(i))n.push(i);else if(i){var l=Fn(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var d=u(i,l,o);n.push(d),s[l]=!0}}}),n},AM=function(t){var r=t&&t.type;return r&&Nw[r]?Nw[r]:null},OM=function(t,r){return _v(r).indexOf(t)},PM=["children","width","height","viewBox","className","style","title","desc"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function EM(e,t){if(e==null)return{};var r=kM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k0(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=EM(e,PM),f=s||{width:r,height:n,x:0,y:0},d=he("recharts-surface",i);return C.createElement("svg",E0({},ae(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),C.createElement("title",null,l),C.createElement("desc",null,c),t)}var CM=["children","className"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(this,arguments)}function TM(e,t){if(e==null)return{};var r=$M(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $M(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _e=C.forwardRef(function(e,t){var r=e.children,n=e.className,s=TM(e,CM),i=he("recharts-layer",n);return C.createElement("g",C0({className:i},ae(s,!0),{ref:t}),r)}),on=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function IM(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var DM=IM,MM=DM;function RM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:MM(e,t,r)}var LM=RM,FM="\\ud800-\\udfff",UM="\\u0300-\\u036f",BM="\\ufe20-\\ufe2f",zM="\\u20d0-\\u20ff",qM=UM+BM+zM,WM="\\ufe0e\\ufe0f",HM="\\u200d",KM=RegExp("["+HM+FM+qM+WM+"]");function VM(e){return KM.test(e)}var LA=VM;function GM(e){return e.split("")}var QM=GM,FA="\\ud800-\\udfff",YM="\\u0300-\\u036f",XM="\\ufe20-\\ufe2f",ZM="\\u20d0-\\u20ff",JM=YM+XM+ZM,eR="\\ufe0e\\ufe0f",tR="["+FA+"]",T0="["+JM+"]",$0="\\ud83c[\\udffb-\\udfff]",rR="(?:"+T0+"|"+$0+")",UA="[^"+FA+"]",BA="(?:\\ud83c[\\udde6-\\uddff]){2}",zA="[\\ud800-\\udbff][\\udc00-\\udfff]",nR="\\u200d",qA=rR+"?",WA="["+eR+"]?",sR="(?:"+nR+"(?:"+[UA,BA,zA].join("|")+")"+WA+qA+")*",aR=WA+qA+sR,iR="(?:"+[UA+T0+"?",T0,BA,zA,tR].join("|")+")",oR=RegExp($0+"(?="+$0+")|"+iR+aR,"g");function lR(e){return e.match(oR)||[]}var cR=lR,uR=QM,dR=LA,fR=cR;function hR(e){return dR(e)?fR(e):uR(e)}var pR=hR,mR=LM,gR=LA,xR=pR,vR=TA;function yR(e){return function(t){t=vR(t);var r=gR(t)?xR(t):void 0,n=r?r[0]:t.charAt(0),s=r?mR(r,1).join(""):t.slice(1);return n[e]()+s}}var bR=yR,wR=bR,jR=wR("toUpperCase"),_R=jR;const Oh=$e(_R);function Be(e){return function(){return e}}const HA=Math.cos,Rd=Math.sin,cn=Math.sqrt,Ld=Math.PI,Ph=2*Ld,I0=Math.PI,D0=2*I0,ta=1e-6,NR=D0-ta;function KA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KA;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class AR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KA:SR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ta)if(!(Math.abs(d*c-u*f)>ta)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=s-l,b=c*c+u*u,g=p*p+y*y,j=Math.sqrt(b),x=Math.sqrt(h),m=i*Math.tan((I0-Math.acos((b+h-g)/(2*j*x)))/2),N=m/x,v=m/j;Math.abs(N-1)>ta&&this._append`L${t+N*f},${r+N*d}`,this._append`A${i},${i},0,0,${+(d*p>f*y)},${this._x1=t+v*c},${this._y1=r+v*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,f=r+c,d=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ta||Math.abs(this._y1-f)>ta)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%D0+D0),h>NR?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>ta&&this._append`A${n},${n},0,${+(h>=I0)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Nv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new AR(t)}function Sv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VA(e){this._context=e}VA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eh(e){return new VA(e)}function GA(e){return e[0]}function QA(e){return e[1]}function YA(e,t){var r=Be(!0),n=null,s=Eh,i=null,o=Nv(l);e=typeof e=="function"?e:e===void 0?GA:Be(e),t=typeof t=="function"?t:t===void 0?QA:Be(t);function l(c){var u,f=(c=Sv(c)).length,d,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Ou(e,t,r){var n=null,s=Be(!0),i=null,o=Eh,l=null,c=Nv(u);e=typeof e=="function"?e:e===void 0?GA:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QA:Be(+r);function u(d){var h,p,y,b=(d=Sv(d)).length,g,j=!1,x,m=new Array(b),N=new Array(b);for(i==null&&(l=o(x=c())),h=0;h<=b;++h){if(!(h<b&&s(g=d[h],h,d))===j)if(j=!j)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(m[y],N[y]);l.lineEnd(),l.areaEnd()}j&&(m[h]=+e(g,h,d),N[h]=+t(g,h,d),l.point(n?+n(g,h,d):m[h],r?+r(g,h,d):N[h]))}if(x)return l=null,x+""||null}function f(){return YA().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Be(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class XA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function OR(e){return new XA(e,!0)}function PR(e){return new XA(e,!1)}const Av={draw(e,t){const r=cn(t/Ld);e.moveTo(r,0),e.arc(0,0,r,0,Ph)}},ER={draw(e,t){const r=cn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ZA=cn(1/3),kR=ZA*2,CR={draw(e,t){const r=cn(t/kR),n=r*ZA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TR={draw(e,t){const r=cn(t),n=-r/2;e.rect(n,n,r,r)}},$R=.8908130915292852,JA=Rd(Ld/10)/Rd(7*Ld/10),IR=Rd(Ph/10)*JA,DR=-HA(Ph/10)*JA,MR={draw(e,t){const r=cn(t*$R),n=IR*r,s=DR*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Ph*i/5,l=HA(o),c=Rd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Gp=cn(3),RR={draw(e,t){const r=-cn(t/(Gp*3));e.moveTo(0,r*2),e.lineTo(-Gp*r,-r),e.lineTo(Gp*r,-r),e.closePath()}},Er=-.5,kr=cn(3)/2,M0=1/cn(12),LR=(M0/2+1)*3,FR={draw(e,t){const r=cn(t/LR),n=r/2,s=r*M0,i=n,o=r*M0+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Er*n-kr*s,kr*n+Er*s),e.lineTo(Er*i-kr*o,kr*i+Er*o),e.lineTo(Er*l-kr*c,kr*l+Er*c),e.lineTo(Er*n+kr*s,Er*s-kr*n),e.lineTo(Er*i+kr*o,Er*o-kr*i),e.lineTo(Er*l+kr*c,Er*c-kr*l),e.closePath()}};function UR(e,t){let r=null,n=Nv(s);e=typeof e=="function"?e:Be(e||Av),t=typeof t=="function"?t:Be(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Be(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Be(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Fd(){}function Ud(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function e4(e){this._context=e}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ud(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BR(e){return new e4(e)}function t4(e){this._context=e}t4.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zR(e){return new t4(e)}function r4(e){this._context=e}r4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qR(e){return new r4(e)}function n4(e){this._context=e}n4.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WR(e){return new n4(e)}function Ew(e){return e<0?-1:1}function kw(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Ew(i)+Ew(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Cw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Bd(e){this._context=e}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qp(this,this._t0,Cw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qp(this,Cw(this,r=kw(this,e,t)),r);break;default:Qp(this,this._t0,r=kw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function s4(e){this._context=new a4(e)}(s4.prototype=Object.create(Bd.prototype)).point=function(e,t){Bd.prototype.point.call(this,t,e)};function a4(e){this._context=e}a4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function HR(e){return new Bd(e)}function KR(e){return new s4(e)}function i4(e){this._context=e}i4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tw(e),s=Tw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tw(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function VR(e){return new i4(e)}function kh(e,t){this._context=e,this._t=t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function GR(e){return new kh(e,.5)}function QR(e){return new kh(e,0)}function YR(e){return new kh(e,1)}function Bi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function R0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XR(e,t){return e[t]}function ZR(e){const t=[];return t.key=e,t}function JR(){var e=Be([]),t=R0,r=Bi,n=XR;function s(i){var o=Array.from(e.apply(this,arguments),ZR),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Sv(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Be(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Be(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?R0:typeof i=="function"?i:Be(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Bi,s):r},s}function eL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Bi(e,t)}}function tL(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bi(e,t)}}function rL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var b=e[t[y]],g=b[n][1]||0,j=b[n-1][1]||0;p+=g-j}c+=d,u+=p*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Bi(e,t)}}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}var nL=["type","size","sizeType"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){sL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sL(e,t,r){return t=aL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){var t=iL(e,"string");return tc(t)=="symbol"?t:t+""}function iL(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oL(e,t){if(e==null)return{};var r=lL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o4={symbolCircle:Av,symbolCross:ER,symbolDiamond:CR,symbolSquare:TR,symbolStar:MR,symbolTriangle:RR,symbolWye:FR},cL=Math.PI/180,uL=function(t){var r="symbol".concat(Oh(t));return o4[r]||Av},dL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*cL;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fL=function(t,r){o4["symbol".concat(Oh(t))]=r},Ov=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=oL(t,nL),u=Iw(Iw({},c),{},{type:n,size:i,sizeType:l}),f=function(){var g=uL(n),j=UR().type(g).size(dL(i,l,n));return j()},d=u.className,h=u.cx,p=u.cy,y=ae(u,!0);return h===+h&&p===+p&&i===+i?C.createElement("path",L0({},y,{className:he("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Ov.registerSymbol=fL;function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){rc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c4(n.key),n)}}function gL(e,t,r){return t&&mL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xL(e,t,r){return t=zd(t),vL(e,l4()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function vL(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yL(e)}function yL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function bL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U0(e,t)}function U0(e,t){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U0(e,t)}function rc(e,t,r){return t=c4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4(e){var t=wL(e,"string");return zi(t)=="symbol"?t:t+""}function wL(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr=32,Pv=function(e){function t(){return pL(this,t),xL(this,t,arguments)}return bL(t,e),gL(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Cr/2,o=Cr/6,l=Cr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(C.isValidElement(n.legendIcon)){var u=hL({},n);return delete u.legendIcon,C.cloneElement(n.legendIcon,u)}return C.createElement(Ov,{fill:c,cx:i,cy:i,size:Cr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:Cr,height:Cr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var b=p.formatter||c,g=he(rc(rc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var j=ce(p.value)?null:p.value;on(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return C.createElement("li",F0({className:g,style:d,key:"legend-item-".concat(y)},Ea(n.props,p,y)),C.createElement(k0,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(j,p,y):j))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);rc(Pv,"displayName","Legend");rc(Pv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jL=ph;function _L(){this.__data__=new jL,this.size=0}var NL=_L;function SL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var AL=SL;function OL(e){return this.__data__.get(e)}var PL=OL;function EL(e){return this.__data__.has(e)}var kL=EL,CL=ph,TL=mv,$L=gv,IL=200;function DL(e,t){var r=this.__data__;if(r instanceof CL){var n=r.__data__;if(!TL||n.length<IL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $L(n)}return r.set(e,t),this.size=r.size,this}var ML=DL,RL=ph,LL=NL,FL=AL,UL=PL,BL=kL,zL=ML;function ko(e){var t=this.__data__=new RL(e);this.size=t.size}ko.prototype.clear=LL;ko.prototype.delete=FL;ko.prototype.get=UL;ko.prototype.has=BL;ko.prototype.set=zL;var u4=ko,qL="__lodash_hash_undefined__";function WL(e){return this.__data__.set(e,qL),this}var HL=WL;function KL(e){return this.__data__.has(e)}var VL=KL,GL=gv,QL=HL,YL=VL;function qd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new GL;++t<r;)this.add(e[t])}qd.prototype.add=qd.prototype.push=QL;qd.prototype.has=YL;var d4=qd;function XL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var f4=XL;function ZL(e,t){return e.has(t)}var h4=ZL,JL=d4,e9=f4,t9=h4,r9=1,n9=2;function s9(e,t,r,n,s,i){var o=r&r9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&n9?new JL:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var y=e[d],b=t[d];if(n)var g=o?n(b,y,d,t,e,i):n(y,b,d,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!e9(t,function(j,x){if(!t9(p,x)&&(y===j||s(y,j,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(y===b||s(y,b,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var p4=s9,a9=_n,i9=a9.Uint8Array,o9=i9;function l9(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var c9=l9;function u9(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ev=u9,Mw=Gc,Rw=o9,d9=pv,f9=p4,h9=c9,p9=Ev,m9=1,g9=2,x9="[object Boolean]",v9="[object Date]",y9="[object Error]",b9="[object Map]",w9="[object Number]",j9="[object RegExp]",_9="[object Set]",N9="[object String]",S9="[object Symbol]",A9="[object ArrayBuffer]",O9="[object DataView]",Lw=Mw?Mw.prototype:void 0,Yp=Lw?Lw.valueOf:void 0;function P9(e,t,r,n,s,i,o){switch(r){case O9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A9:return!(e.byteLength!=t.byteLength||!i(new Rw(e),new Rw(t)));case x9:case v9:case w9:return d9(+e,+t);case y9:return e.name==t.name&&e.message==t.message;case j9:case N9:return e==t+"";case b9:var l=h9;case _9:var c=n&m9;if(l||(l=p9),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=g9,o.set(e,t);var f=f9(l(e),l(t),n,s,i,o);return o.delete(e),f;case S9:if(Yp)return Yp.call(e)==Yp.call(t)}return!1}var E9=P9;function k9(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var m4=k9,C9=m4,T9=fr;function $9(e,t,r){var n=t(e);return T9(e)?n:C9(n,r(e))}var I9=$9;function D9(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var M9=D9;function R9(){return[]}var L9=R9,F9=M9,U9=L9,B9=Object.prototype,z9=B9.propertyIsEnumerable,Fw=Object.getOwnPropertySymbols,q9=Fw?function(e){return e==null?[]:(e=Object(e),F9(Fw(e),function(t){return z9.call(e,t)}))}:U9,W9=q9;function H9(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var K9=H9,V9=Zn,G9=Jn,Q9="[object Arguments]";function Y9(e){return G9(e)&&V9(e)==Q9}var X9=Y9,Uw=X9,Z9=Jn,g4=Object.prototype,J9=g4.hasOwnProperty,e7=g4.propertyIsEnumerable,t7=Uw(function(){return arguments}())?Uw:function(e){return Z9(e)&&J9.call(e,"callee")&&!e7.call(e,"callee")},kv=t7,Wd={exports:{}};function r7(){return!1}var n7=r7;Wd.exports;(function(e,t){var r=_n,n=n7,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Wd,Wd.exports);var x4=Wd.exports,s7=9007199254740991,a7=/^(?:0|[1-9]\d*)$/;function i7(e,t){var r=typeof e;return t=t??s7,!!t&&(r=="number"||r!="symbol"&&a7.test(e))&&e>-1&&e%1==0&&e<t}var Cv=i7,o7=9007199254740991;function l7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=o7}var Tv=l7,c7=Zn,u7=Tv,d7=Jn,f7="[object Arguments]",h7="[object Array]",p7="[object Boolean]",m7="[object Date]",g7="[object Error]",x7="[object Function]",v7="[object Map]",y7="[object Number]",b7="[object Object]",w7="[object RegExp]",j7="[object Set]",_7="[object String]",N7="[object WeakMap]",S7="[object ArrayBuffer]",A7="[object DataView]",O7="[object Float32Array]",P7="[object Float64Array]",E7="[object Int8Array]",k7="[object Int16Array]",C7="[object Int32Array]",T7="[object Uint8Array]",$7="[object Uint8ClampedArray]",I7="[object Uint16Array]",D7="[object Uint32Array]",Ye={};Ye[O7]=Ye[P7]=Ye[E7]=Ye[k7]=Ye[C7]=Ye[T7]=Ye[$7]=Ye[I7]=Ye[D7]=!0;Ye[f7]=Ye[h7]=Ye[S7]=Ye[p7]=Ye[A7]=Ye[m7]=Ye[g7]=Ye[x7]=Ye[v7]=Ye[y7]=Ye[b7]=Ye[w7]=Ye[j7]=Ye[_7]=Ye[N7]=!1;function M7(e){return d7(e)&&u7(e.length)&&!!Ye[c7(e)]}var R7=M7;function L7(e){return function(t){return e(t)}}var v4=L7,Hd={exports:{}};Hd.exports;(function(e,t){var r=AA,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Hd,Hd.exports);var F7=Hd.exports,U7=R7,B7=v4,Bw=F7,zw=Bw&&Bw.isTypedArray,z7=zw?B7(zw):U7,y4=z7,q7=K9,W7=kv,H7=fr,K7=x4,V7=Cv,G7=y4,Q7=Object.prototype,Y7=Q7.hasOwnProperty;function X7(e,t){var r=H7(e),n=!r&&W7(e),s=!r&&!n&&K7(e),i=!r&&!n&&!s&&G7(e),o=r||n||s||i,l=o?q7(e.length,String):[],c=l.length;for(var u in e)(t||Y7.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V7(u,c)))&&l.push(u);return l}var Z7=X7,J7=Object.prototype;function eF(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||J7;return e===r}var tF=eF;function rF(e,t){return function(r){return e(t(r))}}var b4=rF,nF=b4,sF=nF(Object.keys,Object),aF=sF,iF=tF,oF=aF,lF=Object.prototype,cF=lF.hasOwnProperty;function uF(e){if(!iF(e))return oF(e);var t=[];for(var r in Object(e))cF.call(e,r)&&r!="constructor"&&t.push(r);return t}var dF=uF,fF=hv,hF=Tv;function pF(e){return e!=null&&hF(e.length)&&!fF(e)}var Yc=pF,mF=Z7,gF=dF,xF=Yc;function vF(e){return xF(e)?mF(e):gF(e)}var Ch=vF,yF=I9,bF=W9,wF=Ch;function jF(e){return yF(e,wF,bF)}var _F=jF,qw=_F,NF=1,SF=Object.prototype,AF=SF.hasOwnProperty;function OF(e,t,r,n,s,i){var o=r&NF,l=qw(e),c=l.length,u=qw(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:AF.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var b=!0;i.set(e,t),i.set(t,e);for(var g=o;++d<c;){h=l[d];var j=e[h],x=t[h];if(n)var m=o?n(x,j,h,t,e,i):n(j,x,h,e,t,i);if(!(m===void 0?j===x||s(j,x,r,n,i):m)){b=!1;break}g||(g=h=="constructor")}if(b&&!g){var N=e.constructor,v=t.constructor;N!=v&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof v=="function"&&v instanceof v)&&(b=!1)}return i.delete(e),i.delete(t),b}var PF=OF,EF=La,kF=_n,CF=EF(kF,"DataView"),TF=CF,$F=La,IF=_n,DF=$F(IF,"Promise"),MF=DF,RF=La,LF=_n,FF=RF(LF,"Set"),w4=FF,UF=La,BF=_n,zF=UF(BF,"WeakMap"),qF=zF,B0=TF,z0=mv,q0=MF,W0=w4,H0=qF,j4=Zn,Co=PA,Ww="[object Map]",WF="[object Object]",Hw="[object Promise]",Kw="[object Set]",Vw="[object WeakMap]",Gw="[object DataView]",HF=Co(B0),KF=Co(z0),VF=Co(q0),GF=Co(W0),QF=Co(H0),ra=j4;(B0&&ra(new B0(new ArrayBuffer(1)))!=Gw||z0&&ra(new z0)!=Ww||q0&&ra(q0.resolve())!=Hw||W0&&ra(new W0)!=Kw||H0&&ra(new H0)!=Vw)&&(ra=function(e){var t=j4(e),r=t==WF?e.constructor:void 0,n=r?Co(r):"";if(n)switch(n){case HF:return Gw;case KF:return Ww;case VF:return Hw;case GF:return Kw;case QF:return Vw}return t});var YF=ra,Xp=u4,XF=p4,ZF=E9,JF=PF,Qw=YF,Yw=fr,Xw=x4,eU=y4,tU=1,Zw="[object Arguments]",Jw="[object Array]",Pu="[object Object]",rU=Object.prototype,e1=rU.hasOwnProperty;function nU(e,t,r,n,s,i){var o=Yw(e),l=Yw(t),c=o?Jw:Qw(e),u=l?Jw:Qw(t);c=c==Zw?Pu:c,u=u==Zw?Pu:u;var f=c==Pu,d=u==Pu,h=c==u;if(h&&Xw(e)){if(!Xw(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Xp),o||eU(e)?XF(e,t,r,n,s,i):ZF(e,t,c,r,n,s,i);if(!(r&tU)){var p=f&&e1.call(e,"__wrapped__"),y=d&&e1.call(t,"__wrapped__");if(p||y){var b=p?e.value():e,g=y?t.value():t;return i||(i=new Xp),s(b,g,r,n,i)}}return h?(i||(i=new Xp),JF(e,t,r,n,s,i)):!1}var sU=nU,aU=sU,t1=Jn;function _4(e,t,r,n,s){return e===t?!0:e==null||t==null||!t1(e)&&!t1(t)?e!==e&&t!==t:aU(e,t,r,n,_4,s)}var $v=_4,iU=u4,oU=$v,lU=1,cU=2;function uU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new iU;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?oU(f,u,lU|cU,n,d):h))return!1}}return!0}var dU=uU,fU=zs;function hU(e){return e===e&&!fU(e)}var N4=hU,pU=N4,mU=Ch;function gU(e){for(var t=mU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,pU(s)]}return t}var xU=gU;function vU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var S4=vU,yU=dU,bU=xU,wU=S4;function jU(e){var t=bU(e);return t.length==1&&t[0][2]?wU(t[0][0],t[0][1]):function(r){return r===e||yU(r,e,t)}}var _U=jU;function NU(e,t){return e!=null&&t in Object(e)}var SU=NU,AU=$A,OU=kv,PU=fr,EU=Cv,kU=Tv,CU=gh;function TU(e,t,r){t=AU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=CU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&kU(s)&&EU(o,s)&&(PU(e)||OU(e)))}var $U=TU,IU=SU,DU=$U;function MU(e,t){return e!=null&&DU(e,t,IU)}var RU=MU,LU=$v,FU=IA,UU=RU,BU=fv,zU=N4,qU=S4,WU=gh,HU=1,KU=2;function VU(e,t){return BU(e)&&zU(t)?qU(WU(e),t):function(r){var n=FU(r,e);return n===void 0&&n===t?UU(r,e):LU(t,n,HU|KU)}}var GU=VU;function QU(e){return e}var To=QU;function YU(e){return function(t){return t==null?void 0:t[e]}}var XU=YU,ZU=yv;function JU(e){return function(t){return ZU(t,e)}}var eB=JU,tB=XU,rB=eB,nB=fv,sB=gh;function aB(e){return nB(e)?tB(sB(e)):rB(e)}var iB=aB,oB=_U,lB=GU,cB=To,uB=fr,dB=iB;function fB(e){return typeof e=="function"?e:e==null?cB:typeof e=="object"?uB(e)?lB(e[0],e[1]):oB(e):dB(e)}var Nn=fB;function hB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var A4=hB;function pB(e){return e!==e}var mB=pB;function gB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var xB=gB,vB=A4,yB=mB,bB=xB;function wB(e,t,r){return t===t?bB(e,t,r):vB(e,yB,r)}var jB=wB,_B=jB;function NB(e,t){var r=e==null?0:e.length;return!!r&&_B(e,t,0)>-1}var SB=NB;function AB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var OB=AB;function PB(){}var EB=PB,Zp=w4,kB=EB,CB=Ev,TB=1/0,$B=Zp&&1/CB(new Zp([,-0]))[1]==TB?function(e){return new Zp(e)}:kB,IB=$B,DB=d4,MB=SB,RB=OB,LB=h4,FB=IB,UB=Ev,BB=200;function zB(e,t,r){var n=-1,s=MB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=RB;else if(i>=BB){var u=t?null:FB(e);if(u)return UB(u);o=!1,s=LB,c=new DB}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var qB=zB,WB=Nn,HB=qB;function KB(e,t){return e&&e.length?HB(e,WB(t)):[]}var VB=KB;const r1=$e(VB);function O4(e,t,r){return t===!0?r1(e,r):ce(t)?r1(e,t):e}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var GB=["ref"];function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){Th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function YB(e,t,r){return t&&s1(e.prototype,t),r&&s1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XB(e,t,r){return t=Kd(t),ZB(e,P4()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function ZB(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JB(e)}function JB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function ez(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K0(e,t)}function Th(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=tz(e,"string");return qi(t)=="symbol"?t:t+""}function tz(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rz(e,t){if(e==null)return{};var r=nz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sz(e){return e.value}function az(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=rz(t,GB);return C.createElement(Pv,r)}var a1=1,Ei=function(e){function t(){var r;QB(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=XB(this,t,[].concat(s)),Th(r,"lastBoundingBox",{width:-1,height:-1}),r}return ez(t,e),YB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>a1||Math.abs(s.height-this.lastBoundingBox.height)>a1)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?An({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return An(An({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,d=An(An({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return C.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},az(i,An(An({},this.props),{},{payload:O4(f,u,sz)})))}}],[{key:"getWithHeight",value:function(n,s){var i=An(An({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);Th(Ei,"displayName","Legend");Th(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i1=Gc,iz=kv,oz=fr,o1=i1?i1.isConcatSpreadable:void 0;function lz(e){return oz(e)||iz(e)||!!(o1&&e&&e[o1])}var cz=lz,uz=m4,dz=cz;function k4(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=dz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?k4(l,t-1,r,n,s):uz(s,l):n||(s[s.length]=l)}return s}var C4=k4;function fz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var hz=fz,pz=hz,mz=pz(),gz=mz,xz=gz,vz=Ch;function yz(e,t){return e&&xz(e,t,vz)}var T4=yz,bz=Yc;function wz(e,t){return function(r,n){if(r==null)return r;if(!bz(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var jz=wz,_z=T4,Nz=jz,Sz=Nz(_z),Iv=Sz,Az=Iv,Oz=Yc;function Pz(e,t){var r=-1,n=Oz(e)?Array(e.length):[];return Az(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var $4=Pz;function Ez(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var kz=Ez,l1=No;function Cz(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=l1(e),o=t!==void 0,l=t===null,c=t===t,u=l1(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Tz=Cz,$z=Tz;function Iz(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=$z(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Dz=Iz,Jp=vv,Mz=yv,Rz=Nn,Lz=$4,Fz=kz,Uz=v4,Bz=Dz,zz=To,qz=fr;function Wz(e,t,r){t.length?t=Jp(t,function(i){return qz(i)?function(o){return Mz(o,i.length===1?i[0]:i)}:i}):t=[zz];var n=-1;t=Jp(t,Uz(Rz));var s=Lz(e,function(i,o,l){var c=Jp(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Fz(s,function(i,o){return Bz(i,o,r)})}var Hz=Wz;function Kz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Vz=Kz,Gz=Vz,c1=Math.max;function Qz(e,t,r){return t=c1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=c1(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Gz(e,this,l)}}var Yz=Qz;function Xz(e){return function(){return e}}var Zz=Xz,Jz=La,eq=function(){try{var e=Jz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),I4=eq,tq=Zz,u1=I4,rq=To,nq=u1?function(e,t){return u1(e,"toString",{configurable:!0,enumerable:!1,value:tq(t),writable:!0})}:rq,sq=nq,aq=800,iq=16,oq=Date.now;function lq(e){var t=0,r=0;return function(){var n=oq(),s=iq-(n-r);if(r=n,s>0){if(++t>=aq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cq=lq,uq=sq,dq=cq,fq=dq(uq),hq=fq,pq=To,mq=Yz,gq=hq;function xq(e,t){return gq(mq(e,t,pq),e+"")}var vq=xq,yq=pv,bq=Yc,wq=Cv,jq=zs;function _q(e,t,r){if(!jq(r))return!1;var n=typeof t;return(n=="number"?bq(r)&&wq(t,r.length):n=="string"&&t in r)?yq(r[t],e):!1}var $h=_q,Nq=C4,Sq=Hz,Aq=vq,d1=$h,Oq=Aq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&d1(e,t[0],t[1])?t=[]:r>2&&d1(t[0],t[1],t[2])&&(t=[t[0]]),Sq(e,Nq(t,1),[])}),Pq=Oq;const Dv=$e(Pq);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function Eq(e,t){return $q(e)||Tq(e,t)||Cq(e,t)||kq()}function kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $q(e){if(Array.isArray(e))return e}function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return nc(t)=="symbol"?t:t+""}function Mq(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){return Array.isArray(e)&&yt(e[0])&&yt(e[1])?e.join(" ~ "):e}var Lq=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,b=t.label,g=t.labelFormatter,j=t.accessibilityLayer,x=j===void 0?!1:j,m=function(){if(f&&f.length){var k={padding:0,margin:0},I=(h?Dv(f,h):f).map(function(T,R){if(T.type==="none")return null;var U=em({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),W=T.formatter||d||Rq,$=T.value,L=T.name,D=$,K=L;if(W&&D!=null&&K!=null){var Q=W($,L,T,R,f);if(Array.isArray(Q)){var te=Eq(Q,2);D=te[0],K=te[1]}else D=Q}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:U},yt(K)?C.createElement("span",{className:"recharts-tooltip-item-name"},K):null,yt(K)?C.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,C.createElement("span",{className:"recharts-tooltip-item-value"},D),C.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},N=em({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=em({margin:0},u),w=!ue(b),S=w?b:"",_=he("recharts-default-tooltip",p),A=he("recharts-tooltip-label",y);w&&g&&f!==void 0&&f!==null&&(S=g(b,f));var P=x?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",V0({className:_,style:N},P),C.createElement("p",{className:A,style:v},C.isValidElement(S)?S:"".concat(S)),m())};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Eu(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Uq(e,"string");return sc(t)=="symbol"?t:t+""}function Uq(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xo="recharts-tooltip-wrapper",Bq={visibility:"hidden"};function zq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return he(Xo,Eu(Eu(Eu(Eu({},"".concat(Xo,"-right"),Y(r)&&t&&Y(t.x)&&r>=t.x),"".concat(Xo,"-left"),Y(r)&&t&&Y(t.x)&&r<t.x),"".concat(Xo,"-bottom"),Y(n)&&t&&Y(t.y)&&n>=t.y),"".concat(Xo,"-top"),Y(n)&&t&&Y(t.y)&&n<t.y))}function p1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Y(i[n]))return i[n];var f=r[n]-l-s,d=r[n]+s;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,b=c[n]+u;return y>b?Math.max(f,c[n]):Math.max(d,c[n])}function qq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Wq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=p1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=p1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=qq({translateX:f,translateY:d,useTranslate3d:l})):u=Bq,{cssProperties:u,cssClasses:zq({translateX:f,translateY:d,coordinate:r})}}function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M4(n.key),n)}}function Vq(e,t,r){return t&&Kq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gq(e,t,r){return t=Vd(t),Qq(e,D4()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function Qq(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(e)}function Yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G0(e,t)}function G0(e,t){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G0(e,t)}function Q0(e,t,r){return t=M4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4(e){var t=Zq(e,"string");return Wi(t)=="symbol"?t:t+""}function Zq(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x1=1,Jq=function(e){function t(){var r;Hq(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Gq(this,t,[].concat(s)),Q0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Q0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Xq(t,e),Vq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x1||Math.abs(n.height-this.state.lastBoundingBox.height)>x1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,p=s.offset,y=s.position,b=s.reverseDirection,g=s.useTranslate3d,j=s.viewBox,x=s.wrapperStyle,m=Wq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),N=m.cssClasses,v=m.cssProperties,w=g1(g1({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return C.createElement("div",{tabIndex:-1,className:N,style:w,ref:function(_){n.wrapperNode=_}},u)}}])}(O.PureComponent),eW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vn={isSsr:eW(),get:function(t){return vn[t]},set:function(t,r){if(typeof t=="string")vn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){vn[s]=t[s]})}}};function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function nW(e,t,r){return t&&rW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sW(e,t,r){return t=Gd(t),aW(e,R4()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function aW(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(e)}function iW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function oW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y0(e,t)}function Mv(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=lW(e,"string");return Hi(t)=="symbol"?t:t+""}function lW(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e){return e.dataKey}function uW(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(Lq,t)}var ze=function(e){function t(){return tW(this,t),sW(this,t,arguments)}return oW(t,e),nW(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,d=s.filterNull,h=s.isAnimationActive,p=s.offset,y=s.payload,b=s.payloadUniqBy,g=s.position,j=s.reverseDirection,x=s.useTranslate3d,m=s.viewBox,N=s.wrapperStyle,v=y??[];d&&v.length&&(v=O4(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,cW));var w=v.length>0;return C.createElement(Jq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:w,offset:p,position:g,reverseDirection:j,useTranslate3d:x,viewBox:m,wrapperStyle:N},uW(u,y1(y1({},this.props),{},{payload:v})))}}])}(O.PureComponent);Mv(ze,"displayName","Tooltip");Mv(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dW=_n,fW=function(){return dW.Date.now()},hW=fW,pW=/\s/;function mW(e){for(var t=e.length;t--&&pW.test(e.charAt(t)););return t}var gW=mW,xW=gW,vW=/^\s+/;function yW(e){return e&&e.slice(0,xW(e)+1).replace(vW,"")}var bW=yW,wW=bW,b1=zs,jW=No,w1=NaN,_W=/^[-+]0x[0-9a-f]+$/i,NW=/^0b[01]+$/i,SW=/^0o[0-7]+$/i,AW=parseInt;function OW(e){if(typeof e=="number")return e;if(jW(e))return w1;if(b1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=b1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wW(e);var r=NW.test(e);return r||SW.test(e)?AW(e.slice(2),r?2:8):_W.test(e)?w1:+e}var F4=OW,PW=zs,tm=hW,j1=F4,EW="Expected a function",kW=Math.max,CW=Math.min;function TW(e,t,r){var n,s,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(EW);t=j1(t)||0,PW(r)&&(f=!!r.leading,d="maxWait"in r,i=d?kW(j1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(w){var S=n,_=s;return n=s=void 0,u=w,o=e.apply(_,S),o}function y(w){return u=w,l=setTimeout(j,t),f?p(w):o}function b(w){var S=w-c,_=w-u,A=t-S;return d?CW(A,i-_):A}function g(w){var S=w-c,_=w-u;return c===void 0||S>=t||S<0||d&&_>=i}function j(){var w=tm();if(g(w))return x(w);l=setTimeout(j,b(w))}function x(w){return l=void 0,h&&n?p(w):(n=s=void 0,o)}function m(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:x(tm())}function v(){var w=tm(),S=g(w);if(n=arguments,s=this,c=w,S){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(j,t),p(c)}return l===void 0&&(l=setTimeout(j,t)),o}return v.cancel=m,v.flush=N,v}var $W=TW,IW=$W,DW=zs,MW="Expected a function";function RW(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(MW);return DW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),IW(e,t,{leading:n,maxWait:t,trailing:s})}var LW=RW;const U4=$e(LW);function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return t=UW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=BW(e,"string");return ac(t)=="symbol"?t:t+""}function BW(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zW(e,t){return KW(e)||HW(e,t)||WW(e,t)||qW()}function qW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function KW(e){if(Array.isArray(e))return e}var $t=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,b=y===void 0?0:y,g=e.id,j=e.className,x=e.onResize,m=e.style,N=m===void 0?{}:m,v=O.useRef(null),w=O.useRef();w.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var S=O.useState({containerWidth:s.width,containerHeight:s.height}),_=zW(S,2),A=_[0],P=_[1],E=O.useCallback(function(I,T){P(function(R){var U=Math.round(I),W=Math.round(T);return R.containerWidth===U&&R.containerHeight===W?R:{containerWidth:U,containerHeight:W}})},[]);O.useEffect(function(){var I=function(L){var D,K=L[0].contentRect,Q=K.width,te=K.height;E(Q,te),(D=w.current)===null||D===void 0||D.call(w,Q,te)};b>0&&(I=U4(I,b,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),R=v.current.getBoundingClientRect(),U=R.width,W=R.height;return E(U,W),T.observe(v.current),function(){T.disconnect()}},[E,b]);var k=O.useMemo(function(){var I=A.containerWidth,T=A.containerHeight;if(I<0||T<0)return null;on(ca(o)||ca(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),on(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=ca(o)?I:o,U=ca(c)?T:c;r&&r>0&&(R?U=R/r:U&&(R=U*r),h&&U>h&&(U=h)),on(R>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,U,o,c,f,d,r);var W=!Array.isArray(p)&&Fn(p.type).endsWith("Chart");return C.Children.map(p,function($){return C.isValidElement($)?O.cloneElement($,ku({width:R,height:U},W?{style:ku({height:"100%",width:"100%",maxHeight:U,maxWidth:R},$.props.style)}:{})):$})},[r,p,c,h,d,f,A,o]);return C.createElement("div",{id:g?"".concat(g):void 0,className:he("recharts-responsive-container",j),style:ku(ku({},N),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:v},k)}),qs=function(t){return null};qs.displayName="Cell";function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=QW(e,"string");return ic(t)=="symbol"?t:t+""}function QW(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xa={widthCache:{},cacheCount:0},YW=2e3,XW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function ZW(e){var t=X0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Nl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vn.isSsr)return{width:0,height:0};var n=ZW(r),s=JSON.stringify({text:t,copyStyle:n});if(Xa.widthCache[s])return Xa.widthCache[s];try{var i=document.getElementById(A1);i||(i=document.createElement("span"),i.setAttribute("id",A1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=X0(X0({},XW),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Xa.widthCache[s]=c,++Xa.cacheCount>YW&&(Xa.cacheCount=0,Xa.widthCache={}),c}catch{return{width:0,height:0}}},JW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Qd(e,t){return nH(e)||rH(e,t)||tH(e,t)||eH()}function eH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nH(e){if(Array.isArray(e))return e}function sH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function aH(e,t,r){return t&&P1(e.prototype,t),r&&P1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iH(e){var t=oH(e,"string");return oc(t)=="symbol"?t:t+""}function oH(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uH=Object.keys(B4),gi="NaN";function dH(e,t){return e*B4[t]}var Cu=function(){function e(t,r){sH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!lH.test(r)&&(this.num=NaN,this.unit=""),uH.includes(r)&&(this.num=dH(t,r),this.unit="px")}return aH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=cH.exec(r))!==null&&n!==void 0?n:[],i=Qd(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function z4(e){if(e.includes(gi))return gi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=E1.exec(t))!==null&&r!==void 0?r:[],s=Qd(n,4),i=s[1],o=s[2],l=s[3],c=Cu.parse(i??""),u=Cu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return gi;t=t.replace(E1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=k1.exec(t))!==null&&d!==void 0?d:[],p=Qd(h,4),y=p[1],b=p[2],g=p[3],j=Cu.parse(y??""),x=Cu.parse(g??""),m=b==="+"?j.add(x):j.subtract(x);if(m.isNaN())return gi;t=t.replace(k1,m.toString())}return t}var C1=/\(([^()]*)\)/;function fH(e){for(var t=e;t.includes("(");){var r=C1.exec(t),n=Qd(r,2),s=n[1];t=t.replace(C1,z4(s))}return t}function hH(e){var t=e.replace(/\s+/g,"");return t=fH(t),t=z4(t),t}function pH(e){try{return hH(e)}catch{return gi}}function rm(e){var t=pH(e.slice(5,-1));return t===gi?"":t}var mH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gH=["dx","dy","angle","className","breakAll"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function T1(e,t){if(e==null)return{};var r=xH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $1(e,t){return wH(e)||bH(e,t)||yH(e,t)||vH()}function vH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wH(e){if(Array.isArray(e))return e}var q4=/[ \f\n\r\t\v\u2028\u2029]+/,W4=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];ue(r)||(n?i=r.toString().split(""):i=r.toString().split(q4));var o=i.map(function(c){return{word:c,width:Nl(c,s).width}}),l=n?0:Nl("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Y(o),d=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(U,W){var $=W.word,L=W.width,D=U[U.length-1];if(D&&(s==null||i||D.width+L+n<Number(s)))D.words.push($),D.width+=L+n;else{var K={words:[$],width:L};U.push(K)}return U},[])},p=h(r),y=function(R){return R.reduce(function(U,W){return U.width>W.width?U:W})};if(!f)return p;for(var b="",g=function(R){var U=d.slice(0,R),W=W4({breakAll:u,style:c,children:U+b}).wordsWithComputedWidth,$=h(W),L=$.length>o||y($).width>Number(s);return[L,$]},j=0,x=d.length-1,m=0,N;j<=x&&m<=d.length-1;){var v=Math.floor((j+x)/2),w=v-1,S=g(w),_=$1(S,2),A=_[0],P=_[1],E=g(v),k=$1(E,1),I=k[0];if(!A&&!I&&(j=v+1),A&&I&&(x=v-1),!A&&I){N=P;break}m++}return N||p},D1=function(t){var r=ue(t)?[]:t.toString().split(q4);return[{words:r}]},_H=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!vn.isSsr){var c,u,f=W4({breakAll:o,children:s,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return D1(s);return jH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return D1(s)},M1="#808080",ka=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,b=y===void 0?"end":y,g=t.fill,j=g===void 0?M1:g,x=T1(t,mH),m=O.useMemo(function(){return _H({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),N=x.dx,v=x.dy,w=x.angle,S=x.className,_=x.breakAll,A=T1(x,gH);if(!yt(n)||!yt(i))return null;var P=n+(Y(N)?N:0),E=i+(Y(v)?v:0),k;switch(b){case"start":k=rm("calc(".concat(u,")"));break;case"middle":k=rm("calc(".concat((m.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=rm("calc(".concat(m.length-1," * -").concat(l,")"));break}var I=[];if(d){var T=m[0].width,R=x.width;I.push("scale(".concat((Y(R)?R/T:1)/T,")"))}return w&&I.push("rotate(".concat(w,", ").concat(P,", ").concat(E,")")),I.length&&(A.transform=I.join(" ")),C.createElement("text",Z0({},ae(A,!0),{x:P,y:E,className:he("recharts-text",S),textAnchor:p,fill:j.includes("url")?M1:j}),m.map(function(U,W){var $=U.words.join(_?"":" ");return C.createElement("tspan",{x:P,dy:W===0?k:l,key:"".concat($,"-").concat(W)},$)}))};function $s(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rv(e){let t,r,n;e.length!==2?(t=$s,r=(l,c)=>$s(e(l),c),n=(l,c)=>e(l)-c):(t=e===$s||e===NH?e:SH,r=e,n=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function SH(){return 0}function H4(e){return e===null?NaN:+e}function*AH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const OH=Rv($s),Xc=OH.right;Rv(H4).center;class R1 extends Map{constructor(t,r=kH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(L1(this,t))}has(t){return super.has(L1(this,t))}set(t,r){return super.set(PH(this,t),r)}delete(t){return super.delete(EH(this,t))}}function L1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function EH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CH(e=$s){if(e===$s)return K4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function K4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TH=Math.sqrt(50),$H=Math.sqrt(10),IH=Math.sqrt(2);function Yd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=TH?10:i>=$H?5:i>=IH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Yd(e,t,r*2):[l,c,u]}function J0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Yd(t,e,r):Yd(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function eg(e,t,r){return t=+t,e=+e,r=+r,Yd(e,t,r)[2]}function tg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?eg(t,e,r):eg(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function F1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function V4(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?K4:CH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));V4(e,t,p,y,s)}const i=e[t];let o=r,l=n;for(Zo(e,r,t),s(e[n],i)>0&&Zo(e,r,n);o<l;){for(Zo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Zo(e,r,l):(++l,Zo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DH(e,t,r){if(e=Float64Array.from(AH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return U1(e);if(t>=1)return F1(e);var n,s=(n-1)*t,i=Math.floor(s),o=F1(V4(e,i).subarray(0,i+1)),l=U1(e.subarray(i+1));return o+(l-o)*(s-i)}}function MH(e,t,r=H4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function RH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rg=Symbol("implicit");function Lv(){var e=new R1,t=[],r=[],n=rg;function s(i){let o=e.get(i);if(o===void 0){if(n!==rg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new R1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Lv(t,r).unknown(n)},Hr.apply(s,arguments),s}function lc(){var e=Lv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=s<n,y=p?s:n,b=p?n:s;i=(b-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(b-y-i*(h-c))*f,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var g=RH(h).map(function(j){return y+i*j});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return lc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},Hr.apply(d(),arguments)}function G4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G4(t())},e}function Sl(){return G4(lc.apply(null,arguments).paddingInner(1))}function Fv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zc(){}var cc=.7,Xd=1/cc,ki="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LH=/^#([0-9a-f]{3,8})$/,FH=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),UH=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),BH=new RegExp(`^rgba\\(${ki},${ki},${ki},${uc}\\)$`),zH=new RegExp(`^rgba\\(${yn},${yn},${yn},${uc}\\)$`),qH=new RegExp(`^hsl\\(${uc},${yn},${yn}\\)$`),WH=new RegExp(`^hsla\\(${uc},${yn},${yn},${uc}\\)$`),B1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fv(Zc,dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:z1,formatHex:z1,formatHex8:HH,formatHsl:KH,formatRgb:q1,toString:q1});function z1(){return this.rgb().formatHex()}function HH(){return this.rgb().formatHex8()}function KH(){return Y4(this).formatHsl()}function q1(){return this.rgb().formatRgb()}function dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?W1(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FH.exec(e))?new or(t[1],t[2],t[3],1):(t=UH.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BH.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=zH.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qH.exec(e))?V1(t[1],t[2]/100,t[3]/100,1):(t=WH.exec(e))?V1(t[1],t[2]/100,t[3]/100,t[4]):B1.hasOwnProperty(e)?W1(B1[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function W1(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function VH(e){return e instanceof Zc||(e=dc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function ng(e,t,r,n){return arguments.length===1?VH(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Fv(or,ng,Q4(Zc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(ga(this.r),ga(this.g),ga(this.b),Zd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H1,formatHex:H1,formatHex8:GH,formatRgb:K1,toString:K1}));function H1(){return`#${ua(this.r)}${ua(this.g)}${ua(this.b)}`}function GH(){return`#${ua(this.r)}${ua(this.g)}${ua(this.b)}${ua((isNaN(this.opacity)?1:this.opacity)*255)}`}function K1(){const e=Zd(this.opacity);return`${e===1?"rgb(":"rgba("}${ga(this.r)}, ${ga(this.g)}, ${ga(this.b)}${e===1?")":`, ${e})`}`}function Zd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ua(e){return e=ga(e),(e<16?"0":"")+e.toString(16)}function V1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function Y4(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof Zc||(e=dc(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new tn(o,l,c,e.opacity)}function QH(e,t,r,n){return arguments.length===1?Y4(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Fv(tn,QH,Q4(Zc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new or(nm(e>=240?e-240:e+120,s,n),nm(e,s,n),nm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new tn(G1(this.h),$u(this.s),$u(this.l),Zd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zd(this.opacity);return`${e===1?"hsl(":"hsla("}${G1(this.h)}, ${$u(this.s)*100}%, ${$u(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G1(e){return e=(e||0)%360,e<0?e+360:e}function $u(e){return Math.max(0,Math.min(1,e||0))}function nm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Uv=e=>()=>e;function YH(e,t){return function(r){return e+r*t}}function XH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ZH(e){return(e=+e)==1?X4:function(t,r){return r-t?XH(t,r,e):Uv(isNaN(t)?r:t)}}function X4(e,t){var r=t-e;return r?YH(e,r):Uv(isNaN(e)?t:e)}const Q1=function e(t){var r=ZH(t);function n(s,i){var o=r((s=ng(s)).r,(i=ng(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=X4(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=e,n}(1);function JH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function eK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=$o(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function rK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Jd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nK(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=$o(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sm=new RegExp(sg.source,"g");function sK(e){return function(){return e}}function aK(e){return function(t){return e(t)+""}}function iK(e,t){var r=sg.lastIndex=sm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sg.exec(e))&&(s=sm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Jd(n,s)})),r=sm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?aK(c[0].x):sK(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function $o(e,t){var r=typeof t,n;return t==null||r==="boolean"?Uv(t):(r==="number"?Jd:r==="string"?(n=dc(t))?(t=n,Q1):iK:t instanceof dc?Q1:t instanceof Date?rK:eK(t)?JH:Array.isArray(t)?tK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nK:Jd)(e,t)}function Bv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oK(e,t){t===void 0&&(t=e,e=$o);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function lK(e){return function(){return e}}function ef(e){return+e}var Y1=[0,1];function Xt(e){return e}function ag(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lK(isNaN(t)?NaN:.5)}function cK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=ag(s,n),i=r(o,i)):(n=ag(n,s),i=r(i,o)),function(l){return i(n(l))}}function dK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=ag(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Xc(e,l,1,n)-1;return i[c](s[c](l))}}function Jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ih(){var e=Y1,t=Y1,r=$o,n,s,i,o=Xt,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Xt&&(o=cK(e[0],e[h-1])),l=h>2?dK:uK,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(n),Jd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,ef),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Bv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Xt,f()):o!==Xt},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,s=p,f()}}function zv(){return Ih()(Xt,Xt)}function fK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ki(e){return e=tf(Math.abs(e)),e?e[1]:NaN}function hK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function pK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(e){if(!(t=mK.exec(e)))throw new Error("invalid format: "+e);var t;return new qv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fc.prototype=qv.prototype;function qv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Z4;function xK(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(Z4=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tf(e,Math.max(0,t+i-1))[0]}function X1(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Z1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X1(e*100,t),r:X1,s:xK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function J1(e){return e}var ej=Array.prototype.map,tj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vK(e){var t=e.grouping===void 0||e.thousands===void 0?J1:hK(ej.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?J1:pK(ej.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=fc(d);var h=d.fill,p=d.align,y=d.sign,b=d.symbol,g=d.zero,j=d.width,x=d.comma,m=d.precision,N=d.trim,v=d.type;v==="n"?(x=!0,v="g"):Z1[v]||(m===void 0&&(m=12),N=!0,v="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var w=b==="$"?r:b==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",S=b==="$"?n:/[%p]/.test(v)?o:"",_=Z1[v],A=/[defgprs%]/.test(v);m=m===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(E){var k=w,I=S,T,R,U;if(v==="c")I=_(E)+I,E="";else{E=+E;var W=E<0||1/E<0;if(E=isNaN(E)?c:_(Math.abs(E),m),N&&(E=gK(E)),W&&+E==0&&y!=="+"&&(W=!1),k=(W?y==="("?y:l:y==="-"||y==="("?"":y)+k,I=(v==="s"?tj[8+Z4/3]:"")+I+(W&&y==="("?")":""),A){for(T=-1,R=E.length;++T<R;)if(U=E.charCodeAt(T),48>U||U>57){I=(U===46?s+E.slice(T+1):E.slice(T))+I,E=E.slice(0,T);break}}}x&&!g&&(E=t(E,1/0));var $=k.length+E.length+I.length,L=$<j?new Array(j-$+1).join(h):"";switch(x&&g&&(E=t(L+E,L.length?j-I.length:1/0),L=""),p){case"<":E=k+E+I+L;break;case"=":E=k+L+E+I;break;case"^":E=L.slice(0,$=L.length>>1)+k+E+I+L.slice($);break;default:E=L+k+E+I;break}return i(E)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=fc(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ki(h)/3)))*3,b=Math.pow(10,-y),g=tj[8+y/3];return function(j){return p(b*j)+g}}return{format:u,formatPrefix:f}}var Iu,Wv,J4;yK({thousands:",",grouping:[3],currency:["$",""]});function yK(e){return Iu=vK(e),Wv=Iu.format,J4=Iu.formatPrefix,Iu}function bK(e){return Math.max(0,-Ki(Math.abs(e)))}function wK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(t)/3)))*3-Ki(Math.abs(e)))}function jK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ki(t)-Ki(e))+1}function eO(e,t,r,n){var s=tg(e,t,r),i;switch(n=fc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=wK(s,o))&&(n.precision=i),J4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=jK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=bK(s))&&(n.precision=i-(n.type==="%")*2);break}}return Wv(n)}function Ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return J0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return eO(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=eg(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function rf(){var e=zv();return e.copy=function(){return Jc(e,rf())},Hr.apply(e,arguments),Ws(e)}function tO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ef),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tO(e).unknown(t)},e=arguments.length?Array.from(e,ef):[0,1],Ws(r)}function rO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function rj(e){return Math.log(e)}function nj(e){return Math.exp(e)}function _K(e){return-Math.log(-e)}function NK(e){return-Math.exp(-e)}function SK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AK(e){return e===10?SK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sj(e){return(t,r)=>-e(-t,r)}function Hv(e){const t=e(rj,nj),r=t.domain;let n=10,s,i;function o(){return s=OK(n),i=AK(n),r()[0]<0?(s=sj(s),i=sj(i),e(_K,NK)):e(rj,nj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=s(u),p=s(f),y,b;const g=l==null?10:+l;let j=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(b=h<0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;j.push(b)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/i(-h):y*i(h),!(b<u)){if(b>f)break;j.push(b)}j.length*2<g&&(j=J0(u,f,g))}else j=J0(h,p,Math.min(p-h,g)).map(i);return d?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fc(c)).precision==null&&(c.trim=!0),c=Wv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(s(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(rO(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function nO(){const e=Hv(Ih()).domain([1,10]);return e.copy=()=>Jc(e,nO()).base(e.base()),Hr.apply(e,arguments),e}function aj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ij(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kv(e){var t=1,r=e(aj(t),ij(t));return r.constant=function(n){return arguments.length?e(aj(t=+n),ij(t)):t},Ws(r)}function sO(){var e=Kv(Ih());return e.copy=function(){return Jc(e,sO()).constant(e.constant())},Hr.apply(e,arguments)}function oj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EK(e){return e<0?-e*e:e*e}function Vv(e){var t=e(Xt,Xt),r=1;function n(){return r===1?e(Xt,Xt):r===.5?e(PK,EK):e(oj(r),oj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ws(t)}function Gv(){var e=Vv(Ih());return e.copy=function(){return Jc(e,Gv()).exponent(e.exponent())},Hr.apply(e,arguments),e}function kK(){return Gv.apply(null,arguments).exponent(.5)}function lj(e){return Math.sign(e)*e*e}function CK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aO(){var e=zv(),t=[0,1],r=!1,n;function s(i){var o=CK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(lj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ef)).map(lj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return aO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hr.apply(s,arguments),Ws(s)}function iO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=MH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Xc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($s),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return iO().domain(e).range(t).unknown(n)},Hr.apply(i,arguments)}function oO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Xc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return oO().domain([e,t]).range(s).unknown(i)},Hr.apply(Ws(o),arguments)}function lO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Xc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return lO().domain(e).range(t).unknown(r)},Hr.apply(s,arguments)}const am=new Date,im=new Date;function bt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>bt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(am.setTime(+i),im.setTime(+o),e(am),e(im),Math.floor(r(am,im))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const nf=bt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nf);nf.range;const Dn=1e3,Mr=Dn*60,Mn=Mr*60,Kn=Mn*24,Qv=Kn*7,cj=Kn*30,om=Kn*365,da=bt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCSeconds());da.range;const Yv=bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getMinutes());Yv.range;const Xv=bt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getUTCMinutes());Xv.range;const Zv=bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn-e.getMinutes()*Mr)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());Zv.range;const Jv=bt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());Jv.range;const eu=bt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mr)/Kn,e=>e.getDate()-1);eu.range;const Dh=bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>e.getUTCDate()-1);Dh.range;const cO=bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>Math.floor(e/Kn));cO.range;function Fa(e){return bt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/Qv)}const Mh=Fa(0),sf=Fa(1),TK=Fa(2),$K=Fa(3),Vi=Fa(4),IK=Fa(5),DK=Fa(6);Mh.range;sf.range;TK.range;$K.range;Vi.range;IK.range;DK.range;function Ua(e){return bt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qv)}const Rh=Ua(0),af=Ua(1),MK=Ua(2),RK=Ua(3),Gi=Ua(4),LK=Ua(5),FK=Ua(6);Rh.range;af.range;MK.range;RK.range;Gi.range;LK.range;FK.range;const ey=bt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ey.range;const ty=bt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ty.range;const Vn=bt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Gn=bt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gn.range;function uO(e,t,r,n,s,i){const o=[[da,1,Dn],[da,5,5*Dn],[da,15,15*Dn],[da,30,30*Dn],[i,1,Mr],[i,5,5*Mr],[i,15,15*Mr],[i,30,30*Mr],[s,1,Mn],[s,3,3*Mn],[s,6,6*Mn],[s,12,12*Mn],[n,1,Kn],[n,2,2*Kn],[r,1,Qv],[t,1,cj],[t,3,3*cj],[e,1,om]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=Rv(([,,g])=>g).right(o,h);if(p===o.length)return e.every(tg(u/om,f/om,d));if(p===0)return nf.every(Math.max(tg(u,f,d),1));const[y,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(b)}return[l,c]}const[UK,BK]=uO(Gn,ty,Rh,cO,Jv,Xv),[zK,qK]=uO(Vn,ey,Mh,eu,Zv,Yv);function lm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WK(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=el(s),f=tl(s),d=el(i),h=tl(i),p=el(o),y=tl(o),b=el(l),g=tl(l),j=el(c),x=tl(c),m={a:W,A:$,b:L,B:D,c:null,d:mj,e:mj,f:hV,g:_V,G:SV,H:uV,I:dV,j:fV,L:dO,m:pV,M:mV,p:K,q:Q,Q:vj,s:yj,S:gV,u:xV,U:vV,V:yV,w:bV,W:wV,x:null,X:null,y:jV,Y:NV,Z:AV,"%":xj},N={a:te,A:ve,b:De,B:Ke,c:null,d:gj,e:gj,f:kV,g:UV,G:zV,H:OV,I:PV,j:EV,L:hO,m:CV,M:TV,p:Dt,q:wt,Q:vj,s:yj,S:$V,u:IV,U:DV,V:MV,w:RV,W:LV,x:null,X:null,y:FV,Y:BV,Z:qV,"%":xj},v={a:P,A:E,b:k,B:I,c:T,d:hj,e:hj,f:iV,g:fj,G:dj,H:pj,I:pj,j:rV,L:aV,m:tV,M:nV,p:A,q:eV,Q:lV,s:cV,S:sV,u:QK,U:YK,V:XK,w:GK,W:ZK,x:R,X:U,y:fj,Y:dj,Z:JK,"%":oV};m.x=w(r,m),m.X=w(n,m),m.c=w(t,m),N.x=w(r,N),N.X=w(n,N),N.c=w(t,N);function w(X,ie){return function(de){var H=[],ke=-1,pe=0,xe=X.length,V,ne,le;for(de instanceof Date||(de=new Date(+de));++ke<xe;)X.charCodeAt(ke)===37&&(H.push(X.slice(pe,ke)),(ne=uj[V=X.charAt(++ke)])!=null?V=X.charAt(++ke):ne=V==="e"?" ":"0",(le=ie[V])&&(V=le(de,ne)),H.push(V),pe=ke+1);return H.push(X.slice(pe,ke)),H.join("")}}function S(X,ie){return function(de){var H=Jo(1900,void 0,1),ke=_(H,X,de+="",0),pe,xe;if(ke!=de.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ie&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(pe=cm(Jo(H.y,0,1)),xe=pe.getUTCDay(),pe=xe>4||xe===0?af.ceil(pe):af(pe),pe=Dh.offset(pe,(H.V-1)*7),H.y=pe.getUTCFullYear(),H.m=pe.getUTCMonth(),H.d=pe.getUTCDate()+(H.w+6)%7):(pe=lm(Jo(H.y,0,1)),xe=pe.getDay(),pe=xe>4||xe===0?sf.ceil(pe):sf(pe),pe=eu.offset(pe,(H.V-1)*7),H.y=pe.getFullYear(),H.m=pe.getMonth(),H.d=pe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),xe="Z"in H?cm(Jo(H.y,0,1)).getUTCDay():lm(Jo(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(xe+5)%7:H.w+H.U*7-(xe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,cm(H)):lm(H)}}function _(X,ie,de,H){for(var ke=0,pe=ie.length,xe=de.length,V,ne;ke<pe;){if(H>=xe)return-1;if(V=ie.charCodeAt(ke++),V===37){if(V=ie.charAt(ke++),ne=v[V in uj?ie.charAt(ke++):V],!ne||(H=ne(X,de,H))<0)return-1}else if(V!=de.charCodeAt(H++))return-1}return H}function A(X,ie,de){var H=u.exec(ie.slice(de));return H?(X.p=f.get(H[0].toLowerCase()),de+H[0].length):-1}function P(X,ie,de){var H=p.exec(ie.slice(de));return H?(X.w=y.get(H[0].toLowerCase()),de+H[0].length):-1}function E(X,ie,de){var H=d.exec(ie.slice(de));return H?(X.w=h.get(H[0].toLowerCase()),de+H[0].length):-1}function k(X,ie,de){var H=j.exec(ie.slice(de));return H?(X.m=x.get(H[0].toLowerCase()),de+H[0].length):-1}function I(X,ie,de){var H=b.exec(ie.slice(de));return H?(X.m=g.get(H[0].toLowerCase()),de+H[0].length):-1}function T(X,ie,de){return _(X,t,ie,de)}function R(X,ie,de){return _(X,r,ie,de)}function U(X,ie,de){return _(X,n,ie,de)}function W(X){return o[X.getDay()]}function $(X){return i[X.getDay()]}function L(X){return c[X.getMonth()]}function D(X){return l[X.getMonth()]}function K(X){return s[+(X.getHours()>=12)]}function Q(X){return 1+~~(X.getMonth()/3)}function te(X){return o[X.getUTCDay()]}function ve(X){return i[X.getUTCDay()]}function De(X){return c[X.getUTCMonth()]}function Ke(X){return l[X.getUTCMonth()]}function Dt(X){return s[+(X.getUTCHours()>=12)]}function wt(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ie=w(X+="",m);return ie.toString=function(){return X},ie},parse:function(X){var ie=S(X+="",!1);return ie.toString=function(){return X},ie},utcFormat:function(X){var ie=w(X+="",N);return ie.toString=function(){return X},ie},utcParse:function(X){var ie=S(X+="",!0);return ie.toString=function(){return X},ie}}}var uj={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,HK=/^%/,KK=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function VK(e){return e.replace(KK,"\\$&")}function el(e){return new RegExp("^(?:"+e.map(VK).join("|")+")","i")}function tl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GK(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QK(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YK(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function XK(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ZK(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=Et.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eV(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tV(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hj(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=Et.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pj(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nV(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function aV(e,t,r){var n=Et.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function iV(e,t,r){var n=Et.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oV(e,t,r){var n=HK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lV(e,t,r){var n=Et.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=Et.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mj(e,t){return Ne(e.getDate(),t,2)}function uV(e,t){return Ne(e.getHours(),t,2)}function dV(e,t){return Ne(e.getHours()%12||12,t,2)}function fV(e,t){return Ne(1+eu.count(Vn(e),e),t,3)}function dO(e,t){return Ne(e.getMilliseconds(),t,3)}function hV(e,t){return dO(e,t)+"000"}function pV(e,t){return Ne(e.getMonth()+1,t,2)}function mV(e,t){return Ne(e.getMinutes(),t,2)}function gV(e,t){return Ne(e.getSeconds(),t,2)}function xV(e){var t=e.getDay();return t===0?7:t}function vV(e,t){return Ne(Mh.count(Vn(e)-1,e),t,2)}function fO(e){var t=e.getDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function yV(e,t){return e=fO(e),Ne(Vi.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function bV(e){return e.getDay()}function wV(e,t){return Ne(sf.count(Vn(e)-1,e),t,2)}function jV(e,t){return Ne(e.getFullYear()%100,t,2)}function _V(e,t){return e=fO(e),Ne(e.getFullYear()%100,t,2)}function NV(e,t){return Ne(e.getFullYear()%1e4,t,4)}function SV(e,t){var r=e.getDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function AV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function gj(e,t){return Ne(e.getUTCDate(),t,2)}function OV(e,t){return Ne(e.getUTCHours(),t,2)}function PV(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function EV(e,t){return Ne(1+Dh.count(Gn(e),e),t,3)}function hO(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function kV(e,t){return hO(e,t)+"000"}function CV(e,t){return Ne(e.getUTCMonth()+1,t,2)}function TV(e,t){return Ne(e.getUTCMinutes(),t,2)}function $V(e,t){return Ne(e.getUTCSeconds(),t,2)}function IV(e){var t=e.getUTCDay();return t===0?7:t}function DV(e,t){return Ne(Rh.count(Gn(e)-1,e),t,2)}function pO(e){var t=e.getUTCDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function MV(e,t){return e=pO(e),Ne(Gi.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function RV(e){return e.getUTCDay()}function LV(e,t){return Ne(af.count(Gn(e)-1,e),t,2)}function FV(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function UV(e,t){return e=pO(e),Ne(e.getUTCFullYear()%100,t,2)}function BV(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function zV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function qV(){return"+0000"}function xj(){return"%"}function vj(e){return+e}function yj(e){return Math.floor(+e/1e3)}var Za,mO,gO;WV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WV(e){return Za=WK(e),mO=Za.format,Za.parse,gO=Za.utcFormat,Za.utcParse,Za}function HV(e){return new Date(e)}function KV(e){return e instanceof Date?+e:+new Date(+e)}function ry(e,t,r,n,s,i,o,l,c,u){var f=zv(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),b=u("%I:%M"),g=u("%I %p"),j=u("%a %d"),x=u("%b %d"),m=u("%B"),N=u("%Y");function v(w){return(c(w)<w?p:l(w)<w?y:o(w)<w?b:i(w)<w?g:n(w)<w?s(w)<w?j:x:r(w)<w?m:N)(w)}return f.invert=function(w){return new Date(d(w))},f.domain=function(w){return arguments.length?h(Array.from(w,KV)):h().map(HV)},f.ticks=function(w){var S=h();return e(S[0],S[S.length-1],w??10)},f.tickFormat=function(w,S){return S==null?v:u(S)},f.nice=function(w){var S=h();return(!w||typeof w.range!="function")&&(w=t(S[0],S[S.length-1],w??10)),w?h(rO(S,w)):f},f.copy=function(){return Jc(f,ry(e,t,r,n,s,i,o,l,c,u))},f}function VV(){return Hr.apply(ry(zK,qK,Vn,ey,Mh,eu,Zv,Yv,da,mO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GV(){return Hr.apply(ry(UK,BK,Gn,ty,Rh,Dh,Jv,Xv,da,gO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lh(){var e=0,t=1,r,n,s,i,o=Xt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,o=d(p,y),u):[o(0),o(1)]}}return u.range=f($o),u.rangeRound=f(Bv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function Hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xO(){var e=Ws(Lh()(Xt));return e.copy=function(){return Hs(e,xO())},es.apply(e,arguments)}function vO(){var e=Hv(Lh()).domain([1,10]);return e.copy=function(){return Hs(e,vO()).base(e.base())},es.apply(e,arguments)}function yO(){var e=Kv(Lh());return e.copy=function(){return Hs(e,yO()).constant(e.constant())},es.apply(e,arguments)}function ny(){var e=Vv(Lh());return e.copy=function(){return Hs(e,ny()).exponent(e.exponent())},es.apply(e,arguments)}function QV(){return ny.apply(null,arguments).exponent(.5)}function bO(){var e=[],t=Xt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Xc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($s),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>DH(e,i/n))},r.copy=function(){return bO(t).domain(e)},es.apply(r,arguments)}function Fh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Xt,f,d=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:c),u(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(u=b,p):u};function y(b){return function(g){var j,x,m;return arguments.length?([j,x,m]=g,u=oK(b,[j,x,m]),p):[u(0),u(.5),u(1)]}}return p.range=y($o),p.rangeRound=y(Bv),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return f=b,s=b(e),i=b(t),o=b(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function wO(){var e=Ws(Fh()(Xt));return e.copy=function(){return Hs(e,wO())},es.apply(e,arguments)}function jO(){var e=Hv(Fh()).domain([.1,1,10]);return e.copy=function(){return Hs(e,jO()).base(e.base())},es.apply(e,arguments)}function _O(){var e=Kv(Fh());return e.copy=function(){return Hs(e,_O()).constant(e.constant())},es.apply(e,arguments)}function sy(){var e=Vv(Fh());return e.copy=function(){return Hs(e,sy()).exponent(e.exponent())},es.apply(e,arguments)}function YV(){return sy.apply(null,arguments).exponent(.5)}const bj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lc,scaleDiverging:wO,scaleDivergingLog:jO,scaleDivergingPow:sy,scaleDivergingSqrt:YV,scaleDivergingSymlog:_O,scaleIdentity:tO,scaleImplicit:rg,scaleLinear:rf,scaleLog:nO,scaleOrdinal:Lv,scalePoint:Sl,scalePow:Gv,scaleQuantile:iO,scaleQuantize:oO,scaleRadial:aO,scaleSequential:xO,scaleSequentialLog:vO,scaleSequentialPow:ny,scaleSequentialQuantile:bO,scaleSequentialSqrt:QV,scaleSequentialSymlog:yO,scaleSqrt:kK,scaleSymlog:sO,scaleThreshold:lO,scaleTime:VV,scaleUtc:GV,tickFormat:eO},Symbol.toStringTag,{value:"Module"}));var XV=No;function ZV(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!XV(o):r(o,l)))var l=o,c=i}return c}var Uh=ZV;function JV(e,t){return e>t}var NO=JV,eG=Uh,tG=NO,rG=To;function nG(e){return e&&e.length?eG(e,rG,tG):void 0}var sG=nG;const Bh=$e(sG);function aG(e,t){return e<t}var SO=aG,iG=Uh,oG=SO,lG=To;function cG(e){return e&&e.length?iG(e,lG,oG):void 0}var uG=cG;const zh=$e(uG);var dG=vv,fG=Nn,hG=$4,pG=fr;function mG(e,t){var r=pG(e)?dG:hG;return r(e,fG(t))}var gG=mG,xG=C4,vG=gG;function yG(e,t){return xG(vG(e,t),1)}var bG=yG;const wG=$e(bG);var jG=$v;function _G(e,t){return jG(e,t)}var NG=_G;const tu=$e(NG);var Io=1e9,SG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iy,et=!0,zr="[DecimalError] ",xa=zr+"Invalid argument: ",ay=zr+"Exponent out of range: ",Do=Math.floor,na=Math.pow,AG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,_t=1e7,Xe=7,AO=9007199254740991,of=Do(AO/Xe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Un(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Re(Un(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ht(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(vr)?new n(0):(et=!1,t=Un(hc(r,i),hc(e,i),i),et=!0,Re(t,s))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EO(t,e):OO(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(zr+"NaN");return r.s?(et=!1,t=Un(r,e,0,1).times(e),et=!0,r.minus(t)):Re(new n(r),s)};ee.naturalExponential=ee.exp=function(){return PO(this)};ee.naturalLogarithm=ee.ln=function(){return hc(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OO(t,e):EO(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xa+e);if(t=ht(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zr+"NaN")}for(e=ht(l),et=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=mn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Un(l,i,o+2)).times(.5),mn(i.d).slice(0,o)===(t=mn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Re(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return et=!0,Re(n,r)};ee.times=ee.mul=function(e){var t,r,n,s,i,o,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%_t|0,t=l/_t|0;i[s]=(i[s]+t)%_t|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,et?Re(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wn(e,0,Io),t===void 0?t=n.rounding:wn(t,0,8),Re(r,e+ht(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ca(n,!0):(wn(e,0,Io),t===void 0?t=s.rounding:wn(t,0,8),n=Re(new s(n),e+1,t),r=Ca(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ca(s):(wn(e,0,Io),t===void 0?t=i.rounding:wn(t,0,8),n=Re(new i(s),e+ht(s)+1,t),r=Ca(n.abs(),!1,e+ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Re(new t(e),ht(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(vr);if(l=new c(l),!l.s){if(e.s<1)throw Error(zr+"Infinity");return l}if(l.eq(vr))return l;if(n=c.precision,e.eq(vr))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=AO){for(s=new c(vr),t=Math.ceil(n/Xe+4),et=!1;r%2&&(s=s.times(l),jj(s.d,t)),r=Do(r/2),r!==0;)l=l.times(l),jj(l.d,t);return et=!0,e.s<0?new c(vr).div(s):Re(s,n)}}else if(i<0)throw Error(zr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,et=!1,s=e.times(hc(l,n+u)),et=!0,s=PO(s),s.s=i,s};ee.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ht(s),n=Ca(s,r<=i.toExpNeg||r>=i.toExpPos)):(wn(e,1,Io),t===void 0?t=i.rounding:wn(t,0,8),s=Re(new i(s),e,t),r=ht(s),n=Ca(s,e<=r||r<=i.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wn(e,1,Io),t===void 0?t=n.rounding:wn(t,0,8)),Re(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),r=e.constructor;return Ca(e,t<=r.toExpNeg||t>=r.toExpPos)};function OO(e,t){var r,n,s,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),et?Re(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/_t|0,c[i]%=_t;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,et?Re(t,d):t}function wn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xa+e)}function mn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=us(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=us(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Un=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%_t|0,o=i/_t|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*_t+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,d,h,p,y,b,g,j,x,m,N,v,w,S,_,A=n.constructor,P=n.s==s.s?1:-1,E=n.d,k=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(zr+"Division by zero");for(c=n.e-s.e,S=k.length,v=E.length,p=new A(P),y=p.d=[],u=0;k[u]==(E[u]||0);)++u;if(k[u]>(E[u]||0)&&--c,i==null?x=i=A.precision:o?x=i+(ht(n)-ht(s))+1:x=i,x<0)return new A(0);if(x=x/Xe+2|0,u=0,S==1)for(f=0,k=k[0],x++;(u<v||f)&&x--;u++)m=f*_t+(E[u]||0),y[u]=m/k|0,f=m%k|0;else{for(f=_t/(k[0]+1)|0,f>1&&(k=e(k,f),E=e(E,f),S=k.length,v=E.length),N=S,b=E.slice(0,S),g=b.length;g<S;)b[g++]=0;_=k.slice(),_.unshift(0),w=k[0],k[1]>=_t/2&&++w;do f=0,l=t(k,b,S,g),l<0?(j=b[0],S!=g&&(j=j*_t+(b[1]||0)),f=j/w|0,f>1?(f>=_t&&(f=_t-1),d=e(k,f),h=d.length,g=b.length,l=t(d,b,h,g),l==1&&(f--,r(d,S<h?_:k,h))):(f==0&&(l=f=1),d=k.slice()),h=d.length,h<g&&d.unshift(0),r(b,d,g),l==-1&&(g=b.length,l=t(k,b,S,g),l<1&&(f++,r(b,S<g?_:k,g))),g=b.length):l===0&&(f++,b=[0]),y[u++]=f,l&&b[0]?b[g++]=E[N]||0:(b=[E[N]],g=1);while((N++<v||b[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,Re(p,o?i+ht(p)+1:i)}}();function PO(e,t){var r,n,s,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(ht(e)>16)throw Error(ay+ht(e));if(!e.s)return new f(vr);for(t==null?(et=!1,l=d):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(na(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(vr),f.precision=l;;){if(s=Re(s.times(e),l),r=r.times(++c),o=i.plus(Un(s,r,l)),mn(o.d).slice(0,l)===mn(i.d).slice(0,l)){for(;u--;)i=Re(i.times(i),l);return f.precision=d,t==null?(et=!0,Re(i,d)):i}i=o}}function ht(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function um(e,t,r){if(t>e.LN10.sd())throw et=!0,r&&(e.precision=r),Error(zr+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function us(e){for(var t="";e--;)t+="0";return t}function hc(e,t){var r,n,s,i,o,l,c,u,f,d=1,h=10,p=e,y=p.d,b=p.constructor,g=b.precision;if(p.s<1)throw Error(zr+(p.s?"NaN":"-Infinity"));if(p.eq(vr))return new b(0);if(t==null?(et=!1,u=g):u=t,p.eq(10))return t==null&&(et=!0),um(b,u);if(u+=h,b.precision=u,r=mn(y),n=r.charAt(0),i=ht(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=mn(p.d),n=r.charAt(0),d++;i=ht(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return c=um(b,u+2,g).times(i+""),p=hc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=g,t==null?(et=!0,Re(p,g)):p;for(l=o=p=Un(p.minus(vr),p.plus(vr),u),f=Re(p.times(p),u),s=3;;){if(o=Re(o.times(f),u),c=l.plus(Un(o,new b(s),u)),mn(c.d).slice(0,u)===mn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(um(b,u+2,g).times(i+""))),l=Un(l,new b(d),u),b.precision=g,t==null?(et=!0,Re(l,g)):l;l=c,s+=2}}function wj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Do(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),et&&(e.e>of||e.e<-of))throw Error(ay+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,s,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Xe),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=na(10,o-s-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/na(10,o-s):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=ht(e),d.length=1,t=t-i-1,d[0]=na(10,(Xe-t%Xe)%Xe),e.e=Do(-t/Xe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=na(10,Xe-n),d[f]=s>0?(u/na(10,o-s)%na(10,s)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==_t&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=_t)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(et&&(e.e>of||e.e<-of))throw Error(ay+ht(e));return e}function EO(e,t){var r,n,s,i,o,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),et?Re(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(p/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){f=c[s]<d[s];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=_t-1;--c[i],c[s]+=_t}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,et?Re(t,p):t):new h(0)}function Ca(e,t,r){var n,s=ht(e),i=mn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+us(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+us(-s-1)+i,r&&(n=r-o)>0&&(i+=us(n))):s>=o?(i+=us(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+us(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=us(n))),e.s<0?"-"+i:i}function jj(e,t){if(e.length>t)return e.length=t,!0}function kO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xa+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wj(o,i.toString())}else if(typeof i!="string")throw Error(xa+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,AG.test(i))wj(o,i);else throw Error(xa+i)}if(s.prototype=ee,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=kO,s.config=s.set=OG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function OG(e){if(!e||typeof e!="object")throw Error(zr+"Object expected");var t,r,n,s=["precision",1,Io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Do(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(xa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xa+r+": "+n);return this}var iy=kO(SG);vr=new iy(1);const Me=iy;function PG(e){return TG(e)||CG(e)||kG(e)||EG()}function EG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,t){if(e){if(typeof e=="string")return ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ig(e,t)}}function CG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TG(e){if(Array.isArray(e))return ig(e)}function ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $G=function(t){return t},CO={"@@functional/placeholder":!0},TO=function(t){return t===CO},_j=function(t){return function r(){return arguments.length===0||arguments.length===1&&TO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},IG=function e(t,r){return t===1?r:_j(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==CO}).length;return o>=t?r.apply(void 0,s):e(t-o,_j(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(d){return TO(d)?c.shift():d});return r.apply(void 0,PG(f).concat(c))}))})},qh=function(t){return IG(t.length,t)},og=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},DG=qh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),MG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $G;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},lg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$O=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function RG(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function LG(e,t,r){for(var n=new Me(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var FG=qh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),UG=qh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),BG=qh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Wh={rangeStep:LG,getDigitCount:RG,interpolateNumber:FG,uninterpolateNumber:UG,uninterpolateTruncation:BG};function cg(e){return WG(e)||qG(e)||IO(e)||zG()}function zG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function WG(e){if(Array.isArray(e))return ug(e)}function pc(e,t){return VG(e)||KG(e,t)||IO(e,t)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IO(e,t){if(e){if(typeof e=="string")return ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ug(e,t)}}function ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function VG(e){if(Array.isArray(e))return e}function DO(e){var t=pc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function MO(e,t,r){if(e.lte(0))return new Me(0);var n=Wh.getDigitCount(e.toNumber()),s=new Me(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Me(Math.ceil(c))}function GG(e,t,r){var n=1,s=new Me(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Me(10).pow(Wh.getDigitCount(e)-1),s=new Me(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Me(Math.floor(e)))}else e===0?s=new Me(Math.floor((t-1)/2)):r||(s=new Me(Math.floor(e)));var o=Math.floor((t-1)/2),l=MG(DG(function(c){return s.add(new Me(c-o).mul(n)).toNumber()}),og);return l(0,t)}function RO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var i=MO(new Me(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Me(0):(o=new Me(e).add(t).div(2),o=o.sub(new Me(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Me(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?RO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Me(l).mul(i)),tickMax:o.add(new Me(c).mul(i))})}function QG(e){var t=pc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=DO([r,n]),c=pc(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(cg(og(0,s-1).map(function(){return 1/0}))):[].concat(cg(og(0,s-1).map(function(){return-1/0})),[f]);return r>n?lg(d):d}if(u===f)return GG(u,s,i);var h=RO(u,f,o,i),p=h.step,y=h.tickMin,b=h.tickMax,g=Wh.rangeStep(y,b.add(new Me(.1).mul(p)),p);return r>n?lg(g):g}function YG(e,t){var r=pc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DO([n,s]),l=pc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(t,2),d=MO(new Me(u).sub(c).div(f-1),i,0),h=[].concat(cg(Wh.rangeStep(new Me(c),new Me(u).sub(new Me(.99).mul(d)),d)),[u]);return n>s?lg(h):h}var XG=$O(QG),ZG=$O(YG),JG="Invariant failed";function Ta(e,t){throw new Error(JG)}var eQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function tQ(e,t){return aQ(e)||sQ(e,t)||nQ(e,t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e,t){if(e){if(typeof e=="string")return Nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(e,t)}}function Nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function aQ(e){if(Array.isArray(e))return e}function iQ(e,t){if(e==null)return{};var r=oQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function uQ(e,t,r){return t&&cQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dQ(e,t,r){return t=cf(t),fQ(e,LO()?Reflect.construct(t,r||[],cf(e).constructor):t.apply(e,r))}function fQ(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cf(e)}function pQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dg(e,t)}function FO(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=mQ(e,"string");return Qi(t)=="symbol"?t:t+""}function mQ(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru=function(e){function t(){return lQ(this,t),dQ(this,t,arguments)}return pQ(t,e),uQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=iQ(n,eQ),p=ae(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ta();var y=c.map(function(b){var g=u(b,l),j=g.x,x=g.y,m=g.value,N=g.errorVal;if(!N)return null;var v=[],w,S;if(Array.isArray(N)){var _=tQ(N,2);w=_[0],S=_[1]}else w=S=N;if(i==="vertical"){var A=f.scale,P=x+s,E=P+o,k=P-o,I=A(m-w),T=A(m+S);v.push({x1:T,y1:E,x2:T,y2:k}),v.push({x1:I,y1:P,x2:T,y2:P}),v.push({x1:I,y1:E,x2:I,y2:k})}else if(i==="horizontal"){var R=d.scale,U=j+s,W=U-o,$=U+o,L=R(m-w),D=R(m+S);v.push({x1:W,y1:D,x2:$,y2:D}),v.push({x1:U,y1:L,x2:U,y2:D}),v.push({x1:W,y1:L,x2:$,y2:L})}return C.createElement(_e,lf({className:"recharts-errorBar",key:"bar-".concat(v.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),v.map(function(K){return C.createElement("line",lf({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return C.createElement(_e,{className:"recharts-errorBars"},y)}}])}(C.Component);FO(ru,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FO(ru,"displayName","ErrorBar");function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return t=xQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=vQ(e,"string");return mc(t)=="symbol"?t:t+""}function vQ(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=gr(r,Ei);if(!o)return null;var l=Ei.defaultProps,c=l!==void 0?Qs(Qs({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Qs(Qs({},h),d.props):{},y=p.dataKey,b=p.name,g=p.legendType,j=p.hide;return{inactive:j,dataKey:y,type:c.iconType||g||"square",color:oy(d),value:b||y,payload:p}}),Qs(Qs(Qs({},c),Ei.getWithHeight(o,s)),{},{payload:u,item:o})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Aj(e){return jQ(e)||wQ(e)||bQ(e)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(e,t){if(e){if(typeof e=="string")return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fg(e,t)}}function wQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jQ(e){if(Array.isArray(e))return fg(e)}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=NQ(e,"string");return gc(t)=="symbol"?t:t+""}function NQ(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,r){return ue(e)||ue(t)?r:yt(t)?wr(e,t,r):ce(t)?t(e):r}function Al(e,t,r,n){var s=wG(e,function(l){return xt(l,t)});if(r==="number"){var i=s.filter(function(l){return Y(l)||parseFloat(l)});return i.length?[zh(i),Bh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ue(l)}):s;return o.map(function(l){return yt(l)||l instanceof Date?l:""})}var SQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Qt(d-f)!==Qt(h-d)){var y=[];if(Qt(h-d)===Qt(c[1]-c[0])){p=h;var b=d+c[1]-c[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{p=f;var g=h+c[1]-c[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var j=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>j[0]&&t<=j[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var x=Math.min(f,h),m=Math.max(f,h);if(t>(x+d)/2&&t<=(m+d)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},oy=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},AQ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],b=y.items,g=y.cateAxisId,j=b.filter(function(S){return Fn(S.type).indexOf("Bar")>=0});if(j&&j.length){var x=j[0].type.defaultProps,m=x!==void 0?ot(ot({},x),j[0].props):j[0].props,N=m.barSize,v=m[g];o[v]||(o[v]=[]);var w=ue(N)?r:N;o[v].push({item:j[0],stackList:j.slice(1),barSize:ue(w)?void 0:Yt(w,n,0)})}}return o},OQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Yt(r,s,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,y=o.reduce(function(N,v){return N+v.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&p>0&&(h=!0,p*=.9,y=c*p);var b=(s-y)/2>>0,g={offset:b-u,size:0};f=o.reduce(function(N,v){var w={item:v.item,position:{offset:g.offset+g.size+u,size:h?p:v.barSize}},S=[].concat(Aj(N),[w]);return g=S[S.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(_){S.push({item:_,position:g})}),S},d)}else{var j=Yt(n,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var x=(s-2*j-(c-1)*u)/c;x>1&&(x>>=0);var m=l===+l?Math.min(x,l):x;f=o.reduce(function(N,v,w){var S=[].concat(Aj(N),[{item:v.item,position:{offset:j+(x+u)*w+(x-m)/2,size:m}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(_){S.push({item:_,position:S[S.length-1].position})}),S},d)}return f},PQ=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=BO({children:i,legendWidth:c});if(u){var f=s||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&p!=="center"&&Y(t[p]))return ot(ot({},t),{},Ci({},p,t[p]+(d||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&y!=="middle"&&Y(t[y]))return ot(ot({},t),{},Ci({},y,t[y]+(h||0)))}return t},EQ=function(t,r,n){return ue(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zO=function(t,r,n,s,i){var o=r.props.children,l=jr(o,ru).filter(function(u){return EQ(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=xt(f,n);if(ue(d))return u;var h=Array.isArray(d)?[zh(d),Bh(d)]:[d,d],p=c.reduce(function(y,b){var g=xt(f,b,0),j=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},kQ=function(t,r,n,s,i){var o=r.map(function(l){return zO(t,l,n,i,s)}).filter(function(l){return!ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},qO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zO(t,c,u,s)||Al(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},WO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},HO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Rn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return f.filter(function(d){return!Qc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:i?i[d]:d,index:h,offset:u}})},dm=new WeakMap,Du=function(t,r){if(typeof r!="function")return t;dm.has(t)||dm.set(t,new WeakMap);var n=dm.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},KO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:lc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sl(),realScaleType:"point"}:i==="category"?{scale:lc(),realScaleType:"band"}:{scale:rf(),realScaleType:"linear"};if(Pa(s)){var c="scale".concat(Oh(s));return{scale:(bj[c]||Sl)(),realScaleType:bj[c]?c:"point"}}return ce(s)?{scale:s}:{scale:Sl(),realScaleType:"point"}},Pj=1e-4,VO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Pj,o=Math.max(s[0],s[1])+Pj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},CQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},TQ=function(t,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Y(t[0])||t[0]<n)&&(i[0]=n),(!Y(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},$Q=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Qc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},IQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Qc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},DQ={sign:$Q,expand:eL,none:Bi,silhouette:tL,wiggle:rL,positive:IQ},MQ=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=DQ[n],o=JR().keys(s).value(function(l,c){return+xt(l,c,0)}).order(R0).offset(i);return o(t)},RQ=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ot(ot({},h.type.defaultProps),h.props):h.props,b=y.stackId,g=y.hide;if(g)return d;var j=y[n],x=d[j]||{hasStack:!1,stackGroups:{}};if(yt(b)){var m=x.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};m.items.push(h),x.hasStack=!0,x.stackGroups[b]=m}else x.stackGroups[Eo("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return ot(ot({},d),{},Ci({},j,x))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,g){var j=p.stackGroups[g];return ot(ot({},b),{},Ci({},g,{numericAxisId:n,cateAxisId:s,items:j.items,stackedData:MQ(t,j.items,i)}))},y)}return ot(ot({},d),{},Ci({},h,p))},f)},GO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=XG(u,i,l);return t.domain([zh(f),Bh(f)]),{niceTicks:f}}if(i&&s==="number"){var d=t.domain(),h=ZG(d,i,l);return{niceTicks:h}}return null};function Ej(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ue(s[t.dataKey])){var l=Dd(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=xt(s,ue(o)?t.dataKey:o);return ue(c)?null:t.scale(c)}var kj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=xt(o,r.dataKey,r.domain[l]);return ue(c)?null:r.scale(c)-i/2+s},LQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},FQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(yt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},UQ=function(t){return t.reduce(function(r,n){return[zh(n.concat([r[0]]).filter(Y)),Bh(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},QO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=UQ(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Cj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hg=function(t,r,n){if(ce(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Y(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Cj.test(t[0])){var i=+Cj.exec(t[0])[1];s[0]=r[0]-i}else ce(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Y(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Tj.test(t[1])){var o=+Tj.exec(t[1])[1];s[1]=r[1]+o}else ce(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},uf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Dv(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},$j=function(t,r,n){return!t||!t.length||tu(t,wr(n,"type.defaultProps.domain"))?r:t},YO=function(t,r){var n=t.type.defaultProps?ot(ot({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return ot(ot({},ae(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:oy(t),value:xt(r,s),type:c,payload:r,chartType:u,hide:f})};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){XO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XO(e,t,r){return t=BQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=zQ(e,"string");return xc(t)=="symbol"?t:t+""}function zQ(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qQ(e,t){return VQ(e)||KQ(e,t)||HQ(e,t)||WQ()}function WQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(e,t){if(e){if(typeof e=="string")return Dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(e,t)}}function Dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function VQ(e){if(Array.isArray(e))return e}var df=Math.PI/180,GQ=function(t){return t*180/Math.PI},He=function(t,r,n,s){return{x:t+Math.cos(-df*s)*n,y:r+Math.sin(-df*s)*n}},ZO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QQ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Yt(t.cx,o,o/2),d=Yt(t.cy,l,l/2),h=ZO(o,l,n),p=Yt(t.innerRadius,h,0),y=Yt(t.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(g,j){var x=r[j],m=x.domain,N=x.reversed,v;if(ue(x.range))s==="angleAxis"?v=[c,u]:s==="radiusAxis"&&(v=[p,y]),N&&(v=[v[1],v[0]]);else{v=x.range;var w=v,S=qQ(w,2);c=S[0],u=S[1]}var _=KO(x,i),A=_.realScaleType,P=_.scale;P.domain(m).range(v),VO(P);var E=GO(P,kn(kn({},x),{},{realScaleType:A})),k=kn(kn(kn({},x),E),{},{range:v,radius:y,realScaleType:A,scale:P,cx:f,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return kn(kn({},g),{},XO({},j,k))},{})},YQ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},XQ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=YQ({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:GQ(u),angleInRadian:u}},ZQ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},JQ=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Mj=function(t,r){var n=t.x,s=t.y,i=XQ({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=ZQ(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?kn(kn({},r),{},{radius:o,angle:JQ(p,r)}):null},JO=function(t){return!O.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var eY=["offset"];function tY(e){return aY(e)||sY(e)||nY(e)||rY()}function rY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e,t){if(e){if(typeof e=="string")return pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pg(e,t)}}function sY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aY(e){if(Array.isArray(e))return pg(e)}function pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iY(e,t){if(e==null)return{};var r=oY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return t=cY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=uY(e,"string");return vc(t)=="symbol"?t:t+""}function uY(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}var dY=function(t){var r=t.value,n=t.formatter,s=ue(t.children)?r:t.children;return ce(n)?n(s):s},fY=function(t,r){var n=Qt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},hY=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,b=c.clockWise,g=(d+h)/2,j=fY(p,y),x=j>=0?1:-1,m,N;s==="insideStart"?(m=p+x*o,N=b):s==="insideEnd"?(m=y-x*o,N=!b):s==="end"&&(m=y+x*o,N=b),N=j<=0?N:!N;var v=He(u,f,g,m),w=He(u,f,g,m+(N?1:-1)*359),S="M".concat(v.x,",").concat(v.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(w.x,",").concat(w.y),_=ue(t.id)?Eo("recharts-radial-line-"):t.id;return C.createElement("text",yc({},n,{dominantBaseline:"central",className:he("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:_,d:S})),C.createElement("textPath",{xlinkHref:"#".concat(_)},r))},pY=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(s==="outside"){var p=He(o,l,u+n,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,j=He(o,l,g,h),x=j.x,m=j.y;return{x,y:m,textAnchor:"middle",verticalAnchor:"middle"}},mY=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*s,p=d>0?"end":"start",y=d>0?"start":"end",b=u>=0?1:-1,g=b*s,j=b>0?"end":"start",x=b>0?"start":"end";if(i==="top"){var m={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:p};return mt(mt({},m),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return mt(mt({},N),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var v={x:l-g,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return mt(mt({},v),n?{width:Math.max(v.x-n.x,0),height:f}:{})}if(i==="right"){var w={x:l+u+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return mt(mt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:f}:{})}var S=n?{width:u,height:f}:{};return i==="insideLeft"?mt({x:l+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideRight"?mt({x:l+u-g,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},S):i==="insideTop"?mt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},S):i==="insideBottom"?mt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?mt({x:l+g,y:c+h,textAnchor:x,verticalAnchor:y},S):i==="insideTopRight"?mt({x:l+u-g,y:c+h,textAnchor:j,verticalAnchor:y},S):i==="insideBottomLeft"?mt({x:l+g,y:c+f-h,textAnchor:x,verticalAnchor:p},S):i==="insideBottomRight"?mt({x:l+u-g,y:c+f-h,textAnchor:j,verticalAnchor:p},S):So(i)&&(Y(i.x)||ca(i.x))&&(Y(i.y)||ca(i.y))?mt({x:l+Yt(i.x,u),y:c+Yt(i.y,f),textAnchor:"end",verticalAnchor:"end"},S):mt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},gY=function(t){return"cx"in t&&Y(t.cx)};function St(e){var t=e.offset,r=t===void 0?5:t,n=iY(e,eY),s=mt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,d=f===void 0?"":f,h=s.textBreakAll;if(!i||ue(l)&&ue(c)&&!O.isValidElement(u)&&!ce(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(ce(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=dY(s);var y=gY(i),b=ae(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return hY(s,p,b);var g=y?pY(s):mY(s);return C.createElement(ka,yc({className:he("recharts-label",d)},b,g,{breakAll:h}),p)}St.displayName="Label";var eP=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,b=t.width,g=t.height,j=t.clockWise,x=t.labelViewBox;if(x)return x;if(Y(b)&&Y(g)){if(Y(d)&&Y(h))return{x:d,y:h,width:b,height:g};if(Y(p)&&Y(y))return{x:p,y,width:b,height:g}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},xY=function(t,r){return t?t===!0?C.createElement(St,{key:"label-implicit",viewBox:r}):yt(t)?C.createElement(St,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===St?O.cloneElement(t,{key:"label-implicit",viewBox:r}):C.createElement(St,{key:"label-implicit",content:t,viewBox:r}):ce(t)?C.createElement(St,{key:"label-implicit",content:t,viewBox:r}):So(t)?C.createElement(St,yc({viewBox:r},t,{key:"label-implicit"})):null:null},vY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=eP(t),o=jr(s,St).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=xY(t.label,r||i);return[l].concat(tY(o))};St.parseViewBox=eP;St.renderCallByParent=vY;function yY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bY=yY;const wY=$e(bY);function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}var jY=["valueAccessor"],_Y=["data","dataKey","clockWise","id","textBreakAll"];function NY(e){return PY(e)||OY(e)||AY(e)||SY()}function SY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(e,t){if(e){if(typeof e=="string")return mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mg(e,t)}}function OY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PY(e){if(Array.isArray(e))return mg(e)}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return t=kY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=CY(e,"string");return bc(t)=="symbol"?t:t+""}function CY(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uj(e,t){if(e==null)return{};var r=TY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Y=function(t){return Array.isArray(t.value)?wY(t.value):t.value};function Bn(e){var t=e.valueAccessor,r=t===void 0?$Y:t,n=Uj(e,jY),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Uj(n,_Y);return!s||!s.length?null:C.createElement(_e,{className:"recharts-label-list"},s.map(function(f,d){var h=ue(i)?r(f,d):xt(f&&f.payload,i),p=ue(l)?{}:{id:"".concat(l,"-").concat(d)};return C.createElement(St,ff({},ae(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:St.parseViewBox(ue(o)?f:Fj(Fj({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Bn.displayName="LabelList";function IY(e,t){return e?e===!0?C.createElement(Bn,{key:"labelList-implicit",data:t}):C.isValidElement(e)||ce(e)?C.createElement(Bn,{key:"labelList-implicit",data:t,content:e}):So(e)?C.createElement(Bn,ff({data:t},e,{key:"labelList-implicit"})):null:null}function DY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=jr(n,Bn).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=IY(e.label,t);return[i].concat(NY(s))}Bn.renderCallByParent=DY;function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=LY(e,"string");return wc(t)=="symbol"?t:t+""}function LY(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FY=function(t,r){var n=Qt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Mu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+s,d=Math.asin(c/f)/df,h=u?i:i+o*d,p=He(r,n,f,h),y=He(r,n,s,h),b=u?i-o*d:i,g=He(r,n,f*Math.cos(d*df),b);return{center:p,circleTangency:y,lineTangency:g,theta:d}},tP=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=FY(o,l),u=o+c,f=He(r,n,i,o),d=He(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var p=He(r,n,s,o),y=He(r,n,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},UY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Qt(f-u),h=Mu({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,b=h.theta,g=Mu({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,x=g.lineTangency,m=g.theta,N=c?Math.abs(u-f):Math.abs(u-f)-b-m;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):tP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var v="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var w=Mu({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=w.circleTangency,_=w.lineTangency,A=w.theta,P=Mu({cx:r,cy:n,radius:s,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,k=P.lineTangency,I=P.theta,T=c?Math.abs(u-f):Math.abs(u-f)-A-I;if(T<0&&o===0)return"".concat(v,"L").concat(r,",").concat(n,"Z");v+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else v+="L".concat(r,",").concat(n,"Z");return v},BY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rP=function(t){var r=zj(zj({},BY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var p=he("recharts-sector",h),y=o-i,b=Yt(l,y,0,!0),g;return b>0&&Math.abs(f-d)<360?g=UY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):g=tP({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),C.createElement("path",gg({},ae(r,!0),{className:p,d:g,role:"img"}))};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){zY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t,r){return t=qY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=WY(e,"string");return jc(t)=="symbol"?t:t+""}function WY(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hj={curveBasisClosed:zR,curveBasisOpen:qR,curveBasis:BR,curveBumpX:OR,curveBumpY:PR,curveLinearClosed:WR,curveLinear:Eh,curveMonotoneX:HR,curveMonotoneY:KR,curveNatural:VR,curveStep:GR,curveStepAfter:YR,curveStepBefore:QR},Ru=function(t){return t.x===+t.x&&t.y===+t.y},rl=function(t){return t.x},nl=function(t){return t.y},HY=function(t,r){if(ce(t))return t;var n="curve".concat(Oh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Hj["".concat(n).concat(r==="vertical"?"Y":"X")]:Hj[n]||Eh},KY=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=HY(n,l),d=u?i.filter(function(b){return Ru(b)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return Ru(b)}):o,y=d.map(function(b,g){return Wj(Wj({},b),{},{base:p[g]})});return l==="vertical"?h=Ou().y(nl).x1(rl).x0(function(b){return b.base.x}):h=Ou().x(rl).y1(nl).y0(function(b){return b.base.y}),h.defined(Ru).curve(f),h(y)}return l==="vertical"&&Y(o)?h=Ou().y(nl).x1(rl).x0(o):Y(o)?h=Ou().x(rl).y1(nl).y0(o):h=YA().x(rl).y(nl),h.defined(Ru).curve(f),h(d)},hf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?KY(t):s;return O.createElement("path",xg({},ae(t,!1),Md(t),{className:he("recharts-curve",r),d:o,ref:i}))},nP={exports:{}},VY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GY=VY,QY=GY;function sP(){}function aP(){}aP.resetWarningCache=sP;var YY=function(){function e(n,s,i,o,l,c){if(c!==QY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:aP,resetWarningCache:sP};return r.PropTypes=r,r};nP.exports=YY();var XY=nP.exports;const Oe=$e(XY);var ZY=Object.getOwnPropertyNames,JY=Object.getOwnPropertySymbols,eX=Object.prototype.hasOwnProperty;function Kj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Lu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Vj(e){return ZY(e).concat(JY(e))}var tX=Object.hasOwn||function(e,t){return eX.call(e,t)};function Ba(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rX="__v",nX="__o",sX="_owner",Gj=Object.getOwnPropertyDescriptor,Qj=Object.keys;function aX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function iX(e,t){return Ba(e.getTime(),t.getTime())}function oX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lX(e,t){return e===t}function Yj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=s[d]=!0;break}d++}if(!f)return!1;c++}return!0}var cX=Ba;function uX(e,t,r){var n=Qj(e),s=n.length;if(Qj(t).length!==s)return!1;for(;s-- >0;)if(!iP(e,t,r,n[s]))return!1;return!0}function sl(e,t,r){var n=Vj(e),s=n.length;if(Vj(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!iP(e,t,r,i)||(o=Gj(e,i),l=Gj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dX(e,t){return Ba(e.valueOf(),t.valueOf())}function fX(e,t){return e.source===t.source&&e.flags===t.flags}function Xj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function hX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function pX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iP(e,t,r,n){return(n===sX||n===nX||n===rX)&&(e.$$typeof||t.$$typeof)?!0:tX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mX="[object Arguments]",gX="[object Boolean]",xX="[object Date]",vX="[object Error]",yX="[object Map]",bX="[object Number]",wX="[object Object]",jX="[object RegExp]",_X="[object Set]",NX="[object String]",SX="[object URL]",AX=Array.isArray,Zj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Jj=Object.assign,OX=Object.prototype.toString.call.bind(Object.prototype.toString);function PX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,b,g){if(y===b)return!0;if(y==null||b==null)return!1;var j=typeof y;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?o(y,b,g):j==="function"?s(y,b,g):!1;var x=y.constructor;if(x!==b.constructor)return!1;if(x===Object)return l(y,b,g);if(AX(y))return t(y,b,g);if(Zj!=null&&Zj(y))return d(y,b,g);if(x===Date)return r(y,b,g);if(x===RegExp)return u(y,b,g);if(x===Map)return i(y,b,g);if(x===Set)return f(y,b,g);var m=OX(y);return m===xX?r(y,b,g):m===jX?u(y,b,g):m===yX?i(y,b,g):m===_X?f(y,b,g):m===wX?typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,g):m===SX?h(y,b,g):m===vX?n(y,b,g):m===mX?l(y,b,g):m===gX||m===bX||m===NX?c(y,b,g):!1}}function EX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?sl:aX,areDatesEqual:iX,areErrorsEqual:oX,areFunctionsEqual:lX,areMapsEqual:n?Kj(Yj,sl):Yj,areNumbersEqual:cX,areObjectsEqual:n?sl:uX,arePrimitiveWrappersEqual:dX,areRegExpsEqual:fX,areSetsEqual:n?Kj(Xj,sl):Xj,areTypedArraysEqual:n?sl:hX,areUrlsEqual:pX};if(r&&(s=Jj({},s,r(s))),t){var i=Lu(s.areArraysEqual),o=Lu(s.areMapsEqual),l=Lu(s.areObjectsEqual),c=Lu(s.areSetsEqual);s=Jj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function kX(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function CX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var TX=Ks();Ks({strict:!0});Ks({circular:!0});Ks({circular:!0,strict:!0});Ks({createInternalComparator:function(){return Ba}});Ks({strict:!0,createInternalComparator:function(){return Ba}});Ks({circular:!0,createInternalComparator:function(){return Ba}});Ks({circular:!0,createInternalComparator:function(){return Ba},strict:!0});function Ks(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=EX(e),c=PX(l),u=n?n(c):kX(c);return CX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function $X(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function e_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):$X(s)};requestAnimationFrame(n)}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function IX(e){return LX(e)||RX(e)||MX(e)||DX()}function DX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LX(e){if(Array.isArray(e))return e}function FX(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=IX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){e_(s.bind(null,u),c);return}s(c),e_(s.bind(null,u));return}vg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){oP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oP(e,t,r){return t=UX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=BX(e,"string");return _c(t)==="symbol"?t:String(t)}function BX(e,t){if(_c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},qX=function(t){return t},WX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ol=function(t,r){return Object.keys(r).reduce(function(n,s){return n_(n_({},n),{},oP({},s,t(s,r[s])))},{})},s_=function(t,r,n){return t.map(function(s){return"".concat(WX(s)," ").concat(r,"ms ").concat(n)}).join(",")};function HX(e,t){return GX(e)||VX(e,t)||lP(e,t)||KX()}function KX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function GX(e){if(Array.isArray(e))return e}function QX(e){return ZX(e)||XX(e)||lP(e)||YX()}function YX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,t){if(e){if(typeof e=="string")return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(e,t)}}function XX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZX(e){if(Array.isArray(e))return yg(e)}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pf=1e-4,cP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},a_=function(t,r){return function(n){var s=cP(t,r);return uP(s,n)}},JX=function(t,r){return function(n){var s=cP(t,r),i=[].concat(QX(s.map(function(o,l){return o*l}).slice(1)),[0]);return uP(i,n)}},i_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=HX(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var d=a_(s,o),h=a_(i,l),p=JX(s,o),y=function(j){return j>1?1:j<0?0:j},b=function(j){for(var x=j>1?1:j,m=x,N=0;N<8;++N){var v=d(m)-x,w=p(m);if(Math.abs(v-x)<pf||w<pf)return h(m);m=y(m-v/w)}return h(m)};return b.isStepper=!1,b},eZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*n,y=h*i,b=h+(p-y)*l/1e3,g=h*l/1e3+f;return Math.abs(g-d)<pf&&Math.abs(b)<pf?[d,0]:[g,b]};return c.isStepper=!0,c.dt=l,c},tZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i_(s);case"spring":return eZ();default:if(s.split("(")[0]==="cubic-bezier")return i_(s)}return typeof s=="function"?s:null};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function o_(e){return sZ(e)||nZ(e)||dP(e)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sZ(e){if(Array.isArray(e))return wg(e)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bg(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=iZ(e,"string");return Nc(t)==="symbol"?t:String(t)}function iZ(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oZ(e,t){return uZ(e)||cZ(e,t)||dP(e,t)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dP(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uZ(e){if(Array.isArray(e))return e}var mf=function(t,r,n){return t+(r-t)*n},jg=function(t){var r=t.from,n=t.to;return r!==n},dZ=function e(t,r,n){var s=Ol(function(i,o){if(jg(o)){var l=t(o.from,o.to,o.velocity),c=oZ(l,2),u=c[0],f=c[1];return kt(kt({},o),{},{from:u,velocity:f})}return o},r);return n<1?Ol(function(i,o){return jg(o)?kt(kt({},o),{},{velocity:mf(o.velocity,s[i].velocity,n),from:mf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const fZ=function(e,t,r,n,s){var i=zX(e,t),o=i.reduce(function(g,j){return kt(kt({},g),{},bg({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return kt(kt({},g),{},bg({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Ol(function(j,x){return x.from},l)},p=function(){return!Object.values(l).filter(jg).length},y=function(j){u||(u=j);var x=j-u,m=x/r.dt;l=dZ(r,l,m),s(kt(kt(kt({},e),t),h())),u=j,p()||(c=requestAnimationFrame(d))},b=function(j){f||(f=j);var x=(j-f)/n,m=Ol(function(v,w){return mf.apply(void 0,o_(w).concat([r(x)]))},o);if(s(kt(kt(kt({},e),t),m)),x<1)c=requestAnimationFrame(d);else{var N=Ol(function(v,w){return mf.apply(void 0,o_(w).concat([r(1)]))},o);s(kt(kt(kt({},e),t),N))}};return d=r.isStepper?y:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var hZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pZ(e,t){if(e==null)return{};var r=mZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fm(e){return yZ(e)||vZ(e)||xZ(e)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function vZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yZ(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fl(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function jZ(e,t,r){return t&&wZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fP(e){var t=_Z(e,"string");return Yi(t)==="symbol"?t:String(t)}function _Z(e,t){if(Yi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ng(e,t)}function SZ(e){var t=AZ();return function(){var n=gf(e),s;if(t){var i=gf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Sg(this,s)}}function Sg(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ag(e)}function Ag(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}var jn=function(e){NZ(r,e);var t=SZ(r);function r(n,s){var i;bZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ag(i)),i.changeStyle=i.changeStyle.bind(Ag(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Sg(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Sg(i);i.state={style:c?fl({},c,u):u}}else i.state={style:{}};return i}return jZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var p={style:c?fl({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(TX(s.to,f)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?d:s.to;if(this.state&&h){var g={style:c?fl({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(g)}this.runAnimation(Vr(Vr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,p=fZ(o,l,tZ(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(b,g,j){if(j===0)return b;var x=g.duration,m=g.easing,N=m===void 0?"ease":m,v=g.style,w=g.properties,S=g.onAnimationEnd,_=j>0?o[j-1]:g,A=w||Object.keys(v);if(typeof N=="function"||N==="spring")return[].concat(fm(b),[i.runJSAnimation.bind(i,{from:_.style,to:v,duration:x,easing:N}),x]);var P=s_(A,x,N),E=Vr(Vr(Vr({},_.style),v),{},{transition:P});return[].concat(fm(b),[E,x,S]).filter(qX)};return this.manager.start([c].concat(fm(o.reduce(p,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=FX());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,p=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?fl({},l,c):c,g=s_(Object.keys(b),o,u);y.start([f,i,Vr(Vr({},b),{},{transition:g}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=pZ(s,hZ),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(p){var y=p.props,b=y.style,g=b===void 0?{}:b,j=y.className,x=O.cloneElement(p,Vr(Vr({},c),{},{style:Vr(Vr({},g),f),className:j}));return x};return u===1?d(O.Children.only(i)):C.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function OZ(e,t){return CZ(e)||kZ(e,t)||EZ(e,t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CZ(e){if(Array.isArray(e))return e}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return t=$Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=IZ(e,"string");return Sc(t)=="symbol"?t:t+""}function IZ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h_=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+s-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+s)),f+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},DZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&s>=d&&s<=h}return!1},MZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ly=function(t){var r=f_(f_({},MZ),t),n=O.useRef(),s=O.useState(-1),i=OZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,b=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var m=he("recharts-rectangle",p);return x?C.createElement(jn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:b,animationEasing:y,isActive:x},function(N){var v=N.width,w=N.height,S=N.x,_=N.y;return C.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,isActive:j,easing:y},C.createElement("path",xf({},ae(r,!0),{className:m,d:h_(S,_,v,w,h),ref:n})))}):C.createElement("path",xf({},ae(r,!0),{className:m,d:h_(c,u,f,d,h)}))},RZ=["points","className","baseLinePoints","connectNulls"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function LZ(e,t){if(e==null)return{};var r=FZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p_(e){return qZ(e)||zZ(e)||BZ(e)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function zZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qZ(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m_=function(t){return t&&t.x===+t.x&&t.y===+t.y},WZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){m_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),m_(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pl=function(t,r){var n=WZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(p_(i),p_(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},HZ=function(t,r,n){var s=Pl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Pl(r.reverse(),n).slice(1))},KZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=LZ(t,RZ);if(!r||!r.length)return null;var l=he("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=HZ(r,s,i);return C.createElement("g",{className:l},C.createElement("path",xi({},ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?C.createElement("path",xi({},ae(o,!0),{fill:"none",d:Pl(r,i)})):null,c?C.createElement("path",xi({},ae(o,!0),{fill:"none",d:Pl(s,i)})):null)}var f=Pl(r,i);return C.createElement("path",xi({},ae(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}var Hh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=he("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",Pg({},ae(t,!1),Md(t),{className:o,cx:r,cy:n,r:s})):null};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}var VZ=["x","y","top","left","width","height","className"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){QZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QZ(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return Ac(t)=="symbol"?t:t+""}function XZ(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e,t){if(e==null)return{};var r=JZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eJ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},tJ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,b=ZZ(t,VZ),g=GZ({x:n,y:i,top:l,left:u,width:d,height:p},b);return!Y(n)||!Y(i)||!Y(d)||!Y(p)||!Y(l)||!Y(u)?null:C.createElement("path",Eg({},ae(g,!0),{className:he("recharts-cross",y),d:eJ(n,i,d,p,l,u)}))},rJ=Uh,nJ=NO,sJ=Nn;function aJ(e,t){return e&&e.length?rJ(e,sJ(t),nJ):void 0}var iJ=aJ;const oJ=$e(iJ);var lJ=Uh,cJ=Nn,uJ=SO;function dJ(e,t){return e&&e.length?lJ(e,cJ(t),uJ):void 0}var fJ=dJ;const hJ=$e(fJ);var pJ=["cx","cy","angle","ticks","axisLine"],mJ=["ticks","tick","angle","tickFormatter","stroke"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v_(e,t){if(e==null)return{};var r=gJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pP(n.key),n)}}function vJ(e,t,r){return t&&y_(e.prototype,t),r&&y_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yJ(e,t,r){return t=vf(t),bJ(e,hP()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function bJ(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(e)}function wJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function jJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kg(e,t)}function Kh(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=_J(e,"string");return Xi(t)=="symbol"?t:t+""}function _J(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vh=function(e){function t(){return xJ(this,t),yJ(this,t,arguments)}return jJ(t,e),vJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return He(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=oJ(l,function(f){return f.coordinate||0}),u=hJ(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=v_(n,pJ),f=l.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),d=He(s,i,f[0],o),h=He(s,i,f[1],o),p=Ys(Ys(Ys({},ae(u,!1)),{},{fill:"none"},ae(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return C.createElement("line",El({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=v_(s,mJ),d=this.getTickTextAnchor(),h=ae(f,!1),p=ae(o,!1),y=i.map(function(b,g){var j=n.getTickValueCoord(b),x=Ys(Ys(Ys(Ys({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},j),{},{payload:b});return C.createElement(_e,El({className:he("recharts-polar-radius-axis-tick",JO(o)),key:"tick-".concat(b.coordinate)},Ea(n.props,b,g)),t.renderTickItem(o,x,c?c(b.value,g):b.value))});return C.createElement(_e,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:C.createElement(_e,{className:he("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return C.isValidElement(n)?o=C.cloneElement(n,s):ce(n)?o=n(s):o=C.createElement(ka,El({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);Kh(Vh,"displayName","PolarRadiusAxis");Kh(Vh,"axisType","radiusAxis");Kh(Vh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function SJ(e,t,r){return t&&w_(e.prototype,t),r&&w_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AJ(e,t,r){return t=yf(t),OJ(e,mP()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function OJ(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PJ(e)}function PJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function EJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cg(e,t)}function Gh(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=kJ(e,"string");return Zi(t)=="symbol"?t:t+""}function kJ(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CJ=Math.PI/180,j_=1e-5,Qh=function(e){function t(){return NJ(this,t),AJ(this,t,arguments)}return EJ(t,e),SJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,d=He(i,o,l,n.coordinate),h=He(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*CJ),o;return i>j_?o=s==="outer"?"start":"end":i<-j_?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Xs(Xs({},ae(this.props,!1)),{},{fill:"none"},ae(l,!1));if(c==="circle")return C.createElement(Hh,aa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return He(s,i,o,h.coordinate)});return C.createElement(KZ,aa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=ae(this.props,!1),d=ae(o,!1),h=Xs(Xs({},f),{},{fill:"none"},ae(l,!1)),p=i.map(function(y,b){var g=n.getTickLineCoord(y),j=n.getTickTextAnchor(y),x=Xs(Xs(Xs({textAnchor:j},f),{},{stroke:"none",fill:u},d),{},{index:b,payload:y,x:g.x2,y:g.y2});return C.createElement(_e,aa({className:he("recharts-polar-angle-axis-tick",JO(o)),key:"tick-".concat(y.coordinate)},Ea(n.props,y,b)),l&&C.createElement("line",aa({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,x,c?c(y.value,b):y.value))});return C.createElement(_e,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:C.createElement(_e,{className:he("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return C.isValidElement(n)?o=C.cloneElement(n,s):ce(n)?o=n(s):o=C.createElement(ka,aa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);Gh(Qh,"displayName","PolarAngleAxis");Gh(Qh,"axisType","angleAxis");Gh(Qh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TJ=b4,$J=TJ(Object.getPrototypeOf,Object),IJ=$J,DJ=Zn,MJ=IJ,RJ=Jn,LJ="[object Object]",FJ=Function.prototype,UJ=Object.prototype,xP=FJ.toString,BJ=UJ.hasOwnProperty,zJ=xP.call(Object);function qJ(e){if(!RJ(e)||DJ(e)!=LJ)return!1;var t=MJ(e);if(t===null)return!0;var r=BJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xP.call(r)==zJ}var WJ=qJ;const HJ=$e(WJ);var KJ=Zn,VJ=Jn,GJ="[object Boolean]";function QJ(e){return e===!0||e===!1||VJ(e)&&KJ(e)==GJ}var YJ=QJ;const XJ=$e(YJ);function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function ZJ(e,t){return ree(e)||tee(e,t)||eee(e,t)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ree(e){if(Array.isArray(e))return e}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nee(e,t,r){return t=see(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=aee(e,"string");return Oc(t)=="symbol"?t:t+""}function aee(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},iee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oee=function(t){var r=S_(S_({},iee),t),n=O.useRef(),s=O.useState(-1),i=ZJ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&l(m)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,b=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var x=he("recharts-trapezoid",p);return j?C.createElement(jn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:b,animationEasing:y,isActive:j},function(m){var N=m.upperWidth,v=m.lowerWidth,w=m.height,S=m.x,_=m.y;return C.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,easing:y},C.createElement("path",bf({},ae(r,!0),{className:x,d:A_(S,_,N,v,w),ref:n})))}):C.createElement("g",null,C.createElement("path",bf({},ae(r,!0),{className:x,d:A_(c,u,f,d,h)})))},lee=["option","shapeType","propTransformer","activeClassName","isActive"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function cee(e,t){if(e==null)return{};var r=uee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return t=fee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return Pc(t)=="symbol"?t:t+""}function hee(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pee(e,t){return wf(wf({},t),e)}function mee(e,t){return e==="symbols"}function P_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(ly,r);case"trapezoid":return C.createElement(oee,r);case"sector":return C.createElement(rP,r);case"symbols":if(mee(t))return C.createElement(Ov,r);break;default:return null}}function gee(e){return O.isValidElement(e)?e.props:e}function vP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?pee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=cee(e,lee),u;if(O.isValidElement(t))u=O.cloneElement(t,wf(wf({},c),gee(t)));else if(ce(t))u=t(c);else if(HJ(t)&&!XJ(t)){var f=s(t,c);u=C.createElement(P_,{shapeType:r,elementProps:f})}else{var d=c;u=C.createElement(P_,{shapeType:r,elementProps:d})}return l?C.createElement(_e,{className:o},u):u}function Yh(e,t){return t!=null&&"trapezoids"in e.props}function Xh(e,t){return t!=null&&"sectors"in e.props}function Ec(e,t){return t!=null&&"points"in e.props}function xee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function vee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function yee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function bee(e,t){var r;return Yh(e,t)?r=xee:Xh(e,t)?r=vee:Ec(e,t)&&(r=yee),r}function wee(e,t){var r;return Yh(e,t)?r="trapezoids":Xh(e,t)?r="sectors":Ec(e,t)&&(r="points"),r}function jee(e,t){if(Yh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Xh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ec(e,t)?t.payload:{}}function _ee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=wee(r,t),i=jee(r,t),o=n.filter(function(c,u){var f=tu(i,c),d=r.props[s].filter(function(y){var b=bee(r,t);return b(y,t)}),h=r.props[s].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var td;function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){Ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bP(n.key),n)}}function See(e,t,r){return t&&k_(e.prototype,t),r&&k_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aee(e,t,r){return t=jf(t),Oee(e,yP()?Reflect.construct(t,r||[],jf(e).constructor):t.apply(e,r))}function Oee(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pee(e)}function Pee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(e)}function Eee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tg(e,t)}function Ir(e,t,r){return t=bP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bP(e){var t=kee(e,"string");return Ji(t)=="symbol"?t:t+""}function kee(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=function(e){function t(r){var n;return Nee(this,t),n=Aee(this,t,[r]),Ir(n,"pieRef",null),Ir(n,"sectorRefs",[]),Ir(n,"id",Eo("recharts-pie-")),Ir(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(s)&&s()}),Ir(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Eee(t,e),See(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=ae(this.props,!1),d=ae(o,!1),h=ae(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(b,g){var j=(b.startAngle+b.endAngle)/2,x=He(b.cx,b.cy,b.outerRadius+p,j),m=Ue(Ue(Ue(Ue({},f),b),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(x.x,b.cx)},x),N=Ue(Ue(Ue(Ue({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:g,points:[He(b.cx,b.cy,b.outerRadius,j),x]}),v=c;return ue(c)&&ue(u)?v="value":ue(c)&&(v=u),C.createElement(_e,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,m,xt(b,v)))});return C.createElement(_e,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(f),h=c&&s.hasActiveIndex()?c:null,p=d?o:h,y=Ue(Ue({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return C.createElement(_e,vi({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ea(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),C.createElement(vP,vi({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return C.createElement(jn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,g=[],j=i&&i[0],x=j.startAngle;return i.forEach(function(m,N){var v=h&&h[N],w=N>0?wr(m,"paddingAngle",0):0;if(v){var S=xr(v.endAngle-v.startAngle,m.endAngle-m.startAngle),_=Ue(Ue({},m),{},{startAngle:x+w,endAngle:x+S(b)+w});g.push(_),x=_.endAngle}else{var A=m.endAngle,P=m.startAngle,E=xr(0,A-P),k=E(b),I=Ue(Ue({},m),{},{startAngle:x+w,endAngle:x+k+w});g.push(I),x=I.endAngle}}),C.createElement(_e,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!tu(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Y(u)||!Y(f)||!Y(d)||!Y(h))return null;var b=he("recharts-pie",l);return C.createElement(_e,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),St.renderCallByParent(this.props,null,!1),(!p||y)&&Bn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(C.isValidElement(n))return C.cloneElement(n,s);if(ce(n))return n(s);var o=he("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return C.createElement(hf,vi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(C.isValidElement(n))return C.cloneElement(n,s);var o=i;if(ce(n)&&(o=n(s),C.isValidElement(o)))return o;var l=he("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return C.createElement(ka,vi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);td=Pr;Ir(Pr,"displayName","Pie");Ir(Pr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ir(Pr,"parseDeltaAngle",function(e,t){var r=Qt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ir(Pr,"getRealPieData",function(e){var t=e.data,r=e.children,n=ae(e,!1),s=jr(r,qs);return t&&t.length?t.map(function(i,o){return Ue(Ue(Ue({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ue(Ue({},n),i.props)}):[]});Ir(Pr,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=ZO(s,i),l=n+Yt(e.cx,s,s/2),c=r+Yt(e.cy,i,i/2),u=Yt(e.innerRadius,o,0),f=Yt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});Ir(Pr,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ue(Ue({},t.type.defaultProps),t.props):t.props,s=td.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=td.parseCoordinateOfPie(n,r),b=td.parseDeltaAngle(o,l),g=Math.abs(b),j=u;ue(u)&&ue(d)?(on(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):ue(u)&&(on(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=d);var x=s.filter(function(_){return xt(_,j,0)!==0}).length,m=(g>=360?x:x-1)*c,N=g-x*p-m,v=s.reduce(function(_,A){var P=xt(A,j,0);return _+(Y(P)?P:0)},0),w;if(v>0){var S;w=s.map(function(_,A){var P=xt(_,j,0),E=xt(_,f,A),k=(Y(P)?P:0)/v,I;A?I=S.endAngle+Qt(b)*c*(P!==0?1:0):I=o;var T=I+Qt(b)*((P!==0?p:0)+k*N),R=(I+T)/2,U=(y.innerRadius+y.outerRadius)/2,W=[{name:E,value:P,payload:_,dataKey:j,type:h}],$=He(y.cx,y.cy,U,R);return S=Ue(Ue(Ue({percent:k,cornerRadius:i,name:E,tooltipPayload:W,midAngle:R,middleRadius:U,tooltipPosition:$},_),y),{},{value:xt(_,j),startAngle:I,endAngle:T,payload:_,paddingAngle:Qt(b)*c}),S})}return Ue(Ue({},y),{},{sectors:w,data:s})});var Cee=Math.ceil,Tee=Math.max;function $ee(e,t,r,n){for(var s=-1,i=Tee(Cee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Iee=$ee,Dee=F4,C_=1/0,Mee=17976931348623157e292;function Ree(e){if(!e)return e===0?e:0;if(e=Dee(e),e===C_||e===-C_){var t=e<0?-1:1;return t*Mee}return e===e?e:0}var wP=Ree,Lee=Iee,Fee=$h,hm=wP;function Uee(e){return function(t,r,n){return n&&typeof n!="number"&&Fee(t,r,n)&&(r=n=void 0),t=hm(t),r===void 0?(r=t,t=0):r=hm(r),n=n===void 0?t<r?1:-1:hm(n),Lee(t,r,n,e)}}var Bee=Uee,zee=Bee,qee=zee(),Wee=qee;const _f=$e(Wee);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){jP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jP(e,t,r){return t=Hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Kee(e,"string");return kc(t)=="symbol"?t:t+""}function Kee(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee=["Webkit","Moz","O","ms"],Gee=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Vee.reduce(function(i,o){return $_($_({},i),{},jP({},o+n,r))},{});return s[t]=r,s};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NP(n.key),n)}}function Yee(e,t,r){return t&&D_(e.prototype,t),r&&D_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xee(e,t,r){return t=Sf(t),Zee(e,_P()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function Zee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jee(e)}function Jee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function ete(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$g(e,t)}function pr(e,t,r){return t=NP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NP(e){var t=tte(e,"string");return eo(t)=="symbol"?t:t+""}function tte(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Sl().domain(_f(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},M_=function(t){return t.changedTouches&&!!t.changedTouches.length},to=function(e){function t(r){var n;return Qee(this,t),n=Xee(this,t,[r]),pr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),pr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),pr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),pr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pr(n,"handleSlideDragStart",function(s){var i=M_(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ete(t,e),Yee(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,d),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=xt(i[n],l,n);return ce(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,u+f-d-l,u+f-d-o):b<0&&(b=Math.max(b,u-o,u-l));var g=this.getIndex({startX:o+b,endX:l+b});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=M_(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,b=f.gap,g=f.data,j={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+h-p-u):x<0&&(x=Math.max(x,d-u)),j[o]=u+x;var m=this.getIndex(j),N=m.startIndex,v=m.endIndex,w=function(){var _=g.length-1;return o==="startX"&&(l>c?N%b===0:v%b===0)||l<c&&v===_||o==="endX"&&(l>c?v%b===0:N%b===0)||l>c&&v===_};this.setState(pr(pr({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&w()&&y(m)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(pr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return C.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?C.cloneElement(d,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,b=c.startIndex,g=c.endIndex,j=Math.max(n,this.props.x),x=pm(pm({},ae(this.props,!1)),{},{x:j,y:u,width:f,height:d}),m=p||"Min value: ".concat((i=y[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return C.createElement(_e,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),l.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return C.createElement(_e,{className:"recharts-brush-texts"},C.createElement(ka,Nf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+l/2},y),this.getTextOfTick(s)),C.createElement(ka,Nf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,b=h.isTextActive,g=h.isSlideMoving,j=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!Y(l)||!Y(c)||!Y(u)||!Y(f)||u<=0||f<=0)return null;var m=he("recharts-brush",i),N=C.Children.count(o)===1,v=Gee("userSelect","none");return C.createElement(_e,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(b||g||j||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),C.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return C.isValidElement(n)?i=C.cloneElement(n,s):ce(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return pm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?rte({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);pr(to,"displayName","Brush");pr(to,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nte=Iv;function ste(e,t){var r;return nte(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var ate=ste,ite=f4,ote=Nn,lte=ate,cte=fr,ute=$h;function dte(e,t,r){var n=cte(e)?ite:lte;return r&&ute(e,t,r)&&(t=void 0),n(e,ote(t))}var fte=dte;const hte=$e(fte);var bn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},R_=I4;function pte(e,t,r){t=="__proto__"&&R_?R_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mte=pte,gte=mte,xte=T4,vte=Nn;function yte(e,t){var r={};return t=vte(t),xte(e,function(n,s,i){gte(r,s,t(n,s,i))}),r}var bte=yte;const wte=$e(bte);function jte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var _te=jte,Nte=Iv;function Ste(e,t){var r=!0;return Nte(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Ate=Ste,Ote=_te,Pte=Ate,Ete=Nn,kte=fr,Cte=$h;function Tte(e,t,r){var n=kte(e)?Ote:Pte;return r&&Cte(e,t,r)&&(t=void 0),n(e,Ete(t))}var $te=Tte;const SP=$e($te);var Ite=["x","y"];function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return t=Mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Rte(e,"string");return Cc(t)=="symbol"?t:t+""}function Rte(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t){if(e==null)return{};var r=Fte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ute(e,t){var r=e.x,n=e.y,s=Lte(e,Ite),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return al(al(al(al(al({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function F_(e){return C.createElement(vP,Ig({shapeType:"rectangle",propTransformer:Ute,activeClassName:"recharts-active-bar"},e))}var Bte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Y(n)||fM(n);return i?t(n,s):(i||Ta(),r)}},zte=["value","background"],AP;function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function qte(e,t){if(e==null)return{};var r=Wte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(this,arguments)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function Kte(e,t,r){return t&&B_(e.prototype,t),r&&B_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vte(e,t,r){return t=Of(t),Gte(e,OP()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Gte(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(e)}function Qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function Yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dg(e,t)}function js(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=Xte(e,"string");return ro(t)=="symbol"?t:t+""}function Xte(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pt=function(e){function t(){var r;Hte(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Vte(this,t,[].concat(s)),js(r,"state",{isAnimationFinished:!1}),js(r,"id",Eo("recharts-bar-")),js(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),js(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Yte(t,e),Kte(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ae(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:o,b=dt(dt(dt({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return C.createElement(_e,Af({className:"recharts-bar-rectangle"},Ea(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),C.createElement(F_,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,d=s.animationId,h=this.state.prevData;return C.createElement(jn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,b=i.map(function(g,j){var x=h&&h[j];if(x){var m=xr(x.x,g.x),N=xr(x.y,g.y),v=xr(x.width,g.width),w=xr(x.height,g.height);return dt(dt({},g),{},{x:m(y),y:N(y),width:v(y),height:w(y)})}if(o==="horizontal"){var S=xr(0,g.height),_=S(y);return dt(dt({},g),{},{y:g.y+g.height-_,height:_})}var A=xr(0,g.width),P=A(y);return dt(dt({},g),{},{width:P})});return C.createElement(_e,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!tu(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=ae(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=qte(u,zte);if(!d)return null;var p=dt(dt(dt(dt(dt({},h),{},{fill:"#eee"},d),c),Ea(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return C.createElement(F_,Af({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=jr(f,ru);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,j){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:xt(g,j)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return C.createElement(_e,y,d.map(function(b){return C.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,b=n.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=he("recharts-bar",o),x=l&&l.allowDataOverflow,m=c&&c.allowDataOverflow,N=x||m,v=ue(b)?this.id:b;return C.createElement(_e,{className:j},x||m?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(v)},C.createElement("rect",{x:x?u:u-d/2,y:m?f:f-h/2,width:x?d:d*2,height:m?h:h*2}))):null,C.createElement(_e,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(v,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,v),(!p||g)&&Bn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);AP=Pt;js(Pt,"displayName","Bar");js(Pt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});js(Pt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=CQ(n,r);if(!p)return null;var y=t.layout,b=r.type.defaultProps,g=b!==void 0?dt(dt({},b),r.props):r.props,j=g.dataKey,x=g.children,m=g.minPointSize,N=y==="horizontal"?o:i,v=u?N.scale.domain():null,w=LQ({numericAxis:N}),S=jr(x,qs),_=d.map(function(A,P){var E,k,I,T,R,U;u?E=TQ(u[f+P],v):(E=xt(A,j),Array.isArray(E)||(E=[w,E]));var W=Bte(m,AP.defaultProps.minPointSize)(E[1],P);if(y==="horizontal"){var $,L=[o.scale(E[0]),o.scale(E[1])],D=L[0],K=L[1];k=kj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),I=($=K??D)!==null&&$!==void 0?$:void 0,T=p.size;var Q=D-K;if(R=Number.isNaN(Q)?0:Q,U={x:k,y:o.y,width:T,height:o.height},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var te=Qt(R||W)*(Math.abs(W)-Math.abs(R));I-=te,R+=te}}else{var ve=[i.scale(E[0]),i.scale(E[1])],De=ve[0],Ke=ve[1];if(k=De,I=kj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),T=Ke-De,R=p.size,U={x:i.x,y:I,width:i.width,height:R},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var Dt=Qt(T||W)*(Math.abs(W)-Math.abs(T));T+=Dt}}return dt(dt(dt({},A),{},{x:k,y:I,width:T,height:R,value:u?E:E[1],payload:A,background:U},S&&S[P]&&S[P].props),{},{tooltipPayload:[YO(r,A)],tooltipPosition:{x:k+T/2,y:I+R/2}})});return dt({data:_,layout:y},h)});function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EP(n.key),n)}}function Jte(e,t,r){return t&&z_(e.prototype,t),r&&z_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e,t,r){return t=EP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EP(e){var t=ere(e,"string");return Tc(t)=="symbol"?t:t+""}function ere(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!gr(u,Pt);return f.reduce(function(p,y){var b=r[y],g=b.orientation,j=b.domain,x=b.padding,m=x===void 0?{}:x,N=b.mirror,v=b.reversed,w="".concat(g).concat(N?"Mirror":""),S,_,A,P,E;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var k=j[1]-j[0],I=1/0,T=b.categoricalDomain.sort(mM);if(T.forEach(function(ve,De){De>0&&(I=Math.min((ve||0)-(T[De-1]||0),I))}),Number.isFinite(I)){var R=I/k,U=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(S=R*U/2),b.padding==="no-gap"){var W=Yt(t.barCategoryGap,R*U),$=R*U/2;S=$-W-($-W)/U*W}}}s==="xAxis"?_=[n.left+(m.left||0)+(S||0),n.left+n.width-(m.right||0)-(S||0)]:s==="yAxis"?_=c==="horizontal"?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0)+(S||0),n.top+n.height-(m.bottom||0)-(S||0)]:_=b.range,v&&(_=[_[1],_[0]]);var L=KO(b,i,h),D=L.scale,K=L.realScaleType;D.domain(j).range(_),VO(D);var Q=GO(D,Zr(Zr({},b),{},{realScaleType:K}));s==="xAxis"?(E=g==="top"&&!N||g==="bottom"&&N,A=n.left,P=d[w]-E*b.height):s==="yAxis"&&(E=g==="left"&&!N||g==="right"&&N,A=d[w]-E*b.width,P=n.top);var te=Zr(Zr(Zr({},b),Q),{},{realScaleType:K,x:A,y:P,scale:D,width:s==="xAxis"?n.width:b.width,height:s==="yAxis"?n.height:b.height});return te.bandSize=uf(te,Q),!b.hide&&s==="xAxis"?d[w]+=(E?-1:1)*te.height:b.hide||(d[w]+=(E?-1:1)*te.width),Zr(Zr({},p),{},Zh({},y,te))},{})},CP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},tre=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return CP({x:r,y:n},{x:s,y:i})},TP=function(){function e(t){Zte(this,e),this.scale=t}return Jte(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Zh(TP,"EPS",1e-4);var cy=function(t){var r=Object.keys(t).reduce(function(n,s){return Zr(Zr({},n),{},Zh({},s,TP.create(t[s])))},{});return Zr(Zr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return wte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return SP(s,function(i,o){return r[o].isInRange(i)})}})};function rre(e){return(e%180+180)%180}var nre=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rre(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},sre=Nn,are=Yc,ire=Ch;function ore(e){return function(t,r,n){var s=Object(t);if(!are(t)){var i=sre(r);t=ire(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var lre=ore,cre=wP;function ure(e){var t=cre(e),r=t%1;return t===t?r?t-r:t:0}var dre=ure,fre=A4,hre=Nn,pre=dre,mre=Math.max;function gre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:pre(r);return s<0&&(s=mre(n+s,0)),fre(e,hre(t),s)}var xre=gre,vre=lre,yre=xre,bre=vre(yre),wre=bre;const jre=$e(wre);var _re=g8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uy=O.createContext(void 0),dy=O.createContext(void 0),$P=O.createContext(void 0),IP=O.createContext({}),DP=O.createContext(void 0),MP=O.createContext(0),RP=O.createContext(0),W_=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=_re(i);return C.createElement(uy.Provider,{value:n},C.createElement(dy.Provider,{value:s},C.createElement(IP.Provider,{value:i},C.createElement($P.Provider,{value:f},C.createElement(DP.Provider,{value:o},C.createElement(MP.Provider,{value:u},C.createElement(RP.Provider,{value:c},l)))))))},Nre=function(){return O.useContext(DP)},LP=function(t){var r=O.useContext(uy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},Sre=function(){var t=O.useContext(uy);return gs(t)},Are=function(){var t=O.useContext(dy),r=jre(t,function(n){return SP(n.domain,Number.isFinite)});return r||gs(t)},FP=function(t){var r=O.useContext(dy);r==null&&Ta();var n=r[t];return n==null&&Ta(),n},Ore=function(){var t=O.useContext($P);return t},Pre=function(){return O.useContext(IP)},fy=function(){return O.useContext(RP)},hy=function(){return O.useContext(MP)};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function Cre(e,t,r){return t&&kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tre(e,t,r){return t=Pf(t),$re(e,UP()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function $re(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(e)}function Ire(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function Dre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mg(e,t)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function py(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=Mre(e,"string");return no(t)=="symbol"?t:t+""}function Mre(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rre(e,t){return Bre(e)||Ure(e,t)||Fre(e,t)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ure(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Bre(e){if(Array.isArray(e))return e}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}var zre=function(t,r){var n;return C.isValidElement(t)?n=C.cloneElement(t,r):ce(t)?n=t(r):n=C.createElement("line",Rg({},r,{className:"recharts-reference-line-line"})),n},qre=function(t,r,n,s,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var y=u.y,b=t.y.apply(y,{position:o});if(bn(u,"discard")&&!t.y.isInRange(b))return null;var g=[{x:f+h,y:b},{x:f,y:b}];return c==="left"?g.reverse():g}if(r){var j=u.x,x=t.x.apply(j,{position:o});if(bn(u,"discard")&&!t.x.isInRange(x))return null;var m=[{x,y:d+p},{x,y:d}];return l==="top"?m.reverse():m}if(s){var N=u.segment,v=N.map(function(w){return t.apply(w,{position:o})});return bn(u,"discard")&&hte(v,function(w){return!t.isInRange(w)})?null:v}return null};function Wre(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Nre(),f=LP(s),d=FP(i),h=Ore();if(!u||!h)return null;on(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cy({x:f.scale,y:d.scale}),y=yt(t),b=yt(r),g=n&&n.length===2,j=qre(p,y,b,g,h,e.position,f.orientation,d.orientation,e);if(!j)return null;var x=Rre(j,2),m=x[0],N=m.x,v=m.y,w=x[1],S=w.x,_=w.y,A=bn(e,"hidden")?"url(#".concat(u,")"):void 0,P=K_(K_({clipPath:A},ae(e,!0)),{},{x1:N,y1:v,x2:S,y2:_});return C.createElement(_e,{className:he("recharts-reference-line",l)},zre(o,P),St.renderCallByParent(e,tre({x1:N,y1:v,x2:S,y2:_})))}var my=function(e){function t(){return Ere(this,t),Tre(this,t,arguments)}return Dre(t,e),Cre(t,[{key:"render",value:function(){return C.createElement(Wre,this.props)}}])}(C.Component);py(my,"displayName","ReferenceLine");py(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function Vre(e,t,r){return t&&Kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gre(e,t,r){return t=Ef(t),Qre(e,zP()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function Qre(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yre(e)}function Yre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function Xre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fg(e,t)}function Jh(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=Zre(e,"string");return so(t)=="symbol"?t:t+""}function Zre(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jre=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=cy({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return bn(t,"discard")&&!o.isInRange(l)?null:l},ep=function(e){function t(){return Hre(this,t),Gre(this,t,arguments)}return Xre(t,e),Vre(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=yt(s),f=yt(i);if(on(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Jre(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,b=y.shape,g=y.className,j=bn(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=Q_(Q_({clipPath:j},ae(this.props,!0)),{},{cx:h,cy:p});return C.createElement(_e,{className:he("recharts-reference-dot",g)},t.renderDot(b,x),St.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(C.Component);Jh(ep,"displayName","ReferenceDot");Jh(ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jh(ep,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):ce(e)?r=e(t):r=C.createElement(Hh,Lg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function rne(e,t,r){return t&&tne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=kf(t),sne(e,WP()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function sne(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ane(e)}function ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function ine(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bg(e,t)}function tp(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=one(e,"string");return ao(t)=="symbol"?t:t+""}function one(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=cy({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return bn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:CP(p,y)},rp=function(e){function t(){return ene(this,t),nne(this,t,arguments)}return ine(t,e),rne(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;on(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=yt(s),h=yt(i),p=yt(o),y=yt(l),b=this.props.shape;if(!d&&!h&&!p&&!y&&!b)return null;var g=lne(d,h,p,y,this.props);if(!g&&!b)return null;var j=bn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return C.createElement(_e,{className:he("recharts-reference-area",c)},t.renderRect(b,X_(X_({clipPath:j},ae(this.props,!0)),g)),St.renderCallByParent(this.props,g))}}])}(C.Component);tp(rp,"displayName","ReferenceArea");tp(rp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tp(rp,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):ce(e)?r=e(t):r=C.createElement(ly,Ug({},t,{className:"recharts-reference-area-rect"})),r});function KP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function cne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nre(n,r)}function une(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Cf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function dne(e,t){return KP(e,t+1)}function fne(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:KP(n,u)};var b=c,g,j=function(){return g===void 0&&(g=r(y,b)),g},x=y.coordinate,m=c===0||Cf(e,x,j,f,l);m||(c=0,f=o,u+=1),m&&(f=x+e*(j()/2+s),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hne(e,t,r){return t=pne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pne(e){var t=mne(e,"string");return $c(t)=="symbol"?t:t+""}function mne(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,b=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var g=e*(p.coordinate+e*b()/2-c);i[h]=p=Ut(Ut({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=Ut(Ut({},p),{},{tickCoord:p.coordinate});var j=Cf(e,p.tickCoord,b,l,c);j&&(c=p.tickCoord-e*(b()/2+s),i[h]=Ut(Ut({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function xne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=Ut(Ut({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Cf(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+s),o[l-1]=Ut(Ut({},f),{},{isShow:!0}))}for(var y=i?l-1:l,b=function(x){var m=o[x],N,v=function(){return N===void 0&&(N=r(m,x)),N};if(x===0){var w=e*(m.coordinate-e*v()/2-c);o[x]=m=Ut(Ut({},m),{},{tickCoord:w<0?m.coordinate-w*e:m.coordinate})}else o[x]=m=Ut(Ut({},m),{},{tickCoord:m.coordinate});var S=Cf(e,m.tickCoord,v,c,u);S&&(c=m.tickCoord+e*(v()/2+s),o[x]=Ut(Ut({},m),{},{isShow:!0}))},g=0;g<y;g++)b(g);return o}function gy(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(Y(c)||vn.isSsr)return dne(s,typeof c=="number"&&Y(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?Nl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(m,N){var v=ce(u)?u(m.value,N):m.value;return p==="width"?cne(Nl(v,{fontSize:t,letterSpacing:r}),y,d):Nl(v,{fontSize:t,letterSpacing:r})[p]},g=s.length>=2?Qt(s[1].coordinate-s[0].coordinate):1,j=une(i,g,p);return c==="equidistantPreserveStart"?fne(g,j,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=xne(g,j,b,s,o,c==="preserveStartEnd"):h=gne(g,j,b,s,o),h.filter(function(x){return x.isShow}))}var vne=["viewBox"],yne=["viewBox"],bne=["ticks"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mm(e,t){if(e==null)return{};var r=wne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function _ne(e,t,r){return t&&eN(e.prototype,t),r&&eN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nne(e,t,r){return t=Tf(t),Sne(e,VP()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function Sne(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(e)}function Ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VP=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function One(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zg(e,t)}function xy(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=Pne(e,"string");return io(t)=="symbol"?t:t+""}function Pne(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mo=function(e){function t(r){var n;return jne(this,t),n=Nne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return One(t,e),_ne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=mm(n,vne),l=this.props,c=l.viewBox,u=mm(l,yne);return!Pi(i,c)||!Pi(o,u)||!Pi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,d=s.mirror,h=s.tickMargin,p,y,b,g,j,x,m=d?-1:1,N=n.tickSize||f,v=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=o+ +!d*c,b=g-m*N,x=b-m*h,j=v;break;case"left":b=g=n.coordinate,y=i+ +!d*l,p=y-m*N,j=p-m*h,x=v;break;case"right":b=g=n.coordinate,y=i+ +d*l,p=y+m*N,j=p+m*h,x=v;break;default:p=y=n.coordinate,g=o+ +d*c,b=g+m*N,x=b+m*h,j=v;break}return{line:{x1:p,y1:b,x2:y,y2:g},tick:{x:j,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=pt(pt(pt({},ae(this.props,!1)),ae(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=pt(pt({},d),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=pt(pt({},d),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return C.createElement("line",yi({},d,{className:he("recharts-cartesian-axis-line",wr(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=gy(pt(pt({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),g=ae(this.props,!1),j=ae(f,!1),x=pt(pt({},g),{},{fill:"none"},ae(c,!1)),m=p.map(function(N,v){var w=o.getTickLineCoord(N),S=w.line,_=w.tick,A=pt(pt(pt(pt({textAnchor:y,verticalAnchor:b},g),{},{stroke:"none",fill:u},j),_),{},{index:v,payload:N,visibleTicksCount:p.length,tickFormatter:d});return C.createElement(_e,yi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ea(o.props,N,v)),c&&C.createElement("line",yi({},x,S,{className:he("recharts-cartesian-axis-tick-line",wr(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(ce(d)?d(N.value,v):N.value).concat(h||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var d=this.props,h=d.ticks,p=mm(d,bne),y=h;return ce(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:C.createElement(_e,{className:he("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=he(s.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(n)?o=C.cloneElement(n,pt(pt({},s),{},{className:l})):ce(n)?o=n(pt(pt({},s),{},{className:l})):o=C.createElement(ka,yi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);xy(Mo,"displayName","CartesianAxis");xy(Mo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ene=["x1","y1","x2","y2","key"],kne=["offset"];function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cne(e,t,r){return t=Tne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tne(e){var t=$ne(e,"string");return $a(t)=="symbol"?t:t+""}function $ne(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(this,arguments)}function rN(e,t){if(e==null)return{};var r=Ine(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ine(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return C.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QP(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(ce(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=rN(t,Ene),u=ae(c,!1);u.offset;var f=rN(u,kne);r=C.createElement("line",fa({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Mne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=zt(zt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return QP(s,u)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=zt(zt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return QP(s,u)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Lne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?s+o-h:f[p+1]-h;if(b<=0)return null;var g=p%t.length;return C.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Fne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],b=y?i+l-h:f[p+1]-h;if(b<=0)return null;var g=p%n.length;return C.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:c,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Une=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return HO(gy(zt(zt(zt({},Mo.defaultProps),n),{},{ticks:Rn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Bne=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return HO(gy(zt(zt(zt({},Mo.defaultProps),n),{},{ticks:Rn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ja={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sr(e){var t,r,n,s,i,o,l=fy(),c=hy(),u=Pre(),f=zt(zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ja.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ja.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ja.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ja.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ja.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ja.verticalFill,x:Y(e.x)?e.x:u.left,y:Y(e.y)?e.y:u.top,width:Y(e.width)?e.width:u.width,height:Y(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,b=f.syncWithTicks,g=f.horizontalValues,j=f.verticalValues,x=Sre(),m=Are();if(!Y(p)||p<=0||!Y(y)||y<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var N=f.verticalCoordinatesGenerator||Une,v=f.horizontalCoordinatesGenerator||Bne,w=f.horizontalPoints,S=f.verticalPoints;if((!w||!w.length)&&ce(v)){var _=g&&g.length,A=v({yAxis:m?zt(zt({},m),{},{ticks:_?g:m.ticks}):void 0,width:l,height:c,offset:u},_?!0:b);on(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($a(A),"]")),Array.isArray(A)&&(w=A)}if((!S||!S.length)&&ce(N)){var P=j&&j.length,E=N({xAxis:x?zt(zt({},x),{},{ticks:P?j:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:b);on(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($a(E),"]")),Array.isArray(E)&&(S=E)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Dne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),C.createElement(Mne,fa({},f,{offset:u,horizontalPoints:w,xAxis:x,yAxis:m})),C.createElement(Rne,fa({},f,{offset:u,verticalPoints:S,xAxis:x,yAxis:m})),C.createElement(Lne,fa({},f,{horizontalPoints:w})),C.createElement(Fne,fa({},f,{verticalPoints:S})))}Sr.displayName="CartesianGrid";var zne=["type","layout","connectNulls","ref"],qne=["key"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function nN(e,t){if(e==null)return{};var r=Wne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ei(e){return Gne(e)||Vne(e)||Kne(e)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kne(e,t){if(e){if(typeof e=="string")return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}}function Vne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gne(e){if(Array.isArray(e))return qg(e)}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XP(n.key),n)}}function Yne(e,t,r){return t&&aN(e.prototype,t),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xne(e,t,r){return t=$f(t),Zne(e,YP()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function Zne(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jne(e)}function Jne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wg(e,t)}function Jr(e,t,r){return t=XP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XP(e){var t=tse(e,"string");return oo(t)=="symbol"?t:t+""}function tse(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var er=function(e){function t(){var r;Qne(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Xne(this,t,[].concat(s)),Jr(r,"state",{isAnimationFinished:!0,totalLength:0}),Jr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Jr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,x){return j+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,p=[],y=0,b=0;y<c.length;b+=c[y],++y)if(b+c[y]>d){p=[].concat(ei(c.slice(0,y)),[d-b]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ei(t.repeat(c,f)),ei(p),g).map(function(j){return"".concat(j,"px")}).join(", ")}),Jr(r,"id",Eo("recharts-line-")),Jr(r,"pathRef",function(o){r.mainCurve=o}),Jr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ese(t,e),Yne(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=jr(f,ru);if(!d)return null;var h=function(b,g){return{x:b.x,y:b.y,value:b.value,errorVal:xt(b.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return C.createElement(_e,p,d.map(function(y){return C.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=ae(this.props,!1),h=ae(c,!0),p=u.map(function(b,g){var j=hr(hr(hr({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:u});return t.renderDotItem(c,j)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return C.createElement(_e,kl({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=nN(l,zne),h=hr(hr(hr({},ae(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return C.createElement(hf,kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,b=o.width,g=o.height,j=this.state,x=j.prevPoints,m=j.totalLength;return C.createElement(jn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var v=N.t;if(x){var w=x.length/l.length,S=l.map(function(k,I){var T=Math.floor(I*w);if(x[T]){var R=x[T],U=xr(R.x,k.x),W=xr(R.y,k.y);return hr(hr({},k),{},{x:U(v),y:W(v)})}if(y){var $=xr(b*2,k.x),L=xr(g/2,k.y);return hr(hr({},k),{},{x:$(v),y:L(v)})}return hr(hr({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(S,n,s)}var _=xr(0,m),A=_(v),P;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});P=i.getStrokeDasharray(A,m,E)}else P=i.generateSimpleStrokeDasharray(m,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!tu(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,d=s.top,h=s.left,p=s.width,y=s.height,b=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,x=l.length===1,m=he("recharts-line",c),N=u&&u.allowDataOverflow,v=f&&f.allowDataOverflow,w=N||v,S=ue(g)?this.id:g,_=(n=ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=_.r,P=A===void 0?3:A,E=_.strokeWidth,k=E===void 0?2:E,I=NM(o)?o:{},T=I.clipDot,R=T===void 0?!0:T,U=P*2+k;return C.createElement(_e,{className:m},N||v?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(S)},C.createElement("rect",{x:N?h:h-p/2,y:v?d:d-y/2,width:N?p:p*2,height:v?y:y*2})),!R&&C.createElement("clipPath",{id:"clipPath-dots-".concat(S)},C.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:y+U}))):null,!x&&this.renderCurve(w,S),this.renderErrorBar(w,S),(x||o)&&this.renderDots(w,R,S),(!b||j)&&Bn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ei(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ei(o),ei(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(C.isValidElement(n))i=C.cloneElement(n,s);else if(ce(n))i=n(s);else{var o=s.key,l=nN(s,qne),c=he("recharts-line-dot",typeof n!="boolean"?n.className:"");i=C.createElement(Hh,kl({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Jr(er,"displayName","Line");Jr(er,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jr(er,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=xt(h,o);return f==="horizontal"?{x:Ej({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:ue(y)?null:n.scale(y),value:y,payload:h}:{x:ue(y)?null:r.scale(y),y:Ej({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return hr({points:d,layout:f},u)});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function rse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eE(n.key),n)}}function sse(e,t,r){return t&&nse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ase(e,t,r){return t=If(t),ise(e,ZP()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function ise(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ose(e)}function ose(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hg(e,t)}function JP(e,t,r){return t=eE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e){var t=cse(e,"string");return lo(t)=="symbol"?t:t+""}function cse(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}function use(e){var t=e.xAxisId,r=fy(),n=hy(),s=LP(t);return s==null?null:O.createElement(Mo,Kg({},s,{className:he("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Rn(o,!0)}}))}var Kt=function(e){function t(){return rse(this,t),ase(this,t,arguments)}return lse(t,e),sse(t,[{key:"render",value:function(){return O.createElement(use,this.props)}}])}(O.Component);JP(Kt,"displayName","XAxis");JP(Kt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nE(n.key),n)}}function hse(e,t,r){return t&&fse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,r){return t=Df(t),mse(e,tE()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function mse(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(e)}function gse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tE=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vg(e,t)}function rE(e,t,r){return t=nE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nE(e){var t=vse(e,"string");return co(t)=="symbol"?t:t+""}function vse(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}var yse=function(t){var r=t.yAxisId,n=fy(),s=hy(),i=FP(r);return i==null?null:O.createElement(Mo,Gg({},i,{className:he("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Rn(l,!0)}}))},Vt=function(e){function t(){return dse(this,t),pse(this,t,arguments)}return xse(t,e),hse(t,[{key:"render",value:function(){return O.createElement(yse,this.props)}}])}(O.Component);rE(Vt,"displayName","YAxis");rE(Vt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iN(e){return _se(e)||jse(e)||wse(e)||bse()}function bse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function jse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _se(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yg=function(t,r,n,s,i){var o=jr(t,my),l=jr(t,ep),c=[].concat(iN(o),iN(l)),u=jr(t,rp),f="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(b,g){if(g.props[f]===n&&bn(g.props,"extendDomain")&&Y(g.props[d])){var j=g.props[d];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(b,g){if(g.props[f]===n&&bn(g.props,"extendDomain")&&Y(g.props[p])&&Y(g.props[y])){var j=g.props[p],x=g.props[y];return[Math.min(b[0],j,x),Math.max(b[1],j,x)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,g){return Y(g)?[Math.min(b[0],g),Math.max(b[1],g)]:b},h)),h},sE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var b=r?r+u:u;if(!this._events[b])return!1;var g=this._events[b],j=arguments.length,x,m;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,y),!0}for(m=1,x=new Array(j-1);m<j;m++)x[m-1]=arguments[m];g.fn.apply(g.context,x)}else{var N=g.length,v;for(m=0;m<N;m++)switch(g[m].once&&this.removeListener(u,g[m].fn,void 0,!0),j){case 1:g[m].fn.call(g[m].context);break;case 2:g[m].fn.call(g[m].context,f);break;case 3:g[m].fn.call(g[m].context,f,d);break;case 4:g[m].fn.call(g[m].context,f,d,h);break;default:if(!x)for(v=1,x=new Array(j-1);v<j;v++)x[v-1]=arguments[v];g[m].fn.apply(g[m].context,x)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var b=0,g=[],j=y.length;b<j;b++)(y[b].fn!==f||h&&!y[b].once||d&&y[b].context!==d)&&g.push(y[b]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(sE);var Nse=sE.exports;const Sse=$e(Nse);var gm=new Sse,xm="recharts.syncMouseEvents";function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ose(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aE(n.key),n)}}function Pse(e,t,r){return t&&Ose(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vm(e,t,r){return t=aE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(e){var t=Ese(e,"string");return Ic(t)=="symbol"?t:t+""}function Ese(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kse=function(){function e(){Ase(this,e),vm(this,"activeIndex",0),vm(this,"coordinateList",[]),vm(this,"layout","horizontal")}return Pse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Cse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Y(n)&&Y(s))return!0}return!1}function Tse(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function iE(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=He(t,r,n,s),l=He(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function $se(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=He(l,c,u,d),p=He(l,c,f,d);n=h.x,s=h.y,i=p.x,o=p.y}else return iE(t);return[{x:n,y:s},{x:i,y:o}]}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ise(e,t,r){return t=Dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dse(e){var t=Mse(e,"string");return Dc(t)=="symbol"?t:t+""}function Mse(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,b=hf;if(h==="ScatterChart")y=o,b=tJ;else if(h==="BarChart")y=Tse(d,o,c,f),b=ly;else if(d==="radial"){var g=iE(o),j=g.cx,x=g.cy,m=g.radius,N=g.startAngle,v=g.endAngle;y={cx:j,cy:x,startAngle:N,endAngle:v,innerRadius:m,outerRadius:m},b=rP}else y={points:$se(d,o,c)},b=hf;var w=Fu(Fu(Fu(Fu({stroke:"#ccc",pointerEvents:"none"},c),y),ae(p,!1)),{},{payload:l,payloadIndex:u,className:he("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,w):O.createElement(b,w)}var Lse=["item"],Fse=["children","className","width","height","style","compact","title","desc"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function lN(e,t){return zse(e)||Bse(e,t)||lE(e,t)||Use()}function Use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zse(e){if(Array.isArray(e))return e}function cN(e,t){if(e==null)return{};var r=qse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cE(n.key),n)}}function Kse(e,t,r){return t&&Hse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vse(e,t,r){return t=Mf(t),Gse(e,oE()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function Gse(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(e)}function Qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oE=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function Yse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xg(e,t)}function fo(e){return Jse(e)||Zse(e)||lE(e)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lE(e,t){if(e){if(typeof e=="string")return Zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zg(e,t)}}function Zse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jse(e){if(Array.isArray(e))return Zg(e)}function Zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=cE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cE(e){var t=eae(e,"string");return uo(t)=="symbol"?t:t+""}function eae(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tae={xAxis:["bottom","top"],yAxis:["left","right"]},rae={width:"100%",height:"100%"},uE={x:0,y:0};function Uu(e){return e}var nae=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},sae=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),He(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),He(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return uE},np=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(fo(l),fo(u)):l},[]);return o.length>0?o:t&&t.length&&Y(s)&&Y(i)?t.slice(s,i+1):[]};function dE(e){return e==="number"?[0,"auto"]:void 0}var Jg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=np(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;h=Dd(p,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(fo(c),[YO(u,h)]):c},[])},dN=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=nae(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=SQ(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=Jg(t,r,f,d),p=sae(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},aae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=WO(f,i);return n.reduce(function(y,b){var g,j=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,x=j.type,m=j.dataKey,N=j.allowDataOverflow,v=j.allowDuplicatedCategory,w=j.scale,S=j.ticks,_=j.includeHidden,A=j[o];if(y[A])return y;var P=np(t.data,{graphicalItems:s.filter(function(Q){var te,ve=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o];return ve===A}),dataStartIndex:c,dataEndIndex:u}),E=P.length,k,I,T;Cse(j.domain,N,x)&&(k=hg(j.domain,null,N),p&&(x==="number"||w!=="auto")&&(T=Al(P,m,"category")));var R=dE(x);if(!k||k.length===0){var U,W=(U=j.domain)!==null&&U!==void 0?U:R;if(m){if(k=Al(P,m,x),x==="category"&&p){var $=pM(k);v&&$?(I=k,k=_f(0,E)):v||(k=$j(W,k,b).reduce(function(Q,te){return Q.indexOf(te)>=0?Q:[].concat(fo(Q),[te])},[]))}else if(x==="category")v?k=k.filter(function(Q){return Q!==""&&!ue(Q)}):k=$j(W,k,b).reduce(function(Q,te){return Q.indexOf(te)>=0||te===""||ue(te)?Q:[].concat(fo(Q),[te])},[]);else if(x==="number"){var L=kQ(P,s.filter(function(Q){var te,ve,De=o in Q.props?Q.props[o]:(te=Q.type.defaultProps)===null||te===void 0?void 0:te[o],Ke="hide"in Q.props?Q.props.hide:(ve=Q.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return De===A&&(_||!Ke)}),m,i,f);L&&(k=L)}p&&(x==="number"||w!=="auto")&&(T=Al(P,m,"category"))}else p?k=_f(0,E):l&&l[A]&&l[A].hasStack&&x==="number"?k=h==="expand"?[0,1]:QO(l[A].stackGroups,c,u):k=qO(P,s.filter(function(Q){var te=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ve="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return te===A&&(_||!ve)}),x,f,!0);if(x==="number")k=Yg(d,k,A,i,S),W&&(k=hg(W,k,N));else if(x==="category"&&W){var D=W,K=k.every(function(Q){return D.indexOf(Q)>=0});K&&(k=D)}}return B(B({},y),{},oe({},A,B(B({},j),{},{axisType:i,domain:k,categoricalDomain:T,duplicateDomain:I,originalDomain:(g=j.domain)!==null&&g!==void 0?g:R,isCategorical:p,layout:f})))},{})},iae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=np(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=WO(f,i),b=-1;return n.reduce(function(g,j){var x=j.type.defaultProps!==void 0?B(B({},j.type.defaultProps),j.props):j.props,m=x[o],N=dE("number");if(!g[m]){b++;var v;return y?v=_f(0,p):l&&l[m]&&l[m].hasStack?(v=QO(l[m].stackGroups,c,u),v=Yg(d,v,m,i)):(v=hg(N,qO(h,n.filter(function(w){var S,_,A=o in w.props?w.props[o]:(S=w.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in w.props?w.props.hide:(_=w.type.defaultProps)===null||_===void 0?void 0:_.hide;return A===m&&!P}),"number",f),s.defaultProps.allowDataOverflow),v=Yg(d,v,m,i)),B(B({},g),{},oe({},m,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:wr(tae,"".concat(i,".").concat(b%2),null),domain:v,originalDomain:N,isCategorical:y,layout:f})))}return g},{})},oae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(s,"Id"),h=jr(f,i),p={};return h&&h.length?p=aae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=iae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},lae=function(t){var r=gs(t),n=Rn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Dv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uf(r,n)}},fN=function(t){var r=t.children,n=t.defaultShowTooltip,s=gr(r,to),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},cae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Fn(r&&r.type);return n&&n.indexOf("Bar")>=0})},hN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=gr(d,to),y=gr(d,Ei),b=Object.keys(c).reduce(function(v,w){var S=c[w],_=S.orientation;return!S.mirror&&!S.hide?B(B({},v),{},oe({},_,v[_]+S.width)):v},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(v,w){var S=o[w],_=S.orientation;return!S.mirror&&!S.hide?B(B({},v),{},oe({},_,wr(v,"".concat(_))+S.height)):v},{top:h.top||0,bottom:h.bottom||0}),j=B(B({},g),b),x=j.bottom;p&&(j.bottom+=p.props.height||to.defaultProps.height),y&&r&&(j=PQ(j,s,n,r));var m=u-j.left-j.right,N=f-j.top-j.bottom;return B(B({brushBottom:x},j),{},{width:Math.max(m,0),height:Math.max(N,0)})},dae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},vy=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(j,x){var m=x.graphicalItems,N=x.stackGroups,v=x.offset,w=x.updateId,S=x.dataStartIndex,_=x.dataEndIndex,A=j.barSize,P=j.layout,E=j.barGap,k=j.barCategoryGap,I=j.maxBarSize,T=hN(P),R=T.numericAxisName,U=T.cateAxisName,W=cae(m),$=[];return m.forEach(function(L,D){var K=np(j.data,{graphicalItems:[L],dataStartIndex:S,dataEndIndex:_}),Q=L.type.defaultProps!==void 0?B(B({},L.type.defaultProps),L.props):L.props,te=Q.dataKey,ve=Q.maxBarSize,De=Q["".concat(R,"Id")],Ke=Q["".concat(U,"Id")],Dt={},wt=c.reduce(function(Ve,M){var Z=x["".concat(M.axisType,"Map")],me=Q["".concat(M.axisType,"Id")];Z&&Z[me]||M.axisType==="zAxis"||Ta();var Mt=Z[me];return B(B({},Ve),{},oe(oe({},M.axisType,Mt),"".concat(M.axisType,"Ticks"),Rn(Mt)))},Dt),X=wt[U],ie=wt["".concat(U,"Ticks")],de=N&&N[De]&&N[De].hasStack&&FQ(L,N[De].stackGroups),H=Fn(L.type).indexOf("Bar")>=0,ke=uf(X,ie),pe=[],xe=W&&AQ({barSize:A,stackGroups:N,totalSize:dae(wt,U)});if(H){var V,ne,le=ue(ve)?I:ve,Se=(V=(ne=uf(X,ie,!0))!==null&&ne!==void 0?ne:le)!==null&&V!==void 0?V:0;pe=OQ({barGap:E,barCategoryGap:k,bandSize:Se!==ke?Se:ke,sizeList:xe[Ke],maxBarSize:le}),Se!==ke&&(pe=pe.map(function(Ve){return B(B({},Ve),{},{position:B(B({},Ve.position),{},{offset:Ve.position.offset-Se/2})})}))}var we=L&&L.type&&L.type.getComposedData;we&&$.push({props:B(B({},we(B(B({},wt),{},{displayedData:K,props:j,dataKey:te,item:L,bandSize:ke,barPosition:pe,offset:v,stackedData:de,layout:P,dataStartIndex:S,dataEndIndex:_}))),{},oe(oe(oe({key:L.key||"item-".concat(D)},R,wt[R]),U,wt[U]),"animationId",w)),childIndex:OM(L,j.children),item:L})}),$},p=function(j,x){var m=j.props,N=j.dataStartIndex,v=j.dataEndIndex,w=j.updateId;if(!Aw({props:m}))return null;var S=m.children,_=m.layout,A=m.stackOffset,P=m.data,E=m.reverseStackOrder,k=hN(_),I=k.numericAxisName,T=k.cateAxisName,R=jr(S,n),U=RQ(P,R,"".concat(I,"Id"),"".concat(T,"Id"),A,E),W=c.reduce(function(Q,te){var ve="".concat(te.axisType,"Map");return B(B({},Q),{},oe({},ve,oae(m,B(B({},te),{},{graphicalItems:R,stackGroups:te.axisType===I&&U,dataStartIndex:N,dataEndIndex:v}))))},{}),$=uae(B(B({},W),{},{props:m,graphicalItems:R}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(Q){W[Q]=f(m,W[Q],$,Q.replace("Map",""),r)});var L=W["".concat(T,"Map")],D=lae(L),K=h(m,B(B({},W),{},{dataStartIndex:N,dataEndIndex:v,updateId:w,graphicalItems:R,stackGroups:U,offset:$}));return B(B({formattedGraphicalItems:K,graphicalItems:R,offset:$,stackGroups:U},D),W)},y=function(g){function j(x){var m,N,v;return Wse(this,j),v=Vse(this,j,[x]),oe(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(v,"accessibilityManager",new kse),oe(v,"handleLegendBBoxUpdate",function(w){if(w){var S=v.state,_=S.dataStartIndex,A=S.dataEndIndex,P=S.updateId;v.setState(B({legendBBox:w},p({props:v.props,dataStartIndex:_,dataEndIndex:A,updateId:P},B(B({},v.state),{},{legendBBox:w}))))}}),oe(v,"handleReceiveSyncEvent",function(w,S,_){if(v.props.syncId===w){if(_===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(S)}}),oe(v,"handleBrushChange",function(w){var S=w.startIndex,_=w.endIndex;if(S!==v.state.dataStartIndex||_!==v.state.dataEndIndex){var A=v.state.updateId;v.setState(function(){return B({dataStartIndex:S,dataEndIndex:_},p({props:v.props,dataStartIndex:S,dataEndIndex:_,updateId:A},v.state))}),v.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),oe(v,"handleMouseEnter",function(w){var S=v.getMouseInfo(w);if(S){var _=B(B({},S),{},{isTooltipActive:!0});v.setState(_),v.triggerSyncEvent(_);var A=v.props.onMouseEnter;ce(A)&&A(_,w)}}),oe(v,"triggeredAfterMouseMove",function(w){var S=v.getMouseInfo(w),_=S?B(B({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(_),v.triggerSyncEvent(_);var A=v.props.onMouseMove;ce(A)&&A(_,w)}),oe(v,"handleItemMouseEnter",function(w){v.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),oe(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),oe(v,"handleMouseMove",function(w){w.persist(),v.throttleTriggeredAfterMouseMove(w)}),oe(v,"handleMouseLeave",function(w){v.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};v.setState(S),v.triggerSyncEvent(S);var _=v.props.onMouseLeave;ce(_)&&_(S,w)}),oe(v,"handleOuterEvent",function(w){var S=AM(w),_=wr(v.props,"".concat(S));if(S&&ce(_)){var A,P;/.*touch.*/i.test(S)?P=v.getMouseInfo(w.changedTouches[0]):P=v.getMouseInfo(w),_((A=P)!==null&&A!==void 0?A:{},w)}}),oe(v,"handleClick",function(w){var S=v.getMouseInfo(w);if(S){var _=B(B({},S),{},{isTooltipActive:!0});v.setState(_),v.triggerSyncEvent(_);var A=v.props.onClick;ce(A)&&A(_,w)}}),oe(v,"handleMouseDown",function(w){var S=v.props.onMouseDown;if(ce(S)){var _=v.getMouseInfo(w);S(_,w)}}),oe(v,"handleMouseUp",function(w){var S=v.props.onMouseUp;if(ce(S)){var _=v.getMouseInfo(w);S(_,w)}}),oe(v,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),oe(v,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&v.handleMouseDown(w.changedTouches[0])}),oe(v,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&v.handleMouseUp(w.changedTouches[0])}),oe(v,"handleDoubleClick",function(w){var S=v.props.onDoubleClick;if(ce(S)){var _=v.getMouseInfo(w);S(_,w)}}),oe(v,"handleContextMenu",function(w){var S=v.props.onContextMenu;if(ce(S)){var _=v.getMouseInfo(w);S(_,w)}}),oe(v,"triggerSyncEvent",function(w){v.props.syncId!==void 0&&gm.emit(xm,v.props.syncId,w,v.eventEmitterSymbol)}),oe(v,"applySyncEvent",function(w){var S=v.props,_=S.layout,A=S.syncMethod,P=v.state.updateId,E=w.dataStartIndex,k=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)v.setState(B({dataStartIndex:E,dataEndIndex:k},p({props:v.props,dataStartIndex:E,dataEndIndex:k,updateId:P},v.state)));else if(w.activeTooltipIndex!==void 0){var I=w.chartX,T=w.chartY,R=w.activeTooltipIndex,U=v.state,W=U.offset,$=U.tooltipTicks;if(!W)return;if(typeof A=="function")R=A($,w);else if(A==="value"){R=-1;for(var L=0;L<$.length;L++)if($[L].value===w.activeLabel){R=L;break}}var D=B(B({},W),{},{x:W.left,y:W.top}),K=Math.min(I,D.x+D.width),Q=Math.min(T,D.y+D.height),te=$[R]&&$[R].value,ve=Jg(v.state,v.props.data,R),De=$[R]?{x:_==="horizontal"?$[R].coordinate:K,y:_==="horizontal"?Q:$[R].coordinate}:uE;v.setState(B(B({},w),{},{activeLabel:te,activeCoordinate:De,activePayload:ve,activeTooltipIndex:R}))}else v.setState(w)}),oe(v,"renderCursor",function(w){var S,_=v.state,A=_.isTooltipActive,P=_.activeCoordinate,E=_.activePayload,k=_.offset,I=_.activeTooltipIndex,T=_.tooltipAxisBandSize,R=v.getTooltipEventType(),U=(S=w.props.active)!==null&&S!==void 0?S:A,W=v.props.layout,$=w.key||"_recharts-cursor";return C.createElement(Rse,{key:$,activeCoordinate:P,activePayload:E,activeTooltipIndex:I,chartName:r,element:w,isActive:U,layout:W,offset:k,tooltipAxisBandSize:T,tooltipEventType:R})}),oe(v,"renderPolarAxis",function(w,S,_){var A=wr(w,"type.axisType"),P=wr(v.state,"".concat(A,"Map")),E=w.type.defaultProps,k=E!==void 0?B(B({},E),w.props):w.props,I=P&&P[k["".concat(A,"Id")]];return O.cloneElement(w,B(B({},I),{},{className:he(A,I.className),key:w.key||"".concat(S,"-").concat(_),ticks:Rn(I,!0)}))}),oe(v,"renderPolarGrid",function(w){var S=w.props,_=S.radialLines,A=S.polarAngles,P=S.polarRadius,E=v.state,k=E.radiusAxisMap,I=E.angleAxisMap,T=gs(k),R=gs(I),U=R.cx,W=R.cy,$=R.innerRadius,L=R.outerRadius;return O.cloneElement(w,{polarAngles:Array.isArray(A)?A:Rn(R,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(P)?P:Rn(T,!0).map(function(D){return D.coordinate}),cx:U,cy:W,innerRadius:$,outerRadius:L,key:w.key||"polar-grid",radialLines:_})}),oe(v,"renderLegend",function(){var w=v.state.formattedGraphicalItems,S=v.props,_=S.children,A=S.width,P=S.height,E=v.props.margin||{},k=A-(E.left||0)-(E.right||0),I=BO({children:_,formattedGraphicalItems:w,legendWidth:k,legendContent:u});if(!I)return null;var T=I.item,R=cN(I,Lse);return O.cloneElement(T,B(B({},R),{},{chartWidth:A,chartHeight:P,margin:E,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),oe(v,"renderTooltip",function(){var w,S=v.props,_=S.children,A=S.accessibilityLayer,P=gr(_,ze);if(!P)return null;var E=v.state,k=E.isTooltipActive,I=E.activeCoordinate,T=E.activePayload,R=E.activeLabel,U=E.offset,W=(w=P.props.active)!==null&&w!==void 0?w:k;return O.cloneElement(P,{viewBox:B(B({},U),{},{x:U.left,y:U.top}),active:W,label:R,payload:W?T:[],coordinate:I,accessibilityLayer:A})}),oe(v,"renderBrush",function(w){var S=v.props,_=S.margin,A=S.data,P=v.state,E=P.offset,k=P.dataStartIndex,I=P.dataEndIndex,T=P.updateId;return O.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Du(v.handleBrushChange,w.props.onChange),data:A,x:Y(w.props.x)?w.props.x:E.left,y:Y(w.props.y)?w.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Y(w.props.width)?w.props.width:E.width,startIndex:k,endIndex:I,updateId:"brush-".concat(T)})}),oe(v,"renderReferenceElement",function(w,S,_){if(!w)return null;var A=v,P=A.clipPathId,E=v.state,k=E.xAxisMap,I=E.yAxisMap,T=E.offset,R=w.type.defaultProps||{},U=w.props,W=U.xAxisId,$=W===void 0?R.xAxisId:W,L=U.yAxisId,D=L===void 0?R.yAxisId:L;return O.cloneElement(w,{key:w.key||"".concat(S,"-").concat(_),xAxis:k[$],yAxis:I[D],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:P})}),oe(v,"renderActivePoints",function(w){var S=w.item,_=w.activePoint,A=w.basePoint,P=w.childIndex,E=w.isRange,k=[],I=S.props.key,T=S.item.type.defaultProps!==void 0?B(B({},S.item.type.defaultProps),S.item.props):S.item.props,R=T.activeDot,U=T.dataKey,W=B(B({index:P,dataKey:U,cx:_.x,cy:_.y,r:4,fill:oy(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},ae(R,!1)),Md(R));return k.push(j.renderActiveDot(R,W,"".concat(I,"-activePoint-").concat(P))),A?k.push(j.renderActiveDot(R,B(B({},W),{},{cx:A.x,cy:A.y}),"".concat(I,"-basePoint-").concat(P))):E&&k.push(null),k}),oe(v,"renderGraphicChild",function(w,S,_){var A=v.filterFormatItem(w,S,_);if(!A)return null;var P=v.getTooltipEventType(),E=v.state,k=E.isTooltipActive,I=E.tooltipAxis,T=E.activeTooltipIndex,R=E.activeLabel,U=v.props.children,W=gr(U,ze),$=A.props,L=$.points,D=$.isRange,K=$.baseLine,Q=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,te=Q.activeDot,ve=Q.hide,De=Q.activeBar,Ke=Q.activeShape,Dt=!!(!ve&&k&&W&&(te||De||Ke)),wt={};P!=="axis"&&W&&W.props.trigger==="click"?wt={onClick:Du(v.handleItemMouseEnter,w.props.onClick)}:P!=="axis"&&(wt={onMouseLeave:Du(v.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Du(v.handleItemMouseEnter,w.props.onMouseEnter)});var X=O.cloneElement(w,B(B({},A.props),wt));function ie(M){return typeof I.dataKey=="function"?I.dataKey(M.payload):null}if(Dt)if(T>=0){var de,H;if(I.dataKey&&!I.allowDuplicatedCategory){var ke=typeof I.dataKey=="function"?ie:"payload.".concat(I.dataKey.toString());de=Dd(L,ke,R),H=D&&K&&Dd(K,ke,R)}else de=L==null?void 0:L[T],H=D&&K&&K[T];if(Ke||De){var pe=w.props.activeIndex!==void 0?w.props.activeIndex:T;return[O.cloneElement(w,B(B(B({},A.props),wt),{},{activeIndex:pe})),null,null]}if(!ue(de))return[X].concat(fo(v.renderActivePoints({item:A,activePoint:de,basePoint:H,childIndex:T,isRange:D})))}else{var xe,V=(xe=v.getItemByXY(v.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:X},ne=V.graphicalItem,le=ne.item,Se=le===void 0?w:le,we=ne.childIndex,Ve=B(B(B({},A.props),wt),{},{activeIndex:we});return[O.cloneElement(Se,Ve),null,null]}return D?[X,null,null]:[X,null]}),oe(v,"renderCustomized",function(w,S,_){return O.cloneElement(w,B(B({key:"recharts-customized-".concat(_)},v.props),v.state))}),oe(v,"renderMap",{CartesianGrid:{handler:Uu,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:Uu},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:Uu},YAxis:{handler:Uu},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((m=x.id)!==null&&m!==void 0?m:Eo("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=U4(v.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),v.state={},v}return Yse(j,g),Kse(j,[{key:"componentDidMount",value:function(){var m,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,N=m.children,v=m.data,w=m.height,S=m.layout,_=gr(N,ze);if(_){var A=_.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=Jg(this.state,v,A,P),k=this.state.tooltipTicks[A].coordinate,I=(this.state.offset.top+w)/2,T=S==="horizontal",R=T?{x:k,y:I}:{y:k,x:I},U=this.state.formattedGraphicalItems.find(function($){var L=$.item;return L.type.name==="Scatter"});U&&(R=B(B({},R),U.props.points[A].tooltipPosition),E=U.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:R};this.setState(W),this.renderCursor(_),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var v,w;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(m){P0([gr(m.children,ze)],[gr(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=gr(this.props.children,ze);if(m&&typeof m.props.shared=="boolean"){var N=m.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var N=this.container,v=N.getBoundingClientRect(),w=JW(v),S={chartX:Math.round(m.pageX-w.left),chartY:Math.round(m.pageY-w.top)},_=v.width/N.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,_);if(!A)return null;var P=this.state,E=P.xAxisMap,k=P.yAxisMap,I=this.getTooltipEventType(),T=dN(this.state,this.props.data,this.props.layout,A);if(I!=="axis"&&E&&k){var R=gs(E).scale,U=gs(k).scale,W=R&&R.invert?R.invert(S.chartX):null,$=U&&U.invert?U.invert(S.chartY):null;return B(B({},S),{},{xValue:W,yValue:$},T)}return T?B(B({},S),T):null}},{key:"inRange",value:function(m,N){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,S=m/v,_=N/v;if(w==="horizontal"||w==="vertical"){var A=this.state.offset,P=S>=A.left&&S<=A.left+A.width&&_>=A.top&&_<=A.top+A.height;return P?{x:S,y:_}:null}var E=this.state,k=E.angleAxisMap,I=E.radiusAxisMap;if(k&&I){var T=gs(k);return Mj({x:S,y:_},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,N=this.getTooltipEventType(),v=gr(m,ze),w={};v&&N==="axis"&&(v.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Md(this.props,this.handleOuterEvent);return B(B({},S),w)}},{key:"addListener",value:function(){gm.on(xm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gm.removeListener(xm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,N,v){for(var w=this.state.formattedGraphicalItems,S=0,_=w.length;S<_;S++){var A=w[S];if(A.item===m||A.props.key===m.key||N===Fn(A.item.type)&&v===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,N=this.state.offset,v=N.left,w=N.top,S=N.height,_=N.width;return C.createElement("defs",null,C.createElement("clipPath",{id:m},C.createElement("rect",{x:v,y:w,height:S,width:_})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(N,v){var w=lN(v,2),S=w[0],_=w[1];return B(B({},N),{},oe({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(N,v){var w=lN(v,2),S=w[0],_=w[1];return B(B({},N),{},oe({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[m])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(m){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[m])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(m){var N=this.state,v=N.formattedGraphicalItems,w=N.activeItem;if(v&&v.length)for(var S=0,_=v.length;S<_;S++){var A=v[S],P=A.props,E=A.item,k=E.type.defaultProps!==void 0?B(B({},E.type.defaultProps),E.props):E.props,I=Fn(E.type);if(I==="Bar"){var T=(P.data||[]).find(function($){return DZ(m,$)});if(T)return{graphicalItem:A,payload:T}}else if(I==="RadialBar"){var R=(P.data||[]).find(function($){return Mj(m,$)});if(R)return{graphicalItem:A,payload:R}}else if(Yh(A,w)||Xh(A,w)||Ec(A,w)){var U=_ee({graphicalItem:A,activeTooltipItem:w,itemData:k.data}),W=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:W}),payload:Ec(A,w)?k.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var m=this;if(!Aw(this))return null;var N=this.props,v=N.children,w=N.className,S=N.width,_=N.height,A=N.style,P=N.compact,E=N.title,k=N.desc,I=cN(N,Fse),T=ae(I,!1);if(P)return C.createElement(W_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(k0,bi({},T,{width:S,height:_,title:E,desc:k}),this.renderClipPath(),Pw(v,this.renderMap)));if(this.props.accessibilityLayer){var R,U;T.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,T.role=(U=this.props.role)!==null&&U!==void 0?U:"application",T.onKeyDown=function($){m.accessibilityManager.keyboardEvent($)},T.onFocus=function(){m.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return C.createElement(W_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",bi({className:he("recharts-wrapper",w),style:B({position:"relative",cursor:"default",width:S,height:_},A)},W,{ref:function(L){m.container=L}}),C.createElement(k0,bi({},T,{width:S,height:_,title:E,desc:k,style:rae}),this.renderClipPath(),Pw(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);oe(y,"displayName",r),oe(y,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oe(y,"getDerivedStateFromProps",function(g,j){var x=g.dataKey,m=g.data,N=g.children,v=g.width,w=g.height,S=g.layout,_=g.stackOffset,A=g.margin,P=j.dataStartIndex,E=j.dataEndIndex;if(j.updateId===void 0){var k=fN(g);return B(B(B({},k),{},{updateId:0},p(B(B({props:g},k),{},{updateId:0}),j)),{},{prevDataKey:x,prevData:m,prevWidth:v,prevHeight:w,prevLayout:S,prevStackOffset:_,prevMargin:A,prevChildren:N})}if(x!==j.prevDataKey||m!==j.prevData||v!==j.prevWidth||w!==j.prevHeight||S!==j.prevLayout||_!==j.prevStackOffset||!Pi(A,j.prevMargin)){var I=fN(g),T={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},R=B(B({},dN(j,m,S)),{},{updateId:j.updateId+1}),U=B(B(B({},I),T),R);return B(B(B({},U),p(B({props:g},U),j)),{},{prevDataKey:x,prevData:m,prevWidth:v,prevHeight:w,prevLayout:S,prevStackOffset:_,prevMargin:A,prevChildren:N})}if(!P0(N,j.prevChildren)){var W,$,L,D,K=gr(N,to),Q=K&&(W=($=K.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:P,te=K&&(L=(D=K.props)===null||D===void 0?void 0:D.endIndex)!==null&&L!==void 0?L:E,ve=Q!==P||te!==E,De=!ue(m),Ke=De&&!ve?j.updateId:j.updateId+1;return B(B({updateId:Ke},p(B(B({props:g},j),{},{updateId:Ke,dataStartIndex:Q,dataEndIndex:te}),j)),{},{prevChildren:N,dataStartIndex:Q,dataEndIndex:te})}return null}),oe(y,"renderActiveDot",function(g,j,x){var m;return O.isValidElement(g)?m=O.cloneElement(g,j):ce(g)?m=g(j):m=C.createElement(Hh,j),C.createElement(_e,{className:"recharts-active-dot",key:x},m)});var b=O.forwardRef(function(j,x){return C.createElement(y,bi({},j,{ref:x}))});return b.displayName=y.displayName,b},nu=vy({chartName:"LineChart",GraphicalChild:er,axisComponents:[{axisType:"xAxis",AxisComp:Kt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:kP}),za=vy({chartName:"BarChart",GraphicalChild:Pt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:kP}),su=vy({chartName:"PieChart",GraphicalChild:Pr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qh},{axisType:"radiusAxis",AxisComp:Vh}],formatAxisMap:QQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function pN({title:e,data:t}){return a.jsxs(F,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Pt,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function fae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await t3.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your survey platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(Au,{title:"Total Users",value:e.totalUsers,icon:a.jsx(Lr,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx(Au,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Ht,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx(Au,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Br,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx(Au,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Ae,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(pN,{title:"Performance by Role",data:e.performanceByRole}),a.jsx($5,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(pN,{title:"Performance by Survey",data:e.performanceBySurvey})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Pe({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(O5,{className:"w-5 h-5"})})]}),n]})]})})}function hae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{f()},[c]);const f=async()=>{try{i(!0);const p=await r3.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},d=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Hc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(_a,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Lr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.zonePerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"zoneName"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(p,y)=>[y==="passRate"?`${p}%`:p,y==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Pt,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Pt,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(su,{children:[a.jsx(Pr,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:y})=>`${p}: ${y}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,y)=>a.jsx(qs,{fill:h[y%h.length]},`cell-${y}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx(_o,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(nu,{data:e.monthlyTrends,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"month"}),a.jsx(Vt,{}),a.jsx(ze,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function pae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const x=await n3.getDashboardData(h);x.success&&x.data&&t(x.data)}catch(x){console.error("Failed to fetch RO dashboard data:",x)}finally{l(!1)}},b=x=>{n(x),u(!0)},g=x=>{i(x),d(!0)},j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(x=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},x))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Hc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Oa,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Lr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.districtPerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"districtName"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(x,m)=>[m==="passRate"?`${x}%`:x,m==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Pt,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Pt,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(su,{children:[a.jsx(Pr,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:x,percentage:m})=>`${x}: ${m}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((x,m)=>a.jsx(qs,{fill:j[m%j.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(x=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(x),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:x.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:x.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",x.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},x.districtId))})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(x=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",x.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[x.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>g(x),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})})})]},x.supervisorId))})]})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(nu,{data:e.monthlyTrends,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"month"}),a.jsx(Vt,{}),a.jsx(ze,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(x=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x.totalCertificates," certificates"]})]})]})},x.id))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function mae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const m=await tv.getDashboardData(h);m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch supervisor dashboard data:",m)}finally{l(!1)}},b=m=>{n(m),u(!0)},g=m=>{i(m),d(!0)},j=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(m=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},m))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ht,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(m=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(hn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(m.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[m.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[m.pendingEnumerators,"/",m.totalEnumerators," pending"]})]})]},m.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.teamPerformance,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"teamName"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(m,N)=>[N==="passRate"?`${m}%`:m,N==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Pt,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Pt,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(su,{children:[a.jsx(Pr,{data:[{name:"Completed",value:e.enumeratorStatus.filter(m=>m.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(m=>m.overallProgress>0&&m.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(m=>m.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:N})=>`${m}: ${N}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(m=>a.jsx(qs,{fill:x[m%x.length]},`cell-${m}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(m=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(m),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.passRate>=80?"bg-green-100 text-green-800":m.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",m.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},m.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(se,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.surveys.filter(N=>N.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>g(m),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,3).map(N=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(N.status)}`,children:[N.surveyTitle,": ",N.status.replace("_"," ")]},N.surveyId)),m.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-3," more"]})]})]},m.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]})},m.id))})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Ce(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function gae(){const e=wo(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState("overview"),[p,y]=O.useState(""),[b,g]=O.useState("all");O.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const S=await Wc.getDashboardData();S.success&&S.data&&r(S.data)}catch(S){console.error("Failed to fetch enumerator dashboard data:",S)}finally{o(!1)}},x=async S=>{try{f(!0);const _=t==null?void 0:t.availableTests.find(E=>E.surveyId===S);if(!_||!_.isEligible||_.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await ms.createTestSession(S);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:S,startTime:A.data.startTime,sessionData:A.data}})}catch(_){console.error("Failed to start test:",_),alert(`Failed to start test: ${_ instanceof Error?_.message:"Please try again."}`)}finally{f(!1),c(!1)}},m=S=>{s(S),c(!0)},N=S=>S.isEligible?S.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(S.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",v=S=>{if(!S.isEligible)return"Not Eligible";if(S.attemptsLeft===0)return"No Attempts Left";const _=Math.ceil((new Date(S.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return _<=0?"Overdue":_<=3?`${_} days left`:"Available"},w=(t==null?void 0:t.availableTests.filter(S=>{const _=S.title.toLowerCase().includes(p.toLowerCase())||S.description.toLowerCase().includes(p.toLowerCase());if(b==="all")return _;const A=Math.ceil((new Date(S.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(b){case"urgent":return _&&A<=3&&A>0;case"available":return _&&S.isEligible&&S.attemptsLeft>0;case"overdue":return _&&A<=0;default:return _}}))||[];return i?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(S=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},S))})})})}):t?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(ec,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ht,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(nu,{data:t.completedTests.map((S,_)=>({attempt:_+1,score:S.score,name:S.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"attempt"}),a.jsx(Vt,{domain:[0,100]}),a.jsx(ze,{formatter:S=>[`${S}%`,"Score"]}),a.jsx(er,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(S=>S.daysLeft<=7).length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(S=>S.daysLeft<=7).map(S=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:S.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(hn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(S.targetDate)]}),a.jsx("p",{className:`font-medium ${S.isOverdue?"text-red-600":"text-orange-600"}`,children:S.isOverdue?"OVERDUE":`${S.daysLeft} days left`})]})]},S.surveyId))})]}),a.jsxs(F,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(ec,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(_o,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),d==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(S=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${S.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Ce(S.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${S.isPassed?"text-green-600":"text-red-600"}`,children:[S.score,"%"]})]},S.resultId))})]})]})}),d==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search tests...",value:p,onChange:S=>y(S.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:b,onChange:S=>g(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:w.map(S=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:S.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:S.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(S.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ts(S.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[S.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Br,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",S.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${N(S)}`,children:v(S)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S.attemptsLeft,"/",S.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(S),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>x(S.surveyId),disabled:!S.isEligible||S.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===S.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},S.surveyId))})]}),d==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(S=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:S.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${S.score>=70?"text-green-600":"text-red-600"}`,children:[S.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${S.isPassed?"text-green-600":"text-red-600"}`,children:S.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:S.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(S.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[S.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(z,{variant:"secondary",size:"sm",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},S.resultId))}),d==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(S=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:S.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",S.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(S.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${S.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]})]}),a.jsxs(z,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},S.id))})]}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ts(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{x(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function xae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[f]);const y=async()=>{try{i(!0);const v=await tv.getDashboardData(f);v.success&&v.data&&t(v.data.teamPerformance)}catch(v){console.error("Failed to fetch team results:",v)}finally{i(!1)}},b=v=>{n(v),l(!0)},g=v=>v>=90?"excellent":v>=80?"good":v>=60?"average":"poor",j=v=>{switch(v){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=e.filter(v=>{const w=v.teamName.toLowerCase().includes(c.toLowerCase()),S=g(v.passRate);return w&&(h==="all"||S===h)}),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],N={totalTeams:e.length,totalMembers:e.reduce((v,w)=>v+w.totalMembers,0),averagePassRate:e.reduce((v,w)=>v+w.passRate,0)/e.length||0,averageScore:e.reduce((v,w)=>v+w.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((v,w)=>v.passRate>w.passRate?v:w,e[0]),lowPerformingTeam:e.reduce((v,w)=>v.passRate<w.passRate?v:w,e[0])};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:f,onChange:v=>d(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:N.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Lr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[N.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[N.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:e,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"teamName"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(v,w)=>[w==="passRate"?`${v}%`:v,w==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Pt,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Pt,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(su,{children:[a.jsx(Pr,{data:[{name:"Excellent (90%+)",value:e.filter(v=>v.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(v=>v.passRate>=80&&v.passRate<90).length},{name:"Average (60-79%)",value:e.filter(v=>v.passRate>=60&&v.passRate<80).length},{name:"Poor (<60%)",value:e.filter(v=>v.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:v,value:w})=>`${v}: ${w}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(v=>a.jsx(qs,{fill:m[v%m.length]},`cell-${v}`))}),a.jsx(ze,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx(_o,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((v,w)=>w.passRate-v.passRate).slice(0,3).map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:w+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[v.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[v.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},v.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((v,w)=>v.passRate-w.passRate).slice(0,3).map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:w+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[v.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[v.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},v.teamId))})]})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(se,{placeholder:"Search teams...",value:c,onChange:v=>u(v.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:v=>p(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(F,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:x.map(v=>{const w=g(v.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Lr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:v.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",v.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${bs(v.passRate)}`,children:[v.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${bs(v.averageScore)}`,children:[v.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j(w)}`,children:w.charAt(0).toUpperCase()+w.slice(1)})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(v),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(v.completedTests/v.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.completedTests/v.totalMembers*100}%`}})})]})]},v.teamId)})})]}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(v=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:v.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[v.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[v.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:v.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:v.surveys.filter(w=>w.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:v.surveys.length>0?Math.max(...v.surveys.map(w=>w.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},v.id))})]})]})})]})})}function vae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const v=await tv.getDashboardData("30");v.success&&v.data&&t(v.data.enumeratorStatus)}catch(v){console.error("Failed to fetch enumerators:",v)}finally{i(!1)}},b=v=>{n(v),l(!0)},g=v=>{switch(v){case"completed":return a.jsx(lt,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Id,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(dr,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},j=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{const w=v.surveys.length,S=v.surveys.filter(P=>P.status==="completed").length,_=v.surveys.filter(P=>P.status==="failed").length,A=v.surveys.filter(P=>P.status==="expired").length;return S===w?"excellent":_>0||A>0?"needs_attention":S>w/2?"good":"poor"},m=e.filter(v=>{const w=v.user.name.toLowerCase().includes(c.toLowerCase())||v.user.email.toLowerCase().includes(c.toLowerCase()),S=x(v),_=f==="all"||S===f;let A=!0;if(h!=="all")switch(h){case"completed":A=v.overallProgress===100;break;case"in_progress":A=v.overallProgress>0&&v.overallProgress<100;break;case"not_started":A=v.overallProgress===0;break}return w&&_&&A}),N={totalEnumerators:e.length,completedAll:e.filter(v=>v.overallProgress===100).length,inProgress:e.filter(v=>v.overallProgress>0&&v.overallProgress<100).length,notStarted:e.filter(v=>v.overallProgress===0).length,averageProgress:e.reduce((v,w)=>v+w.overallProgress,0)/e.length||0,totalCertificates:e.reduce((v,w)=>v+w.totalCertificates,0)};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ms,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:N.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:N.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Jt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:N.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(dr,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[N.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Br,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:N.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Ae,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:e.map(v=>({name:v.user.name.split(" ")[0],progress:v.overallProgress,certificates:v.totalCertificates})),children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:(v,w)=>[w==="progress"?`${v}%`:v,w==="progress"?"Progress":"Certificates"]}),a.jsx(Pt,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Pt,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search enumerators...",value:c,onChange:v=>u(v.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:v=>d(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:v=>p(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:m.map(v=>{const w=x(v),S=v.surveys.filter(A=>A.status==="completed").length,_=v.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(v5,{className:"w-4 h-4"}),a.jsx("span",{children:v.user.email})]}),v.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(w5,{className:"w-4 h-4"}),a.jsx("span",{children:v.user.phoneNumber})]}),v.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:v.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",v.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[v.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[S,"/",_]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w==="excellent"?"bg-green-100 text-green-800":w==="good"?"bg-blue-100 text-blue-800":w==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:w==="excellent"?"Excellent":w==="good"?"Good":w==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(v),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[v.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[v.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[g(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),v.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",v.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Nr(v.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",v.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",v.surveys.length>0?(v.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/v.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},v.id)})})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(v=>v.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((v,w)=>v+(w.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(v=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[g(v.status),a.jsx("h5",{className:"font-medium text-gray-900",children:v.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(v.status)}`,children:v.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[v.attempts,"/",v.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:v.bestScore?`${v.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(v.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:v.lastAttempt?Ce(v.lastAttempt):"Never"})]})]}),v.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},v.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function yae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1),[h,p]=O.useState(null),[y,b]=O.useState(""),[g,j]=O.useState({name:"",email:"",roleId:""}),[x,m]=O.useState({name:"",email:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""});O.useEffect(()=>{N(),v()},[]);const N=async()=>{try{i(!0),console.log("Users page: Fetching users...");const P=await Fp.getUsers();console.log("Users page: API response:",P),t(P.data||[]),(!P.data||P.data.length===0)&&(console.log("Users page: No users found"),P.success||b(P.message))}catch(P){console.error("Failed to fetch users:",P),b("Failed to load users. Please try again."),t([])}finally{i(!1)}},v=async()=>{try{const P=await ps.getRoles();n(P.data||[])}catch(P){console.error("Failed to fetch roles:",P),n([])}},w=async()=>{if(b(""),!x.name.trim()){b("Name is required");return}if(!x.email.trim()){b("Email is required");return}if(!x.roleId){b("Role is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)){b("Please enter a valid email address");return}try{l(!0);const E=await Fp.createUser(x);E.success&&E.data?(t([...e,E.data]),d(!1),_(),alert(E.message)):b(E.message)}catch(E){console.error("Failed to create user:",E),b("Failed to create user. Please try again.")}finally{l(!1)}},S=async P=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await Fp.deleteUser(P)).success&&t(e.filter(k=>k.id!==P))}catch(E){console.error("Failed to delete user:",E)}},_=()=>{m({name:"",email:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""}),p(null)},A=e.filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.email.toLowerCase().includes(c.toLowerCase())||P.role.name.toLowerCase().includes(c.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(z,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"mb-6",children:[y&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm",children:y})}),a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search users...",value:c,onChange:P=>u(P.target.value),className:"pl-10"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(nn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"No users exist in the system yet. Get started by creating your first user or initializing the database.":"No users match your search criteria."}),e.length===0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create First User"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Or go to the ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"login page"})," to initialize the database"]})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:A.map(P=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500",children:P.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:P.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${P.isActive?"text-green-600":"text-red-600"}`,children:[P.isActive?a.jsx(Oa,{className:"w-4 h-4"}):a.jsx(S5,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:P.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Nr(P.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Vc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(P.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(dh,{className:"w-4 h-4"})})]})})]},P.id))})]})})]}),a.jsx(Pe,{isOpen:f,onClose:()=>{d(!1),_()},title:"Create New User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Full Name *",value:x.name,onChange:P=>{m({...x,name:P.target.value}),g.name&&j({...g,name:""})},placeholder:"Enter full name",error:g.name}),a.jsx(se,{label:"Email Address *",type:"email",value:x.email,onChange:P=>{m({...x,email:P.target.value}),g.email&&j({...g,email:""})},placeholder:"Enter email address",error:g.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:x.roleId,onChange:P=>{m({...x,roleId:P.target.value}),g.roleId&&j({...g,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${g.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map(P=>a.jsxs("option",{value:P.id,children:[P.name," (Level ",P.level,")"]},P.id))]}),g.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.roleId})]}),a.jsx(se,{label:"Employee ID",value:x.employeeId,onChange:P=>m({...x,employeeId:P.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Phone Number",value:x.phoneNumber,onChange:P=>m({...x,phoneNumber:P.target.value}),placeholder:"Enter phone number"}),a.jsx(se,{label:"Jurisdiction",value:x.jurisdiction,onChange:P=>m({...x,jurisdiction:P.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(se,{label:"Zone",value:x.zone,onChange:P=>m({...x,zone:P.target.value}),placeholder:"Enter zone"}),a.jsx(se,{label:"Region",value:x.region,onChange:P=>m({...x,region:P.target.value}),placeholder:"Enter region"}),a.jsx(se,{label:"District",value:x.district,onChange:P=>m({...x,district:P.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Default Login Credentials"}),a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Password:"})," password123 (user should change on first login)"]}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"The user will receive their login credentials and should change the password immediately."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),_()},disabled:o,children:"Cancel"}),a.jsx(z,{onClick:w,loading:o,disabled:o,children:o?"Creating User...":"Create User"})]})]})})]})})}function bae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState(null),[y,b]=O.useState({name:"",description:""});O.useEffect(()=>{g(),j()},[]);const g=async()=>{try{i(!0);const _=await ps.getRoles();t(_.data||[])}catch(_){console.error("Failed to fetch roles:",_),t([])}finally{i(!1)}},j=async()=>{try{const _=await ps.getPermissions();n(_.data)}catch(_){console.error("Failed to fetch permissions:",_)}},x=async()=>{try{const _=await ps.createRole(y);_.success&&_.data&&(t([...e,_.data]),u(!1),w())}catch(_){console.error("Failed to create role:",_)}},m=async()=>{if(h)try{const _=await ps.updateRole(h.id,y);_.success&&_.data&&(t(e.map(A=>A.id===h.id?_.data:A)),d(!1),w())}catch(_){console.error("Failed to update role:",_)}},N=async _=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await ps.deleteRole(_)).success&&t(e.filter(P=>P.id!==_))}catch(A){console.error("Failed to delete role:",A)}},v=_=>{p(_),b({name:_.name,description:_.description}),d(!0)},w=()=>{b({name:"",description:""}),p(null)},S=e.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((_,A)=>(_[A.module]||(_[A.module]=[]),_[A.module].push(A),_),{}),a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(z,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search roles...",value:o,onChange:_=>l(_.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(_=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Sa,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",_.level," | Users: ",_.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:_.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[_.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Kc,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",_.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Nr(_.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Nr(_.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>v(_),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Vc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N(_.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(dh,{className:"w-4 h-4"})})]})]})]},_.id))})]}),a.jsx(Pe,{isOpen:c,onClose:()=>{u(!1),w()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Role Name",value:y.name,onChange:_=>b({...y,name:_.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:_=>b({...y,description:_.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:x,children:"Create Role"})]})]})}),a.jsx(Pe,{isOpen:f,onClose:()=>{d(!1),w()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Role Name",value:y.name,onChange:_=>b({...y,name:_.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:_=>b({...y,description:_.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:m,children:"Update Role"})]})]})})]})})}function wae(){const{user:e}=Bs(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(null),[p,y]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3});O.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const _=await Tn.getSurveys();r(_.data||[])}catch(_){console.error("Failed to fetch surveys:",_),r([])}finally{s(!1)}},g=async()=>{if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const _=await Tn.createSurvey({...p,targetDate:new Date(p.targetDate),createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"});_.success&&_.data?(r([...t,_.data]),c(!1),w(),alert("Survey created successfully!")):alert(`Failed to create survey: ${_.message}`)}catch(_){console.error("Failed to create survey:",_),alert("Failed to create survey. Please try again.")}},j=async()=>{if(d){if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const _=await Tn.updateSurvey(d.id,{...p,targetDate:new Date(p.targetDate)});_.success&&_.data?(r(t.map(A=>A.id===d.id?_.data:A)),f(!1),w(),alert("Survey updated successfully!")):alert(`Failed to update survey: ${_.message}`)}catch(_){console.error("Failed to update survey:",_),alert("Failed to update survey. Please try again.")}}},x=async(_,A)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{const P=await Tn.deleteSurvey(_);P.success?(r(t.filter(E=>E.id!==_)),alert("Survey deleted successfully!")):alert(`Failed to delete survey: ${P.message}`)}catch(P){console.error("Failed to delete survey:",P),alert("Failed to delete survey. Please try again.")}},m=async(_,A)=>{A.stopPropagation();const P=t.find(E=>E.id===_);if(P)try{const E=await Tn.updateSurvey(_,{...P,isActive:!P.isActive});E.success&&E.data?(r(t.map(k=>k.id===_?{...k,isActive:!k.isActive}:k)),alert(`Survey ${P.isActive?"deactivated":"activated"} successfully!`)):alert(`Failed to update survey status: ${E.message}`)}catch(E){console.error("Failed to toggle survey status:",E),alert("Failed to update survey status. Please try again.")}},N=async(_,A)=>{A.stopPropagation();try{const P={title:`${_.title} (Copy)`,description:_.description,targetDate:_.targetDate,duration:_.duration,totalQuestions:_.totalQuestions,passingScore:_.passingScore,maxAttempts:_.maxAttempts,createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"},E=await Tn.createSurvey(P);E.success&&E.data?(r([...t,E.data]),alert("Survey duplicated successfully!")):alert(`Failed to duplicate survey: ${E.message}`)}catch(P){console.error("Failed to duplicate survey:",P),alert("Failed to duplicate survey. Please try again.")}},v=(_,A)=>{A.stopPropagation();const P=new Date(_.targetDate),E=isNaN(P.getTime())?"":P.toISOString().split("T")[0];h(_),y({title:_.title,description:_.description,targetDate:E,duration:_.duration,totalQuestions:_.totalQuestions,passingScore:_.passingScore,maxAttempts:_.maxAttempts}),f(!0)},w=()=>{y({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3}),h(null)},S=t.filter(_=>_.title.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Survey Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search surveys...",value:i,onChange:_=>o(_.target.value),className:"pl-10"})]})}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:S.map(_=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:_.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:_.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ts(_.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ce(_.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[_.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:A=>v(_,A),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(Vc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>N(_,A),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(f5,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>m(_.id,A),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${_.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:_.isActive?"Deactivate Survey":"Activate Survey",children:_.isActive?a.jsx(N5,{className:"w-4 h-4"}):a.jsx(_5,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("View details for survey:",_.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>x(_.id,A),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx(dh,{className:"w-4 h-4"})})]})})]},_.id))})]})}),S.length===0&&!n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:i?"No surveys match your search criteria.":"Get started by creating your first survey."}),!i&&a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(Pe,{isOpen:l,onClose:()=>{c(!1),w()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Survey Title",value:p.title,onChange:_=>y({...p,title:_.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:_=>y({...p,description:_.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Target Date",type:"date",value:p.targetDate,onChange:_=>y({...p,targetDate:_.target.value})}),a.jsx(se,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:_=>y({...p,duration:parseInt(_.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(se,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:_=>y({...p,totalQuestions:parseInt(_.target.value)}),min:"1"}),a.jsx(se,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:_=>y({...p,passingScore:parseInt(_.target.value)}),min:"1",max:"100"}),a.jsx(se,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:_=>y({...p,maxAttempts:parseInt(_.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{c(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:g,children:"Create Survey"})]})]})}),a.jsx(Pe,{isOpen:u,onClose:()=>{f(!1),w()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Survey Title",value:p.title,onChange:_=>y({...p,title:_.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:_=>y({...p,description:_.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Target Date",type:"date",value:p.targetDate,onChange:_=>y({...p,targetDate:_.target.value})}),a.jsx(se,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:_=>y({...p,duration:parseInt(_.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(se,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:_=>y({...p,totalQuestions:parseInt(_.target.value)}),min:"1"}),a.jsx(se,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:_=>y({...p,passingScore:parseInt(_.target.value)}),min:"1",max:"100"}),a.jsx(se,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:_=>y({...p,maxAttempts:parseInt(_.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{f(!1),w()},children:"Cancel"}),a.jsx(z,{onClick:j,children:"Update Survey"})]})]})})]})})}function jae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,d]=O.useState(null),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[g,j]=O.useState(!1),[x,m]=O.useState(""),[N,v]=O.useState(!1),[w,S]=O.useState(!1),[_,A]=O.useState(!1),[P,E]=O.useState(!1),[k,I]=O.useState(!1),[T,R]=O.useState(null),[U,W]=O.useState(!1),[$,L]=O.useState({title:"",description:"",questionsCount:10,order:1}),[D,K]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]});O.useEffect(()=>{Q()},[]),O.useEffect(()=>{o?te(o.id):(n([]),u(null),i([]))},[o]),O.useEffect(()=>{c?ve(o.id,c.id):i([])},[c]);const Q=async()=>{try{p(!0);const M=await Tn.getSurveys();t(M.data)}catch(M){console.error("Failed to fetch surveys:",M)}finally{p(!1)}},te=async M=>{try{b(!0);const Z=await Tn.getSurveySections(M);n(Z.data)}catch(Z){console.error("Failed to fetch sections:",Z)}finally{b(!1)}},ve=async(M,Z)=>{try{j(!0);const me=await Vo.getQuestions(M,Z);i(me.data)}catch(me){console.error("Failed to fetch questions:",me)}finally{j(!1)}},De=M=>{l(M),u(null),i([])},Ke=M=>{u(M)},Dt=async()=>{try{const M=await Vo.downloadTemplate(),Z=URL.createObjectURL(M),me=document.createElement("a");me.href=Z,me.download="question_template_with_survey_sections.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(Z)}catch(M){console.error("Failed to download template:",M)}},wt=async()=>{if(T)try{W(!0);const M=await Vo.uploadQuestions(o.id,T);if(M.success){const Z=M.data;let me=`Upload completed!

`;me+=` Questions added: ${Z.questionsAdded}
`,Z.questionsSkipped>0&&(me+=` Questions skipped: ${Z.questionsSkipped}
`),Z.errors.length>0&&(me+=`
Errors encountered:
${Z.errors.slice(0,5).join(`
`)}`,Z.errors.length>5&&(me+=`
... and ${Z.errors.length-5} more errors`)),alert(me),v(!1),R(null),o&&te(o.id),c&&ve(o.id,c.id)}}catch(M){console.error("Failed to upload questions:",M)}finally{W(!1)}},X=()=>{L({title:"",description:"",questionsCount:10,order:r.length+1})},ie=()=>{K({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]}),d(null)},de=async()=>{if(o)try{const M=await Tn.createSection(o.id,$);M.success&&M.data&&(n([...r,M.data]),S(!1),X())}catch(M){console.error("Failed to create section:",M)}},H=()=>{ie(),A(!0)},ke=M=>{d(M),K({text:M.text,type:M.type,complexity:M.complexity,points:M.points,explanation:M.explanation||"",options:M.options.map(Z=>Z.text),correctAnswers:M.options.map((Z,me)=>Z.isCorrect?me:-1).filter(Z=>Z!==-1)}),E(!0)},pe=M=>{d(M),I(!0)},xe=async()=>{if(c){console.log("Adding question to section:",c.id),console.log("Question form data:",D);try{const M={sectionId:c.id,text:D.text,type:D.type,complexity:D.complexity,points:D.points,explanation:D.explanation,options:D.options.map((me,Mt)=>({text:me,isCorrect:D.correctAnswers.includes(Mt)})),order:s.length+1};console.log("Calling API to create question:",M);const Z=await Vo.createQuestion(M);console.log("API response:",Z),Z.success&&Z.data?(i([...s,Z.data]),A(!1),ie(),alert(`Question added successfully! ${Z.message}`)):(console.error("Failed to create question:",Z.message),alert(`Failed to create question: ${Z.message}`))}catch(M){console.error("Failed to create question:",M),alert(`Failed to create question: ${M instanceof Error?M.message:"Unknown error"}. Please try again.`)}}},V=async()=>{if(f)try{const M={text:D.text,type:D.type,complexity:D.complexity,points:D.points,explanation:D.explanation,options:D.options.map((me,Mt)=>({text:me,isCorrect:D.correctAnswers.includes(Mt),order:Mt+1}))},Z={...f,...M,options:M.options.map((me,Mt)=>{var yy;return{id:((yy=f.options[Mt])==null?void 0:yy.id)||`opt_${Mt}`,text:me.text,isCorrect:me.isCorrect}})};i(s.map(me=>me.id===f.id?Z:me)),E(!1),ie()}catch(M){console.error("Failed to update question:",M)}},ne=async M=>{if(window.confirm("Are you sure you want to delete this question?"))try{const Z=await Vo.deleteQuestion(M);Z.success?(i(s.filter(me=>me.id!==M)),alert("Question deleted successfully!")):alert(`Failed to delete question: ${Z.message}`)}catch(Z){console.error("Failed to delete question:",Z),alert("Failed to delete question. Please try again.")}},le=M=>{if(D.type==="single_choice")K({...D,correctAnswers:[M]});else{const Z=D.correctAnswers.includes(M)?D.correctAnswers.filter(me=>me!==M):[...D.correctAnswers,M];K({...D,correctAnswers:Z})}},Se=(e||[]).filter(M=>M.title.toLowerCase().includes(x.toLowerCase())),we=M=>{switch(M){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ve=M=>{switch(M){case"single_choice":return"bg-blue-100 text-blue-800";case"multiple_choice":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys and assessments"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:Dt,className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs(z,{onClick:()=>v(!0),disabled:!o,className:"flex items-center space-x-2",children:[a.jsx(SA,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Questions"})]})]})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search surveys...",value:x,onChange:M=>m(M.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," surveys"]})]}),a.jsx("div",{className:"h-[500px] overflow-y-auto space-y-2",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading surveys..."})]}):Se.map(M=>a.jsxs("div",{onClick:()=>De(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.totalQuestions," questions"]}),a.jsx("span",{children:Ce(M.targetDate)})]})]},M.id))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?`Sections - ${o.title}`:"Sections"}),o&&a.jsxs(z,{size:"sm",onClick:()=>{X(),S(!0)},className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]})]}),a.jsx("div",{className:"h-[calc(100%-80px)] overflow-y-auto space-y-2",children:o?y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading sections..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(lv,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"No sections found"}),a.jsxs(z,{size:"sm",onClick:()=>{L({title:"",description:"",questionsCount:10,order:1}),S(!0)},className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Section"})]})]}):r.map(M=>a.jsxs("div",{onClick:()=>Ke(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(c==null?void 0:c.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.questionsCount," questions"]}),a.jsxs("span",{children:["Order: ",M.order]})]})]},M.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Select a survey to view sections"})]})})]})]}),c&&a.jsxs(F,{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions - ",c.title]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," questions in this section"]})]}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]}),g?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Br,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Questions Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your assessment by adding questions to this section."}),a.jsxs(z,{onClick:H,className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50",children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Complexity"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Points"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Options"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(M=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:M.text}),M.explanation&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:["Explanation: ",M.explanation]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(M.type)}`,children:M.type==="single_choice"?"Single":"Multiple"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(M.complexity)}`,children:M.complexity.charAt(0).toUpperCase()+M.complexity.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-gray-900",children:M.points})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[M.options.slice(0,2).map((Z,me)=>a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:[String.fromCharCode(65+me),":"]}),a.jsx("span",{className:`${Z.isCorrect?"text-green-600 font-medium":"text-gray-700"}`,children:Z.text.length>30?`${Z.text.substring(0,30)}...`:Z.text}),Z.isCorrect&&a.jsx(lt,{className:"w-3 h-3 text-green-600"})]},me)),M.options.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",M.options.length-2," more"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-900",children:M.order})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>pe(M),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ke(M),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(uw,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ne(M.id),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx(dh,{className:"w-4 h-4"})})]})})]},M.id))})]})})})]}),a.jsx(Pe,{isOpen:N,onClose:()=>{v(!1),R(null)},title:"Upload Questions",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Upload Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Download the template first to see the required format"}),a.jsx("li",{children:" Include Survey ID, Survey Title, Section ID, Section Title for proper mapping"}),a.jsx("li",{children:" Questions will be automatically assigned to the correct surveys and sections"}),a.jsx("li",{children:" Supported file format: CSV only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:M=>{var Z;return R(((Z=M.target.files)==null?void 0:Z[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),T&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Selected file:"})," ",T.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",(T.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{v(!1),R(null)},children:"Cancel"}),a.jsx(z,{onClick:wt,disabled:!T||U,loading:U,children:"Upload Questions"})]})]})}),a.jsx(Pe,{isOpen:w,onClose:()=>{S(!1),X()},title:"Add New Section",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(se,{label:"Section Title",value:$.title,onChange:M=>L({...$,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:$.description,onChange:M=>L({...$,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Questions Count",type:"number",value:$.questionsCount,onChange:M=>L({...$,questionsCount:parseInt(M.target.value)}),min:"1"}),a.jsx(se,{label:"Section Order",type:"number",value:$.order,onChange:M=>L({...$,order:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{S(!1),X()},children:"Cancel"}),a.jsx(z,{onClick:de,children:"Add Section"})]})]})}),a.jsx(Pe,{isOpen:_,onClose:()=>{A(!1),ie()},title:`Add Question to ${c==null?void 0:c.title}`,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:D.text,onChange:M=>K({...D,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:D.type,onChange:M=>K({...D,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:D.complexity,onChange:M=>K({...D,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(se,{label:"Points",type:"number",value:D.points,onChange:M=>K({...D,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",D.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:D.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:D.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(se,{value:M,onChange:me=>{const Mt=[...D.options];Mt[Z]=me.target.value,K({...D,options:Mt})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:D.explanation,onChange:M=>K({...D,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{A(!1),ie()},children:"Cancel"}),a.jsx(z,{onClick:xe,disabled:!D.text.trim()||D.correctAnswers.length===0,children:"Add Question"})]})]})}),a.jsx(Pe,{isOpen:P,onClose:()=>{E(!1),ie()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:D.text,onChange:M=>K({...D,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:D.type,onChange:M=>K({...D,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:D.complexity,onChange:M=>K({...D,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(se,{label:"Points",type:"number",value:D.points,onChange:M=>K({...D,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",D.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:D.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:D.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:D.correctAnswers.includes(Z),onChange:()=>le(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(se,{value:M,onChange:me=>{const Mt=[...D.options];Mt[Z]=me.target.value,K({...D,options:Mt})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:D.explanation,onChange:M=>K({...D,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{E(!1),ie()},children:"Cancel"}),a.jsx(z,{onClick:V,disabled:!D.text.trim()||D.correctAnswers.length===0,children:"Update Question"})]})]})}),a.jsx(Pe,{isOpen:k,onClose:()=>{I(!1),d(null)},title:"Question Details",size:"lg",children:f&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Question"}),a.jsx("p",{className:"text-gray-700",children:f.text})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Type"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ve(f.type)}`,children:f.type==="single_choice"?"Single Choice":"Multiple Choice"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Complexity"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we(f.complexity)}`,children:f.complexity.charAt(0).toUpperCase()+f.complexity.slice(1)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Points"}),a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:f.points})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options"}),a.jsx("div",{className:"space-y-2",children:f.options.map((M,Z)=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${M.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsxs("span",{className:"font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx("span",{className:`flex-1 ${M.isCorrect?"text-green-800 font-medium":"text-gray-700"}`,children:M.text}),M.isCorrect&&a.jsx(lt,{className:"w-5 h-5 text-green-600"})]},Z))})]}),f.explanation&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Explanation"}),a.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:f.explanation})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{I(!1),d(null)},children:"Close"}),a.jsxs(z,{onClick:()=>{I(!1),ke(f)},className:"flex items-center space-x-2",children:[a.jsx(uw,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Question"})]})]})]})})]})})}function _ae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,p]=O.useState(!1),[y,b]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{g(),j()},[y]);const g=async()=>{try{i(!0);const w=await Up.getResults(y);t(w.data)}catch(w){console.error("Failed to fetch results:",w)}finally{i(!1)}},j=async()=>{try{const w=await Up.getAnalytics(y);n(w.data)}catch(w){console.error("Failed to fetch analytics:",w)}},x=async()=>{try{const w=await Up.exportResults(y),S=new Blob([w.data],{type:"text/csv"}),_=URL.createObjectURL(S),A=document.createElement("a");A.href=_,A.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(_)}catch(w){console.error("Failed to export results:",w)}},m=w=>{u(w),d(!0)},N=e.filter(w=>w.user.name.toLowerCase().includes(o.toLowerCase())||w.survey.title.toLowerCase().includes(o.toLowerCase())||w.user.email.toLowerCase().includes(o.toLowerCase())),v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Na,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(z,{onClick:x,className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Lr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Br,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ae,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Ts(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Jt,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(za,{data:r.performanceByRole,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"name"}),a.jsx(Vt,{}),a.jsx(ze,{formatter:w=>[`${w}%`,"Pass Rate"]}),a.jsx(Pt,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Survey"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(su,{children:[a.jsx(Pr,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:w,percentage:S})=>`${w}: ${S}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((w,S)=>a.jsx(qs,{fill:v[S%v.length]},`cell-${S}`))}),a.jsx(ze,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(nu,{data:r.timeSeriesData,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"date"}),a.jsx(Vt,{}),a.jsx(ze,{}),a.jsx(er,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(er,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(er,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx(_o,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((w,S)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:S+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[w.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.passRate.toFixed(1),"% pass rate"]})]})]},w.userId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(dv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((w,S)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:S+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[w.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.passRate.toFixed(1),"% pass rate"]})]})]},w.userId))})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search results...",value:o,onChange:w=>l(w.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:N.map(w=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:w.user.email})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:w.user.role.name})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${bs(w.score)}`,children:[w.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",w.correctAnswers,"/",w.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[w.attemptNumber,"/",w.survey.maxAttempts]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ts(Math.floor(w.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Nr(w.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(w),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(We,{className:"w-4 h-4"})}),w.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Ae,{className:"w-4 h-4"})})]})})]},w.id))})]})})]}),a.jsx(Pe,{isOpen:f,onClose:()=>d(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",c.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",c.user.jurisdiction||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",c.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",c.survey.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",Ts(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Nr(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:w.sectionTitle}),a.jsxs("span",{className:`font-bold ${bs(w.score)}`,children:[w.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[w.correctAnswers,"/",w.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.score}%`}})})]})]},w.sectionId))})]})]})}),a.jsx(Pe,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(se,{label:"Start Date",type:"date",value:y.dateRange.start.toISOString().split("T")[0],onChange:w=>b({...y,dateRange:{...y.dateRange,start:new Date(w.target.value)}})}),a.jsx(se,{label:"End Date",type:"date",value:y.dateRange.end.toISOString().split("T")[0],onChange:w=>b({...y,dateRange:{...y.dateRange,end:new Date(w.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:()=>{p(!1),g(),j()},children:"Apply Filters"})]})]})})]})})}function Nae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await s3.getEnumeratorStatus();t(x.data)}catch(x){console.error("Failed to fetch enumerator status:",x)}finally{n(!1)}},p=x=>{switch(x){case"completed":return a.jsx(lt,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Id,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(dr,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},y=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},b=x=>{const m=x.surveys.length,N=x.surveys.filter(S=>S.status==="completed").length,v=x.surveys.filter(S=>S.status==="failed").length,w=x.surveys.filter(S=>S.status==="expired").length;return N===m?"excellent":v>0||w>0?"needs_attention":N>m/2?"good":"poor"},g=x=>{l(x),u(!0)},j=e.filter(x=>{const m=x.user.name.toLowerCase().includes(s.toLowerCase())||x.user.email.toLowerCase().includes(s.toLowerCase());if(f==="all")return m;const N=b(x);return m&&N===f});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enumerator Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all enumerators"})]})}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search enumerators...",value:s,onChange:x=>i(x.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:x=>d(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ms,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(x=>b(x)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(x=>b(x)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(dr,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((x,m)=>x+m.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:j.map(x=>{const m=b(x),N=x.surveys.filter(w=>w.status==="completed").length,v=x.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N,"/",v]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m==="excellent"?"bg-green-100 text-green-800":m==="good"?"bg-blue-100 text-blue-800":m==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:m==="excellent"?"Excellent":m==="good"?"Good":m==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>g(x),className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.surveys.slice(0,3).map(w=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(w.status),a.jsx("span",{className:"text-sm text-gray-600",children:w.surveyTitle})]},w.surveyId)),x.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",x.surveys.length-3," more"]})]})]},x.id)})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Nr(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(x.status),a.jsx("h5",{className:"font-medium text-gray-900",children:x.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(x.status)}`,children:x.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[x.attempts,"/",x.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.bestScore?`${x.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Ce(x.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:x.lastAttempt?Ce(x.lastAttempt):"Never"})]})]}),x.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},x.surveyId))})]})]})})]})})}function Sae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const _=await Ju.getCertificates();t(_.data)}catch(_){console.error("Failed to fetch certificates:",_)}finally{n(!1)}},b=async _=>{try{const A=await Ju.downloadCertificate(_),P=new Blob([A.data],{type:"application/pdf"}),E=URL.createObjectURL(P),k=document.createElement("a");k.href=E,k.download=`certificate_${_}.pdf`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(E),t(e.map(I=>I.id===_?{...I,downloadCount:I.downloadCount+1}:I))}catch(A){console.error("Failed to download certificate:",A)}},g=async _=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await Ju.revokeCertificate(_)).success&&t(e.map(P=>P.id===_?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},j=_=>{l(_),u(!0)},x=_=>{switch(_){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=e.filter(_=>{const A=_.user.name.toLowerCase().includes(s.toLowerCase())||_.survey.title.toLowerCase().includes(s.toLowerCase())||_.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=f==="all"||_.status===f;let E=!0;if(h!=="all"){const k=new Date,I=new Date(_.issuedAt);switch(h){case"today":E=I.toDateString()===k.toDateString();break;case"week":const T=new Date(k.getTime()-7*24*60*60*1e3);E=I>=T;break;case"month":const R=new Date(k.getTime()-30*24*60*60*1e3);E=I>=R;break}}return A&&P&&E}),N=e.length,v=e.filter(_=>_.status==="active").length,w=e.filter(_=>_.status==="revoked").length,S=e.reduce((_,A)=>_+A.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(z,{onClick:y,className:"flex items-center space-x-2",children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ae,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:v})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ht,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:w})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(ed,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:S})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(At,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search certificates...",value:s,onChange:_=>i(_.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:_=>p(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(_=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",_.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:_.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:_.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(_.status)}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Ce(_.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Nr(_.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>j(_),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(We,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(_.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:_.status==="revoked",children:a.jsx(At,{className:"w-4 h-4"})}),_.status==="active"&&a.jsx("button",{onClick:()=>g(_.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(ed,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),a.jsx(Pe,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Nr(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Ce(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(z,{onClick:()=>b(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Aae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const m=await Xb.getSettings();m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch settings:",m)}finally{n(!1)}},p=async()=>{if(s)try{(await Xb.updateSetting(s.id,c)).success&&(t(e.map(N=>N.id===s.id?{...N,value:c,updatedAt:new Date}:N)),l(!1),i(null),u(""),d(!0))}catch(m){console.error("Failed to update setting:",m)}},y=m=>{i(m),u(m.value),l(!0)},b=m=>{switch(m.toLowerCase()){case"general":return a.jsx(p5,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(Jt,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(Sa,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Kc,{className:"w-5 h-5 text-gray-600"})}},g=e.reduce((m,N)=>(m[N.category]||(m[N.category]=[]),m[N.category].push(N),m),{}),j=m=>{switch(m.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:m.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:m.value}}),a.jsx("span",{className:"font-mono text-sm",children:m.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:m.value});default:return a.jsx("span",{className:"text-sm font-medium",children:m.value})}},x=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(se,{type:"number",value:c,onChange:N=>u(N.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{type:"color",value:c,onChange:N=>u(N.target.value),className:"h-12"}),a.jsx(se,{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(se,{type:"email",value:c,onChange:N=>u(N.target.value),placeholder:"Enter email address"});case"url":return a.jsx(se,{type:"url",value:c,onChange:N=>u(N.target.value),placeholder:"Enter URL"});case"select":const m=s.options||[];return a.jsx("select",{value:c,onChange:N=>u(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:m.map(N=>a.jsx("option",{value:N,children:N},N))});case"json":return a.jsx("textarea",{value:c,onChange:N=>u(N.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(se,{value:c,onChange:N=>u(N.target.value),placeholder:"Enter value"})}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[f&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(z,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(g).map(([m,N])=>a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[b(m),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[m," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:N.map(v=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:v.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${v.type==="boolean"?"bg-green-100 text-green-700":v.type==="number"?"bg-blue-100 text-blue-700":v.type==="color"?"bg-purple-100 text-purple-700":v.type==="email"?"bg-teal-100 text-teal-700":v.type==="url"?"bg-indigo-100 text-indigo-700":v.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:v.type}),!v.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),a.jsx("div",{className:"mt-2",children:j(v)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Nr(v.updatedAt),v.updatedBy&&` by ${v.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:v.isEditable?a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>y(v),className:"flex items-center space-x-2",children:[a.jsx(Vc,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},v.id))})]},m))}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:j(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),x()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(z,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function Oae(){const e=wo(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const w=await Wc.getDashboardData();w.success&&w.data&&r(w.data.availableTests)}catch(w){console.error("Failed to fetch available tests:",w)}finally{o(!1)}},g=async w=>{try{f(!0);const S=t.find(P=>P.surveyId===w);if(!S||!S.isEligible||S.attemptsLeft===0){alert(`You are not eligible to take this test or have no attempts remaining. Attempts left: ${(S==null?void 0:S.attemptsLeft)||0}`);return}const _=await ms.createTestSession(w);if(!_.success||!_.data){alert(`Failed to start test: ${_.message}`);return}const A=_.data.id;e(`/test/${A}`)}catch(S){console.error("Failed to start test:",S),alert(`Failed to start test: ${S instanceof Error?S.message:"Please try again."}`)}finally{f(!1),c(!1)}},j=w=>{s(w),c(!0)},x=w=>w.isEligible?w.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=w=>{if(!w.isEligible)return"Not Eligible";if(w.attemptsLeft===0)return"No Attempts Left";const S=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return S<=0?"Overdue":S<=3?`${S} days left`:"Available"},N=t.filter(w=>{const S=w.title.toLowerCase().includes(d.toLowerCase())||w.description.toLowerCase().includes(d.toLowerCase());if(p==="all")return S;const _=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return S&&_<=3&&_>0;case"available":return S&&w.isEligible&&w.attemptsLeft>0;case"overdue":return S&&_<=0;default:return S}}),v=t.filter(w=>{const S=Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/864e5);return S<=3&&S>0});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(ec,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ht,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(w=>w.isEligible&&w.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:v.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(dr,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(w=>Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Jt,{className:"w-6 h-6 text-red-600"})})]})})]}),v.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(w=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:w.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(hn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Ce(w.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(w.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(z,{onClick:()=>g(w.surveyId),disabled:!w.isEligible||w.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(ma,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},w.surveyId))})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search tests...",value:d,onChange:w=>h(w.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(F,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:N.map(w=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:w.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Ce(w.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ts(w.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[w.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Br,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",w.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x(w)}`,children:m(w)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.attemptsLeft,"/",w.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>j(w),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>g(w.surveyId),disabled:!w.isEligible||w.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===w.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},w.surveyId))})}),a.jsx(Pe,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ts(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Ce(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{g(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Pae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState(!1),[y,b]=O.useState(""),[g,j]=O.useState(!1);O.useEffect(()=>{var P;x();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(b(A.message),p(!0),A.showCertificate&&j(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),j(!1)},5e3))},[]);const x=async()=>{try{i(!0);const A=await Wc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},m=A=>{n(A),l(!0)},N=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return f==="all"?P:f==="passed"?P&&A.isPassed:f==="failed"?P&&!A.isPassed:P}),v=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const w=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,S=e.filter(A=>A.certificateId).length,_=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(ws,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:v})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[w.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Br,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:S})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(lt,{className:"w-5 h-5"}),a.jsx("span",{children:y})]})}),g&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Aa,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(z,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx($t,{width:"100%",height:"100%",children:a.jsxs(nu,{data:_,children:[a.jsx(Sr,{strokeDasharray:"3 3"}),a.jsx(Kt,{dataKey:"attempt"}),a.jsx(Vt,{domain:[0,100]}),a.jsx(ze,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(er,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):N.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ws,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:N.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(lt,{className:"w-5 h-5 text-green-600"}):a.jsx(Id,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${bs(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Ce(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${bs(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(z,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${bs(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Id,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ce(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${bs(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function Eae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var j;f();const g=((j=window.history.state)==null?void 0:j.usr)||window.history.state;g!=null&&g.newCertificate&&(setTimeout(()=>{f()},1e3),window.history.replaceState({},document.title))},[]);const f=async()=>{try{i(!0);const g=await Wc.getDashboardData();g.success&&g.data&&t(g.data.certificates)}catch(g){console.error("Failed to fetch certificates:",g)}finally{i(!1)}},d=async g=>{try{const x=(await Ju.downloadCertificate(g)).data,m=URL.createObjectURL(x),N=document.createElement("a");N.href=m;const v=e.find(S=>S.id===g),w=v?`${v.certificateNumber}_${v.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${g}.pdf`;N.download=w,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(m),t(e.map(S=>S.id===g?{...S,downloadCount:S.downloadCount+1}:S))}catch(j){console.error("Failed to download certificate:",j),alert("Failed to download certificate. Please try again.")}},h=g=>{n(g),l(!0)},p=e.filter(g=>g.survey.title.toLowerCase().includes(c.toLowerCase())||g.certificateNumber.toLowerCase().includes(c.toLowerCase())),y=e.filter(g=>g.status==="active").length,b=e.reduce((g,j)=>g+j.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:y})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(At,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(se,{placeholder:"Search certificates...",value:c,onChange:g=>u(g.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((g,j)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},j)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(Aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(g=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:g.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",g.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(g.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${g.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",g.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{onClick:()=>h(g),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(We,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(z,{onClick:()=>d(g.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:g.status!=="active",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},g.id))}),a.jsx(Pe,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(dw,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(dw,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Ce(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ce(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(lt,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{onClick:()=>d(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function kae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const d=await Wc.getDashboardData();d.success&&d.data&&t(d.data.upcomingTests)}catch(d){console.error("Failed to fetch test schedule:",d)}finally{n(!1)}},i=d=>d.isOverdue?"bg-red-100 text-red-800":d.daysLeft<=3?"bg-orange-100 text-orange-800":d.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=d=>d.isOverdue?a.jsx(dr,{className:"w-4 h-4"}):d.daysLeft<=3?a.jsx(Jt,{className:"w-4 h-4"}):a.jsx(lt,{className:"w-4 h-4"}),l=d=>d.isOverdue?"Overdue":d.daysLeft===0?"Due Today":d.daysLeft===1?"Due Tomorrow":`${d.daysLeft} days left`,c=e.filter(d=>d.daysLeft<=3||d.isOverdue),u=e.filter(d=>d.daysLeft<=7&&d.daysLeft>3),f=e.filter(d=>d.daysLeft>7);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(uv,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(dr,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Jt,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(lt,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(dr,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsxs(F,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{size:"sm",className:"flex-1",children:[a.jsx(ma,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsxs(F,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(ma,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(We,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(lt,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>a.jsxs(F,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Ce(d.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(We,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},d.surveyId))})]})]})]})})}function Cae(){const{sessionId:e}=$3(),t=wo();Ra();const[r,n]=O.useState(null),[s,i]=O.useState([]),[o,l]=O.useState(0),[c,u]=O.useState({}),[f,d]=O.useState(0),[h,p]=O.useState(!0),[y,b]=O.useState(!1),[g,j]=O.useState(!1),[x,m]=O.useState(!1),[N,v]=O.useState(!1),[w,S]=O.useState(new Set),[_,A]=O.useState(navigator.onLine),[P,E]=O.useState(null),[k,I]=O.useState(null),[T,R]=O.useState(!1),[U,W]=O.useState(null);O.useState({});const $=3e4;O.useEffect(()=>{const V=()=>{A(!0),ms.syncOfflineData()},ne=()=>{A(!1),r&&!T&&f>0&&(R(!0),W(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",V),window.addEventListener("offline",ne),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",ne)}},[r,T,f,U]);const L=O.useCallback(async()=>{if(!(!r||T))try{I("saving"),await ms.updateSession(r.id,{currentQuestionIndex:o,timeRemaining:f,answers:Object.keys(c).map(V=>({questionId:V,selectedOptions:c[V],isCorrect:!1,timeSpent:0,answered:!0}))}),E(new Date),I("saved"),setTimeout(()=>I(null),2e3)}catch(V){console.error("Auto-save failed:",V),I("error"),setTimeout(()=>I(null),3e3)}},[r,o,f,c,T]);O.useEffect(()=>{if(!r||T)return;const V=setInterval(L,$);return()=>clearInterval(V)},[L,r,T]),O.useEffect(()=>{if(r&&Object.keys(c).length>0&&!T){const V=setTimeout(L,2e3);return()=>clearTimeout(V)}},[c,L,r,T]),O.useEffect(()=>{e&&(console.log("Loading test session with ID:",e),K())},[e]),O.useEffect(()=>{if(f>0&&!T&&_){const V=setInterval(()=>{d(ne=>{const le=ne-1;return le<=0?(wt(),0):(le===300&&!x&&m(!0),le)})},1e3);return()=>clearInterval(V)}},[f,x,T,_]);const D=async V=>{try{if(p(!0),console.log("Loading questions for survey:",V),!V)throw new Error("Survey ID not provided");if(!q)throw new Error("Database not configured");const{data:ne,error:le}=await q.from("questions").select(`
          *,
          question_options(*),
          survey_sections!inner(
            id,
            title,
            section_order,
            survey_id
          )
        `).eq("survey_sections.survey_id",V).order("question_order",{ascending:!0});if(le)throw console.error("Database error loading questions:",le),new Error(`Database error: ${le.message}`);if(!ne||ne.length===0)throw console.log("No questions found for survey:",V),new Error("No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.");console.log("Raw questions data from database:",ne);const Se=ne.map(we=>({id:we.id,sectionId:we.section_id,text:we.text,type:we.question_type,complexity:we.complexity,points:we.points,explanation:we.explanation,order:we.survey_sections.section_order*1e3+we.question_order,options:we.question_options.sort((Ve,M)=>Ve.option_order-M.option_order).map(Ve=>({id:Ve.id,text:Ve.text,isCorrect:Ve.is_correct})),correctAnswers:we.question_options.filter(Ve=>Ve.is_correct).map(Ve=>Ve.id),createdAt:new Date(we.created_at),updatedAt:new Date(we.updated_at)}));console.log("Transformed questions:",Se),i(Se),r&&r.currentQuestionIndex&&l(r.currentQuestionIndex)}catch(ne){console.error("Failed to load questions:",ne),alert(`Failed to load questions: ${ne instanceof Error?ne.message:"Unknown error"}`),t("/available-tests")}finally{p(!1)}},K=async()=>{try{if(p(!0),console.log("Loading test session for ID:",e),!q)throw new Error("Database not configured");const{data:V,error:ne}=await q.from("test_sessions").select("*").eq("id",e).single();if(ne||!V)throw console.error("Failed to load session:",ne),new Error("Session not found or expired");console.log("Session data loaded:",V);const le={id:V.id,userId:V.user_id,surveyId:V.survey_id,startTime:new Date(V.start_time),timeRemaining:V.time_remaining,currentQuestionIndex:V.current_question_index,answers:[],status:V.session_status,attemptNumber:V.attempt_number};n(le),d(le.timeRemaining),l(le.currentQuestionIndex);const{data:Se}=await q.from("test_answers").select("*").eq("session_id",e);if(Se){console.log("Existing answers loaded:",Se);const we={};Se.forEach(Ve=>{we[Ve.question_id]=Ve.selected_options||[]}),u(we)}console.log("Loading questions for survey:",le.surveyId),await D(le.surveyId)}catch(V){console.error("Failed to load test session:",V),alert(`Failed to load test session: ${V instanceof Error?V.message:"Unknown error"}`),t("/available-tests")}},Q=async(V,ne,le)=>{if(T)return;const Se={...c};if(le){const we=Se[V]||[];Se[V]=we.includes(ne)?we.filter(Ve=>Ve!==ne):[...we,ne]}else Se[V]=[ne];u(Se);try{await ms.saveAnswer(r.id,V,Se[V])}catch(we){console.error("Failed to save answer:",we)}},te=()=>{T||o<s.length-1&&l(V=>V+1)},ve=()=>{T||o>0&&l(V=>V-1)},De=V=>{T||l(V)},Ke=V=>{T||S(ne=>{const le=new Set(ne);return le.has(V)?le.delete(V):le.add(V),le})},Dt=async()=>{var V,ne;try{b(!0);const le=await ms.submitTest(e);le.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:le.data,showCertificate:((V=le.data)==null?void 0:V.isPassed)&&((ne=le.data)==null?void 0:ne.certificateId)}})}catch(le){console.error("Failed to submit test:",le),alert("Failed to submit test. Please try again.")}finally{b(!1),j(!1)}},wt=async()=>{try{await ms.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(V){console.error("Failed to auto-submit test:",V)}},X=()=>{v(!1),R(!1)},ie=()=>{l(0),u({}),S(new Set),d(35*60),v(!1),R(!1)},de=V=>{const ne=s[V];if(!ne)return"unanswered";const le=c[ne.id]&&c[ne.id].length>0,Se=w.has(V);return Se&&le?"flagged-answered":Se?"flagged":le?"answered":"unanswered"},H=V=>{switch(V){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},ke=s.filter(V=>c[V.id]&&c[V.id].length>0).length,pe=s.length-ke;if(h)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test session and questions..."}),r&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Session ID: ",r.id]})]})});if(!r||s.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(F,{className:"max-w-md w-full text-center",children:[a.jsx(dr,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(z,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const xe=s[o];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",r.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:_?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(A5,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Wp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[k==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),k==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx($d,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),k==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(dr,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),P&&!k&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",P.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[q$(f),T&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[o+1," / ",s.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:ke})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:pe})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:w.size})]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((V,ne,le)=>{const we=`Section ${Math.floor(ne.order/1e3)}`;return V[we]||(V[we]=[]),V[we].push({question:ne,index:le}),V},{})).sort(([V],[ne])=>V.localeCompare(ne)).map(([V,ne])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:V}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:ne.map(({question:le,index:Se})=>{const we=de(Se);return a.jsx("button",{onClick:()=>De(Se),disabled:T,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${Se===o?"ring-2 ring-blue-500 ring-offset-2":""} ${H(we)} ${T?"opacity-50 cursor-not-allowed":""}`,children:Se+1},Se)})})]},V))}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:L,disabled:T,children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),T&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(F,{className:"max-w-4xl mx-auto",children:T?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(b5,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(Wp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Section ",Math.floor(xe.order/1e3)]}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",o+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${xe.complexity==="easy"?"bg-green-100 text-green-800":xe.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:xe.complexity.charAt(0).toUpperCase()+xe.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[xe.points," point",xe.points!==1?"s":""]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>Ke(o),className:`flex items-center space-x-2 ${w.has(o)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(h5,{className:"w-4 h-4"}),a.jsx("span",{children:w.has(o)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:xe.text}),a.jsx("div",{className:"space-y-3",children:xe.options.map(V=>{var ne;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:xe.type==="multiple_choice"?"checkbox":"radio",name:`question-${xe.id}`,value:V.id,checked:((ne=c[xe.id])==null?void 0:ne.includes(V.id))||!1,onChange:()=>Q(xe.id,V.id,xe.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:T}),a.jsx("span",{className:"text-gray-900",children:V.text})]},V.id)})}),xe.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]}),xe.explanation&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Hint:"})," ",xe.explanation]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(z,{variant:"secondary",onClick:ve,disabled:o===0||T,className:"flex items-center space-x-2",children:[a.jsx(NA,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{variant:"secondary",onClick:()=>j(!0),disabled:T,className:"flex items-center space-x-2",children:[a.jsx(lt,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),o<s.length-1?a.jsxs(z,{onClick:te,disabled:T,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(u5,{className:"w-4 h-4"})]}):a.jsxs(z,{onClick:()=>j(!0),disabled:T,className:"flex items-center space-x-2",children:[a.jsx(lt,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),!_&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(Wp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(Pe,{isOpen:N,onClose:X,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(j5,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(z,{variant:"secondary",onClick:ie,children:"Start Fresh"}),a.jsx(z,{onClick:X,children:"Resume Session"})]})]})}),a.jsx(Pe,{isOpen:x,onClose:()=>m(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jt,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(z,{onClick:()=>m(!1),children:"Continue Test"})]})}),a.jsx(Pe,{isOpen:g,onClose:()=>j(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(dr,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:ke})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:pe})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:w.size})]})]})]}),pe>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",pe," unanswered question",pe!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>j(!1),children:"Continue Test"}),a.jsxs(z,{onClick:Dt,loading:y,className:"flex items-center space-x-2",children:[a.jsx(lt,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const il=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Tae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState([]),[h,p]=O.useState(""),[y,b]=O.useState("all");O.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const _=await ps.getRoles();t(_.data)}catch(_){console.error("Failed to fetch roles:",_)}finally{i(!1)}},j=_=>{n(_),d(_.menuAccess||[]),l(!0)},x=async()=>{if(r)try{u(!0),(await ps.updateRoleMenuAccess(r.id,f)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:f}:A)),l(!1),n(null),d([]))}catch(_){console.error("Failed to update menu access:",_)}finally{u(!1)}},m=_=>{d(A=>A.includes(_)?A.filter(P=>P!==_):[...A,_])},N=_=>{const A=il.filter(P=>P.level>=_).map(P=>P.path);d(P=>{const E=[...P];return A.forEach(k=>{E.includes(k)||E.push(k)}),E})},w=il.filter(_=>{const A=_.label.toLowerCase().includes(h.toLowerCase())||_.path.toLowerCase().includes(h.toLowerCase()),P=y==="all"||_.category===y;return A&&P}).reduce((_,A)=>(_[A.category]||(_[A.category]=[]),_[A.category].push(A),_),{}),S=[...new Set(il.map(_=>_.category))];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((_,A)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(_=>{var A,P,E;return a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${_.level===1?"bg-red-100":_.level===2?"bg-purple-100":_.level===3?"bg-indigo-100":_.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(Sa,{className:`w-5 h-5 ${_.level===1?"text-red-600":_.level===2?"text-purple-600":_.level===3?"text-indigo-600":_.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",_.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:_.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=_.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:_.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(_.menuAccess||[]).slice(0,2).map(k=>{const I=il.find(T=>T.path===k);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(I==null?void 0:I.label)||k},k)}),(((P=_.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((E=_.menuAccess)==null?void 0:E.length)||0)-2," more"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>j(_),className:"flex items-center space-x-2",children:[a.jsx(Vc,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},_.id)})}),a.jsx(Pe,{isOpen:o,onClose:()=>{l(!1),n(null),d([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Sa,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",f.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>N(r.level),className:"flex items-center space-x-2",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>d([]),className:"flex items-center space-x-2",children:[a.jsx(y5,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(se,{placeholder:"Search menus...",value:h,onChange:_=>p(_.target.value),className:"w-48"})}),a.jsxs("select",{value:y,onChange:_=>b(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),S.map(_=>a.jsx("option",{value:_,children:_},_))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(w).map(([_,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:_}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>[...new Set([...E,...P])])},className:"text-xs",children:"Select All"}),a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>E.filter(k=>!P.includes(k)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const E=f.includes(P.path),k=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${E?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:E,onChange:()=>m(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),k&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),E&&a.jsx(lt,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},_))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:S.map(_=>{const A=il.filter(E=>E.category===_),P=f.filter(E=>A.some(k=>k.path===E)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:_})]},_)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),n(null),d([])},children:"Cancel"}),a.jsxs(z,{onClick:x,loading:c,className:"flex items-center space-x-2",children:[a.jsx($d,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function $ae(){const e=wo(),{user:t}=Bs(),r=()=>{e(-1)},n=()=>{if(!t){e("/login");return}switch(t.role.name.toLowerCase()){case"admin":e("/dashboard");break;case"zo user":e("/zo-dashboard");break;case"ro user":e("/ro-dashboard");break;case"supervisor":e("/supervisor-dashboard");break;case"enumerator":e("/enumerator-dashboard");break;default:e("/dashboard")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(F,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Sa,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(g5,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(z,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(NA,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function ct({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=Bs();if(!i||!s)return a.jsx(Xl,{to:"/login",replace:!0});const o=s.role.name==="Administrator"?"Admin":s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(Xl,{to:n,replace:!0})}function Iae(){const{user:e}=Bs(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"administrator":case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(Xl,{to:t(),replace:!0})}function Dae(){return a.jsxs(cA,{children:[a.jsx(Fe,{path:"/dashboard",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(fae,{})})}),a.jsx(Fe,{path:"/users",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(yae,{})})}),a.jsx(Fe,{path:"/roles",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(bae,{})})}),a.jsx(Fe,{path:"/role-menu-management",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(Tae,{})})}),a.jsx(Fe,{path:"/surveys",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(wae,{})})}),a.jsx(Fe,{path:"/questions",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(jae,{})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(ct,{requiredRoles:["Admin"],children:a.jsx(Aae,{})})}),a.jsx(Fe,{path:"/zo-dashboard",element:a.jsx(ct,{requiredRoles:["ZO User"],children:a.jsx(hae,{})})}),a.jsx(Fe,{path:"/ro-dashboard",element:a.jsx(ct,{requiredRoles:["RO User"],children:a.jsx(pae,{})})}),a.jsx(Fe,{path:"/supervisor-dashboard",element:a.jsx(ct,{requiredRoles:["Supervisor"],children:a.jsx(mae,{})})}),a.jsx(Fe,{path:"/team-results",element:a.jsx(ct,{requiredRoles:["Supervisor"],children:a.jsx(xae,{})})}),a.jsx(Fe,{path:"/my-enumerators",element:a.jsx(ct,{requiredRoles:["Supervisor"],children:a.jsx(vae,{})})}),a.jsx(Fe,{path:"/enumerator-dashboard",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(gae,{})})}),a.jsx(Fe,{path:"/available-tests",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(Oae,{})})}),a.jsx(Fe,{path:"/my-results",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(Pae,{})})}),a.jsx(Fe,{path:"/my-certificates",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(Eae,{})})}),a.jsx(Fe,{path:"/test-schedule",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(kae,{})})}),a.jsx(Fe,{path:"/test/:sessionId",element:a.jsx(ct,{requiredRoles:["Enumerator"],children:a.jsx(Cae,{})})}),a.jsx(Fe,{path:"/results",element:a.jsx(ct,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(_ae,{})})}),a.jsx(Fe,{path:"/enumerator-status",element:a.jsx(ct,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(Nae,{})})}),a.jsx(Fe,{path:"/certificates",element:a.jsx(ct,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(Sae,{})})}),a.jsx(Fe,{path:"/unauthorized",element:a.jsx($ae,{})}),a.jsx(Fe,{path:"/",element:a.jsx(Iae,{})})]})}function Mae(){return a.jsx(t$,{children:a.jsx(u$,{children:a.jsxs(cA,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(P5,{})}),a.jsx(Fe,{path:"/*",element:a.jsx(E5,{children:a.jsx(Dae,{})})})]})})})}O2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(a3,{children:a.jsx(Mae,{})})}));
